const __vite__fileDeps=["assets/index-Doj20N83.js","assets/loading-bbvIubbD.js","assets/login-Dg3oM8p0.js","assets/login-DVp74WxM.css","assets/register-C_rPOP0h.js","assets/register-DSUzmPsx.css","assets/search-BLVlykUS.js","assets/search-detail-DBPyS4oS.js","assets/search-detail-D-4cAeAI.css","assets/movie-detail-prevNXYG.js","assets/movie-detail-BwHVfkry.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var _b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},jx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},TI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new Hx;const d=i<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zx=function(t){const e=bI(t);return TI.encodeByteArray(e,!0)},Zd=function(t){return zx(t).replace(/\./g,"")},EI=function(t){try{return TI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=()=>Yx().__FIREBASE_DEFAULTS__,Wx=()=>{if(typeof process>"u"||typeof _b>"u")return;const t=_b.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EI(t[1]);return e&&JSON.parse(e)},im=()=>{try{return qx()||Wx()||Gx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AI=t=>{var e,n;return(n=(e=im())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},II=t=>{const e=AI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SI=()=>{var t;return(t=im())===null||t===void 0?void 0:t.config},PI=t=>{var e;return(e=im())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zd(JSON.stringify(n)),Zd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function Xx(){var t;const e=(t=im())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eM(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tM(){return!Xx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nM(){try{return typeof indexedDB=="object"}catch{return!1}}function rM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sM,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tf.prototype.create)}}class tf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?iM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new fi(s,a,r)}}function iM(t,e){return t.replace(oM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const oM=/\{\$([^}]+)}/g;function aM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ep(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(vb(i)&&vb(o)){if(!ep(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function vb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lM(t,e){const n=new uM(t,e);return n.subscribe.bind(n)}class uM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_g),s.error===void 0&&(s.error=_g),s.complete===void 0&&(s.complete=_g);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dM(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fM(t){return t===ma?void 0:t}function dM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const mM={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},gM=ht.INFO,_M={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},vM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_M[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=gM,this._logHandler=vM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const yM=(t,e)=>e.some(n=>t instanceof n);let yb,wb;function wM(){return yb||(yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bM(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CI=new WeakMap,A_=new WeakMap,DI=new WeakMap,vg=new WeakMap,iy=new WeakMap;function TM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Co(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CI.set(n,t)}).catch(()=>{}),iy.set(e,t),e}function EM(t){if(A_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});A_.set(t,e)}let I_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AM(t){I_=t(I_)}function IM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yg(this),e,...n);return DI.set(r,e.sort?e.sort():[e]),Co(r)}:bM().includes(t)?function(...e){return t.apply(yg(this),e),Co(CI.get(this))}:function(...e){return Co(t.apply(yg(this),e))}}function SM(t){return typeof t=="function"?IM(t):(t instanceof IDBTransaction&&EM(t),yM(t,wM())?new Proxy(t,I_):t)}function Co(t){if(t instanceof IDBRequest)return TM(t);if(vg.has(t))return vg.get(t);const e=SM(t);return e!==t&&(vg.set(t,e),iy.set(e,t)),e}const yg=t=>iy.get(t);function PM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Co(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Co(o.result),l.oldVersion,l.newVersion,Co(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RM=["get","getKey","getAll","getAllKeys","count"],CM=["put","add","delete","clear"],wg=new Map;function bb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return wg.set(e,i),i}AM(t=>({...t,get:(e,n,r)=>bb(e,n)||t.get(e,n,r),has:(e,n)=>!!bb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const S_="@firebase/app",Tb="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new sy("@firebase/app"),OM="@firebase/app-compat",xM="@firebase/analytics-compat",MM="@firebase/analytics",NM="@firebase/app-check-compat",LM="@firebase/app-check",$M="@firebase/auth",VM="@firebase/auth-compat",FM="@firebase/database",UM="@firebase/database-compat",BM="@firebase/functions",jM="@firebase/functions-compat",HM="@firebase/installations",zM="@firebase/installations-compat",YM="@firebase/messaging",qM="@firebase/messaging-compat",WM="@firebase/performance",GM="@firebase/performance-compat",KM="@firebase/remote-config",QM="@firebase/remote-config-compat",XM="@firebase/storage",JM="@firebase/storage-compat",ZM="@firebase/firestore",eN="@firebase/vertexai-preview",tN="@firebase/firestore-compat",nN="firebase",rN="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="[DEFAULT]",sN={[S_]:"fire-core",[OM]:"fire-core-compat",[MM]:"fire-analytics",[xM]:"fire-analytics-compat",[LM]:"fire-app-check",[NM]:"fire-app-check-compat",[$M]:"fire-auth",[VM]:"fire-auth-compat",[FM]:"fire-rtdb",[UM]:"fire-rtdb-compat",[BM]:"fire-fn",[jM]:"fire-fn-compat",[HM]:"fire-iid",[zM]:"fire-iid-compat",[YM]:"fire-fcm",[qM]:"fire-fcm-compat",[WM]:"fire-perf",[GM]:"fire-perf-compat",[KM]:"fire-rc",[QM]:"fire-rc-compat",[XM]:"fire-gcs",[JM]:"fire-gcs-compat",[ZM]:"fire-fst",[tN]:"fire-fst-compat",[eN]:"fire-vertex","fire-js":"fire-js",[nN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,iN=new Map,R_=new Map;function Eb(t,e){try{t.container.addComponent(e)}catch(n){Wa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ga(t){const e=t.name;if(R_.has(e))return Wa.debug(`There were multiple attempts to register component ${e}.`),!1;R_.set(e,t);for(const n of tp.values())Eb(n,t);for(const n of iN.values())Eb(n,t);return!0}function om(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new tf("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=rN;function kI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:P_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Do.create("bad-app-name",{appName:String(s)});if(n||(n=SI()),!n)throw Do.create("no-options");const i=tp.get(s);if(i){if(ep(n,i.options)&&ep(r,i.config))return i;throw Do.create("duplicate-app",{appName:s})}const o=new pM(s);for(const l of R_.values())o.addComponent(l);const a=new aN(n,r,o);return tp.set(s,a),a}function oy(t=P_){const e=tp.get(t);if(!e&&t===P_&&SI())return kI();if(!e)throw Do.create("no-app",{appName:t});return e}function Js(t,e,n){var r;let s=(r=sN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wa.warn(a.join(" "));return}Ga(new $o(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firebase-heartbeat-database",uN=1,yh="firebase-heartbeat-store";let bg=null;function OI(){return bg||(bg=PM(lN,uN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),bg}async function cN(t){try{const n=(await OI()).transaction(yh),r=await n.objectStore(yh).get(xI(t));return await n.done,r}catch(e){if(e instanceof fi)Wa.warn(e.message);else{const n=Do.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wa.warn(n.message)}}}async function Ab(t,e){try{const r=(await OI()).transaction(yh,"readwrite");await r.objectStore(yh).put(e,xI(t)),await r.done}catch(n){if(n instanceof fi)Wa.warn(n.message);else{const r=Do.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wa.warn(r.message)}}}function xI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1024,fN=30*24*60*60*1e3;class dN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ib();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ib(),{heartbeatsToSend:r,unsentEntries:s}=pN(this._heartbeatsCache.heartbeats),i=Zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ib(){return new Date().toISOString().substring(0,10)}function pN(t,e=hN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nM()?rM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sb(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){Ga(new $o("platform-logger",e=>new DM(e),"PRIVATE")),Ga(new $o("heartbeat",e=>new dN(e),"PRIVATE")),Js(S_,Tb,t),Js(S_,Tb,"esm2017"),Js("fire-js","")}gN("");var _N="firebase",vN="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(_N,vN,"app");var Pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,MI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function w(){}w.prototype=b.prototype,T.D=b.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(I,P,y){for(var E=Array(arguments.length-2),B=2;B<arguments.length;B++)E[B-2]=arguments[B];return b.prototype[P].apply(I,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,b,w){w||(w=0);var I=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)I[P]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(P=0;16>P;++P)I[P]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=T.g[0],w=T.g[1],P=T.g[2];var y=T.g[3],E=b+(y^w&(P^y))+I[0]+3614090360&4294967295;b=w+(E<<7&4294967295|E>>>25),E=y+(P^b&(w^P))+I[1]+3905402710&4294967295,y=b+(E<<12&4294967295|E>>>20),E=P+(w^y&(b^w))+I[2]+606105819&4294967295,P=y+(E<<17&4294967295|E>>>15),E=w+(b^P&(y^b))+I[3]+3250441966&4294967295,w=P+(E<<22&4294967295|E>>>10),E=b+(y^w&(P^y))+I[4]+4118548399&4294967295,b=w+(E<<7&4294967295|E>>>25),E=y+(P^b&(w^P))+I[5]+1200080426&4294967295,y=b+(E<<12&4294967295|E>>>20),E=P+(w^y&(b^w))+I[6]+2821735955&4294967295,P=y+(E<<17&4294967295|E>>>15),E=w+(b^P&(y^b))+I[7]+4249261313&4294967295,w=P+(E<<22&4294967295|E>>>10),E=b+(y^w&(P^y))+I[8]+1770035416&4294967295,b=w+(E<<7&4294967295|E>>>25),E=y+(P^b&(w^P))+I[9]+2336552879&4294967295,y=b+(E<<12&4294967295|E>>>20),E=P+(w^y&(b^w))+I[10]+4294925233&4294967295,P=y+(E<<17&4294967295|E>>>15),E=w+(b^P&(y^b))+I[11]+2304563134&4294967295,w=P+(E<<22&4294967295|E>>>10),E=b+(y^w&(P^y))+I[12]+1804603682&4294967295,b=w+(E<<7&4294967295|E>>>25),E=y+(P^b&(w^P))+I[13]+4254626195&4294967295,y=b+(E<<12&4294967295|E>>>20),E=P+(w^y&(b^w))+I[14]+2792965006&4294967295,P=y+(E<<17&4294967295|E>>>15),E=w+(b^P&(y^b))+I[15]+1236535329&4294967295,w=P+(E<<22&4294967295|E>>>10),E=b+(P^y&(w^P))+I[1]+4129170786&4294967295,b=w+(E<<5&4294967295|E>>>27),E=y+(w^P&(b^w))+I[6]+3225465664&4294967295,y=b+(E<<9&4294967295|E>>>23),E=P+(b^w&(y^b))+I[11]+643717713&4294967295,P=y+(E<<14&4294967295|E>>>18),E=w+(y^b&(P^y))+I[0]+3921069994&4294967295,w=P+(E<<20&4294967295|E>>>12),E=b+(P^y&(w^P))+I[5]+3593408605&4294967295,b=w+(E<<5&4294967295|E>>>27),E=y+(w^P&(b^w))+I[10]+38016083&4294967295,y=b+(E<<9&4294967295|E>>>23),E=P+(b^w&(y^b))+I[15]+3634488961&4294967295,P=y+(E<<14&4294967295|E>>>18),E=w+(y^b&(P^y))+I[4]+3889429448&4294967295,w=P+(E<<20&4294967295|E>>>12),E=b+(P^y&(w^P))+I[9]+568446438&4294967295,b=w+(E<<5&4294967295|E>>>27),E=y+(w^P&(b^w))+I[14]+3275163606&4294967295,y=b+(E<<9&4294967295|E>>>23),E=P+(b^w&(y^b))+I[3]+4107603335&4294967295,P=y+(E<<14&4294967295|E>>>18),E=w+(y^b&(P^y))+I[8]+1163531501&4294967295,w=P+(E<<20&4294967295|E>>>12),E=b+(P^y&(w^P))+I[13]+2850285829&4294967295,b=w+(E<<5&4294967295|E>>>27),E=y+(w^P&(b^w))+I[2]+4243563512&4294967295,y=b+(E<<9&4294967295|E>>>23),E=P+(b^w&(y^b))+I[7]+1735328473&4294967295,P=y+(E<<14&4294967295|E>>>18),E=w+(y^b&(P^y))+I[12]+2368359562&4294967295,w=P+(E<<20&4294967295|E>>>12),E=b+(w^P^y)+I[5]+4294588738&4294967295,b=w+(E<<4&4294967295|E>>>28),E=y+(b^w^P)+I[8]+2272392833&4294967295,y=b+(E<<11&4294967295|E>>>21),E=P+(y^b^w)+I[11]+1839030562&4294967295,P=y+(E<<16&4294967295|E>>>16),E=w+(P^y^b)+I[14]+4259657740&4294967295,w=P+(E<<23&4294967295|E>>>9),E=b+(w^P^y)+I[1]+2763975236&4294967295,b=w+(E<<4&4294967295|E>>>28),E=y+(b^w^P)+I[4]+1272893353&4294967295,y=b+(E<<11&4294967295|E>>>21),E=P+(y^b^w)+I[7]+4139469664&4294967295,P=y+(E<<16&4294967295|E>>>16),E=w+(P^y^b)+I[10]+3200236656&4294967295,w=P+(E<<23&4294967295|E>>>9),E=b+(w^P^y)+I[13]+681279174&4294967295,b=w+(E<<4&4294967295|E>>>28),E=y+(b^w^P)+I[0]+3936430074&4294967295,y=b+(E<<11&4294967295|E>>>21),E=P+(y^b^w)+I[3]+3572445317&4294967295,P=y+(E<<16&4294967295|E>>>16),E=w+(P^y^b)+I[6]+76029189&4294967295,w=P+(E<<23&4294967295|E>>>9),E=b+(w^P^y)+I[9]+3654602809&4294967295,b=w+(E<<4&4294967295|E>>>28),E=y+(b^w^P)+I[12]+3873151461&4294967295,y=b+(E<<11&4294967295|E>>>21),E=P+(y^b^w)+I[15]+530742520&4294967295,P=y+(E<<16&4294967295|E>>>16),E=w+(P^y^b)+I[2]+3299628645&4294967295,w=P+(E<<23&4294967295|E>>>9),E=b+(P^(w|~y))+I[0]+4096336452&4294967295,b=w+(E<<6&4294967295|E>>>26),E=y+(w^(b|~P))+I[7]+1126891415&4294967295,y=b+(E<<10&4294967295|E>>>22),E=P+(b^(y|~w))+I[14]+2878612391&4294967295,P=y+(E<<15&4294967295|E>>>17),E=w+(y^(P|~b))+I[5]+4237533241&4294967295,w=P+(E<<21&4294967295|E>>>11),E=b+(P^(w|~y))+I[12]+1700485571&4294967295,b=w+(E<<6&4294967295|E>>>26),E=y+(w^(b|~P))+I[3]+2399980690&4294967295,y=b+(E<<10&4294967295|E>>>22),E=P+(b^(y|~w))+I[10]+4293915773&4294967295,P=y+(E<<15&4294967295|E>>>17),E=w+(y^(P|~b))+I[1]+2240044497&4294967295,w=P+(E<<21&4294967295|E>>>11),E=b+(P^(w|~y))+I[8]+1873313359&4294967295,b=w+(E<<6&4294967295|E>>>26),E=y+(w^(b|~P))+I[15]+4264355552&4294967295,y=b+(E<<10&4294967295|E>>>22),E=P+(b^(y|~w))+I[6]+2734768916&4294967295,P=y+(E<<15&4294967295|E>>>17),E=w+(y^(P|~b))+I[13]+1309151649&4294967295,w=P+(E<<21&4294967295|E>>>11),E=b+(P^(w|~y))+I[4]+4149444226&4294967295,b=w+(E<<6&4294967295|E>>>26),E=y+(w^(b|~P))+I[11]+3174756917&4294967295,y=b+(E<<10&4294967295|E>>>22),E=P+(b^(y|~w))+I[2]+718787259&4294967295,P=y+(E<<15&4294967295|E>>>17),E=w+(y^(P|~b))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(P+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+y&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var w=b-this.blockSize,I=this.B,P=this.h,y=0;y<b;){if(P==0)for(;y<=w;)s(this,T,y),y+=this.blockSize;if(typeof T=="string"){for(;y<b;)if(I[P++]=T.charCodeAt(y++),P==this.blockSize){s(this,I),P=0;break}}else for(;y<b;)if(I[P++]=T[y++],P==this.blockSize){s(this,I),P=0;break}}this.h=P,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var w=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=w&255,w/=256;for(this.u(T),T=Array(16),b=w=0;4>b;++b)for(var I=0;32>I;I+=8)T[w++]=this.g[b]>>>I&255;return T};function i(T,b){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=b(T)}function o(T,b){this.h=b;for(var w=[],I=!0,P=T.length-1;0<=P;P--){var y=T[P]|0;I&&y==b||(w[P]=y,I=!1)}this.g=w}var a={};function l(T){return-128<=T&&128>T?i(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return A(u(-T));for(var b=[],w=1,I=0;T>=w;I++)b[I]=T/w|0,w*=4294967296;return new o(b,0)}function c(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return A(c(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(b,8)),I=f,P=0;P<T.length;P+=8){var y=Math.min(8,T.length-P),E=parseInt(T.substring(P,P+y),b);8>y?(y=u(Math.pow(b,y)),I=I.j(y).add(u(E))):(I=I.j(w),I=I.add(u(E)))}return I}var f=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-A(this).m();for(var T=0,b=1,w=0;w<this.g.length;w++){var I=this.i(w);T+=(0<=I?I:4294967296+I)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(_(this))return"-"+A(this).toString(T);for(var b=u(Math.pow(T,6)),w=this,I="";;){var P=O(w,b).g;w=S(w,P.j(b));var y=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=P,g(w))return y+I;for(;6>y.length;)y="0"+y;I=y+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=S(this,T),_(T)?-1:g(T)?0:1};function A(T){for(var b=T.g.length,w=[],I=0;I<b;I++)w[I]=~T.g[I];return new o(w,~T.h).add(d)}t.abs=function(){return _(this)?A(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],I=0,P=0;P<=b;P++){var y=I+(this.i(P)&65535)+(T.i(P)&65535),E=(y>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);I=E>>>16,y&=65535,E&=65535,w[P]=E<<16|y}return new o(w,w[w.length-1]&-2147483648?-1:0)};function S(T,b){return T.add(A(b))}t.j=function(T){if(g(this)||g(T))return f;if(_(this))return _(T)?A(this).j(A(T)):A(A(this).j(T));if(_(T))return A(this.j(A(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,w=[],I=0;I<2*b;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<T.g.length;P++){var y=this.i(I)>>>16,E=this.i(I)&65535,B=T.i(P)>>>16,U=T.i(P)&65535;w[2*I+2*P]+=E*U,M(w,2*I+2*P),w[2*I+2*P+1]+=y*U,M(w,2*I+2*P+1),w[2*I+2*P+1]+=E*B,M(w,2*I+2*P+1),w[2*I+2*P+2]+=y*B,M(w,2*I+2*P+2)}for(I=0;I<b;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=b;I<2*b;I++)w[I]=0;return new o(w,0)};function M(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function k(T,b){this.g=T,this.h=b}function O(T,b){if(g(b))throw Error("division by zero");if(g(T))return new k(f,f);if(_(T))return b=O(A(T),b),new k(A(b.g),A(b.h));if(_(b))return b=O(T,A(b)),new k(A(b.g),b.h);if(30<T.g.length){if(_(T)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var w=d,I=b;0>=I.l(T);)w=x(w),I=x(I);var P=N(w,1),y=N(I,1);for(I=N(I,2),w=N(w,2);!g(I);){var E=y.add(I);0>=E.l(T)&&(P=P.add(w),y=E),I=N(I,1),w=N(w,1)}return b=S(T,P.j(b)),new k(P,b)}for(P=f;0<=T.l(b);){for(w=Math.max(1,Math.floor(T.m()/b.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),y=u(w),E=y.j(b);_(E)||0<E.l(T);)w-=I,y=u(w),E=y.j(b);g(y)&&(y=d),P=P.add(y),T=S(T,E)}return new k(P,T)}t.A=function(T){return O(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],I=0;I<b;I++)w[I]=this.i(I)&T.i(I);return new o(w,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],I=0;I<b;I++)w[I]=this.i(I)|T.i(I);return new o(w,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],I=0;I<b;I++)w[I]=this.i(I)^T.i(I);return new o(w,this.h^T.h)};function x(T){for(var b=T.g.length+1,w=[],I=0;I<b;I++)w[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(w,T.h)}function N(T,b){var w=b>>5;b%=32;for(var I=T.g.length-w,P=[],y=0;y<I;y++)P[y]=0<b?T.i(y+w)>>>b|T.i(y+w+1)<<32-b:T.i(y+w);return new o(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Ra=o}).apply(typeof Pb<"u"?Pb:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NI,LI,Ac,$I,Ed,C_,VI,FI,UI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,v){return h==Array.prototype||h==Object.prototype||(h[m]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var m=0;m<h.length;++m){var v=h[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(h,m){if(m)e:{var v=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in v))break e;v=v[q]}h=h[h.length-1],C=v[h],m=m(C),m!=C&&m!=null&&e(v,h,{configurable:!0,writable:!0,value:m})}}function i(h,m){h instanceof String&&(h+="");var v=0,C=!1,q={next:function(){if(!C&&v<h.length){var J=v++;return{value:m(J,h[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(h){return h||function(){return i(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function u(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function c(h,m,v){return h.call.apply(h.bind,arguments)}function f(h,m,v){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,C),h.apply(m,q)}}return function(){return h.apply(m,arguments)}}function d(h,m,v){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,m){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function g(h,m){function v(){}v.prototype=m.prototype,h.aa=m.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(C,q,J){for(var Ae=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Ae[Ot-2]=arguments[Ot];return m.prototype[q].apply(C,Ae)}}function _(h){const m=h.length;if(0<m){const v=Array(m);for(let C=0;C<m;C++)v[C]=h[C];return v}return[]}function A(h,m){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(l(C)){const q=h.length||0,J=C.length||0;h.length=q+J;for(let Ae=0;Ae<J;Ae++)h[q+Ae]=C[Ae]}else h.push(C)}}class S{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function M(h){return/^[\s\xa0]*$/.test(h)}function k(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function O(h){return O[" "](h),h}O[" "]=function(){};var x=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function N(h,m,v){for(const C in h)m.call(v,h[C],C,h)}function T(h,m){for(const v in h)m.call(void 0,h[v],v,h)}function b(h){const m={};for(const v in h)m[v]=h[v];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,m){let v,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(v in C)h[v]=C[v];for(let J=0;J<w.length;J++)v=w[J],Object.prototype.hasOwnProperty.call(C,v)&&(h[v]=C[v])}}function P(h){var m=1;h=h.split(":");const v=[];for(;0<m&&h.length;)v.push(h.shift()),m--;return h.length&&v.push(h.join(":")),v}function y(h){a.setTimeout(()=>{throw h},0)}function E(){var h=ee;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class B{constructor(){this.h=this.g=null}add(m,v){const C=U.get();C.set(m,v),this.h?this.h.next=C:this.g=C,this.h=C}}var U=new S(()=>new F,h=>h.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,ee=new B,R=()=>{const h=a.Promise.resolve(void 0);j=()=>{h.then(ce)}};var ce=()=>{for(var h;h=E();){try{h.h.call(h.g)}catch(v){y(v)}var m=U;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}H=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};a.addEventListener("test",v,m),a.removeEventListener("test",v,m)}catch{}return h}();function De(h,m){if(ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(x){e:{try{O(m.nodeName);var q=!0;break e}catch{}q=!1}q||(m=null)}}else v=="mouseover"?m=h.fromElement:v=="mouseout"&&(m=h.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}g(De,ve);var Oe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),le=0;function W(h,m,v,C,q){this.listener=h,this.proxy=null,this.src=m,this.type=v,this.capture=!!C,this.ha=q,this.key=++le,this.da=this.fa=!1}function ne(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,m,v,C,q){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var Ae=D(h,m,C,q);return-1<Ae?(m=h[Ae],v||(m.fa=!1)):(m=new W(m,this.src,J,!!C,q),m.fa=v,h.push(m)),m};function Ce(h,m){var v=m.type;if(v in h.g){var C=h.g[v],q=Array.prototype.indexOf.call(C,m,void 0),J;(J=0<=q)&&Array.prototype.splice.call(C,q,1),J&&(ne(m),h.g[v].length==0&&(delete h.g[v],h.h--))}}function D(h,m,v,C){for(var q=0;q<h.length;++q){var J=h[q];if(!J.da&&J.listener==m&&J.capture==!!v&&J.ha==C)return q}return-1}var L="closure_lm_"+(1e6*Math.random()|0),Y={};function X(h,m,v,C,q){if(Array.isArray(m)){for(var J=0;J<m.length;J++)X(h,m[J],v,C,q);return null}return v=we(v),h&&h[z]?h.K(m,v,u(C)?!!C.capture:!!C,q):$(h,m,v,!1,C,q)}function $(h,m,v,C,q,J){if(!m)throw Error("Invalid event type");var Ae=u(q)?!!q.capture:!!q,Ot=_e(h);if(Ot||(h[L]=Ot=new me(h)),v=Ot.add(m,v,C,Ae,J),v.proxy)return v;if(C=he(),v.proxy=C,C.src=h,C.listener=v,h.addEventListener)ge||(q=Ae),q===void 0&&(q=!1),h.addEventListener(m.toString(),C,q);else if(h.attachEvent)h.attachEvent(ae(m.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function he(){function h(v){return m.call(h.src,h.listener,v)}const m=se;return h}function de(h,m,v,C,q){if(Array.isArray(m))for(var J=0;J<m.length;J++)de(h,m[J],v,C,q);else C=u(C)?!!C.capture:!!C,v=we(v),h&&h[z]?(h=h.i,m=String(m).toString(),m in h.g&&(J=h.g[m],v=D(J,v,C,q),-1<v&&(ne(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete h.g[m],h.h--)))):h&&(h=_e(h))&&(m=h.g[m.toString()],h=-1,m&&(h=D(m,v,C,q)),(v=-1<h?m[h]:null)&&ue(v))}function ue(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[z])Ce(m.i,h);else{var v=h.type,C=h.proxy;m.removeEventListener?m.removeEventListener(v,C,h.capture):m.detachEvent?m.detachEvent(ae(v),C):m.addListener&&m.removeListener&&m.removeListener(C),(v=_e(m))?(Ce(v,h),v.h==0&&(v.src=null,m[L]=null)):ne(h)}}}function ae(h){return h in Y?Y[h]:Y[h]="on"+h}function se(h,m){if(h.da)h=!0;else{m=new De(m,this);var v=h.listener,C=h.ha||h.src;h.fa&&ue(h),h=v.call(C,m)}return h}function _e(h){return h=h[L],h instanceof me?h:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(h){return typeof h=="function"?h:(h[Re]||(h[Re]=function(m){return h.handleEvent(m)}),h[Re])}function Ie(){te.call(this),this.i=new me(this),this.M=this,this.F=null}g(Ie,te),Ie.prototype[z]=!0,Ie.prototype.removeEventListener=function(h,m,v,C){de(this,h,m,v,C)};function Te(h,m){var v,C=h.F;if(C)for(v=[];C;C=C.F)v.push(C);if(h=h.M,C=m.type||m,typeof m=="string")m=new ve(m,h);else if(m instanceof ve)m.target=m.target||h;else{var q=m;m=new ve(C,h),I(m,q)}if(q=!0,v)for(var J=v.length-1;0<=J;J--){var Ae=m.g=v[J];q=Ye(Ae,C,!0,m)&&q}if(Ae=m.g=h,q=Ye(Ae,C,!0,m)&&q,q=Ye(Ae,C,!1,m)&&q,v)for(J=0;J<v.length;J++)Ae=m.g=v[J],q=Ye(Ae,C,!1,m)&&q}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var v=h.g[m],C=0;C<v.length;C++)ne(v[C]);delete h.g[m],h.h--}}this.F=null},Ie.prototype.K=function(h,m,v,C){return this.i.add(String(h),m,!1,v,C)},Ie.prototype.L=function(h,m,v,C){return this.i.add(String(h),m,!0,v,C)};function Ye(h,m,v,C){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,J=0;J<m.length;++J){var Ae=m[J];if(Ae&&!Ae.da&&Ae.capture==v){var Ot=Ae.listener,Fn=Ae.ha||Ae.src;Ae.fa&&Ce(h.i,Ae),q=Ot.call(Fn,C)!==!1&&q}}return q&&!C.defaultPrevented}function ze(h,m,v){if(typeof h=="function")v&&(h=d(h,v));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(h,m||0)}function st(h){h.g=ze(()=>{h.g=null,h.i&&(h.i=!1,st(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class qt extends te{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(h){te.call(this),this.h=h,this.g={}}g(tt,te);var lr=[];function on(h){N(h.g,function(m,v){this.g.hasOwnProperty(v)&&ue(m)},h),h.g={}}tt.prototype.N=function(){tt.aa.N.call(this),on(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=a.JSON.stringify,Ct=a.JSON.parse,re=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function V(){}V.prototype.h=null;function G(h){return h.h||(h.h=h.i())}function be(){}var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function et(){ve.call(this,"d")}g(et,ve);function wt(){ve.call(this,"c")}g(wt,ve);var Et={},Yn=null;function an(){return Yn=Yn||new Ie}Et.La="serverreachability";function es(h){ve.call(this,Et.La,h)}g(es,ve);function Me(h){const m=an();Te(m,new es(m))}Et.STAT_EVENT="statevent";function Fe(h,m){ve.call(this,Et.STAT_EVENT,h),this.stat=m}g(Fe,ve);function He(h){const m=an();Te(m,new Fe(m,h))}Et.Ma="timingevent";function Ee(h,m){ve.call(this,Et.Ma,h),this.size=m}g(Ee,ve);function je(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},m)}function $e(){this.g=!0}$e.prototype.xa=function(){this.g=!1};function Ge(h,m,v,C,q,J){h.info(function(){if(h.g)if(J)for(var Ae="",Ot=J.split("&"),Fn=0;Fn<Ot.length;Fn++){var yt=Ot[Fn].split("=");if(1<yt.length){var Gn=yt[0];yt=yt[1];var Kn=Gn.split("_");Ae=2<=Kn.length&&Kn[1]=="type"?Ae+(Gn+"="+yt+"&"):Ae+(Gn+"=redacted&")}}else Ae=null;else Ae=J;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+m+`
`+v+`
`+Ae})}function pn(h,m,v,C,q,J,Ae){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+m+`
`+v+`
`+J+" "+Ae})}function Je(h,m,v,C){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cn(h,v)+(C?" "+C:"")})}function Wt(h,m){h.info(function(){return"TIMEOUT: "+m})}$e.prototype.info=function(){};function Cn(h,m){if(!h.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var C=v[h];if(!(2>C.length)){var q=C[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var Ae=1;Ae<q.length;Ae++)q[Ae]=""}}}}return Rn(v)}catch{return m}}var Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bt;function qn(){}g(qn,V),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},bt=new qn;function vt(h,m,v,C){this.j=h,this.i=m,this.l=v,this.R=C||1,this.U=new tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Fr={},ln={};function un(h,m,v){h.L=1,h.v=Mf(_i(m)),h.m=v,h.P=!0,En(h,null)}function En(h,m){h.F=Date.now(),cn(h),h.A=_i(h.v);var v=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Kw(v.i,"t",C),h.C=0,v=h.j.J,h.h=new Wn,h.g=db(h.j,v?m:null,!h.m),0<h.O&&(h.M=new qt(d(h.Y,h,h.g),h.O)),m=h.U,v=h.g,C=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(lr[0]=q.toString()),q=lr);for(var J=0;J<q.length;J++){var Ae=X(v,q[J],C||m.handleEvent,!1,m.h||m);if(!Ae)break;m.g[Ae.key]=Ae}m=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),Me(),Ge(h.i,h.u,h.A,h.l,h.R,h.m)}vt.prototype.ca=function(h){h=h.target;const m=this.M;m&&vi(h)==3?m.j():this.Y(h)},vt.prototype.Y=function(h){try{if(h==this.g)e:{const Kn=vi(this.g);var m=this.g.Ba();const Pl=this.g.Z();if(!(3>Kn)&&(Kn!=3||this.g&&(this.h.h||this.g.oa()||nb(this.g)))){this.J||Kn!=4||m==7||(m==8||0>=Pl?Me(3):Me(2)),Tr(this);var v=this.g.Z();this.X=v;t:if(Vs(this)){var C=nb(this.g);h="";var q=C.length,J=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fs(this),mi(this);var Ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,h+=this.h.i.decode(C[m],{stream:!(J&&m==q-1)});C.length=0,this.h.g+=h,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=v==200,pn(this.i,this.u,this.A,this.l,this.R,Kn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Fn=this.g;if((Ot=Fn.g?Fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ot)){var yt=Ot;break t}}yt=null}if(v=yt)Je(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gi(this,v);else{this.o=!1,this.s=3,He(12),Fs(this),mi(this);break e}}if(this.P){v=!0;let Ts;for(;!this.J&&this.C<Ae.length;)if(Ts=Al(this,Ae),Ts==ln){Kn==4&&(this.s=4,He(14),v=!1),Je(this.i,this.l,null,"[Incomplete Response]");break}else if(Ts==Fr){this.s=4,He(15),Je(this.i,this.l,Ae,"[Invalid Chunk]"),v=!1;break}else Je(this.i,this.l,Ts,null),gi(this,Ts);if(Vs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kn!=4||Ae.length!=0||this.h.h||(this.s=1,He(16),v=!1),this.o=this.o&&v,!v)Je(this.i,this.l,Ae,"[Invalid Chunked Response]"),Fs(this),mi(this);else if(0<Ae.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),mg(Gn),Gn.M=!0,He(11))}}else Je(this.i,this.l,Ae,null),gi(this,Ae);Kn==4&&Fs(this),this.o&&!this.J&&(Kn==4?ub(this.j,this):(this.o=!1,cn(this)))}else Ux(this.g),v==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),Fs(this),mi(this)}}}catch{}finally{}};function Vs(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Al(h,m){var v=h.C,C=m.indexOf(`
`,v);return C==-1?ln:(v=Number(m.substring(v,C)),isNaN(v)?Fr:(C+=1,C+v>m.length?ln:(m=m.slice(C,C+v),h.C=C+v,m)))}vt.prototype.cancel=function(){this.J=!0,Fs(this)};function cn(h){h.S=Date.now()+h.I,en(h,h.I)}function en(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=je(d(h.ba,h),m)}function Tr(h){h.B&&(a.clearTimeout(h.B),h.B=null)}vt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Wt(this.i,this.A),this.L!=2&&(Me(),He(17)),Fs(this),this.s=2,mi(this)):en(this,this.S-h)};function mi(h){h.j.G==0||h.J||ub(h.j,h)}function Fs(h){Tr(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,on(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function gi(h,m){try{var v=h.j;if(v.G!=0&&(v.g==h||cg(v.h,h))){if(!h.K&&cg(v.h,h)&&v.G==3){try{var C=v.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Ff(v),$f(v);else break e;pg(v),He(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=je(d(v.Za,v),6e3));if(1>=Xi(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else oa(v,11)}else if((h.K||v.g==h)&&Ff(v),!M(m))for(q=v.Da.g.parse(m),m=0;m<q.length;m++){let yt=q[m];if(v.T=yt[0],yt=yt[1],v.G==2)if(yt[0]=="c"){v.K=yt[1],v.ia=yt[2];const Gn=yt[3];Gn!=null&&(v.la=Gn,v.j.info("VER="+v.la));const Kn=yt[4];Kn!=null&&(v.Aa=Kn,v.j.info("SVER="+v.Aa));const Pl=yt[5];Pl!=null&&typeof Pl=="number"&&0<Pl&&(C=1.5*Pl,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Ts=h.g;if(Ts){const Bf=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bf){var J=C.h;J.g||Bf.indexOf("spdy")==-1&&Bf.indexOf("quic")==-1&&Bf.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(hg(J,J.h),J.h=null))}if(C.D){const gg=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;gg&&(C.ya=gg,Ft(C.I,C.D,gg))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var Ae=h;if(C.qa=fb(C,C.J?C.ia:null,C.W),Ae.K){Bw(C.h,Ae);var Ot=Ae,Fn=C.L;Fn&&(Ot.I=Fn),Ot.B&&(Tr(Ot),cn(Ot)),C.g=Ae}else ab(C);0<v.i.length&&Vf(v)}else yt[0]!="stop"&&yt[0]!="close"||oa(v,7);else v.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?oa(v,7):dg(v):yt[0]!="noop"&&v.l&&v.l.ta(yt),v.v=0)}}Me(4)}catch{}}var ts=class{constructor(h,m){this.g=h,this.map=m}};function Qi(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xi(h){return h.h?1:h.g?h.g.size:0}function cg(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function hg(h,m){h.g?h.g.add(m):h.h=m}function Bw(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}Qi.prototype.cancel=function(){if(this.i=jw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function jw(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const v of h.g.values())m=m.concat(v.D);return m}return _(h.i)}function Ix(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var m=[],v=h.length,C=0;C<v;C++)m.push(h[C]);return m}m=[],v=0;for(C in h)m[v++]=h[C];return m}function Sx(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var m=[];h=h.length;for(var v=0;v<h;v++)m.push(v);return m}m=[],v=0;for(const C in h)m[v++]=C;return m}}}function Hw(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var v=Sx(h),C=Ix(h),q=C.length,J=0;J<q;J++)m.call(void 0,C[J],v&&v[J],h)}var zw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Px(h,m){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var C=h[v].indexOf("="),q=null;if(0<=C){var J=h[v].substring(0,C);q=h[v].substring(C+1)}else J=h[v];m(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ia(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ia){this.h=h.h,Of(this,h.j),this.o=h.o,this.g=h.g,xf(this,h.s),this.l=h.l;var m=h.i,v=new tc;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Yw(this,v),this.m=h.m}else h&&(m=String(h).match(zw))?(this.h=!1,Of(this,m[1]||"",!0),this.o=Zu(m[2]||""),this.g=Zu(m[3]||"",!0),xf(this,m[4]),this.l=Zu(m[5]||"",!0),Yw(this,m[6]||"",!0),this.m=Zu(m[7]||"")):(this.h=!1,this.i=new tc(null,this.h))}ia.prototype.toString=function(){var h=[],m=this.j;m&&h.push(ec(m,qw,!0),":");var v=this.g;return(v||m=="file")&&(h.push("//"),(m=this.o)&&h.push(ec(m,qw,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(ec(v,v.charAt(0)=="/"?Dx:Cx,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",ec(v,Ox)),h.join("")};function _i(h){return new ia(h)}function Of(h,m,v){h.j=v?Zu(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function xf(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function Yw(h,m,v){m instanceof tc?(h.i=m,xx(h.i,h.h)):(v||(m=ec(m,kx)),h.i=new tc(m,h.h))}function Ft(h,m,v){h.i.set(m,v)}function Mf(h){return Ft(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Zu(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ec(h,m,v){return typeof h=="string"?(h=encodeURI(h).replace(m,Rx),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rx(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qw=/[#\/\?@]/g,Cx=/[#\?:]/g,Dx=/[#\?]/g,kx=/[#\?@]/g,Ox=/#/g;function tc(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function Ji(h){h.g||(h.g=new Map,h.h=0,h.i&&Px(h.i,function(m,v){h.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=tc.prototype,t.add=function(h,m){Ji(this),this.i=null,h=Il(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(m),this.h+=1,this};function Ww(h,m){Ji(h),m=Il(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function Gw(h,m){return Ji(h),m=Il(h,m),h.g.has(m)}t.forEach=function(h,m){Ji(this),this.g.forEach(function(v,C){v.forEach(function(q){h.call(m,q,C,this)},this)},this)},t.na=function(){Ji(this);const h=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let C=0;C<m.length;C++){const q=h[C];for(let J=0;J<q.length;J++)v.push(m[C])}return v},t.V=function(h){Ji(this);let m=[];if(typeof h=="string")Gw(this,h)&&(m=m.concat(this.g.get(Il(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)m=m.concat(h[v])}return m},t.set=function(h,m){return Ji(this),this.i=null,h=Il(this,h),Gw(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},t.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function Kw(h,m,v){Ww(h,m),0<v.length&&(h.i=null,h.g.set(Il(h,m),_(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var C=m[v];const J=encodeURIComponent(String(C)),Ae=this.V(C);for(C=0;C<Ae.length;C++){var q=J;Ae[C]!==""&&(q+="="+encodeURIComponent(String(Ae[C]))),h.push(q)}}return this.i=h.join("&")};function Il(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function xx(h,m){m&&!h.j&&(Ji(h),h.i=null,h.g.forEach(function(v,C){var q=C.toLowerCase();C!=q&&(Ww(this,C),Kw(this,q,v))},h)),h.j=m}function Mx(h,m){const v=new $e;if(a.Image){const C=new Image;C.onload=p(Zi,v,"TestLoadImage: loaded",!0,m,C),C.onerror=p(Zi,v,"TestLoadImage: error",!1,m,C),C.onabort=p(Zi,v,"TestLoadImage: abort",!1,m,C),C.ontimeout=p(Zi,v,"TestLoadImage: timeout",!1,m,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else m(!1)}function Nx(h,m){const v=new $e,C=new AbortController,q=setTimeout(()=>{C.abort(),Zi(v,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:C.signal}).then(J=>{clearTimeout(q),J.ok?Zi(v,"TestPingServer: ok",!0,m):Zi(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),Zi(v,"TestPingServer: error",!1,m)})}function Zi(h,m,v,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(v)}catch{}}function Lx(){this.g=new re}function $x(h,m,v){const C=v||"";try{Hw(h,function(q,J){let Ae=q;u(q)&&(Ae=Rn(q)),m.push(C+J+"="+encodeURIComponent(Ae))})}catch(q){throw m.push(C+"type="+encodeURIComponent("_badmap")),q}}function nc(h){this.l=h.Ub||null,this.j=h.eb||!1}g(nc,V),nc.prototype.g=function(){return new Nf(this.l,this.j)},nc.prototype.i=function(h){return function(){return h}}({});function Nf(h,m){Ie.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Nf,Ie),t=Nf.prototype,t.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,sc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qw(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qw(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?rc(this):sc(this),this.readyState==3&&Qw(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,rc(this))},t.Qa=function(h){this.g&&(this.response=h,rc(this))},t.ga=function(){this.g&&rc(this)};function rc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,sc(h)}t.setRequestHeader=function(h,m){this.u.append(h,m)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=m.next();return h.join(`\r
`)};function sc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Nf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xw(h){let m="";return N(h,function(v,C){m+=C,m+=":",m+=v,m+=`\r
`}),m}function fg(h,m,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=Xw(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Ft(h,m,v))}function tn(h){Ie.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(tn,Ie);var Vx=/^https?$/i,Fx=["POST","PUT"];t=tn.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,m,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bt.g(),this.v=this.o?G(this.o):G(bt),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(J){Jw(this,J);return}if(h=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)v.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())v.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),q=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Fx,m,void 0))||C||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,Ae]of v)this.g.setRequestHeader(J,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tb(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Jw(this,J)}};function Jw(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,Zw(h),Lf(h)}function Zw(h){h.A||(h.A=!0,Te(h,"complete"),Te(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Te(this,"complete"),Te(this,"abort"),Lf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lf(this,!0)),tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eb(this):this.bb())},t.bb=function(){eb(this)};function eb(h){if(h.h&&typeof o<"u"&&(!h.v[1]||vi(h)!=4||h.Z()!=2)){if(h.u&&vi(h)==4)ze(h.Ea,0,h);else if(Te(h,"readystatechange"),vi(h)==4){h.h=!1;try{const Ae=h.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var C;if(C=Ae===0){var q=String(h.D).match(zw)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),C=!Vx.test(q?q.toLowerCase():"")}v=C}if(v)Te(h,"complete"),Te(h,"success");else{h.m=6;try{var J=2<vi(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",Zw(h)}}finally{Lf(h)}}}}function Lf(h,m){if(h.g){tb(h);const v=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||Te(h,"ready");try{v.onreadystatechange=C}catch{}}}function tb(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),Ct(m)}};function nb(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ux(h){const m={};h=(h.g&&2<=vi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(M(h[C]))continue;var v=P(h[C]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=m[q]||[];m[q]=J,J.push(v)}T(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ic(h,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||m}function rb(h){this.Aa=0,this.i=[],this.j=new $e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ic("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ic("baseRetryDelayMs",5e3,h),this.cb=ic("retryDelaySeedMs",1e4,h),this.Wa=ic("forwardChannelMaxRetries",2,h),this.wa=ic("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(h&&h.concurrentRequestLimit),this.Da=new Lx,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rb.prototype,t.la=8,t.G=1,t.connect=function(h,m,v,C){He(0),this.W=h,this.H=m||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=fb(this,null,this.W),Vf(this)};function dg(h){if(sb(h),h.G==3){var m=h.U++,v=_i(h.I);if(Ft(v,"SID",h.K),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),oc(h,v),m=new vt(h,h.j,m),m.L=2,m.v=Mf(_i(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=m.v,v=!0),v||(m.g=db(m.j,null),m.g.ea(m.v)),m.F=Date.now(),cn(m)}hb(h)}function $f(h){h.g&&(mg(h),h.g.cancel(),h.g=null)}function sb(h){$f(h),h.u&&(a.clearTimeout(h.u),h.u=null),Ff(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Vf(h){if(!sa(h.h)&&!h.s){h.s=!0;var m=h.Ga;j||R(),H||(j(),H=!0),ee.add(m,h),h.B=0}}function Bx(h,m){return Xi(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=je(d(h.Ga,h,m),cb(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new vt(this,this.j,h);let J=this.o;if(this.S&&(J?(J=b(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ob(this,q,m),v=_i(this.I),Ft(v,"RID",h),Ft(v,"CVER",22),this.D&&Ft(v,"X-HTTP-Session-Id",this.D),oc(this,v),J&&(this.O?m="headers="+encodeURIComponent(String(Xw(J)))+"&"+m:this.m&&fg(v,this.m,J)),hg(this.h,q),this.Ua&&Ft(v,"TYPE","init"),this.P?(Ft(v,"$req",m),Ft(v,"SID","null"),q.T=!0,un(q,v,null)):un(q,v,m),this.G=2}}else this.G==3&&(h?ib(this,h):this.i.length==0||sa(this.h)||ib(this))};function ib(h,m){var v;m?v=m.l:v=h.U++;const C=_i(h.I);Ft(C,"SID",h.K),Ft(C,"RID",v),Ft(C,"AID",h.T),oc(h,C),h.m&&h.o&&fg(C,h.m,h.o),v=new vt(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),m&&(h.i=m.D.concat(h.i)),m=ob(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),hg(h.h,v),un(v,C,m)}function oc(h,m){h.H&&N(h.H,function(v,C){Ft(m,C,v)}),h.l&&Hw({},function(v,C){Ft(m,C,v)})}function ob(h,m,v){v=Math.min(h.i.length,v);var C=h.l?d(h.l.Na,h.l,h):null;e:{var q=h.i;let J=-1;for(;;){const Ae=["count="+v];J==-1?0<v?(J=q[0].g,Ae.push("ofs="+J)):J=0:Ae.push("ofs="+J);let Ot=!0;for(let Fn=0;Fn<v;Fn++){let yt=q[Fn].g;const Gn=q[Fn].map;if(yt-=J,0>yt)J=Math.max(0,q[Fn].g-100),Ot=!1;else try{$x(Gn,Ae,"req"+yt+"_")}catch{C&&C(Gn)}}if(Ot){C=Ae.join("&");break e}}}return h=h.i.splice(0,v),m.D=h,C}function ab(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;j||R(),H||(j(),H=!0),ee.add(m,h),h.v=0}}function pg(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=je(d(h.Fa,h),cb(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,lb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=je(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),$f(this),lb(this))};function mg(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function lb(h){h.g=new vt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=_i(h.qa);Ft(m,"RID","rpc"),Ft(m,"SID",h.K),Ft(m,"AID",h.T),Ft(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ft(m,"TO",h.ja),Ft(m,"TYPE","xmlhttp"),oc(h,m),h.m&&h.o&&fg(m,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Mf(_i(m)),v.m=null,v.P=!0,En(v,h)}t.Za=function(){this.C!=null&&(this.C=null,$f(this),pg(this),He(19))};function Ff(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function ub(h,m){var v=null;if(h.g==m){Ff(h),mg(h),h.g=null;var C=2}else if(cg(h.h,m))v=m.D,Bw(h.h,m),C=1;else return;if(h.G!=0){if(m.o)if(C==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var q=h.B;C=an(),Te(C,new Ee(C,v)),Vf(h)}else ab(h);else if(q=m.s,q==3||q==0&&0<m.X||!(C==1&&Bx(h,m)||C==2&&pg(h)))switch(v&&0<v.length&&(m=h.h,m.i=m.i.concat(v)),q){case 1:oa(h,5);break;case 4:oa(h,10);break;case 3:oa(h,6);break;default:oa(h,2)}}}function cb(h,m){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*m}function oa(h,m){if(h.j.info("Error code "+m),m==2){var v=d(h.fb,h),C=h.Xa;const q=!C;C=new ia(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Of(C,"https"),Mf(C),q?Mx(C.toString(),v):Nx(C.toString(),v)}else He(2);h.G=0,h.l&&h.l.sa(m),hb(h),sb(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function hb(h){if(h.G=0,h.ka=[],h.l){const m=jw(h.h);(m.length!=0||h.i.length!=0)&&(A(h.ka,m),A(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function fb(h,m,v){var C=v instanceof ia?_i(v):new ia(v);if(C.g!="")m&&(C.g=m+"."+C.g),xf(C,C.s);else{var q=a.location;C=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var J=new ia(null);C&&Of(J,C),m&&(J.g=m),q&&xf(J,q),v&&(J.l=v),C=J}return v=h.D,m=h.ya,v&&m&&Ft(C,v,m),Ft(C,"VER",h.la),oc(h,C),C}function db(h,m,v){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new tn(new nc({eb:v})):new tn(h.pa),m.Ha(h.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pb(){}t=pb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uf(){}Uf.prototype.g=function(h,m){return new Ur(h,m)};function Ur(h,m){Ie.call(this),this.g=new rb(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!M(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!M(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new Sl(this)}g(Ur,Ie),Ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ur.prototype.close=function(){dg(this.g)},Ur.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Rn(h),h=v);m.i.push(new ts(m.Ya++,h)),m.G==3&&Vf(m)},Ur.prototype.N=function(){this.g.l=null,delete this.j,dg(this.g),delete this.g,Ur.aa.N.call(this)};function mb(h){et.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(const v in m){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}g(mb,et);function gb(){wt.call(this),this.status=1}g(gb,wt);function Sl(h){this.g=h}g(Sl,pb),Sl.prototype.ua=function(){Te(this.g,"a")},Sl.prototype.ta=function(h){Te(this.g,new mb(h))},Sl.prototype.sa=function(h){Te(this.g,new gb)},Sl.prototype.ra=function(){Te(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,Ur.prototype.send=Ur.prototype.o,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,UI=function(){return new Uf},FI=function(){return an()},VI=Et,C_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,Ed=Dt,kt.COMPLETE="complete",$I=kt,be.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Ac=be,LI=nc,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,NI=tn}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const Rb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new sy("@firebase/firestore");function ac(){return Ka.logLevel}function Ne(t,...e){if(Ka.logLevel<=ht.DEBUG){const n=e.map(ay);Ka.debug(`Firestore (${Nu}): ${t}`,...n)}}function $i(t,...e){if(Ka.logLevel<=ht.ERROR){const n=e.map(ay);Ka.error(`Firestore (${Nu}): ${t}`,...n)}}function fu(t,...e){if(Ka.logLevel<=ht.WARN){const n=e.map(ay);Ka.warn(`Firestore (${Nu}): ${t}`,...n)}}function ay(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t="Unexpected state"){const e=`FIRESTORE (${Nu}) INTERNAL ASSERTION FAILED: `+t;throw $i(e),new Error(e)}function Vt(t,e){t||We()}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zn.UNAUTHENTICATED))}shutdown(){}}class wN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bN{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ki,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ki)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new BI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Zn(e)}}class TN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new AN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=SN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function du(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Pn(0,0))}static max(){return new Ke(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(),r===void 0?r=e.length-n:r>e.length-n&&We(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $t extends wh{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const PN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends wh{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return PN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be($t.fromString(e))}static fromName(e){return new Be($t.fromString(e).popFirst(5))}static empty(){return new Be($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new $t(e.slice()))}}function RN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new Pn(n+1,0):new Pn(n,r));return new Vo(s,Be.empty(),e)}function CN(t){return new Vo(t.readTime,t.key,-1)}class Vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vo(Ke.min(),Be.empty(),-1)}static max(){return new Vo(Ke.max(),Be.empty(),-1)}}function DN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==kN)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(s=>s?fe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new fe((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ly.oe=-1;function am(t){return t==null}function np(t){return t===0&&1/t==-1/0}function MN(t){return typeof t=="number"&&Number.isInteger(t)&&!np(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Db(this.data.getIterator())}getIteratorFrom(e){return new Db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Hn(this.comparator);return n.data=e,n}}class Db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Ss([])}unionWith(e){let n=new Hn(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ss(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new zI("Invalid base64 string: "+i):i}}(e);return new or(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const NN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(Vt(!!t),typeof t=="string"){let e=0;const n=NN.exec(t);if(Vt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qa(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uy(t){const e=t.mapValue.fields.__previous_value__;return lm(e)?uy(e):e}function bh(t){const e=Fo(t.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Th{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Th("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Th&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lm(t)?4:$N(t)?9007199254740991:10:We()}function ai(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Fo(s.timestampValue),a=Fo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Qa(s.bytesValue).isEqual(Qa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return _n(s.geoPointValue.latitude)===_n(i.geoPointValue.latitude)&&_n(s.geoPointValue.longitude)===_n(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return _n(s.integerValue)===_n(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=_n(s.doubleValue),a=_n(i.doubleValue);return o===a?np(o)===np(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Cb(o)!==Cb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ai(o[l],a[l])))return!1;return!0}(t,e);default:return We()}}function Eh(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function pu(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=_n(i.integerValue||i.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kb(t.timestampValue,e.timestampValue);case 4:return kb(bh(t),bh(e));case 5:return Tt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Qa(i),l=Qa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Tt(a[u],l[u]);if(c!==0)return c}return Tt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Tt(_n(i.latitude),_n(o.latitude));return a!==0?a:Tt(_n(i.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=pu(a[u],l[u]);if(c)return c}return Tt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===zf.mapValue&&o===zf.mapValue)return 0;if(i===zf.mapValue)return 1;if(o===zf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Tt(l[f],c[f]);if(d!==0)return d;const p=pu(a[l[f]],u[c[f]]);if(p!==0)return p}return Tt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw We()}}function kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=Fo(t),r=Fo(e),s=Tt(n.seconds,r.seconds);return s!==0?s:Tt(n.nanos,r.nanos)}function mu(t){return D_(t)}function D_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=D_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${D_(n.fields[o])}`;return s+"}"}(t.mapValue):We()}function rp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function k_(t){return!!t&&"integerValue"in t}function cy(t){return!!t&&"arrayValue"in t}function Ob(t){return!!t&&"nullValue"in t}function xb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ad(t){return!!t&&"mapValue"in t}function Uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Lu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $N(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(n)}setAll(e){let n=Bn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Uc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ad(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Lu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ls(Uc(this.value))}}function YI(t){const e=[];return Lu(t.fields,(n,r)=>{const s=new Bn([n]);if(Ad(r)){const i=YI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ss(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tr(e,0,Ke.min(),Ke.min(),Ke.min(),ls.empty(),0)}static newFoundDocument(e,n,r,s){return new tr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new tr(e,2,n,Ke.min(),Ke.min(),ls.empty(),0)}static newUnknownDocument(e,n){return new tr(e,3,n,Ke.min(),Ke.min(),ls.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.position=e,this.inclusive=n}}function Mb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),n.key):r=pu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function VN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{}class yn extends qI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UN(e,n,r):n==="array-contains"?new HN(e,r):n==="in"?new zN(e,r):n==="not-in"?new YN(e,r):n==="array-contains-any"?new qN(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BN(e,r):new jN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pu(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.matchesComparison(pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends qI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ds(e,n)}matches(e){return WI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WI(t){return t.op==="and"}function GI(t){return FN(t)&&WI(t)}function FN(t){for(const e of t.filters)if(e instanceof Ds)return!1;return!0}function O_(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(GI(t))return t.filters.map(e=>O_(e)).join(",");{const e=t.filters.map(n=>O_(n)).join(",");return`${t.op}(${e})`}}function KI(t,e){return t instanceof yn?function(r,s){return s instanceof yn&&r.op===s.op&&r.field.isEqual(s.field)&&ai(r.value,s.value)}(t,e):t instanceof Ds?function(r,s){return s instanceof Ds&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&KI(o,s.filters[a]),!0):!1}(t,e):void We()}function QI(t){return t instanceof yn?function(n){return`${n.field.canonicalString()} ${n.op} ${mu(n.value)}`}(t):t instanceof Ds?function(n){return n.op.toString()+" {"+n.getFilters().map(QI).join(" ,")+"}"}(t):"Filter"}class UN extends yn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class BN extends yn{constructor(e,n){super(e,"in",n),this.keys=XI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jN extends yn{constructor(e,n){super(e,"not-in",n),this.keys=XI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class HN extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cy(n)&&Eh(n.arrayValue,this.value)}}class zN extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eh(this.value.arrayValue,n)}}class YN extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Eh(this.value.arrayValue,n)}}class qN extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Lb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new WN(t,e,n,r,s,i,o)}function hy(t){const e=Xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>O_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),e.ue=n}return e.ue}function fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nb(t.startAt,e.startAt)&&Nb(t.endAt,e.endAt)}function x_(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function GN(t,e,n,r,s,i,o,a){return new fl(t,e,n,r,s,i,o,a)}function dy(t){return new fl(t)}function $b(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function py(t){return t.collectionGroup!==null}function Kl(t){const e=Xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Hn(Bn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ah(i,r))}),n.has(Bn.keyField().canonicalString())||e.ce.push(new Ah(Bn.keyField(),r))}return e.ce}function Zs(t){const e=Xe(t);return e.le||(e.le=KN(e,Kl(t))),e.le}function KN(t,e){if(t.limitType==="F")return Lb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ah(s.field,i)});const n=t.endAt?new gu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gu(t.startAt.position,t.startAt.inclusive):null;return Lb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function M_(t,e){const n=t.filters.concat([e]);return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sp(t,e,n){return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function um(t,e){return fy(Zs(t),Zs(e))&&t.limitType===e.limitType}function JI(t){return`${hy(Zs(t))}|lt:${t.limitType}`}function Nl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QI(s)).join(", ")}]`),am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>mu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>mu(s)).join(",")),`Target(${r})`}(Zs(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Kl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Mb(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Kl(r),s)||r.endAt&&!function(o,a,l){const u=Mb(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Kl(r),s))}(t,e)}function QN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZI(t){return(e,n)=>{let r=!1;for(const s of Kl(t)){const i=XN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function XN(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?pu(l,u):We()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Lu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return HI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Xt(Be.comparator);function Vi(){return JN}const eS=new Xt(Be.comparator);function Ic(...t){let e=eS;for(const n of t)e=e.insert(n.key,n);return e}function tS(t){let e=eS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Aa(){return Bc()}function nS(){return Bc()}function Bc(){return new $u(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZN=new Xt(Be.comparator),eL=new Hn(Be.comparator);function lt(...t){let e=eL;for(const n of t)e=e.add(n);return e}const tL=new Hn(Tt);function nL(){return tL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:np(e)?"-0":e}}function sS(t){return{integerValue:""+t}}function rL(t,e){return MN(e)?sS(e):rS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this._=void 0}}function sL(t,e,n){return t instanceof ip?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&lm(i)&&(i=uy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ih?oS(t,e):t instanceof Sh?aS(t,e):function(s,i){const o=iS(s,i),a=Vb(o)+Vb(s.Pe);return k_(o)&&k_(s.Pe)?sS(a):rS(s.serializer,a)}(t,e)}function iL(t,e,n){return t instanceof Ih?oS(t,e):t instanceof Sh?aS(t,e):n}function iS(t,e){return t instanceof op?function(r){return k_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ip extends hm{}class Ih extends hm{constructor(e){super(),this.elements=e}}function oS(t,e){const n=lS(e);for(const r of t.elements)n.some(s=>ai(s,r))||n.push(r);return{arrayValue:{values:n}}}class Sh extends hm{constructor(e){super(),this.elements=e}}function aS(t,e){let n=lS(e);for(const r of t.elements)n=n.filter(s=>!ai(s,r));return{arrayValue:{values:n}}}class op extends hm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Vb(t){return _n(t.integerValue||t.doubleValue)}function lS(t){return cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ih&&s instanceof Ih||r instanceof Sh&&s instanceof Sh?du(r.elements,s.elements,ai):r instanceof op&&s instanceof op?ai(r.Pe,s.Pe):r instanceof ip&&s instanceof ip}(t.transform,e.transform)}class aL{constructor(e,n){this.version=e,this.transformResults=n}}class Rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fm{}function uS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new my(t.key,Rs.none()):new of(t.key,t.data,Rs.none());{const n=t.data,r=ls.empty();let s=new Hn(Bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new dl(t.key,r,new Ss(s.toArray()),Rs.none())}}function lL(t,e,n){t instanceof of?function(s,i,o){const a=s.value.clone(),l=Ub(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dl?function(s,i,o){if(!Id(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Ub(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(cS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jc(t,e,n,r){return t instanceof of?function(i,o,a,l){if(!Id(i.precondition,o))return a;const u=i.value.clone(),c=Bb(i.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof dl?function(i,o,a,l){if(!Id(i.precondition,o))return a;const u=Bb(i.fieldTransforms,l,o),c=o.data;return c.setAll(cS(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Id(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function uL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=iS(r.transform,s||null);i!=null&&(n===null&&(n=ls.empty()),n.set(r.field,i))}return n||null}function Fb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&du(r,s,(i,o)=>oL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class of extends fm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class dl extends fm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ub(t,e,n){const r=new Map;Vt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,iL(o,a,n[s]))}return r}function Bb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,sL(i,o,e))}return r}class my extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cL extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&lL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=uS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(n,r)=>Fb(n,r))&&du(this.baseMutations,e.baseMutations,(n,r)=>Fb(n,r))}}class gy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Vt(e.mutations.length===r.length);let s=function(){return ZN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new gy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,pt;function pL(t){switch(t){default:return We();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function hS(t){if(t===void 0)return $i("GRPC error has no .code"),ie.UNKNOWN;switch(t){case mn.OK:return ie.OK;case mn.CANCELLED:return ie.CANCELLED;case mn.UNKNOWN:return ie.UNKNOWN;case mn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case mn.INTERNAL:return ie.INTERNAL;case mn.UNAVAILABLE:return ie.UNAVAILABLE;case mn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case mn.NOT_FOUND:return ie.NOT_FOUND;case mn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case mn.ABORTED:return ie.ABORTED;case mn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case mn.DATA_LOSS:return ie.DATA_LOSS;default:return We()}}(pt=mn||(mn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new Ra([4294967295,4294967295],0);function jb(t){const e=mL().encode(t),n=new MI;return n.update(e),new Uint8Array(n.digest())}function Hb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ra([n,r],0),new Ra([s,i],0)]}class _y{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(r<0)throw new Sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ra.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ra.fromNumber(r)));return s.compare(gL)===1&&(s=new Ra([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=jb(e),[r,s]=Hb(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new _y(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=jb(e),[r,s]=Hb(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dm(Ke.min(),s,new Xt(Tt),Vi(),lt())}}class af{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new af(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class fS{constructor(e,n){this.targetId=e,this.me=n}}class dS{constructor(e,n,r=or.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zb{constructor(){this.fe=0,this.ge=qb(),this.pe=or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=lt(),n=lt(),r=lt();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:We()}}),new af(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=qb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _L{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vi(),this.qe=Yb(),this.Qe=new Xt(Tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:We()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(x_(i))if(r===0){const o=new Be(i.path);this.Ue(n,o,tr.newNoDocument(o,Ke.min()))}else Vt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Qa(r).toUint8Array()}catch(l){if(l instanceof zI)return fu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _y(o,s,i)}catch(l){return fu(l instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&x_(a.target)){const l=new Be(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,tr.newNoDocument(l,e))}i.be&&(n.set(o,i.Ce()),i.ve())}});let r=lt();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new dm(e,n,this.Qe,this.ke,r);return this.ke=Vi(),this.qe=Yb(),this.Qe=new Xt(Tt),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Hn(Tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yb(){return new Xt(Be.comparator)}function qb(){return new Xt(Be.comparator)}const vL={asc:"ASCENDING",desc:"DESCENDING"},yL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wL={and:"AND",or:"OR"};class bL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N_(t,e){return t.useProto3Json||am(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TL(t,e){return ap(t,e.toTimestamp())}function ei(t){return Vt(!!t),Ke.fromTimestamp(function(n){const r=Fo(n);return new Pn(r.seconds,r.nanos)}(t))}function vy(t,e){return L_(t,e).canonicalString()}function L_(t,e){const n=function(s){return new $t(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mS(t){const e=$t.fromString(t);return Vt(wS(e)),e}function $_(t,e){return vy(t.databaseId,e.path)}function Tg(t,e){const n=mS(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(_S(n))}function gS(t,e){return vy(t.databaseId,e)}function EL(t){const e=mS(t);return e.length===4?$t.emptyPath():_S(e)}function V_(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _S(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wb(t,e,n){return{name:$_(t,e),fields:n.value.mapValue.fields}}function AL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(Vt(c===void 0||typeof c=="string"),or.fromBase64String(c||"")):(Vt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),or.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ie.UNKNOWN:hS(u.code);return new Pe(c,u.message||"")}(o);n=new dS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tg(t,r.document.name),i=ei(r.document.updateTime),o=r.document.createTime?ei(r.document.createTime):Ke.min(),a=new ls({mapValue:{fields:r.document.fields}}),l=tr.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Sd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Tg(t,r.document),i=r.readTime?ei(r.readTime):Ke.min(),o=tr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Sd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Tg(t,r.document),i=r.removedTargetIds||[];n=new Sd([],i,s,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new dL(s,i),a=r.targetId;n=new fS(a,o)}}return n}function IL(t,e){let n;if(e instanceof of)n={update:Wb(t,e.key,e.value)};else if(e instanceof my)n={delete:$_(t,e.key)};else if(e instanceof dl)n={update:Wb(t,e.key,e.data),updateMask:ML(e.fieldMask)};else{if(!(e instanceof cL))return We();n={verify:$_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ip)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof op)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw We()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:TL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:We()}(t,e.precondition)),n}function SL(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ei(s.updateTime):ei(i);return o.isEqual(Ke.min())&&(o=ei(i)),new aL(o,s.transformResults||[])}(n,e))):[]}function PL(t,e){return{documents:[gS(t,e.path)]}}function RL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gS(t,s);const i=function(u){if(u.length!==0)return yS(Ds.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ll(d.field),direction:kL(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=N_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function CL(t){let e=EL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Vt(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(f){const d=vS(f);return d instanceof Ds&&GI(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(g){return new Ah($l(g.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,am(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new gu(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new gu(p,d)}(n.endAt)),GN(e,s,o,i,a,"F",l,u)}function DL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$l(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$l(n.unaryFilter.field);return yn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$l(n.unaryFilter.field);return yn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$l(n.unaryFilter.field);return yn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(t):t.fieldFilter!==void 0?function(n){return yn.create($l(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ds.create(n.compositeFilter.filters.map(r=>vS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return We()}}(n.compositeFilter.op))}(t):We()}function kL(t){return vL[t]}function OL(t){return yL[t]}function xL(t){return wL[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function $l(t){return Bn.fromServerFormat(t.fieldPath)}function yS(t){return t instanceof yn?function(n){if(n.op==="=="){if(xb(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(Ob(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xb(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(Ob(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:OL(n.op),value:n.value}}}(t):t instanceof Ds?function(n){const r=n.getFilters().map(s=>yS(s));return r.length===1?r[0]:{compositeFilter:{op:xL(n.op),filters:r}}}(t):We()}function ML(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),a=or.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new To(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.ct=e}}function LL(t){const e=CL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this._n=new VL}addToCollectionParentIndex(e,n){return this._n.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Vo.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class VL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Hn($t.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Hn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new _u(0)}static Ln(){return new _u(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.changes=new $u(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&jc(r.mutation,s,Ss.empty(),Pn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const s=Aa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ic();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Vi();const o=Bc(),a=function(){return Bc()}();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof dl)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),jc(c.mutation,u,c.mutation.getFieldMask(),Pn.now())):o.set(u.key,Ss.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new UL(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bc();let s=new Xt((o,a)=>o-a),i=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ss.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(s.get(a.batchId)||lt()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=nS();c.forEach(d=>{if(!i.has(d)){const p=uS(n.get(d),r.get(d));p!==null&&f.set(d,p),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return fe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):py(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):fe.resolve(Aa());let a=-1,l=i;return o.next(u=>fe.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(c)?fe.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,lt())).next(c=>({batchId:a,changes:tS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let s=Ic();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ic();return this.indexManager.getCollectionParents(e,i).next(a=>fe.forEach(a,l=>{const u=function(f,d){return new fl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,tr.newInvalidDocument(c)))});let a=Ic();return o.forEach((l,u)=>{const c=i.get(l);c!==void 0&&jc(c.mutation,u,Ss.empty(),Pn.now()),cm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return fe.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ei(s.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:LL(s.bundledQuery),readTime:ei(s.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.overlays=new Xt(Be.comparator),this.hr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Aa();return fe.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const s=Aa(),i=n.length+1,o=new Be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Xt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Aa(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Aa(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return fe.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fL(n,r));let i=this.hr.get(n);i===void 0&&(i=lt(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Pr=new Hn(On.Ir),this.Tr=new Hn(On.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new On(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Be(new $t([])),r=new On(n,e),s=new On(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Be(new $t([])),r=new On(n,e),s=new On(n,e+1);let i=lt();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new On(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Be.comparator(e.key,n.key)||Tt(e.pr,n.pr)}static Er(e,n){return Tt(e.pr,n.pr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Hn(On.Ir)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new On(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return fe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),s=new On(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),fe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hn(Tt);return n.forEach(s=>{const i=new On(s,0),o=new On(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),fe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Be.isDocumentKey(i)||(i=i.child(""));const o=new On(new Be(i),0);let a=new Hn(Tt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.pr)),!0)},o),fe.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Vt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return fe.forEach(n.mutations,s=>{const i=new On(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new On(n,0),s=this.wr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.vr=e,this.docs=function(){return new Xt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(n))}getEntries(e,n){let r=Vi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():tr.newInvalidDocument(s))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Vi();const o=n.path,a=new Be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||DN(CN(c),r)<=0||(s.has(c.key)||cm(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(e,n,r,s){We()}Fr(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qL(this)}getSize(e){return fe.resolve(this.size)}}class qL extends FL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.persistence=e,this.Mr=new $u(n=>hy(n),fy),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new yy,this.targetCount=0,this.Lr=_u.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),fe.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new _u(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.qn(n),fe.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),fe.waitFor(i).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),fe.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n){this.Br={},this.overlays={},this.kr=new ly(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new WL(this),this.indexManager=new $L,this.remoteDocumentCache=function(s){return new YL(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new NL(n),this.$r=new jL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new zL(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new KL(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return fe.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class KL extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class wy{constructor(e){this.persistence=e,this.zr=new yy,this.jr=null}static Hr(e){return new wy(e)}get Jr(){if(this.jr)return this.jr;throw We()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),fe.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Jr,r=>{const s=Be.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return fe.or([()=>fe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=lt(),s=lt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new by(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return tM()?8:xN(zn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new QL;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(ac()<=ht.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),fe.resolve()):(ac()<=ht.DEBUG&&Ne("QueryEngine","Query:",Nl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(ac()<=ht.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zs(n))):fe.resolve())}ji(e,n){if($b(n))return fe.resolve(null);let r=Zs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=sp(n,null,"F"),r=Zs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=lt(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,sp(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,s){return $b(n)||s.isEqual(Ke.min())?fe.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?fe.resolve(null):(ac()<=ht.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Nl(n)),this.es(e,o,n,RN(s,-1)).next(a=>a))})}Zi(e,n){let r=new Hn(ZI(e));return n.forEach((s,i)=>{cm(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return ac()<=ht.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Nl(n)),this.zi.getDocumentsMatchingQuery(e,n,Vo.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Xt(Tt),this.rs=new $u(i=>hy(i),fy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function ZL(t,e,n,r){return new JL(t,e,n,r)}async function bS(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=lt();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function e$(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=fe.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const A=u.docVersions.get(g);Vt(A!==null),_.version.compareTo(A)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=lt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function TS(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function t$(t,e){const n=Xe(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const d=s.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(i,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(i,c.addedDocuments,f)));let p=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(or.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),s=s.insert(f,p),function(_,A,S){return _.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(i,p))});let l=Vi(),u=lt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(n$(i,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Ke.min())){const c=n.Qr.getLastRemoteSnapshotVersion(i).next(f=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return fe.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ns=s,i))}function n$(t,e,n){let r=lt(),s=lt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Vi();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:s}})}function r$(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s$(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,fe.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new To(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function F_(t,e,n){const r=Xe(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!sf(o))throw o;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function Gb(t,e,n){const r=Xe(t);let s=Ke.min(),i=lt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Xe(l),d=f.rs.get(c);return d!==void 0?fe.resolve(f.ns.get(d)):f.Qr.getTargetData(u,c)}(r,o,Zs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:lt())).next(a=>(i$(r,QN(e),a),{documents:a,hs:i})))}function i$(t,e,n){let r=t.ss.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class Kb{constructor(){this.activeTargetIds=nL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o${constructor(){this.no=new Kb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Kb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf=null;function Eg(){return Yf===null?Yf=function(){return 268435456+Math.round(2147483648*Math.random())}():Yf++,"0x"+Yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class c$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${s}/databases/${i}`,this.bo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Do(){return!1}Co(n,r,s,i,o){const a=Eg(),l=this.vo(n,r.toUriEncodedString());Ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,i,o),this.Mo(n,l,u,s).then(c=>(Ne("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw fu("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",s),c})}xo(n,r,s,i,o,a){return this.Co(n,r,s,i,o)}Fo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}vo(n,r){const s=l$[n];return`${this.wo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,s){const i=Eg();return new Promise((o,a)=>{const l=new NI;l.setWithCredentials(!0),l.listenOnce($I.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ed.NO_ERROR:const c=l.getResponseJson();Ne(Qn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case Ed.TIMEOUT:Ne(Qn,`RPC '${e}' ${i} timed out`),a(new Pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const f=l.getStatus();if(Ne(Qn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(A){const S=A.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(S)>=0?S:ie.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ie.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Ne(Qn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Ne(Qn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const s=Eg(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=UI(),a=FI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new LI({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");Ne(Qn,`Creating RPC '${e}' stream ${s}: ${c}`,l);const f=o.createWebChannel(c,l);let d=!1,p=!1;const g=new u$({lo:A=>{p?Ne(Qn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(d||(Ne(Qn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),d=!0),Ne(Qn,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},ho:()=>f.close()}),_=(A,S,M)=>{A.listen(S,k=>{try{M(k)}catch(O){setTimeout(()=>{throw O},0)}})};return _(f,Ac.EventType.OPEN,()=>{p||(Ne(Qn,`RPC '${e}' stream ${s} transport opened.`),g.mo())}),_(f,Ac.EventType.CLOSE,()=>{p||(p=!0,Ne(Qn,`RPC '${e}' stream ${s} transport closed`),g.po())}),_(f,Ac.EventType.ERROR,A=>{p||(p=!0,fu(Qn,`RPC '${e}' stream ${s} transport errored:`,A),g.po(new Pe(ie.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ac.EventType.MESSAGE,A=>{var S;if(!p){const M=A.data[0];Vt(!!M);const k=M,O=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(O){Ne(Qn,`RPC '${e}' stream ${s} received error:`,O);const x=O.status;let N=function(w){const I=mn[w];if(I!==void 0)return hS(I)}(x),T=O.message;N===void 0&&(N=ie.INTERNAL,T="Unknown error status: "+x+" with message "+O.message),p=!0,g.po(new Pe(N,T)),f.close()}else Ne(Qn,`RPC '${e}' stream ${s} received:`,M),g.yo(M)}}),_(a,VI.STAT_EVENT,A=>{A.stat===C_.PROXY?Ne(Qn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===C_.NOPROXY&&Ne(Qn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function Ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){return new bL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=s,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.Go=r,this.zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ES(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.jo===n&&this.u_(r,s)},r=>{e(()=>{const s=new Pe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(s)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(s=>{r(()=>this.c_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h$ extends AS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=AL(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?ei(o.readTime):Ke.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=V_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=x_(l)?{documents:PL(i,l)}:{query:RL(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pS(i,o.resumeToken);const u=N_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=ap(i,o.snapshotVersion.toTimestamp());const u=N_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=DL(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=V_(this.serializer),n.removeTarget=e,this.i_(n)}}class f$ extends AS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=SL(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.A_(r,n)}return Vt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=V_(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IL(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d$ extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.m_=!1}f_(){if(this.m_)throw new Pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,L_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(ie.UNKNOWN,i.toString())})}xo(e,n,r,s,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,L_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ie.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class p${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?($i(n),this.y_=!1):Ne("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io(o=>{r.enqueueAndForget(async()=>{pl(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Xe(l);u.M_.add(4),await lf(u),u.N_.set("Unknown"),u.M_.delete(4),await mm(u)}(this))})}),this.N_=new p$(r,s)}}async function mm(t){if(pl(t))for(const e of t.x_)await e(!0)}async function lf(t){for(const e of t.x_)await e(!1)}function IS(t,e){const n=Xe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Iy(n)?Ay(n):Vu(n).Xo()&&Ey(n,e))}function Ty(t,e){const n=Xe(t),r=Vu(n);n.F_.delete(e),r.Xo()&&SS(n,e),n.F_.size===0&&(r.Xo()?r.n_():pl(n)&&n.N_.set("Unknown"))}function Ey(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vu(t).P_(e)}function SS(t,e){t.L_.xe(e),Vu(t).I_(e)}function Ay(t){t.L_=new _L({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vu(t).start(),t.N_.w_()}function Iy(t){return pl(t)&&!Vu(t).Zo()&&t.F_.size>0}function pl(t){return Xe(t).M_.size===0}function PS(t){t.L_=void 0}async function g$(t){t.N_.set("Online")}async function _$(t){t.F_.forEach((e,n)=>{Ey(t,e)})}async function v$(t,e){PS(t),Iy(t)?(t.N_.D_(e),Ay(t)):t.N_.set("Unknown")}async function y$(t,e,n){if(t.N_.set("Online"),e instanceof dS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.F_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.F_.delete(a),s.L_.removeTarget(a))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lp(t,r)}else if(e instanceof Sd?t.L_.Ke(e):e instanceof fS?t.L_.He(e):t.L_.We(e),!n.isEqual(Ke.min()))try{const r=await TS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.F_.get(u);c&&i.F_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=i.F_.get(l);if(!c)return;i.F_.set(l,c.withResumeToken(or.EMPTY_BYTE_STRING,c.snapshotVersion)),SS(i,l);const f=new To(c.target,l,u,c.sequenceNumber);Ey(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await lp(t,r)}}async function lp(t,e,n){if(!sf(e))throw e;t.M_.add(1),await lf(t),t.N_.set("Offline"),n||(n=()=>TS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await mm(t)})}function RS(t,e){return e().catch(n=>lp(t,n,e))}async function gm(t){const e=Xe(t),n=Uo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;w$(e);)try{const s=await r$(e.localStore,r);if(s===null){e.v_.length===0&&n.n_();break}r=s.batchId,b$(e,s)}catch(s){await lp(e,s)}CS(e)&&DS(e)}function w$(t){return pl(t)&&t.v_.length<10}function b$(t,e){t.v_.push(e);const n=Uo(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function CS(t){return pl(t)&&!Uo(t).Zo()&&t.v_.length>0}function DS(t){Uo(t).start()}async function T$(t){Uo(t).V_()}async function E$(t){const e=Uo(t);for(const n of t.v_)e.d_(n.mutations)}async function A$(t,e,n){const r=t.v_.shift(),s=gy.from(r,e,n);await RS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await gm(t)}async function I$(t,e){e&&Uo(t).E_&&await async function(r,s){if(function(o){return pL(o)&&o!==ie.ABORTED}(s.code)){const i=r.v_.shift();Uo(r).t_(),await RS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await gm(r)}}(t,e),CS(t)&&DS(t)}async function Xb(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=pl(n);n.M_.add(3),await lf(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await mm(n)}async function S$(t,e){const n=Xe(t);e?(n.M_.delete(2),await mm(n)):e||(n.M_.add(2),await lf(n),n.N_.set("Unknown"))}function Vu(t){return t.B_||(t.B_=function(n,r,s){const i=Xe(n);return i.f_(),new h$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:g$.bind(null,t),To:_$.bind(null,t),Ao:v$.bind(null,t),h_:y$.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Iy(t)?Ay(t):t.N_.set("Unknown")):(await t.B_.stop(),PS(t))})),t.B_}function Uo(t){return t.k_||(t.k_=function(n,r,s){const i=Xe(n);return i.f_(),new f$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:T$.bind(null,t),Ao:I$.bind(null,t),R_:E$.bind(null,t),A_:A$.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await gm(t)):(await t.k_.stop(),t.v_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Sy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Py(t,e){if($i("AsyncQueue",`${e}: ${t}`),sf(t))return new Pe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Ic(),this.sortedSet=new Xt(this.comparator)}static emptySet(e){return new Ql(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ql)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.q_=new Xt(Be.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):We():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vu{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vu(e,n,Ql.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class R${constructor(){this.queries=new $u(e=>JI(e),um),this.onlineState="Unknown",this.z_=new Set}}async function kS(t,e){const n=Xe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.W_()&&e.G_()&&(r=2):(i=new P$,r=e.G_()?0:1);try{switch(r){case 0:i.K_=await n.onListen(s,!0);break;case 1:i.K_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Py(o,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.U_.push(e),e.j_(n.onlineState),i.K_&&e.H_(i.K_)&&Ry(n)}async function OS(t,e){const n=Xe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.U_.indexOf(e);o>=0&&(i.U_.splice(o,1),i.U_.length===0?s=e.G_()?0:1:!i.W_()&&e.G_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C$(t,e){const n=Xe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.U_)a.H_(s)&&(r=!0);o.K_=s}}r&&Ry(n)}function D$(t,e,n){const r=Xe(t),s=r.queries.get(e);if(s)for(const i of s.U_)i.onError(n);r.queries.delete(e)}function Ry(t){t.z_.forEach(e=>{e.next()})}var U_,Zb;(Zb=U_||(U_={})).J_="default",Zb.Cache="cache";class xS{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==U_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.key=e}}class NS{constructor(e){this.key=e}}class k${constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=lt(),this.mutatedKeys=lt(),this.Ia=ZI(e),this.Ta=new Ql(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Jb,s=n?n.Ta:this.Ta;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,f)=>{const d=s.get(c),p=cm(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let A=!1;d&&p?d.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),A=!0):this.Ra(d,p)||(r.track({type:2,doc:p}),A=!0,(l&&this.Ia(p,l)>0||u&&this.Ia(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),A=!0):d&&!p&&(r.track({type:1,doc:d}),A=!0,(l||u)&&(a=!0)),A&&(p?(o=o.add(p),i=_?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:i}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((c,f)=>function(p,g){const _=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return _(p)-_(g)}(c.type,f.type)||this.Ia(c.doc,f.doc)),this.Va(r),s=s!=null&&s;const a=n&&!s?this.ma():[],l=this.Pa.size===0&&this.current&&!s?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new vu(this.query,e.Ta,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Jb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=lt(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new NS(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new MS(r))}),n}pa(e){this.la=e.hs,this.Pa=lt();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return vu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class O${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class x${constructor(e){this.key=e,this.wa=!1}}class M${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new $u(a=>JI(a),um),this.Da=new Map,this.Ca=new Set,this.va=new Xt(Be.comparator),this.Fa=new Map,this.Ma=new yy,this.xa={},this.Oa=new Map,this.Na=_u.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function N$(t,e,n=!0){const r=BS(t);let s;const i=r.ba.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ya()):s=await LS(r,e,n,!0),s}async function L$(t,e){const n=BS(t);await LS(n,e,!0,!1)}async function LS(t,e,n,r){const s=await s$(t.localStore,Zs(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await $$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&IS(t.remoteStore,s),a}async function $$(t,e,n,r,s){t.Ba=(f,d,p)=>async function(_,A,S,M){let k=A.view.da(S);k.Xi&&(k=await Gb(_.localStore,A.query,!1).then(({documents:T})=>A.view.da(T,k)));const O=M&&M.targetChanges.get(A.targetId),x=M&&M.targetMismatches.get(A.targetId)!=null,N=A.view.applyChanges(k,_.isPrimaryClient,O,x);return tT(_,A.targetId,N.fa),N.snapshot}(t,f,d,p);const i=await Gb(t.localStore,e,!0),o=new k$(e,i.hs),a=o.da(i.documents),l=af.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);tT(t,n,u.fa);const c=new O$(e,n,o);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function V$(t,e,n){const r=Xe(t),s=r.ba.get(e),i=r.Da.get(s.targetId);if(i.length>1)return r.Da.set(s.targetId,i.filter(o=>!um(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await F_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ty(r.remoteStore,s.targetId),B_(r,s.targetId)}).catch(rf)):(B_(r,s.targetId),await F_(r.localStore,s.targetId,!0))}async function F$(t,e){const n=Xe(t),r=n.ba.get(e),s=n.Da.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(n.remoteStore,r.targetId))}async function U$(t,e,n){const r=W$(t);try{const s=await function(o,a){const l=Xe(o),u=Pn.now(),c=a.reduce((p,g)=>p.add(g.key),lt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Vi(),_=lt();return l.os.getEntries(p,c).next(A=>{g=A,g.forEach((S,M)=>{M.isValidDocument()||(_=_.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(A=>{f=A;const S=[];for(const M of a){const k=uL(M,f.get(M.key).overlayedDocument);k!=null&&S.push(new dl(M.key,k,YI(k.value.mapValue),Rs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,S,a)}).next(A=>{d=A;const S=A.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,A.batchId,S)})}).then(()=>({batchId:d.batchId,changes:tS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Xt(Tt)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,s.batchId,n),await uf(r,s.changes),await gm(r.remoteStore)}catch(s){const i=Py(s,"Failed to persist write");n.reject(i)}}async function $S(t,e){const n=Xe(t);try{const r=await t$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Fa.get(i);o&&(Vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.wa=!0:s.modifiedDocuments.size>0?Vt(o.wa):s.removedDocuments.size>0&&(Vt(o.wa),o.wa=!1))}),await uf(n,r,e)}catch(r){await rf(r)}}function eT(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ba.forEach((i,o)=>{const a=o.view.j_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Xe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.U_)d.j_(a)&&(u=!0)}),u&&Ry(l)}(r.eventManager,e),s.length&&r.Sa.h_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B$(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Fa.get(e),i=s&&s.key;if(i){let o=new Xt(Be.comparator);o=o.insert(i,tr.newNoDocument(i,Ke.min()));const a=lt().add(i),l=new dm(Ke.min(),new Map,new Xt(Tt),o,a);await $S(r,l),r.va=r.va.remove(i),r.Fa.delete(e),Cy(r)}else await F_(r.localStore,e,!1).then(()=>B_(r,e,n)).catch(rf)}async function j$(t,e){const n=Xe(t),r=e.batch.batchId;try{const s=await e$(n.localStore,e);FS(n,r,null),VS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uf(n,s)}catch(s){await rf(s)}}async function H$(t,e,n){const r=Xe(t);try{const s=await function(o,a){const l=Xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Vt(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);FS(r,e,n),VS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uf(r,s)}catch(s){await rf(s)}}function VS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function FS(t,e,n){const r=Xe(t);let s=r.xa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.xa[r.currentUser.toKey()]=s}}function B_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||US(t,r)})}function US(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Ty(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Cy(t))}function tT(t,e,n){for(const r of n)r instanceof MS?(t.Ma.addReference(r.key,e),z$(t,r)):r instanceof NS?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||US(t,r.key)):We()}function z$(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Cy(t))}function Cy(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Be($t.fromString(e)),r=t.Na.next();t.Fa.set(r,new x$(n)),t.va=t.va.insert(n,r),IS(t.remoteStore,new To(Zs(dy(n.path)),r,"TargetPurposeLimboResolution",ly.oe))}}async function uf(t,e,n){const r=Xe(t),s=[],i=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const c=u&&!u.fromCache;r.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){s.push(u);const c=by.Ki(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.Sa.h_(s),await async function(l,u){const c=Xe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>fe.forEach(u,d=>fe.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>fe.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!sf(f))throw f;Ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.ns.get(d),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(d,_)}}}(r.localStore,i))}async function Y$(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await bS(n.localStore,e);n.currentUser=e,function(i,o){i.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ie.CANCELLED,o))})}),i.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uf(n,r.us)}}function q$(t,e){const n=Xe(t),r=n.Fa.get(e);if(r&&r.wa)return lt().add(r.key);{let s=lt();const i=n.Da.get(e);if(!i)return s;for(const o of i){const a=n.ba.get(o);s=s.unionWith(a.view.Ea)}return s}}function BS(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B$.bind(null,e),e.Sa.h_=C$.bind(null,e.eventManager),e.Sa.ka=D$.bind(null,e.eventManager),e}function W$(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H$.bind(null,e),e}class nT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZL(this.persistence,new XL,e.initialUser,this.serializer)}createPersistence(e){return new GL(wy.Hr,this.serializer)}createSharedClientState(e){return new o$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class G${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y$.bind(null,this.syncEngine),await S$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R$}()}createDatastore(e){const n=pm(e.databaseInfo.databaseId),r=function(i){return new c$(i)}(e.databaseInfo);return function(i,o,a,l){return new d$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new m$(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eT(this.syncEngine,n,0),function(){return Qb.D()?new Qb:new a$}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,c){const f=new M$(s,i,o,a,l,u);return c&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=Xe(r);Ne("RemoteStore","RemoteStore shutting down."),s.M_.add(5),await lf(s),s.O_.shutdown(),s.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zn.UNAUTHENTICATED,this.clientId=jI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Ne("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ne("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Py(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ig(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X$(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Xb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Xb(e.remoteStore,s)),t._onlineComponents=e}function Q$(t){return t.name==="FirebaseError"?t.code===ie.FAILED_PRECONDITION||t.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function X$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ig(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Q$(n))throw n;fu("Error using user provided cache. Falling back to memory cache: "+n),await Ig(t,new nT)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await Ig(t,new nT);return t._offlineComponents}async function HS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await rT(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await rT(t,new G$))),t._onlineComponents}function J$(t){return HS(t).then(e=>e.syncEngine)}async function zS(t){const e=await HS(t),n=e.eventManager;return n.onListen=N$.bind(null,e.syncEngine),n.onUnlisten=V$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F$.bind(null,e.syncEngine),n}function Z$(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new jS({next:d=>{o.enqueueAndForget(()=>OS(i,f));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new Pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new Pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new xS(dy(a.path),c,{includeMetadataChanges:!0,ra:!0});return kS(i,f)}(await zS(t),t.asyncQueue,e,n,r)),r.promise}function e2(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new jS({next:d=>{o.enqueueAndForget(()=>OS(i,f)),d.fromCache&&l.source==="server"?u.reject(new Pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new xS(a,c,{includeMetadataChanges:!0,ra:!0});return kS(i,f)}(await zS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t,e,n){if(!n)throw new Pe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t2(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iT(t){if(!Be.isDocumentKey(t))throw new Pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oT(t){if(Be.isDocumentKey(t))throw new Pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We()}function Fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_m(t);throw new Pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yN;switch(r.type){case"firstParty":return new EN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sT.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),sT.delete(n),r.terminate())}(this),Promise.resolve()}}function n2(t,e,n,r={}){var s;const i=(t=Fi(t,vm))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Zn.MOCK_USER;else{a=RI(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zn(u)}t._authCredentials=new wN(new BI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class ko extends qi{constructor(e,n,r){super(e,n,dy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new Be(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function Dy(t,e,...n){if(t=bn(t),qS("collection","path",e),t instanceof vm){const r=$t.fromString(e,...n);return oT(r),new ko(t,null,r)}{if(!(t instanceof Rr||t instanceof ko))throw new Pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return oT(r),new ko(t.firestore,null,r)}}function cf(t,e,...n){if(t=bn(t),arguments.length===1&&(e=jI.newId()),qS("doc","path",e),t instanceof vm){const r=$t.fromString(e,...n);return iT(r),new Rr(t,null,new Be(r))}{if(!(t instanceof Rr||t instanceof ko))throw new Pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return iT(r),new Rr(t.firestore,t instanceof ko?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ES(this,"async_queue_retry"),this.hu=()=>{const n=Ag();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Ag();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ki;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!sf(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $i("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const s=Sy.createAndSchedule(this,e,n,r,i=>this.Eu(i));return this._u.push(s),s}Pu(){this.au&&We()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Fu extends vm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new r2}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WS(this),this._firestoreClient.terminate()}}function s2(t,e){const n=oy(),r="(default)",s=om(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=II("firestore");i&&n2(s,...i)}return s}function ky(t){return t._firestoreClient||WS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WS(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,c){return new LN(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,YS(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new K$(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yu(or.fromBase64String(e))}catch(n){throw new Pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yu(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^__.*__$/;class o2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dl(e,this.data,this.fieldMask,n,this.fieldTransforms):new of(e,this.data,n,this.fieldTransforms)}}function KS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class My{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new My(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.gu({path:r,yu:!1});return s.wu(e),s}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.gu({path:r,yu:!1});return s.mu(),s}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return up(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(KS(this.fu)&&i2.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class a2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pm(e)}Fu(e,n,r,s=!1){return new My({fu:e,methodName:n,vu:r,path:Bn.emptyPath(),yu:!1,Cu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ym(t){const e=t._freezeSettings(),n=pm(t._databaseId);return new a2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QS(t,e,n,r,s,i={}){const o=t.Fu(i.merge||i.mergeFields?2:0,e,n,s);eP("Data must be an object, but it was:",o,r);const a=JS(r,o);let l,u;if(i.merge)l=new Ss(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const f of i.mergeFields){const d=l2(e,f,n);if(!o.contains(d))throw new Pe(ie.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);c2(c,d)||c.push(d)}l=new Ss(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new o2(new ls(a),l,u)}function XS(t,e,n,r=!1){return Ny(n,t.Fu(r?4:3,e))}function Ny(t,e){if(ZS(t=bn(t)))return eP("Unsupported field value:",e,t),JS(t,e);if(t instanceof GS)return function(r,s){if(!KS(s.fu))throw s.Du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Ny(a,s.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pn.fromDate(r);return{timestampValue:ap(s.serializer,i)}}if(r instanceof Pn){const i=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(s.serializer,i)}}if(r instanceof xy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yu)return{bytesValue:pS(s.serializer,r._byteString)};if(r instanceof Rr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Du(`Unsupported field value: ${_m(r)}`)}(t,e)}function JS(t,e){const n={};return HI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lu(t,(r,s)=>{const i=Ny(s,e.pu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ZS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pn||t instanceof xy||t instanceof yu||t instanceof Rr||t instanceof GS)}function eP(t,e,n){if(!ZS(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=_m(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function l2(t,e,n){if((e=bn(e))instanceof Oy)return e._internalPath;if(typeof e=="string")return tP(t,e);throw up("Field path arguments must be of type string or ",t,!1,void 0,n)}const u2=new RegExp("[~\\*/\\[\\]]");function tP(t,e,n){if(e.search(u2)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oy(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function up(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Pe(ie.INVALID_ARGUMENT,a+t+l)}function c2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h2 extends Ly{data(){return super.data()}}function wm(t,e){return typeof e=="string"?tP(t,e):e instanceof Oy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $y{}class bm extends $y{}function nP(t,e,...n){let r=[];e instanceof $y&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Vy).length,a=i.filter(l=>l instanceof Tm).length;if(o>1||o>0&&a>0)throw new Pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Tm extends bm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tm(e,n,r)}_apply(e){const n=this._parse(e);return sP(e._query,n),new qi(e.firestore,e.converter,M_(e._query,n))}_parse(e){const n=ym(e.firestore);return function(i,o,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){uT(f,c);const p=[];for(const g of f)p.push(lT(l,i,g));d={arrayValue:{values:p}}}else d=lT(l,i,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||uT(f,c),d=XS(a,o,f,c==="in"||c==="not-in");return yn.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function aa(t,e,n){const r=e,s=wm("where",t);return Tm._create(s,r,n)}class Vy extends $y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)sP(o,l),o=M_(o,l)}(e._query,n),new qi(e.firestore,e.converter,M_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fy extends bm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ah(i,o)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new fl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function rP(t,e="asc"){const n=e,r=wm("orderBy",t);return Fy._create(r,n)}class Uy extends bm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Uy(e,n,r)}_apply(e){return new qi(e.firestore,e.converter,sp(e._query,this._limit,this._limitType))}}function d2(t){return Uy._create("limit",t,"F")}class By extends bm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new By(e,n,r)}_apply(e){const n=m2(e,this.type,this._docOrFields,this._inclusive);return new qi(e.firestore,e.converter,function(s,i){return new fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function p2(...t){return By._create("startAfter",t,!1)}function m2(t,e,n,r){if(n[0]=bn(n[0]),n[0]instanceof Ly)return function(i,o,a,l,u){if(!l)throw new Pe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const f of Kl(i))if(f.field.isKeyField())c.push(rp(o,l.key));else{const d=l.data.field(f.field);if(lm(d))throw new Pe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const p=f.field.canonicalString();throw new Pe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(d)}return new gu(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=ym(t.firestore);return function(o,a,l,u,c,f){const d=o.explicitOrderBy;if(c.length>d.length)throw new Pe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const _=c[g];if(d[g].field.isKeyField()){if(typeof _!="string")throw new Pe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof _}`);if(!py(o)&&_.indexOf("/")!==-1)throw new Pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${_}' contains a slash.`);const A=o.path.child($t.fromString(_));if(!Be.isDocumentKey(A))throw new Pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const S=new Be(A);p.push(rp(a,S))}else{const A=XS(l,u,_);p.push(A)}}return new gu(p,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function lT(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new Pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!py(e)&&n.indexOf("/")!==-1)throw new Pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Be.isDocumentKey(r))throw new Pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rp(t,new Be(r))}if(n instanceof Rr)return rp(t,n._key);throw new Pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(n)}.`)}function uT(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g2{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw We()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new xy(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const n=Fo(e);return new Pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);Vt(wS(r));const s=new Th(r.get(1),r.get(3)),i=new Be(r.popFirst(5));return s.isEqual(n)||$i(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oP extends Ly{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pd extends oP{data(e={}){return super.data(e)}}class _2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Pc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pd(this._firestore,this._userDataWriter,r.key,r,new Pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Pd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Pd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Pc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:v2(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function v2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){t=Fi(t,Rr);const e=Fi(t.firestore,Fu);return Z$(ky(e),t._key).then(n=>T2(e,t,n))}class aP extends g2{constructor(e){super(),this.firestore=e}convertBytes(e){return new yu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function lP(t){t=Fi(t,qi);const e=Fi(t.firestore,Fu),n=ky(e),r=new aP(e);return f2(t._query),e2(n,t._query).then(s=>new _2(e,r,t,s))}function uP(t,e,n){t=Fi(t,Rr);const r=Fi(t.firestore,Fu),s=iP(t.converter,e,n);return jy(r,[QS(ym(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Rs.none())])}function w2(t){return jy(Fi(t.firestore,Fu),[new my(t._key,Rs.none())])}function b2(t,e){const n=Fi(t.firestore,Fu),r=cf(t),s=iP(t.converter,e);return jy(n,[QS(ym(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Rs.exists(!1))]).then(()=>r)}function jy(t,e){return function(r,s){const i=new ki;return r.asyncQueue.enqueueAndForget(async()=>U$(await J$(r),s,i)),i.promise}(ky(t),e)}function T2(t,e,n){const r=n.docs.get(e._key),s=new aP(t);return new oP(t,s,e._key,r,new Pc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Nu=s})(hl),Ga(new $o("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Fu(new bN(r.getProvider("auth-internal")),new IN(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Th(u.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Js(Rb,"4.6.3",e),Js(Rb,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="firebasestorage.googleapis.com",hP="storageBucket",E2=2*60*1e3,A2=10*60*1e3,I2=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt extends fi{constructor(e,n,r=0){super(Sg(e),`Firebase Storage: ${n} (${Sg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function Sg(t){return"storage/"+t}function Hy(){const t="An unknown error occurred, please check the error payload for server response.";return new Zt(Ht.UNKNOWN,t)}function S2(t){return new Zt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function P2(t){return new Zt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function R2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Zt(Ht.UNAUTHENTICATED,t)}function C2(){return new Zt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function D2(t){return new Zt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fP(){return new Zt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dP(){return new Zt(Ht.CANCELED,"User canceled the upload/download.")}function k2(t){return new Zt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function O2(t){return new Zt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function x2(){return new Zt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hP+"' property when initializing the app?")}function pP(){return new Zt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M2(){return new Zt(Ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function N2(){return new Zt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function L2(t){return new Zt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function j_(t){return new Zt(Ht.INVALID_ARGUMENT,t)}function mP(){return new Zt(Ht.APP_DELETED,"The Firebase app was deleted.")}function $2(t){return new Zt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hc(t,e){return new Zt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function lc(t){throw new Zt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gr.makeFromUrl(e,n)}catch{return new Gr(e,"")}if(r.path==="")return r;throw O2(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${s}/o${d}`,"i"),g={bucket:1,path:3},_=n===cP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",S=new RegExp(`^https?://${_}/${s}/${A}`,"i"),k=[{regex:a,indices:l,postModify:i},{regex:p,indices:g,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<k.length;O++){const x=k[O],N=x.regex.exec(e);if(N){const T=N[x.indices.bucket];let b=N[x.indices.path];b||(b=""),r=new Gr(T,b),x.postModify(r);break}}if(r==null)throw k2(e);return r}}class V2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...A){u||(u=!0,e.apply(null,A))}function f(A){s=setTimeout(()=>{s=null,t(p,l())},A)}function d(){i&&clearTimeout(i)}function p(A,...S){if(u){d();return}if(A){d(),c.call(null,A,...S);return}if(l()||o){d(),c.call(null,A,...S);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,f(k)}let g=!1;function _(A){g||(g=!0,d(),!u&&(s!==null?(A||(a=2),clearTimeout(s),f(0)):A||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function U2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){return t!==void 0}function j2(t){return typeof t=="function"}function H2(t){return typeof t=="object"&&!Array.isArray(t)}function Em(t){return typeof t=="string"||t instanceof String}function cT(t){return zy()&&t instanceof Blob}function zy(){return typeof Blob<"u"}function hT(t,e,n,r){if(r<e)throw j_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw j_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ca||(Ca={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,s,i,o,a,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new qf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ca.NO_ERROR,l=i.getStatus();if(!a||_P(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Ca.ABORT;r(!1,new qf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new qf(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());B2(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Hy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?mP():dP();o(l)}else{const l=fP();o(l)}};this.canceled_?n(!1,new qf(!1,null,!0)):this.backoffId_=F2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&U2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Y2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function G2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function K2(t,e,n,r,s,i,o=!0){const a=gP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return W2(u,e),Y2(u,n),q2(u,i),G2(u,r),new z2(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function X2(...t){const e=Q2();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(zy())return new Blob(t);throw new Zt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function J2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){if(typeof atob>"u")throw L2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pg{constructor(e,n){this.data=e,this.contentType=n||null}}function eV(t,e){switch(t){case Ws.RAW:return new Pg(vP(e));case Ws.BASE64:case Ws.BASE64URL:return new Pg(yP(t,e));case Ws.DATA_URL:return new Pg(nV(e),rV(e))}throw Hy()}function vP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tV(t){let e;try{e=decodeURIComponent(t)}catch{throw Hc(Ws.DATA_URL,"Malformed data URL.")}return vP(e)}function yP(t,e){switch(t){case Ws.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Hc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ws.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Hc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Z2(e)}catch(s){throw s.message.includes("polyfill")?s:Hc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class wP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hc(Ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nV(t){const e=new wP(t);return e.base64?yP(Ws.BASE64,e.rest):tV(e.rest)}function rV(t){return new wP(t).contentType}function sV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){let r=0,s="";cT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(cT(this.data_)){const r=this.data_,s=J2(r,e,n);return s===null?null:new po(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new po(r,!0)}}static getBlob(...e){if(zy()){const n=e.map(r=>r instanceof po?r.data_:r);return new po(X2.apply(null,n))}else{const n=e.map(o=>Em(o)?eV(Ws.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new po(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){let e;try{e=JSON.parse(t)}catch{return null}return H2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function TP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e){return e}class ur{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||aV}}let Wf=null;function lV(t){return!Em(t)||t.length<2?t:TP(t)}function EP(){if(Wf)return Wf;const t=[];t.push(new ur("bucket")),t.push(new ur("generation")),t.push(new ur("metageneration")),t.push(new ur("name","fullPath",!0));function e(i,o){return lV(o)}const n=new ur("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new ur("size");return s.xform=r,t.push(s),t.push(new ur("timeCreated")),t.push(new ur("updated")),t.push(new ur("md5Hash",null,!0)),t.push(new ur("cacheControl",null,!0)),t.push(new ur("contentDisposition",null,!0)),t.push(new ur("contentEncoding",null,!0)),t.push(new ur("contentLanguage",null,!0)),t.push(new ur("contentType",null,!0)),t.push(new ur("metadata","customMetadata",!0)),Wf=t,Wf}function uV(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Gr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function cV(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return uV(r,t),r}function AP(t,e,n){const r=bP(e);return r===null?null:cV(t,r,n)}function hV(t,e,n,r){const s=bP(e);if(s===null||!Em(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const c=t.bucket,f=t.fullPath,d="/b/"+o(c)+"/o/"+o(f),p=hf(d,n,r),g=gP({alt:"media",token:u});return p+g})[0]}function IP(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Uu{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){if(!t)throw Hy()}function Yy(t,e){function n(r,s){const i=AP(t,s,e);return Oi(i!==null),i}return n}function fV(t,e){function n(r,s){const i=AP(t,s,e);return Oi(i!==null),hV(i,s,t.host,t._protocol)}return n}function ff(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=C2():s=R2():n.getStatus()===402?s=P2(t.bucket):n.getStatus()===403?s=D2(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function SP(t){const e=ff(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=S2(t.path)),i.serverResponse=s.serverResponse,i}return n}function dV(t,e,n){const r=e.fullServerUrl(),s=hf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Uu(s,i,Yy(t,n),o);return a.errorHandler=SP(e),a}function pV(t,e,n){const r=e.fullServerUrl(),s=hf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Uu(s,i,fV(t,n),o);return a.errorHandler=SP(e),a}function mV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function PP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mV(null,e)),r}function gV(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let O=0;O<2;O++)k=k+Math.random().toString().slice(2);return k}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=PP(e,r,s),c=IP(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=po.getBlob(f,r,d);if(p===null)throw pP();const g={name:u.fullPath},_=hf(i,t.host,t._protocol),A="POST",S=t.maxUploadRetryTime,M=new Uu(_,A,Yy(t,n),S);return M.urlParams=g,M.headers=o,M.body=p.uploadData(),M.errorHandler=ff(e),M}class cp{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function qy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function _V(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=PP(e,r,s),a={name:o.fullPath},l=hf(i,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=IP(o,n),d=t.maxUploadRetryTime;function p(_){qy(_);let A;try{A=_.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(Em(A)),A}const g=new Uu(l,u,p,d);return g.urlParams=a,g.headers=c,g.body=f,g.errorHandler=ff(e),g}function vV(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const c=qy(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}f||Oi(!1);const d=Number(f);return Oi(!isNaN(d)),new cp(d,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Uu(n,o,i,a);return l.headers=s,l.errorHandler=ff(e),l}const fT=256*1024;function yV(t,e,n,r,s,i,o,a){const l=new cp(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw M2();const u=l.total-l.current;let c=u;s>0&&(c=Math.min(c,s));const f=l.current,d=f+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(f,d);if(_===null)throw pP();function A(O,x){const N=qy(O,["active","final"]),T=l.current+c,b=r.size();let w;return N==="final"?w=Yy(e,i)(O,x):w=null,new cp(T,b,N==="final",w)}const S="POST",M=e.maxUploadRetryTime,k=new Uu(n,S,A,M);return k.headers=g,k.body=_.uploadData(),k.progressCallback=a||null,k.errorHandler=ff(t),k}const Ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rg(t){switch(t){case"running":case"pausing":case"canceling":return Ir.RUNNING;case"paused":return Ir.PAUSED;case"success":return Ir.SUCCESS;case"canceled":return Ir.CANCELED;case"error":return Ir.ERROR;default:return Ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wV=class{constructor(e,n,r){if(j2(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class bV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw lc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TV extends bV{initXhr(){this.xhr_.responseType="text"}}function Vl(){return new TV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=EP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(_P(s.status,[]))if(i)s=fP();else{this.sleepTime=Math.max(this.sleepTime*2,I2),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ht.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=_V(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Vl,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=vV(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Vl,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=fT*this._chunkMultiplier,n=new cp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=yV(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Vl,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){fT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=dV(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Vl,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=gV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Vl,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=dP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Rg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new wV(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Rg(this._state)){case Ir.SUCCESS:Rl(this._resolve.bind(null,this.snapshot))();break;case Ir.CANCELED:case Ir.ERROR:const n=this._reject;Rl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Rg(this._state)){case Ir.RUNNING:case Ir.PAUSED:e.next&&Rl(e.next.bind(e,this.snapshot))();break;case Ir.SUCCESS:e.complete&&Rl(e.complete.bind(e))();break;case Ir.CANCELED:case Ir.ERROR:e.error&&Rl(e.error.bind(e,this._error))();break;default:e.error&&Rl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this._service=e,n instanceof Gr?this._location=n:this._location=Gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ja(e,n)}get root(){const e=new Gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TP(this._location.path)}get storage(){return this._service}get parent(){const e=iV(this._location.path);if(e===null)return null;const n=new Gr(this._location.bucket,e);return new Ja(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $2(e)}}function AV(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new EV(t,new po(e),n)}function IV(t){t._throwIfRoot("getDownloadURL");const e=pV(t.storage,t._location,EP());return t.storage.makeRequestWithTokens(e,Vl).then(n=>{if(n===null)throw N2();return n})}function SV(t,e){const n=oV(t._location.path,e),r=new Gr(t._location.bucket,n);return new Ja(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){return/^[A-Za-z]+:\/\//.test(t)}function RV(t,e){return new Ja(t,e)}function RP(t,e){if(t instanceof Wy){const n=t;if(n._bucket==null)throw x2();const r=new Ja(n,n._bucket);return e!=null?RP(r,e):r}else return e!==void 0?SV(t,e):t}function CV(t,e){if(e&&PV(e)){if(t instanceof Wy)return RV(t,e);throw j_("To use ref(service, url), the first argument must be a Storage instance.")}else return RP(t,e)}function dT(t,e){const n=e==null?void 0:e[hP];return n==null?null:Gr.makeFromBucketSpec(n,t)}function DV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:RI(s,t.app.options.projectId))}class Wy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=cP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E2,this._maxUploadRetryTime=A2,this._requests=new Set,s!=null?this._bucket=Gr.makeFromBucketSpec(s,this._host):this._bucket=dT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,e):this._bucket=dT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ja(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new V2(mP());{const o=K2(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const pT="@firebase/storage",mT="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="storage";function kV(t,e,n){return t=bn(t),AV(t,e,n)}function OV(t){return t=bn(t),IV(t)}function xV(t,e){return t=bn(t),CV(t,e)}function MV(t=oy(),e){t=bn(t);const r=om(t,CP).getImmediate({identifier:e}),s=II("storage");return s&&NV(r,...s),r}function NV(t,e,n,r={}){DV(t,e,n,r)}function LV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Wy(n,r,s,e,hl)}function $V(){Ga(new $o(CP,LV,"PUBLIC").setMultipleInstances(!0)),Js(pT,mT,""),Js(pT,mT,"esm2017")}$V();const VV={apiKey:"AIzaSyAnJCuyJXSp7mXu4J2KNOaUVppSbqyAPqU",authDomain:"movie-record-v2.firebaseapp.com",projectId:"movie-record-v2",storageBucket:"movie-record-v2.appspot.com",messagingSenderId:"271614748566",appId:"1:271614748566:web:b01f4f5af80234b3625fb7",measurementId:"G-WM0VMXG3K2"},FV=kI(VV),UV=MV(FV);/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gy(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Nt={},Xl=[],us=()=>{},BV=()=>!1,Am=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ky=t=>t.startsWith("onUpdate:"),dn=Object.assign,Qy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jV=Object.prototype.hasOwnProperty,mt=(t,e)=>jV.call(t,e),Ve=Array.isArray,Jl=t=>df(t)==="[object Map]",Bu=t=>df(t)==="[object Set]",gT=t=>df(t)==="[object Date]",Qe=t=>typeof t=="function",Jt=t=>typeof t=="string",li=t=>typeof t=="symbol",Rt=t=>t!==null&&typeof t=="object",DP=t=>(Rt(t)||Qe(t))&&Qe(t.then)&&Qe(t.catch),kP=Object.prototype.toString,df=t=>kP.call(t),HV=t=>df(t).slice(8,-1),OP=t=>df(t)==="[object Object]",Xy=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zc=Gy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Im=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},zV=/-(\w)/g,ks=Im(t=>t.replace(zV,(e,n)=>n?n.toUpperCase():"")),YV=/\B([A-Z])/g,Ko=Im(t=>t.replace(YV,"-$1").toLowerCase()),Sm=Im(t=>t.charAt(0).toUpperCase()+t.slice(1)),Rd=Im(t=>t?`on${Sm(t)}`:""),ui=(t,e)=>!Object.is(t,e),Cd=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},xP=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},hp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},qV=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let _T;const MP=()=>_T||(_T=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ti(t){if(Ve(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Jt(r)?QV(r):ti(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Jt(t)||Rt(t))return t}const WV=/;(?![^(]*\))/g,GV=/:([^]+)/,KV=/\/\*[^]*?\*\//g;function QV(t){const e={};return t.replace(KV,"").split(WV).forEach(n=>{if(n){const r=n.split(GV);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Pt(t){let e="";if(Jt(t))e=t;else if(Ve(t))for(let n=0;n<t.length;n++){const r=Pt(t[n]);r&&(e+=r+" ")}else if(Rt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Da(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Jt(e)&&(t.class=Pt(e)),n&&(t.style=ti(n)),t}const XV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",JV=Gy(XV);function NP(t){return!!t||t===""}function ZV(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Za(t[r],e[r]);return n}function Za(t,e){if(t===e)return!0;let n=gT(t),r=gT(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=li(t),r=li(e),n||r)return t===e;if(n=Ve(t),r=Ve(e),n||r)return n&&r?ZV(t,e):!1;if(n=Rt(t),r=Rt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Za(t[o],e[o]))return!1}}return String(t)===String(e)}function Jy(t,e){return t.findIndex(n=>Za(n,e))}const LP=t=>!!(t&&t.__v_isRef===!0),It=t=>Jt(t)?t:t==null?"":Ve(t)||Rt(t)&&(t.toString===kP||!Qe(t.toString))?LP(t)?It(t.value):JSON.stringify(t,$P,2):String(t),$P=(t,e)=>LP(e)?$P(t,e.value):Jl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Cg(r,i)+" =>"]=s,n),{})}:Bu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Cg(n))}:li(e)?Cg(e):Rt(e)&&!Ve(e)&&!OP(e)?String(e):e,Cg=(t,e="")=>{var n;return li(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jr;class VP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=jr,!e&&jr&&(this.index=(jr.scopes||(jr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=jr;try{return jr=this,e()}finally{jr=n}}}on(){jr=this}off(){jr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function FP(t){return new VP(t)}function eF(t,e=jr){e&&e.active&&e.effects.push(t)}function Zy(){return jr}function UP(t){jr&&jr.cleanups.push(t)}let ka;class e0{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,eF(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Qo();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(tF(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Xo()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Oo,n=ka;try{return Oo=!0,ka=this,this._runnings++,vT(this),this.fn()}finally{yT(this),this._runnings--,ka=n,Oo=e}}stop(){this.active&&(vT(this),yT(this),this.onStop&&this.onStop(),this.active=!1)}}function tF(t){return t.value}function vT(t){t._trackId++,t._depsLength=0}function yT(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)BP(t.deps[e],t);t.deps.length=t._depsLength}}function BP(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Oo=!0,H_=0;const jP=[];function Qo(){jP.push(Oo),Oo=!1}function Xo(){const t=jP.pop();Oo=t===void 0?!0:t}function t0(){H_++}function n0(){for(H_--;!H_&&z_.length;)z_.shift()()}function HP(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&BP(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const z_=[];function zP(t,e,n){t0();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&z_.push(r.scheduler)))}n0()}const YP=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},fp=new WeakMap,Oa=Symbol(""),Y_=Symbol("");function Lr(t,e,n){if(Oo&&ka){let r=fp.get(t);r||fp.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=YP(()=>r.delete(n))),HP(ka,s)}}function xi(t,e,n,r,s,i){const o=fp.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ve(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!li(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ve(t)?Xy(n)&&a.push(o.get("length")):(a.push(o.get(Oa)),Jl(t)&&a.push(o.get(Y_)));break;case"delete":Ve(t)||(a.push(o.get(Oa)),Jl(t)&&a.push(o.get(Y_)));break;case"set":Jl(t)&&a.push(o.get(Oa));break}t0();for(const l of a)l&&zP(l,4);n0()}function nF(t,e){const n=fp.get(t);return n&&n.get(e)}const rF=Gy("__proto__,__v_isRef,__isVue"),qP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(li)),wT=sF();function sF(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=_t(this);for(let i=0,o=this.length;i<o;i++)Lr(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(_t)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Qo(),t0();const r=_t(this)[e].apply(this,n);return n0(),Xo(),r}}),t}function iF(t){li(t)||(t=String(t));const e=_t(this);return Lr(e,"has",t),e.hasOwnProperty(t)}class WP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?vF:XP:i?QP:KP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ve(e);if(!s){if(o&&mt(wT,n))return Reflect.get(wT,n,r);if(n==="hasOwnProperty")return iF}const a=Reflect.get(e,n,r);return(li(n)?qP.has(n):rF(n))||(s||Lr(e,"get",n),i)?a:jt(a)?o&&Xy(n)?a:a.value:Rt(a)?s?JP(a):br(a):a}}class GP extends WP{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Ph(i);if(!dp(r)&&!Ph(r)&&(i=_t(i),r=_t(r)),!Ve(e)&&jt(i)&&!jt(r))return l?!1:(i.value=r,!0)}const o=Ve(e)&&Xy(n)?Number(n)<e.length:mt(e,n),a=Reflect.set(e,n,r,s);return e===_t(s)&&(o?ui(r,i)&&xi(e,"set",n,r):xi(e,"add",n,r)),a}deleteProperty(e,n){const r=mt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&xi(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!li(n)||!qP.has(n))&&Lr(e,"has",n),r}ownKeys(e){return Lr(e,"iterate",Ve(e)?"length":Oa),Reflect.ownKeys(e)}}class oF extends WP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const aF=new GP,lF=new oF,uF=new GP(!0);const r0=t=>t,Pm=t=>Reflect.getPrototypeOf(t);function Gf(t,e,n=!1,r=!1){t=t.__v_raw;const s=_t(t),i=_t(e);n||(ui(e,i)&&Lr(s,"get",e),Lr(s,"get",i));const{has:o}=Pm(s),a=r?r0:n?o0:Rh;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function Kf(t,e=!1){const n=this.__v_raw,r=_t(n),s=_t(t);return e||(ui(t,s)&&Lr(r,"has",t),Lr(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Qf(t,e=!1){return t=t.__v_raw,!e&&Lr(_t(t),"iterate",Oa),Reflect.get(t,"size",t)}function bT(t){t=_t(t);const e=_t(this);return Pm(e).has.call(e,t)||(e.add(t),xi(e,"add",t,t)),this}function TT(t,e){e=_t(e);const n=_t(this),{has:r,get:s}=Pm(n);let i=r.call(n,t);i||(t=_t(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?ui(e,o)&&xi(n,"set",t,e):xi(n,"add",t,e),this}function ET(t){const e=_t(this),{has:n,get:r}=Pm(e);let s=n.call(e,t);s||(t=_t(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&xi(e,"delete",t,void 0),i}function AT(){const t=_t(this),e=t.size!==0,n=t.clear();return e&&xi(t,"clear",void 0,void 0),n}function Xf(t,e){return function(r,s){const i=this,o=i.__v_raw,a=_t(o),l=e?r0:t?o0:Rh;return!t&&Lr(a,"iterate",Oa),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function Jf(t,e,n){return function(...r){const s=this.__v_raw,i=_t(s),o=Jl(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),c=n?r0:e?o0:Rh;return!e&&Lr(i,"iterate",l?Y_:Oa),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function eo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function cF(){const t={get(i){return Gf(this,i)},get size(){return Qf(this)},has:Kf,add:bT,set:TT,delete:ET,clear:AT,forEach:Xf(!1,!1)},e={get(i){return Gf(this,i,!1,!0)},get size(){return Qf(this)},has:Kf,add:bT,set:TT,delete:ET,clear:AT,forEach:Xf(!1,!0)},n={get(i){return Gf(this,i,!0)},get size(){return Qf(this,!0)},has(i){return Kf.call(this,i,!0)},add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear"),forEach:Xf(!0,!1)},r={get(i){return Gf(this,i,!0,!0)},get size(){return Qf(this,!0)},has(i){return Kf.call(this,i,!0)},add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear"),forEach:Xf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Jf(i,!1,!1),n[i]=Jf(i,!0,!1),e[i]=Jf(i,!1,!0),r[i]=Jf(i,!0,!0)}),[t,n,e,r]}const[hF,fF,dF,pF]=cF();function s0(t,e){const n=e?t?pF:dF:t?fF:hF;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(mt(n,s)&&s in r?n:r,s,i)}const mF={get:s0(!1,!1)},gF={get:s0(!1,!0)},_F={get:s0(!0,!1)};const KP=new WeakMap,QP=new WeakMap,XP=new WeakMap,vF=new WeakMap;function yF(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wF(t){return t.__v_skip||!Object.isExtensible(t)?0:yF(HV(t))}function br(t){return Ph(t)?t:i0(t,!1,aF,mF,KP)}function Hl(t){return i0(t,!1,uF,gF,QP)}function JP(t){return i0(t,!0,lF,_F,XP)}function i0(t,e,n,r,s){if(!Rt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=wF(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function xa(t){return Ph(t)?xa(t.__v_raw):!!(t&&t.__v_isReactive)}function Ph(t){return!!(t&&t.__v_isReadonly)}function dp(t){return!!(t&&t.__v_isShallow)}function ZP(t){return t?!!t.__v_raw:!1}function _t(t){const e=t&&t.__v_raw;return e?_t(e):t}function Ma(t){return Object.isExtensible(t)&&xP(t,"__v_skip",!0),t}const Rh=t=>Rt(t)?br(t):t,o0=t=>Rt(t)?JP(t):t;class eR{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new e0(()=>e(this._value),()=>Yc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=_t(this);return(!e._cacheable||e.effect.dirty)&&ui(e._value,e._value=e.effect.run())&&Yc(e,4),a0(e),e.effect._dirtyLevel>=2&&Yc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function bF(t,e,n=!1){let r,s;const i=Qe(t);return i?(r=t,s=us):(r=t.get,s=t.set),new eR(r,s,i||!s,n)}function a0(t){var e;Oo&&ka&&(t=_t(t),HP(ka,(e=t.dep)!=null?e:t.dep=YP(()=>t.dep=void 0,t instanceof eR?t:void 0)))}function Yc(t,e=4,n,r){t=_t(t);const s=t.dep;s&&zP(s,e)}function jt(t){return!!(t&&t.__v_isRef===!0)}function ke(t){return tR(t,!1)}function TF(t){return tR(t,!0)}function tR(t,e){return jt(t)?t:new EF(t,e)}class EF{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:_t(e),this._value=n?e:Rh(e)}get value(){return a0(this),this._value}set value(e){const n=this.__v_isShallow||dp(e)||Ph(e);e=n?e:_t(e),ui(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:Rh(e),Yc(this,4))}}function K(t){return jt(t)?t.value:t}const AF={get:(t,e,n)=>K(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return jt(s)&&!jt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function nR(t){return xa(t)?t:new Proxy(t,AF)}class IF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>a0(this),()=>Yc(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function SF(t){return new IF(t)}function rR(t){const e=Ve(t)?new Array(t.length):{};for(const n in t)e[n]=sR(t,n);return e}class PF{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return nF(_t(this._object),this._key)}}class RF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Na(t,e,n){return jt(t)?t:Qe(t)?new RF(t):Rt(t)&&arguments.length>1?sR(t,e,n):ke(t)}function sR(t,e,n){const r=t[e];return jt(r)?r:new PF(t,e,n)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xo(t,e,n,r){try{return r?t(...r):t()}catch(s){Rm(s,e,n)}}function ds(t,e,n,r){if(Qe(t)){const s=xo(t,e,n,r);return s&&DP(s)&&s.catch(i=>{Rm(i,e,n)}),s}if(Ve(t)){const s=[];for(let i=0;i<t.length;i++)s.push(ds(t[i],e,n,r));return s}}function Rm(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Qo(),xo(l,null,10,[t,o,a]),Xo();return}}CF(t,n,s,r)}function CF(t,e,n,r=!0){console.error(t)}let Ch=!1,q_=!1;const nr=[];let zs=0;const Zl=[];let uo=null,wa=0;const iR=Promise.resolve();let l0=null;function wn(t){const e=l0||iR;return t?e.then(this?t.bind(this):t):e}function DF(t){let e=zs+1,n=nr.length;for(;e<n;){const r=e+n>>>1,s=nr[r],i=Dh(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function u0(t){(!nr.length||!nr.includes(t,Ch&&t.allowRecurse?zs+1:zs))&&(t.id==null?nr.push(t):nr.splice(DF(t.id),0,t),oR())}function oR(){!Ch&&!q_&&(q_=!0,l0=iR.then(lR))}function kF(t){const e=nr.indexOf(t);e>zs&&nr.splice(e,1)}function OF(t){Ve(t)?Zl.push(...t):(!uo||!uo.includes(t,t.allowRecurse?wa+1:wa))&&Zl.push(t),oR()}function IT(t,e,n=Ch?zs+1:0){for(;n<nr.length;n++){const r=nr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;nr.splice(n,1),n--,r()}}}function aR(t){if(Zl.length){const e=[...new Set(Zl)].sort((n,r)=>Dh(n)-Dh(r));if(Zl.length=0,uo){uo.push(...e);return}for(uo=e,wa=0;wa<uo.length;wa++){const n=uo[wa];n.active!==!1&&n()}uo=null,wa=0}}const Dh=t=>t.id==null?1/0:t.id,xF=(t,e)=>{const n=Dh(t)-Dh(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function lR(t){q_=!1,Ch=!0,nr.sort(xF);try{for(zs=0;zs<nr.length;zs++){const e=nr[zs];e&&e.active!==!1&&xo(e,null,14)}}finally{zs=0,nr.length=0,aR(),Ch=!1,l0=null,(nr.length||Zl.length)&&lR()}}function MF(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Nt;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=r[c]||Nt;d&&(s=n.map(p=>Jt(p)?p.trim():p)),f&&(s=n.map(hp))}let a,l=r[a=Rd(e)]||r[a=Rd(ks(e))];!l&&i&&(l=r[a=Rd(Ko(e))]),l&&ds(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ds(u,t,6,s)}}function uR(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Qe(t)){const l=u=>{const c=uR(u,e,!0);c&&(a=!0,dn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Rt(t)&&r.set(t,null),null):(Ve(i)?i.forEach(l=>o[l]=null):dn(o,i),Rt(t)&&r.set(t,o),o)}function Cm(t,e){return!t||!Am(e)?!1:(e=e.slice(2).replace(/Once$/,""),mt(t,e[0].toLowerCase()+e.slice(1))||mt(t,Ko(e))||mt(t,e))}let Sn=null,Dm=null;function pp(t){const e=Sn;return Sn=t,Dm=t&&t.type.__scopeId||null,e}function pf(t){Dm=t}function mf(){Dm=null}function gt(t,e=Sn,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&FT(-1);const i=pp(e);let o;try{o=t(...s)}finally{pp(i),r._d&&FT(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Dg(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:d,setupState:p,ctx:g,inheritAttrs:_}=t,A=pp(t);let S,M;try{if(n.shapeFlag&4){const O=s||r,x=O;S=Hs(u.call(x,O,c,f,p,d,g)),M=a}else{const O=e;S=Hs(O.length>1?O(f,{attrs:a,slots:o,emit:l}):O(f,null)),M=e.props?a:NF(a)}}catch(O){Qc.length=0,Rm(O,t,1),S=ye(Pr)}let k=S;if(M&&_!==!1){const O=Object.keys(M),{shapeFlag:x}=k;O.length&&x&7&&(i&&O.some(Ky)&&(M=LF(M,i)),k=Bo(k,M,!1,!0))}return n.dirs&&(k=Bo(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),S=k,pp(A),S}const NF=t=>{let e;for(const n in t)(n==="class"||n==="style"||Am(n))&&((e||(e={}))[n]=t[n]);return e},LF=(t,e)=>{const n={};for(const r in t)(!Ky(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function $F(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ST(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!Cm(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ST(r,o,u):!0:!!o;return!1}function ST(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Cm(n,i))return!0}return!1}function VF({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const c0="components",FF="directives";function is(t,e){return h0(c0,t,!0,e)||t}const cR=Symbol.for("v-ndc");function qc(t){return Jt(t)?h0(c0,t,!1)||t:t||cR}function UF(t){return h0(FF,t)}function h0(t,e,n=!0,r=!1){const s=Sn||Mn;if(s){const i=s.type;if(t===c0){const a=FU(i,!1);if(a&&(a===e||a===ks(e)||a===Sm(ks(e))))return i}const o=PT(s[t]||i[t],e)||PT(s.appContext[t],e);return!o&&r?i:o}}function PT(t,e){return t&&(t[e]||t[ks(e)]||t[Sm(ks(e))])}const BF=t=>t.__isSuspense;function jF(t,e){e&&e.pendingBranch?Ve(t)?e.effects.push(...t):e.effects.push(t):OF(t)}function km(t,e,n=Mn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Qo();const a=_f(n),l=ds(e,n,t,o);return a(),Xo(),l});return r?s.unshift(i):s.push(i),i}}const Wi=t=>(e,n=Mn)=>{(!Nm||t==="sp")&&km(t,(...r)=>e(...r),n)},HF=Wi("bm"),Vr=Wi("m"),zF=Wi("bu"),YF=Wi("u"),gf=Wi("bum"),Jo=Wi("um"),qF=Wi("sp"),WF=Wi("rtg"),GF=Wi("rtc");function KF(t,e=Mn){km("ec",t,e)}function Sr(t,e){if(Sn===null)return t;const n=Lm(Sn),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Nt]=e[s];i&&(Qe(i)&&(i={mounted:i,updated:i}),i.deep&&mo(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function la(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Qo(),ds(l,n,8,[t.el,a,t,e]),Xo())}}function Nn(t,e,n,r){let s;const i=n;if(Ve(t)||Jt(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i)}else if(Rt(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=e(t[u],u,a,i)}}else s=[];return s}function QF(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Ve(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function zt(t,e){return Qe(t)?dn({name:t.name},e,{setup:t}):t}const Wc=t=>!!t.type.__asyncLoader;function rn(t,e,n={},r,s){if(Sn.isCE||Sn.parent&&Wc(Sn.parent)&&Sn.parent.isCE)return e!=="default"&&(n.name=e),ye("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),oe();const o=i&&hR(i(n)),a=ot(ft,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function hR(t){return t.some(e=>vp(e)?!(e.type===Pr||e.type===ft&&!hR(e.children)):!0)?t:null}function W_(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Rd(r)]=t[r];return n}const G_=t=>t?xR(t)?Lm(t):G_(t.parent):null,Gc=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>G_(t.parent),$root:t=>G_(t.root),$emit:t=>t.emit,$options:t=>f0(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,u0(t.update)}),$nextTick:t=>t.n||(t.n=wn.bind(t.proxy)),$watch:t=>wU.bind(t)}),kg=(t,e)=>t!==Nt&&!t.__isScriptSetup&&mt(t,e),XF={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(kg(r,e))return o[e]=1,r[e];if(s!==Nt&&mt(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&mt(u,e))return o[e]=3,i[e];if(n!==Nt&&mt(n,e))return o[e]=4,n[e];K_&&(o[e]=0)}}const c=Gc[e];let f,d;if(c)return e==="$attrs"&&Lr(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Nt&&mt(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,mt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return kg(s,e)?(s[e]=n,!0):r!==Nt&&mt(r,e)?(r[e]=n,!0):mt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Nt&&mt(t,o)||kg(e,o)||(a=i[0])&&mt(a,o)||mt(r,o)||mt(Gc,o)||mt(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:mt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function JF(){return ZF().attrs}function ZF(){const t=ml();return t.setupContext||(t.setupContext=NR(t))}function mp(t){return Ve(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function fR(t,e){return!t||!e?t||e:Ve(t)&&Ve(e)?t.concat(e):dn({},mp(t),mp(e))}let K_=!0;function eU(t){const e=f0(t),n=t.proxy,r=t.ctx;K_=!1,e.beforeCreate&&RT(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:g,activated:_,deactivated:A,beforeDestroy:S,beforeUnmount:M,destroyed:k,unmounted:O,render:x,renderTracked:N,renderTriggered:T,errorCaptured:b,serverPrefetch:w,expose:I,inheritAttrs:P,components:y,directives:E,filters:B}=e;if(u&&tU(u,r,null),o)for(const j in o){const H=o[j];Qe(H)&&(r[j]=H.bind(n))}if(s){const j=s.call(n,n);Rt(j)&&(t.data=br(j))}if(K_=!0,i)for(const j in i){const H=i[j],ee=Qe(H)?H.bind(n,n):Qe(H.get)?H.get.bind(n,n):us,R=!Qe(H)&&Qe(H.set)?H.set.bind(n):us,ce=Q({get:ee,set:R});Object.defineProperty(r,j,{enumerable:!0,configurable:!0,get:()=>ce.value,set:te=>ce.value=te})}if(a)for(const j in a)dR(a[j],r,n,j);if(l){const j=Qe(l)?l.call(n):l;Reflect.ownKeys(j).forEach(H=>{Mi(H,j[H])})}c&&RT(c,t,"c");function F(j,H){Ve(H)?H.forEach(ee=>j(ee.bind(n))):H&&j(H.bind(n))}if(F(HF,f),F(Vr,d),F(zF,p),F(YF,g),F(bU,_),F(TU,A),F(KF,b),F(GF,N),F(WF,T),F(gf,M),F(Jo,O),F(qF,w),Ve(I))if(I.length){const j=t.exposed||(t.exposed={});I.forEach(H=>{Object.defineProperty(j,H,{get:()=>n[H],set:ee=>n[H]=ee})})}else t.exposed||(t.exposed={});x&&t.render===us&&(t.render=x),P!=null&&(t.inheritAttrs=P),y&&(t.components=y),E&&(t.directives=E)}function tU(t,e,n=us){Ve(t)&&(t=Q_(t));for(const r in t){const s=t[r];let i;Rt(s)?"default"in s?i=Ln(s.from||r,s.default,!0):i=Ln(s.from||r):i=Ln(s),jt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function RT(t,e,n){ds(Ve(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function dR(t,e,n,r){const s=r.includes(".")?AR(n,r):()=>n[r];if(Jt(t)){const i=e[t];Qe(i)&&at(s,i)}else if(Qe(t))at(s,t.bind(n));else if(Rt(t))if(Ve(t))t.forEach(i=>dR(i,e,n,r));else{const i=Qe(t.handler)?t.handler.bind(n):e[t.handler];Qe(i)&&at(s,i,t)}}function f0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>gp(l,u,o,!0)),gp(l,e,o)),Rt(e)&&i.set(e,l),l}function gp(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&gp(t,i,n,!0),s&&s.forEach(o=>gp(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=nU[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nU={data:CT,props:DT,emits:DT,methods:Rc,computed:Rc,beforeCreate:hr,created:hr,beforeMount:hr,mounted:hr,beforeUpdate:hr,updated:hr,beforeDestroy:hr,beforeUnmount:hr,destroyed:hr,unmounted:hr,activated:hr,deactivated:hr,errorCaptured:hr,serverPrefetch:hr,components:Rc,directives:Rc,watch:sU,provide:CT,inject:rU};function CT(t,e){return e?t?function(){return dn(Qe(t)?t.call(this,this):t,Qe(e)?e.call(this,this):e)}:e:t}function rU(t,e){return Rc(Q_(t),Q_(e))}function Q_(t){if(Ve(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hr(t,e){return t?[...new Set([].concat(t,e))]:e}function Rc(t,e){return t?dn(Object.create(null),t,e):e}function DT(t,e){return t?Ve(t)&&Ve(e)?[...new Set([...t,...e])]:dn(Object.create(null),mp(t),mp(e??{})):e}function sU(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const r in e)n[r]=hr(t[r],e[r]);return n}function pR(){return{app:null,config:{isNativeTag:BV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iU=0;function oU(t,e){return function(r,s=null){Qe(r)||(r=dn({},r)),s!=null&&!Rt(s)&&(s=null);const i=pR(),o=new WeakSet;let a=!1;const l=i.app={_uid:iU++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:BU,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&Qe(u.install)?(o.add(u),u.install(l,...c)):Qe(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!a){const d=ye(r,s);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&e?e(d,u):t(d,u,f),a=!0,l._container=u,u.__vue_app__=l,Lm(d.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=eu;eu=l;try{return u()}finally{eu=c}}};return l}}let eu=null;function Mi(t,e){if(Mn){let n=Mn.provides;const r=Mn.parent&&Mn.parent.provides;r===n&&(n=Mn.provides=Object.create(r)),n[t]=e}}function Ln(t,e,n=!1){const r=Mn||Sn;if(r||eu){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:eu._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Qe(e)?e.call(r&&r.proxy):e}}function aU(){return!!(Mn||Sn||eu)}const mR={},gR=()=>Object.create(mR),_R=t=>Object.getPrototypeOf(t)===mR;function lU(t,e,n,r=!1){const s={},i=gR();t.propsDefaults=Object.create(null),vR(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Hl(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function uU(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=_t(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Cm(t.emitsOptions,d))continue;const p=e[d];if(l)if(mt(i,d))p!==i[d]&&(i[d]=p,u=!0);else{const g=ks(d);s[g]=X_(l,a,g,p,t,!1)}else p!==i[d]&&(i[d]=p,u=!0)}}}else{vR(t,e,s,i)&&(u=!0);let c;for(const f in a)(!e||!mt(e,f)&&((c=Ko(f))===f||!mt(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(s[f]=X_(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!mt(e,f))&&(delete i[f],u=!0)}u&&xi(t.attrs,"set","")}function vR(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(zc(l))continue;const u=e[l];let c;s&&mt(s,c=ks(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Cm(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=_t(n),u=a||Nt;for(let c=0;c<i.length;c++){const f=i[c];n[f]=X_(s,l,f,u[f],t,!mt(u,f))}}return o}function X_(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=mt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Qe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const c=_f(s);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ko(n))&&(r=!0))}return r}function yR(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!Qe(t)){const c=f=>{l=!0;const[d,p]=yR(f,e,!0);dn(o,d),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Rt(t)&&r.set(t,Xl),Xl;if(Ve(i))for(let c=0;c<i.length;c++){const f=ks(i[c]);kT(f)&&(o[f]=Nt)}else if(i)for(const c in i){const f=ks(c);if(kT(f)){const d=i[c],p=o[f]=Ve(d)||Qe(d)?{type:d}:dn({},d);if(p){const g=MT(Boolean,p.type),_=MT(String,p.type);p[0]=g>-1,p[1]=_<0||g<_,(g>-1||mt(p,"default"))&&a.push(f)}}}const u=[o,a];return Rt(t)&&r.set(t,u),u}function kT(t){return t[0]!=="$"&&!zc(t)}function OT(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function xT(t,e){return OT(t)===OT(e)}function MT(t,e){return Ve(e)?e.findIndex(n=>xT(n,t)):Qe(e)&&xT(e,t)?0:-1}const wR=t=>t[0]==="_"||t==="$stable",d0=t=>Ve(t)?t.map(Hs):[Hs(t)],cU=(t,e,n)=>{if(e._n)return e;const r=gt((...s)=>d0(e(...s)),n);return r._c=!1,r},bR=(t,e,n)=>{const r=t._ctx;for(const s in t){if(wR(s))continue;const i=t[s];if(Qe(i))e[s]=cU(s,i,r);else if(i!=null){const o=d0(i);e[s]=()=>o}}},TR=(t,e)=>{const n=d0(e);t.slots.default=()=>n},hU=(t,e)=>{const n=t.slots=gR();if(t.vnode.shapeFlag&32){const r=e._;r?(dn(n,e),xP(n,"_",r,!0)):bR(e,n)}else e&&TR(t,e)},fU=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Nt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(dn(s,e),!n&&a===1&&delete s._):(i=!e.$stable,bR(e,s)),o=e}else e&&(TR(t,e),o={default:1});if(i)for(const a in s)!wR(a)&&o[a]==null&&delete s[a]};function J_(t,e,n,r,s=!1){if(Ve(t)){t.forEach((d,p)=>J_(d,e&&(Ve(e)?e[p]:e),n,r,s));return}if(Wc(r)&&!s)return;const i=r.shapeFlag&4?Lm(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Nt?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(Jt(u)?(c[u]=null,mt(f,u)&&(f[u]=null)):jt(u)&&(u.value=null)),Qe(l))xo(l,a,12,[o,c]);else{const d=Jt(l),p=jt(l);if(d||p){const g=()=>{if(t.f){const _=d?mt(f,l)?f[l]:c[l]:l.value;s?Ve(_)&&Qy(_,i):Ve(_)?_.includes(i)||_.push(i):d?(c[l]=[i],mt(f,l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else d?(c[l]=o,mt(f,l)&&(f[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};o?(g.id=-1,Er(g,n)):g()}}}const Er=jF;function dU(t){return pU(t)}function pU(t,e){const n=MP();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=us,insertStaticContent:g}=t,_=(D,L,Y,X=null,$=null,he=null,de=void 0,ue=null,ae=!!L.dynamicChildren)=>{if(D===L)return;D&&!ba(D,L)&&(X=z(D),te(D,$,he,!0),D=null),L.patchFlag===-2&&(ae=!1,L.dynamicChildren=null);const{type:se,ref:_e,shapeFlag:Re}=L;switch(se){case Mm:A(D,L,Y,X);break;case Pr:S(D,L,Y,X);break;case Mg:D==null&&M(L,Y,X,de);break;case ft:y(D,L,Y,X,$,he,de,ue,ae);break;default:Re&1?x(D,L,Y,X,$,he,de,ue,ae):Re&6?E(D,L,Y,X,$,he,de,ue,ae):(Re&64||Re&128)&&se.process(D,L,Y,X,$,he,de,ue,ae,ne)}_e!=null&&$&&J_(_e,D&&D.ref,he,L||D,!L)},A=(D,L,Y,X)=>{if(D==null)r(L.el=a(L.children),Y,X);else{const $=L.el=D.el;L.children!==D.children&&u($,L.children)}},S=(D,L,Y,X)=>{D==null?r(L.el=l(L.children||""),Y,X):L.el=D.el},M=(D,L,Y,X)=>{[D.el,D.anchor]=g(D.children,L,Y,X,D.el,D.anchor)},k=({el:D,anchor:L},Y,X)=>{let $;for(;D&&D!==L;)$=d(D),r(D,Y,X),D=$;r(L,Y,X)},O=({el:D,anchor:L})=>{let Y;for(;D&&D!==L;)Y=d(D),s(D),D=Y;s(L)},x=(D,L,Y,X,$,he,de,ue,ae)=>{L.type==="svg"?de="svg":L.type==="math"&&(de="mathml"),D==null?N(L,Y,X,$,he,de,ue,ae):w(D,L,$,he,de,ue,ae)},N=(D,L,Y,X,$,he,de,ue)=>{let ae,se;const{props:_e,shapeFlag:Re,transition:we,dirs:Ie}=D;if(ae=D.el=o(D.type,he,_e&&_e.is,_e),Re&8?c(ae,D.children):Re&16&&b(D.children,ae,null,X,$,Og(D,he),de,ue),Ie&&la(D,null,X,"created"),T(ae,D,D.scopeId,de,X),_e){for(const Ye in _e)Ye!=="value"&&!zc(Ye)&&i(ae,Ye,null,_e[Ye],he,D.children,X,$,Oe);"value"in _e&&i(ae,"value",null,_e.value,he),(se=_e.onVnodeBeforeMount)&&Us(se,X,D)}Ie&&la(D,null,X,"beforeMount");const Te=mU($,we);Te&&we.beforeEnter(ae),r(ae,L,Y),((se=_e&&_e.onVnodeMounted)||Te||Ie)&&Er(()=>{se&&Us(se,X,D),Te&&we.enter(ae),Ie&&la(D,null,X,"mounted")},$)},T=(D,L,Y,X,$)=>{if(Y&&p(D,Y),X)for(let he=0;he<X.length;he++)p(D,X[he]);if($){let he=$.subTree;if(L===he){const de=$.vnode;T(D,de,de.scopeId,de.slotScopeIds,$.parent)}}},b=(D,L,Y,X,$,he,de,ue,ae=0)=>{for(let se=ae;se<D.length;se++){const _e=D[se]=ue?ho(D[se]):Hs(D[se]);_(null,_e,L,Y,X,$,he,de,ue)}},w=(D,L,Y,X,$,he,de)=>{const ue=L.el=D.el;let{patchFlag:ae,dynamicChildren:se,dirs:_e}=L;ae|=D.patchFlag&16;const Re=D.props||Nt,we=L.props||Nt;let Ie;if(Y&&ua(Y,!1),(Ie=we.onVnodeBeforeUpdate)&&Us(Ie,Y,L,D),_e&&la(L,D,Y,"beforeUpdate"),Y&&ua(Y,!0),se?I(D.dynamicChildren,se,ue,Y,X,Og(L,$),he):de||H(D,L,ue,null,Y,X,Og(L,$),he,!1),ae>0){if(ae&16)P(ue,L,Re,we,Y,X,$);else if(ae&2&&Re.class!==we.class&&i(ue,"class",null,we.class,$),ae&4&&i(ue,"style",Re.style,we.style,$),ae&8){const Te=L.dynamicProps;for(let Ye=0;Ye<Te.length;Ye++){const ze=Te[Ye],st=Re[ze],qt=we[ze];(qt!==st||ze==="value")&&i(ue,ze,st,qt,$,D.children,Y,X,Oe)}}ae&1&&D.children!==L.children&&c(ue,L.children)}else!de&&se==null&&P(ue,L,Re,we,Y,X,$);((Ie=we.onVnodeUpdated)||_e)&&Er(()=>{Ie&&Us(Ie,Y,L,D),_e&&la(L,D,Y,"updated")},X)},I=(D,L,Y,X,$,he,de)=>{for(let ue=0;ue<L.length;ue++){const ae=D[ue],se=L[ue],_e=ae.el&&(ae.type===ft||!ba(ae,se)||ae.shapeFlag&70)?f(ae.el):Y;_(ae,se,_e,null,X,$,he,de,!0)}},P=(D,L,Y,X,$,he,de)=>{if(Y!==X){if(Y!==Nt)for(const ue in Y)!zc(ue)&&!(ue in X)&&i(D,ue,Y[ue],null,de,L.children,$,he,Oe);for(const ue in X){if(zc(ue))continue;const ae=X[ue],se=Y[ue];ae!==se&&ue!=="value"&&i(D,ue,se,ae,de,L.children,$,he,Oe)}"value"in X&&i(D,"value",Y.value,X.value,de)}},y=(D,L,Y,X,$,he,de,ue,ae)=>{const se=L.el=D?D.el:a(""),_e=L.anchor=D?D.anchor:a("");let{patchFlag:Re,dynamicChildren:we,slotScopeIds:Ie}=L;Ie&&(ue=ue?ue.concat(Ie):Ie),D==null?(r(se,Y,X),r(_e,Y,X),b(L.children||[],Y,_e,$,he,de,ue,ae)):Re>0&&Re&64&&we&&D.dynamicChildren?(I(D.dynamicChildren,we,Y,$,he,de,ue),(L.key!=null||$&&L===$.subTree)&&p0(D,L,!0)):H(D,L,Y,_e,$,he,de,ue,ae)},E=(D,L,Y,X,$,he,de,ue,ae)=>{L.slotScopeIds=ue,D==null?L.shapeFlag&512?$.ctx.activate(L,Y,X,de,ae):B(L,Y,X,$,he,de,ae):U(D,L,ae)},B=(D,L,Y,X,$,he,de)=>{const ue=D.component=NU(D,X,$);if(xm(D)&&(ue.ctx.renderer=ne),LU(ue),ue.asyncDep){if($&&$.registerDep(ue,F,de),!D.el){const ae=ue.subTree=ye(Pr);S(null,ae,L,Y)}}else F(ue,D,L,Y,$,he,de)},U=(D,L,Y)=>{const X=L.component=D.component;if($F(D,L,Y))if(X.asyncDep&&!X.asyncResolved){j(X,L,Y);return}else X.next=L,kF(X.update),X.effect.dirty=!0,X.update();else L.el=D.el,X.vnode=L},F=(D,L,Y,X,$,he,de)=>{const ue=()=>{if(D.isMounted){let{next:_e,bu:Re,u:we,parent:Ie,vnode:Te}=D;{const tt=ER(D);if(tt){_e&&(_e.el=Te.el,j(D,_e,de)),tt.asyncDep.then(()=>{D.isUnmounted||ue()});return}}let Ye=_e,ze;ua(D,!1),_e?(_e.el=Te.el,j(D,_e,de)):_e=Te,Re&&Cd(Re),(ze=_e.props&&_e.props.onVnodeBeforeUpdate)&&Us(ze,Ie,_e,Te),ua(D,!0);const st=Dg(D),qt=D.subTree;D.subTree=st,_(qt,st,f(qt.el),z(qt),D,$,he),_e.el=st.el,Ye===null&&VF(D,st.el),we&&Er(we,$),(ze=_e.props&&_e.props.onVnodeUpdated)&&Er(()=>Us(ze,Ie,_e,Te),$)}else{let _e;const{el:Re,props:we}=L,{bm:Ie,m:Te,parent:Ye}=D,ze=Wc(L);if(ua(D,!1),Ie&&Cd(Ie),!ze&&(_e=we&&we.onVnodeBeforeMount)&&Us(_e,Ye,L),ua(D,!0),Re&&Ce){const st=()=>{D.subTree=Dg(D),Ce(Re,D.subTree,D,$,null)};ze?L.type.__asyncLoader().then(()=>!D.isUnmounted&&st()):st()}else{const st=D.subTree=Dg(D);_(null,st,Y,X,D,$,he),L.el=st.el}if(Te&&Er(Te,$),!ze&&(_e=we&&we.onVnodeMounted)){const st=L;Er(()=>Us(_e,Ye,st),$)}(L.shapeFlag&256||Ye&&Wc(Ye.vnode)&&Ye.vnode.shapeFlag&256)&&D.a&&Er(D.a,$),D.isMounted=!0,L=Y=X=null}},ae=D.effect=new e0(ue,us,()=>u0(se),D.scope),se=D.update=()=>{ae.dirty&&ae.run()};se.id=D.uid,ua(D,!0),se()},j=(D,L,Y)=>{L.component=D;const X=D.vnode.props;D.vnode=L,D.next=null,uU(D,L.props,X,Y),fU(D,L.children,Y),Qo(),IT(D),Xo()},H=(D,L,Y,X,$,he,de,ue,ae=!1)=>{const se=D&&D.children,_e=D?D.shapeFlag:0,Re=L.children,{patchFlag:we,shapeFlag:Ie}=L;if(we>0){if(we&128){R(se,Re,Y,X,$,he,de,ue,ae);return}else if(we&256){ee(se,Re,Y,X,$,he,de,ue,ae);return}}Ie&8?(_e&16&&Oe(se,$,he),Re!==se&&c(Y,Re)):_e&16?Ie&16?R(se,Re,Y,X,$,he,de,ue,ae):Oe(se,$,he,!0):(_e&8&&c(Y,""),Ie&16&&b(Re,Y,X,$,he,de,ue,ae))},ee=(D,L,Y,X,$,he,de,ue,ae)=>{D=D||Xl,L=L||Xl;const se=D.length,_e=L.length,Re=Math.min(se,_e);let we;for(we=0;we<Re;we++){const Ie=L[we]=ae?ho(L[we]):Hs(L[we]);_(D[we],Ie,Y,null,$,he,de,ue,ae)}se>_e?Oe(D,$,he,!0,!1,Re):b(L,Y,X,$,he,de,ue,ae,Re)},R=(D,L,Y,X,$,he,de,ue,ae)=>{let se=0;const _e=L.length;let Re=D.length-1,we=_e-1;for(;se<=Re&&se<=we;){const Ie=D[se],Te=L[se]=ae?ho(L[se]):Hs(L[se]);if(ba(Ie,Te))_(Ie,Te,Y,null,$,he,de,ue,ae);else break;se++}for(;se<=Re&&se<=we;){const Ie=D[Re],Te=L[we]=ae?ho(L[we]):Hs(L[we]);if(ba(Ie,Te))_(Ie,Te,Y,null,$,he,de,ue,ae);else break;Re--,we--}if(se>Re){if(se<=we){const Ie=we+1,Te=Ie<_e?L[Ie].el:X;for(;se<=we;)_(null,L[se]=ae?ho(L[se]):Hs(L[se]),Y,Te,$,he,de,ue,ae),se++}}else if(se>we)for(;se<=Re;)te(D[se],$,he,!0),se++;else{const Ie=se,Te=se,Ye=new Map;for(se=Te;se<=we;se++){const Ct=L[se]=ae?ho(L[se]):Hs(L[se]);Ct.key!=null&&Ye.set(Ct.key,se)}let ze,st=0;const qt=we-Te+1;let tt=!1,lr=0;const on=new Array(qt);for(se=0;se<qt;se++)on[se]=0;for(se=Ie;se<=Re;se++){const Ct=D[se];if(st>=qt){te(Ct,$,he,!0);continue}let re;if(Ct.key!=null)re=Ye.get(Ct.key);else for(ze=Te;ze<=we;ze++)if(on[ze-Te]===0&&ba(Ct,L[ze])){re=ze;break}re===void 0?te(Ct,$,he,!0):(on[re-Te]=se+1,re>=lr?lr=re:tt=!0,_(Ct,L[re],Y,null,$,he,de,ue,ae),st++)}const Rn=tt?gU(on):Xl;for(ze=Rn.length-1,se=qt-1;se>=0;se--){const Ct=Te+se,re=L[Ct],V=Ct+1<_e?L[Ct+1].el:X;on[se]===0?_(null,re,Y,V,$,he,de,ue,ae):tt&&(ze<0||se!==Rn[ze]?ce(re,Y,V,2):ze--)}}},ce=(D,L,Y,X,$=null)=>{const{el:he,type:de,transition:ue,children:ae,shapeFlag:se}=D;if(se&6){ce(D.component.subTree,L,Y,X);return}if(se&128){D.suspense.move(L,Y,X);return}if(se&64){de.move(D,L,Y,ne);return}if(de===ft){r(he,L,Y);for(let Re=0;Re<ae.length;Re++)ce(ae[Re],L,Y,X);r(D.anchor,L,Y);return}if(de===Mg){k(D,L,Y);return}if(X!==2&&se&1&&ue)if(X===0)ue.beforeEnter(he),r(he,L,Y),Er(()=>ue.enter(he),$);else{const{leave:Re,delayLeave:we,afterLeave:Ie}=ue,Te=()=>r(he,L,Y),Ye=()=>{Re(he,()=>{Te(),Ie&&Ie()})};we?we(he,Te,Ye):Ye()}else r(he,L,Y)},te=(D,L,Y,X=!1,$=!1)=>{const{type:he,props:de,ref:ue,children:ae,dynamicChildren:se,shapeFlag:_e,patchFlag:Re,dirs:we,memoIndex:Ie}=D;if(Re===-2&&($=!1),ue!=null&&J_(ue,null,Y,D,!0),Ie!=null&&(L.renderCache[Ie]=void 0),_e&256){L.ctx.deactivate(D);return}const Te=_e&1&&we,Ye=!Wc(D);let ze;if(Ye&&(ze=de&&de.onVnodeBeforeUnmount)&&Us(ze,L,D),_e&6)De(D.component,Y,X);else{if(_e&128){D.suspense.unmount(Y,X);return}Te&&la(D,null,L,"beforeUnmount"),_e&64?D.type.remove(D,L,Y,ne,X):se&&(he!==ft||Re>0&&Re&64)?Oe(se,L,Y,!1,!0):(he===ft&&Re&384||!$&&_e&16)&&Oe(ae,L,Y),X&&ve(D)}(Ye&&(ze=de&&de.onVnodeUnmounted)||Te)&&Er(()=>{ze&&Us(ze,L,D),Te&&la(D,null,L,"unmounted")},Y)},ve=D=>{const{type:L,el:Y,anchor:X,transition:$}=D;if(L===ft){ge(Y,X);return}if(L===Mg){O(D);return}const he=()=>{s(Y),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(D.shapeFlag&1&&$&&!$.persisted){const{leave:de,delayLeave:ue}=$,ae=()=>de(Y,he);ue?ue(D.el,he,ae):ae()}else he()},ge=(D,L)=>{let Y;for(;D!==L;)Y=d(D),s(D),D=Y;s(L)},De=(D,L,Y)=>{const{bum:X,scope:$,update:he,subTree:de,um:ue,m:ae,a:se}=D;NT(ae),NT(se),X&&Cd(X),$.stop(),he&&(he.active=!1,te(de,D,L,Y)),ue&&Er(ue,L),Er(()=>{D.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},Oe=(D,L,Y,X=!1,$=!1,he=0)=>{for(let de=he;de<D.length;de++)te(D[de],L,Y,X,$)},z=D=>D.shapeFlag&6?z(D.component.subTree):D.shapeFlag&128?D.suspense.next():d(D.anchor||D.el);let le=!1;const W=(D,L,Y)=>{D==null?L._vnode&&te(L._vnode,null,null,!0):_(L._vnode||null,D,L,null,null,null,Y),le||(le=!0,IT(),aR(),le=!1),L._vnode=D},ne={p:_,um:te,m:ce,r:ve,mt:B,mc:b,pc:H,pbc:I,n:z,o:t};let me,Ce;return{render:W,hydrate:me,createApp:oU(W,me)}}function Og({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ua({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function mU(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function p0(t,e,n=!1){const r=t.children,s=e.children;if(Ve(r)&&Ve(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ho(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&p0(o,a)),a.type===Mm&&(a.el=o.el)}}function gU(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function ER(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ER(e)}function NT(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const _U=Symbol.for("v-scx"),vU=()=>Ln(_U);function m0(t,e){return Om(t,null,e)}function yU(t,e){return Om(t,null,{flush:"sync"})}const Zf={};function at(t,e,n){return Om(t,e,n)}function Om(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=Nt){if(e&&i){const N=e;e=(...T)=>{N(...T),x()}}const l=Mn,u=N=>r===!0?N:mo(N,r===!1?1:void 0);let c,f=!1,d=!1;if(jt(t)?(c=()=>t.value,f=dp(t)):xa(t)?(c=()=>u(t),f=!0):Ve(t)?(d=!0,f=t.some(N=>xa(N)||dp(N)),c=()=>t.map(N=>{if(jt(N))return N.value;if(xa(N))return u(N);if(Qe(N))return xo(N,l,2)})):Qe(t)?e?c=()=>xo(t,l,2):c=()=>(p&&p(),ds(t,l,3,[g])):c=us,e&&r){const N=c;c=()=>mo(N())}let p,g=N=>{p=k.onStop=()=>{xo(N,l,4),p=k.onStop=void 0}},_;if(Nm)if(g=us,e?n&&ds(e,l,3,[c(),d?[]:void 0,g]):c(),s==="sync"){const N=vU();_=N.__watcherHandles||(N.__watcherHandles=[])}else return us;let A=d?new Array(t.length).fill(Zf):Zf;const S=()=>{if(!(!k.active||!k.dirty))if(e){const N=k.run();(r||f||(d?N.some((T,b)=>ui(T,A[b])):ui(N,A)))&&(p&&p(),ds(e,l,3,[N,A===Zf?void 0:d&&A[0]===Zf?[]:A,g]),A=N)}else k.run()};S.allowRecurse=!!e;let M;s==="sync"?M=S:s==="post"?M=()=>Er(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),M=()=>u0(S));const k=new e0(c,us,M),O=Zy(),x=()=>{k.stop(),O&&Qy(O.effects,k)};return e?n?S():A=k.run():s==="post"?Er(k.run.bind(k),l&&l.suspense):k.run(),_&&_.push(x),x}function wU(t,e,n){const r=this.proxy,s=Jt(t)?t.includes(".")?AR(r,t):()=>r[t]:t.bind(r,r);let i;Qe(e)?i=e:(i=e.handler,n=e);const o=_f(this),a=Om(s,i.bind(r),n);return o(),a}function AR(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function mo(t,e=1/0,n){if(e<=0||!Rt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,jt(t))mo(t.value,e,n);else if(Ve(t))for(let r=0;r<t.length;r++)mo(t[r],e,n);else if(Bu(t)||Jl(t))t.forEach(r=>{mo(r,e,n)});else if(OP(t)){for(const r in t)mo(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&mo(t[r],e,n)}return t}const xm=t=>t.type.__isKeepAlive;function bU(t,e){IR(t,"a",e)}function TU(t,e){IR(t,"da",e)}function IR(t,e,n=Mn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(km(e,r,n),n){let s=n.parent;for(;s&&s.parent;)xm(s.parent.vnode)&&EU(r,e,n,s),s=s.parent}}function EU(t,e,n,r){const s=km(e,t,r,!0);Jo(()=>{Qy(r[e],s)},n)}const co=Symbol("_leaveCb"),ed=Symbol("_enterCb");function AU(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vr(()=>{t.isMounted=!0}),gf(()=>{t.isUnmounting=!0}),t}const ns=[Function,Array],SR={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ns,onEnter:ns,onAfterEnter:ns,onEnterCancelled:ns,onBeforeLeave:ns,onLeave:ns,onAfterLeave:ns,onLeaveCancelled:ns,onBeforeAppear:ns,onAppear:ns,onAfterAppear:ns,onAppearCancelled:ns},PR=t=>{const e=t.subTree;return e.component?PR(e.component):e},IU={name:"BaseTransition",props:SR,setup(t,{slots:e}){const n=ml(),r=AU();return()=>{const s=e.default&&CR(e.default(),!0);if(!s||!s.length)return;let i=s[0];if(s.length>1){for(const d of s)if(d.type!==Pr){i=d;break}}const o=_t(t),{mode:a}=o;if(r.isLeaving)return xg(i);const l=LT(i);if(!l)return xg(i);let u=Z_(l,o,r,n,d=>u=d);_p(l,u);const c=n.subTree,f=c&&LT(c);if(f&&f.type!==Pr&&!ba(l,f)&&PR(n).type!==Pr){const d=Z_(f,o,r,n);if(_p(f,d),a==="out-in"&&l.type!==Pr)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},xg(i);a==="in-out"&&l.type!==Pr&&(d.delayLeave=(p,g,_)=>{const A=RR(r,f);A[String(f.key)]=f,p[co]=()=>{g(),p[co]=void 0,delete u.delayedLeave},u.delayedLeave=_})}return i}}},SU=IU;function RR(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Z_(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:_,onBeforeAppear:A,onAppear:S,onAfterAppear:M,onAppearCancelled:k}=e,O=String(t.key),x=RR(n,t),N=(w,I)=>{w&&ds(w,r,9,I)},T=(w,I)=>{const P=I[1];N(w,I),Ve(w)?w.every(y=>y.length<=1)&&P():w.length<=1&&P()},b={mode:o,persisted:a,beforeEnter(w){let I=l;if(!n.isMounted)if(i)I=A||l;else return;w[co]&&w[co](!0);const P=x[O];P&&ba(t,P)&&P.el[co]&&P.el[co](),N(I,[w])},enter(w){let I=u,P=c,y=f;if(!n.isMounted)if(i)I=S||u,P=M||c,y=k||f;else return;let E=!1;const B=w[ed]=U=>{E||(E=!0,U?N(y,[w]):N(P,[w]),b.delayedLeave&&b.delayedLeave(),w[ed]=void 0)};I?T(I,[w,B]):B()},leave(w,I){const P=String(t.key);if(w[ed]&&w[ed](!0),n.isUnmounting)return I();N(d,[w]);let y=!1;const E=w[co]=B=>{y||(y=!0,I(),B?N(_,[w]):N(g,[w]),w[co]=void 0,x[P]===t&&delete x[P])};x[P]=t,p?T(p,[w,E]):E()},clone(w){const I=Z_(w,e,n,r,s);return s&&s(I),I}};return b}function xg(t){if(xm(t))return t=Bo(t),t.children=null,t}function LT(t){if(!xm(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Qe(n.default))return n.default()}}function _p(t,e){t.shapeFlag&6&&t.component?_p(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function CR(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ft?(o.patchFlag&128&&s++,r=r.concat(CR(o.children,e,a))):(e||o.type!==Pr)&&r.push(a!=null?Bo(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}const PU=t=>t.__isTeleport,Kc=t=>t&&(t.disabled||t.disabled===""),$T=t=>typeof SVGElement<"u"&&t instanceof SVGElement,VT=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ev=(t,e)=>{const n=t&&t.to;return Jt(n)?e?e(n):null:n},RU={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:g,createText:_,createComment:A}}=u,S=Kc(e.props);let{shapeFlag:M,children:k,dynamicChildren:O}=e;if(t==null){const x=e.el=_(""),N=e.anchor=_("");p(x,n,r),p(N,n,r);const T=e.target=ev(e.props,g),b=e.targetAnchor=_("");T&&(p(b,T),o==="svg"||$T(T)?o="svg":(o==="mathml"||VT(T))&&(o="mathml"));const w=(I,P)=>{M&16&&c(k,I,P,s,i,o,a,l)};S?w(n,N):T&&w(T,b)}else{e.el=t.el;const x=e.anchor=t.anchor,N=e.target=t.target,T=e.targetAnchor=t.targetAnchor,b=Kc(t.props),w=b?n:N,I=b?x:T;if(o==="svg"||$T(N)?o="svg":(o==="mathml"||VT(N))&&(o="mathml"),O?(d(t.dynamicChildren,O,w,s,i,o,a),p0(t,e,!0)):l||f(t,e,w,I,s,i,o,a,!1),S)b?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):td(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=ev(e.props,g);P&&td(e,P,null,u,0)}else b&&td(e,N,T,u,1)}DR(e)},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetAnchor:u,target:c,props:f}=t;if(c&&s(u),i&&s(l),o&16){const d=i||!Kc(f);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,d,!!g.dynamicChildren)}}},move:td,hydrate:CU};function td(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,f=i===2;if(f&&r(o,e,n),(!f||Kc(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],e,n,2);f&&r(a,e,n)}function CU(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=ev(e.props,l);if(c){const f=c._lpa||c.firstChild;if(e.shapeFlag&16)if(Kc(e.props))e.anchor=u(o(t),e,a(t),n,r,s,i),e.targetAnchor=f;else{e.anchor=o(t);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(f,e,c,n,r,s,i)}DR(e)}return e.anchor&&o(e.anchor)}const DU=RU;function DR(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const ft=Symbol.for("v-fgt"),Mm=Symbol.for("v-txt"),Pr=Symbol.for("v-cmt"),Mg=Symbol.for("v-stc"),Qc=[];let Ps=null;function oe(t=!1){Qc.push(Ps=t?null:[])}function kU(){Qc.pop(),Ps=Qc[Qc.length-1]||null}let kh=1;function FT(t){kh+=t}function kR(t){return t.dynamicChildren=kh>0?Ps||Xl:null,kU(),kh>0&&Ps&&Ps.push(t),t}function Se(t,e,n,r,s,i){return kR(pe(t,e,n,r,s,i,!0))}function ot(t,e,n,r,s){return kR(ye(t,e,n,r,s,!0))}function vp(t){return t?t.__v_isVNode===!0:!1}function ba(t,e){return t.type===e.type&&t.key===e.key}const OR=({key:t})=>t??null,Dd=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||jt(t)||Qe(t)?{i:Sn,r:t,k:e,f:!!n}:t:null);function pe(t,e=null,n=null,r=0,s=null,i=t===ft?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&OR(e),ref:e&&Dd(e),scopeId:Dm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Sn};return a?(g0(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Jt(n)?8:16),kh>0&&!o&&Ps&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ps.push(l),l}const ye=OU;function OU(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===cR)&&(t=Pr),vp(t)){const a=Bo(t,e,!0);return n&&g0(a,n),kh>0&&!i&&Ps&&(a.shapeFlag&6?Ps[Ps.indexOf(t)]=a:Ps.push(a)),a.patchFlag=-2,a}if(UU(t)&&(t=t.__vccOpts),e){e=Oh(e);let{class:a,style:l}=e;a&&!Jt(a)&&(e.class=Pt(a)),Rt(l)&&(ZP(l)&&!Ve(l)&&(l=dn({},l)),e.style=ti(l))}const o=Jt(t)?1:BF(t)?128:PU(t)?64:Rt(t)?4:Qe(t)?2:0;return pe(t,e,n,r,s,o,i,!0)}function Oh(t){return t?ZP(t)||_R(t)?dn({},t):t:null}function Bo(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Kr(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&OR(u),ref:e&&e.ref?n&&i?Ve(i)?i.concat(Dd(e)):[i,Dd(e)]:Dd(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bo(t.ssContent),ssFallback:t.ssFallback&&Bo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_p(c,l.clone(c)),c}function $n(t=" ",e=0){return ye(Mm,null,t,e)}function rt(t="",e=!1){return e?(oe(),ot(Pr,null,t)):ye(Pr,null,t)}function Hs(t){return t==null||typeof t=="boolean"?ye(Pr):Ve(t)?ye(ft,null,t.slice()):typeof t=="object"?ho(t):ye(Mm,null,String(t))}function ho(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bo(t)}function g0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ve(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),g0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!_R(e)?e._ctx=Sn:s===3&&Sn&&(Sn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Qe(e)?(e={default:e,_ctx:Sn},n=32):(e=String(e),r&64?(n=16,e=[$n(e)]):n=8);t.children=e,t.shapeFlag|=n}function Kr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Pt([e.class,r.class]));else if(s==="style")e.style=ti([e.style,r.style]);else if(Am(s)){const i=e[s],o=r[s];o&&i!==o&&!(Ve(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Us(t,e,n,r=null){ds(t,e,7,[n,r])}const xU=pR();let MU=0;function NU(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||xU,i={uid:MU++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new VP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yR(r,s),emitsOptions:uR(r,s),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=MF.bind(null,i),t.ce&&t.ce(i),i}let Mn=null;const ml=()=>Mn||Sn;let yp,tv;{const t=MP(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};yp=e("__VUE_INSTANCE_SETTERS__",n=>Mn=n),tv=e("__VUE_SSR_SETTERS__",n=>Nm=n)}const _f=t=>{const e=Mn;return yp(t),t.scope.on(),()=>{t.scope.off(),yp(e)}},UT=()=>{Mn&&Mn.scope.off(),yp(null)};function xR(t){return t.vnode.shapeFlag&4}let Nm=!1;function LU(t,e=!1){e&&tv(e);const{props:n,children:r}=t.vnode,s=xR(t);lU(t,n,s,e),hU(t,r);const i=s?$U(t,e):void 0;return e&&tv(!1),i}function $U(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,XF);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?NR(t):null,i=_f(t);Qo();const o=xo(r,t,0,[t.props,s]);if(Xo(),i(),DP(o)){if(o.then(UT,UT),e)return o.then(a=>{BT(t,a,e)}).catch(a=>{Rm(a,t,0)});t.asyncDep=o}else BT(t,o,e)}else MR(t,e)}function BT(t,e,n){Qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Rt(e)&&(t.setupState=nR(e)),MR(t,n)}let jT;function MR(t,e,n){const r=t.type;if(!t.render){if(!e&&jT&&!r.render){const s=r.template||f0(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=dn(dn({isCustomElement:i,delimiters:a},o),l);r.render=jT(s,u)}}t.render=r.render||us}{const s=_f(t);Qo();try{eU(t)}finally{Xo(),s()}}}const VU={get(t,e){return Lr(t,"get",""),t[e]}};function NR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,VU),slots:t.slots,emit:t.emit,expose:e}}function Lm(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(nR(Ma(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Gc)return Gc[n](t)},has(e,n){return n in e||n in Gc}})):t.proxy}function FU(t,e=!0){return Qe(t)?t.displayName||t.name:t.name||e&&t.__name}function UU(t){return Qe(t)&&"__vccOpts"in t}const Q=(t,e)=>bF(t,e,Nm);function LR(t,e,n=Nt){const r=ml(),s=ks(e),i=Ko(e),o=SF((l,u)=>{let c;return yU(()=>{const f=t[e];ui(c,f)&&(c=f,u())}),{get(){return l(),n.get?n.get(c):c},set(f){const d=r.vnode.props;!(d&&(e in d||s in d||i in d)&&(`onUpdate:${e}`in d||`onUpdate:${s}`in d||`onUpdate:${i}`in d))&&ui(f,c)&&(c=f,u()),r.emit(`update:${e}`,n.set?n.set(f):f)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function _0(t,e,n){const r=arguments.length;return r===2?Rt(e)&&!Ve(e)?vp(e)?ye(t,null,[e]):ye(t,e):ye(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vp(n)&&(n=[n]),ye(t,e,n))}const BU="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jU="http://www.w3.org/2000/svg",HU="http://www.w3.org/1998/Math/MathML",wi=typeof document<"u"?document:null,HT=wi&&wi.createElement("template"),zU={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?wi.createElementNS(jU,t):e==="mathml"?wi.createElementNS(HU,t):n?wi.createElement(t,{is:n}):wi.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>wi.createTextNode(t),createComment:t=>wi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>wi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{HT.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=HT.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},to="transition",uc="animation",xh=Symbol("_vtc"),jo=(t,{slots:e})=>_0(SU,YU(t),e);jo.displayName="Transition";const $R={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};jo.props=dn({},SR,$R);const ca=(t,e=[])=>{Ve(t)?t.forEach(n=>n(...e)):t&&t(...e)},zT=t=>t?Ve(t)?t.some(e=>e.length>1):t.length>1:!1;function YU(t){const e={};for(const y in t)y in $R||(e[y]=t[y]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=qU(s),_=g&&g[0],A=g&&g[1],{onBeforeEnter:S,onEnter:M,onEnterCancelled:k,onLeave:O,onLeaveCancelled:x,onBeforeAppear:N=S,onAppear:T=M,onAppearCancelled:b=k}=e,w=(y,E,B)=>{ha(y,E?c:a),ha(y,E?u:o),B&&B()},I=(y,E)=>{y._isLeaving=!1,ha(y,f),ha(y,p),ha(y,d),E&&E()},P=y=>(E,B)=>{const U=y?T:M,F=()=>w(E,y,B);ca(U,[E,F]),YT(()=>{ha(E,y?l:i),no(E,y?c:a),zT(U)||qT(E,r,_,F)})};return dn(e,{onBeforeEnter(y){ca(S,[y]),no(y,i),no(y,o)},onBeforeAppear(y){ca(N,[y]),no(y,l),no(y,u)},onEnter:P(!1),onAppear:P(!0),onLeave(y,E){y._isLeaving=!0;const B=()=>I(y,E);no(y,f),no(y,d),KU(),YT(()=>{y._isLeaving&&(ha(y,f),no(y,p),zT(O)||qT(y,r,A,B))}),ca(O,[y,B])},onEnterCancelled(y){w(y,!1),ca(k,[y])},onAppearCancelled(y){w(y,!0),ca(b,[y])},onLeaveCancelled(y){I(y),ca(x,[y])}})}function qU(t){if(t==null)return null;if(Rt(t))return[Ng(t.enter),Ng(t.leave)];{const e=Ng(t);return[e,e]}}function Ng(t){return qV(t)}function no(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[xh]||(t[xh]=new Set)).add(e)}function ha(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[xh];n&&(n.delete(e),n.size||(t[xh]=void 0))}function YT(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let WU=0;function qT(t,e,n,r){const s=t._endId=++WU,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=GU(t,e);if(!o)return r();const u=o+"end";let c=0;const f=()=>{t.removeEventListener(u,d),i()},d=p=>{p.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),t.addEventListener(u,d)}function GU(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),s=r(`${to}Delay`),i=r(`${to}Duration`),o=WT(s,i),a=r(`${uc}Delay`),l=r(`${uc}Duration`),u=WT(a,l);let c=null,f=0,d=0;e===to?o>0&&(c=to,f=o,d=i.length):e===uc?u>0&&(c=uc,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?to:uc:null,d=c?c===to?i.length:l.length:0);const p=c===to&&/\b(transform|all)(,|$)/.test(r(`${to}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:p}}function WT(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>GT(n)+GT(t[r])))}function GT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function KU(){return document.body.offsetHeight}function QU(t,e,n){const r=t[xh];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const wp=Symbol("_vod"),VR=Symbol("_vsh"),Is={beforeMount(t,{value:e},{transition:n}){t[wp]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):cc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),cc(t,!0),r.enter(t)):r.leave(t,()=>{cc(t,!1)}):cc(t,e))},beforeUnmount(t,{value:e}){cc(t,e)}};function cc(t,e){t.style.display=e?t[wp]:"none",t[VR]=!e}const XU=Symbol(""),JU=/(^|;)\s*display\s*:/;function ZU(t,e,n){const r=t.style,s=Jt(n);let i=!1;if(n&&!s){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&kd(r,a,"")}else for(const o in e)n[o]==null&&kd(r,o,"");for(const o in n)o==="display"&&(i=!0),kd(r,o,n[o])}else if(s){if(e!==n){const o=r[XU];o&&(n+=";"+o),r.cssText=n,i=JU.test(n)}}else e&&t.removeAttribute("style");wp in t&&(t[wp]=i?r.display:"",t[VR]&&(r.display="none"))}const KT=/\s*!important$/;function kd(t,e,n){if(Ve(n))n.forEach(r=>kd(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=eB(t,e);KT.test(n)?t.setProperty(Ko(r),n.replace(KT,""),"important"):t[r]=n}}const QT=["Webkit","Moz","ms"],Lg={};function eB(t,e){const n=Lg[e];if(n)return n;let r=ks(e);if(r!=="filter"&&r in t)return Lg[e]=r;r=Sm(r);for(let s=0;s<QT.length;s++){const i=QT[s]+r;if(i in t)return Lg[e]=i}return e}const XT="http://www.w3.org/1999/xlink";function JT(t,e,n,r,s,i=JV(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(XT,e.slice(6,e.length)):t.setAttributeNS(XT,e,n):n==null||i&&!NP(n)?t.removeAttribute(e):t.setAttribute(e,i?"":li(n)?String(n):n)}function tB(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?"":String(n);(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=NP(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ei(t,e,n,r){t.addEventListener(e,n,r)}function nB(t,e,n,r){t.removeEventListener(e,n,r)}const ZT=Symbol("_vei");function rB(t,e,n,r,s=null){const i=t[ZT]||(t[ZT]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=sB(e);if(r){const u=i[e]=aB(r,s);Ei(t,a,u,l)}else o&&(nB(t,a,o,l),i[e]=void 0)}}const eE=/(?:Once|Passive|Capture)$/;function sB(t){let e;if(eE.test(t)){e={};let r;for(;r=t.match(eE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ko(t.slice(2)),e]}let $g=0;const iB=Promise.resolve(),oB=()=>$g||(iB.then(()=>$g=0),$g=Date.now());function aB(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ds(lB(r,n.value),e,5,[r])};return n.value=t,n.attached=oB(),n}function lB(t,e){if(Ve(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const tE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uB=(t,e,n,r,s,i,o,a,l)=>{const u=s==="svg";e==="class"?QU(t,r,u):e==="style"?ZU(t,n,r):Am(e)?Ky(e)||rB(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cB(t,e,r,u))?(tB(t,e,r,i,o,a,l),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&JT(t,e,r,u,o,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),JT(t,e,r,u))};function cB(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&tE(e)&&Qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return tE(e)&&Jt(n)?!1:e in t}const Ho=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ve(e)?n=>Cd(e,n):e};function hB(t){t.target.composing=!0}function nE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ps=Symbol("_assign"),rE={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[ps]=Ho(s);const i=r||s.props&&s.props.type==="number";Ei(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=hp(a)),t[ps](a)}),n&&Ei(t,"change",()=>{t.value=t.value.trim()}),e||(Ei(t,"compositionstart",hB),Ei(t,"compositionend",nE),Ei(t,"change",nE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[ps]=Ho(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?hp(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},fB={deep:!0,created(t,e,n){t[ps]=Ho(n),Ei(t,"change",()=>{const r=t._modelValue,s=wu(t),i=t.checked,o=t[ps];if(Ve(r)){const a=Jy(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Bu(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(FR(t,i))})},mounted:sE,beforeUpdate(t,e,n){t[ps]=Ho(n),sE(t,e,n)}};function sE(t,{value:e,oldValue:n},r){t._modelValue=e,Ve(e)?t.checked=Jy(e,r.props.value)>-1:Bu(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Za(e,FR(t,!0)))}const dB={created(t,{value:e},n){t.checked=Za(e,n.props.value),t[ps]=Ho(n),Ei(t,"change",()=>{t[ps](wu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ps]=Ho(r),e!==n&&(t.checked=Za(e,r.props.value))}},pB={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Bu(e);Ei(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?hp(wu(o)):wu(o));t[ps](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,wn(()=>{t._assigning=!1})}),t[ps]=Ho(r)},mounted(t,{value:e,modifiers:{number:n}}){iE(t,e)},beforeUpdate(t,e,n){t[ps]=Ho(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||iE(t,e)}};function iE(t,e,n){const r=t.multiple,s=Ve(e);if(!(r&&!s&&!Bu(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],l=wu(a);if(r)if(s){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=Jy(e,l)>-1}else a.selected=e.has(l);else if(Za(wu(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function wu(t){return"_value"in t?t._value:t.value}function FR(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const mB={created(t,e,n){nd(t,e,n,null,"created")},mounted(t,e,n){nd(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){nd(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){nd(t,e,n,r,"updated")}};function gB(t,e){switch(t){case"SELECT":return pB;case"TEXTAREA":return rE;default:switch(e){case"checkbox":return fB;case"radio":return dB;default:return rE}}}function nd(t,e,n,r,s){const o=gB(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}const _B=["ctrl","shift","alt","meta"],vB={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_B.some(n=>t[`${n}Key`]&&!e.includes(n))},nn=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=vB[e[o]];if(a&&a(s,e))return}return t(s,...i)})},yB={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Br=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Ko(s.key);if(e.some(o=>o===i||yB[o]===i))return t(s)})},wB=dn({patchProp:uB},zU);let oE;function bB(){return oE||(oE=dU(wB))}const TB=(...t)=>{const e=bB().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=AB(r);if(!s)return;const i=e._component;!Qe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,EB(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function EB(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function AB(t){return Jt(t)?document.querySelector(t):t}var IB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let UR;const $m=t=>UR=t,BR=Symbol();function nv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xc||(Xc={}));function SB(){const t=FP(!0),e=t.run(()=>ke({}));let n=[],r=[];const s=Ma({install(i){$m(s),s._a=i,i.provide(BR,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!IB?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const jR=()=>{};function aE(t,e,n,r=jR){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Zy()&&UP(s),s}function Cl(t,...e){t.slice().forEach(n=>{n(...e)})}const PB=t=>t();function rv(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];nv(s)&&nv(r)&&t.hasOwnProperty(n)&&!jt(r)&&!xa(r)?t[n]=rv(s,r):t[n]=r}return t}const RB=Symbol();function CB(t){return!nv(t)||!t.hasOwnProperty(RB)}const{assign:ao}=Object;function DB(t){return!!(jt(t)&&t.effect)}function kB(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=s?s():{});const c=rR(n.state.value[t]);return ao(c,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=Ma(Q(()=>{$m(n);const p=n._s.get(t);return o[d].call(p,p)})),f),{}))}return l=HR(t,u,e,n,r,!0),l}function HR(t,e,n={},r,s,i){let o;const a=ao({actions:{}},n),l={deep:!0};let u,c,f=[],d=[],p;const g=r.state.value[t];!i&&!g&&(r.state.value[t]={}),ke({});let _;function A(b){let w;u=c=!1,typeof b=="function"?(b(r.state.value[t]),w={type:Xc.patchFunction,storeId:t,events:p}):(rv(r.state.value[t],b),w={type:Xc.patchObject,payload:b,storeId:t,events:p});const I=_=Symbol();wn().then(()=>{_===I&&(u=!0)}),c=!0,Cl(f,w,r.state.value[t])}const S=i?function(){const{state:w}=n,I=w?w():{};this.$patch(P=>{ao(P,I)})}:jR;function M(){o.stop(),f=[],d=[],r._s.delete(t)}function k(b,w){return function(){$m(r);const I=Array.from(arguments),P=[],y=[];function E(F){P.push(F)}function B(F){y.push(F)}Cl(d,{args:I,name:b,store:x,after:E,onError:B});let U;try{U=w.apply(this&&this.$id===t?this:x,I)}catch(F){throw Cl(y,F),F}return U instanceof Promise?U.then(F=>(Cl(P,F),F)).catch(F=>(Cl(y,F),Promise.reject(F))):(Cl(P,U),U)}}const O={_p:r,$id:t,$onAction:aE.bind(null,d),$patch:A,$reset:S,$subscribe(b,w={}){const I=aE(f,b,w.detached,()=>P()),P=o.run(()=>at(()=>r.state.value[t],y=>{(w.flush==="sync"?c:u)&&b({storeId:t,type:Xc.direct,events:p},y)},ao({},l,w)));return I},$dispose:M},x=br(O);r._s.set(t,x);const T=(r._a&&r._a.runWithContext||PB)(()=>r._e.run(()=>(o=FP()).run(e)));for(const b in T){const w=T[b];if(jt(w)&&!DB(w)||xa(w))i||(g&&CB(w)&&(jt(w)?w.value=g[b]:rv(w,g[b])),r.state.value[t][b]=w);else if(typeof w=="function"){const I=k(b,w);T[b]=I,a.actions[b]=w}}return ao(x,T),ao(_t(x),T),Object.defineProperty(x,"$state",{get:()=>r.state.value[t],set:b=>{A(w=>{ao(w,b)})}}),r._p.forEach(b=>{ao(x,o.run(()=>b({store:x,app:r._a,pinia:r,options:a})))}),g&&i&&n.hydrate&&n.hydrate(x.$state,g),u=!0,c=!0,x}function zR(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,l){const u=aU();return a=a||(u?Ln(BR,null):null),a&&$m(a),a=UR,a._s.has(r)||(i?HR(r,e,s,a):kB(r,s,a)),a._s.get(r)}return o.$id=r,o}function Vm(t){return Zy()?(UP(t),!0):!1}function Fm(t){return typeof t=="function"?t():K(t)}const YR=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const OB=t=>t!=null,xB=Object.prototype.toString,MB=t=>xB.call(t)==="[object Object]",La=()=>{},NB=LB();function LB(){var t,e;return YR&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function qR(t){return ml()}function $B(t,e=!0,n){qR()?Vr(t,n):e?t():wn(t)}function VB(t,e){qR()&&Jo(t,e)}function Ii(t){var e;const n=Fm(t);return(e=n==null?void 0:n.$el)!=null?e:n}const vf=YR?window:void 0;function ss(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=vf):[e,n,r,s]=t,!e)return La;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},a=(c,f,d,p)=>(c.addEventListener(f,d,p),()=>c.removeEventListener(f,d,p)),l=at(()=>[Ii(e),Fm(s)],([c,f])=>{if(o(),!c)return;const d=MB(f)?{...f}:f;i.push(...n.flatMap(p=>r.map(g=>a(c,p,g,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return Vm(u),u}let lE=!1;function FB(t,e,n={}){const{window:r=vf,ignore:s=[],capture:i=!0,detectIframe:o=!1}=n;if(!r)return La;NB&&!lE&&(lE=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",La)),r.document.documentElement.addEventListener("click",La));let a=!0;const l=d=>s.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(g=>g===d.target||d.composedPath().includes(g));{const g=Ii(p);return g&&(d.target===g||d.composedPath().includes(g))}}),c=[ss(r,"click",d=>{const p=Ii(t);if(!(!p||p===d.target||d.composedPath().includes(p))){if(d.detail===0&&(a=!l(d)),!a){a=!0;return}e(d)}},{passive:!0,capture:i}),ss(r,"pointerdown",d=>{const p=Ii(t);a=!l(d)&&!!(p&&!d.composedPath().includes(p))},{passive:!0}),o&&ss(r,"blur",d=>{setTimeout(()=>{var p;const g=Ii(t);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(g!=null&&g.contains(r.document.activeElement))&&e(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}function UB(){const t=ke(!1),e=ml();return e&&Vr(()=>{t.value=!0},e),t}function WR(t){const e=UB();return Q(()=>(e.value,!!t()))}function BB(t,e={}){const{window:n=vf}=e,r=WR(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const i=ke(!1),o=u=>{i.value=u.matches},a=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",o):s.removeListener(o))},l=m0(()=>{r.value&&(a(),s=n.matchMedia(Fm(t)),"addEventListener"in s?s.addEventListener("change",o):s.addListener(o),i.value=s.matches)});return Vm(()=>{l(),a(),s=void 0}),i}function kae(t,e,n={}){const{root:r,rootMargin:s="0px",threshold:i=.1,window:o=vf,immediate:a=!0}=n,l=WR(()=>o&&"IntersectionObserver"in o),u=Q(()=>{const g=Fm(t);return(Array.isArray(g)?g:[g]).map(Ii).filter(OB)});let c=La;const f=ke(a),d=l.value?at(()=>[u.value,Ii(r),f.value],([g,_])=>{if(c(),!f.value||!g.length)return;const A=new IntersectionObserver(e,{root:Ii(_),rootMargin:s,threshold:i});g.forEach(S=>S&&A.observe(S)),c=()=>{A.disconnect(),c=La}},{immediate:a,flush:"post"}):La,p=()=>{c(),d(),f.value=!1};return Vm(p),{isSupported:l,isActive:f,pause(){c(),f.value=!1},resume(){f.value=!0},stop:p}}function Oae(t={}){const{window:e=vf,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:i=!0}=t,o=ke(n),a=ke(r),l=()=>{e&&(i?(o.value=e.innerWidth,a.value=e.innerHeight):(o.value=e.document.documentElement.clientWidth,a.value=e.document.documentElement.clientHeight))};if(l(),$B(l),ss("resize",l,{passive:!0}),s){const u=BB("(orientation: portrait)");at(u,()=>l())}return{width:o,height:a}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var GR=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],bp=GR.join(","),KR=typeof Element>"u",el=KR?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Tp=!KR&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Ep=function t(e,n){var r;n===void 0&&(n=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=s===""||s==="true",o=i||n&&e&&t(e.parentNode);return o},jB=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},QR=function(e,n,r){if(Ep(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(bp));return n&&el.call(e,bp)&&s.unshift(e),s=s.filter(r),s},XR=function t(e,n,r){for(var s=[],i=Array.from(e);i.length;){var o=i.shift();if(!Ep(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=t(l,!0,r);r.flatten?s.push.apply(s,u):s.push({scopeParent:o,candidates:u})}else{var c=el.call(o,bp);c&&r.filter(o)&&(n||!e.includes(o))&&s.push(o);var f=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),d=!Ep(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(f&&d){var p=t(f===!0?o.children:f.children,!0,r);r.flatten?s.push.apply(s,p):s.push({scopeParent:o,candidates:p})}else i.unshift.apply(i,o.children)}}return s},JR=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ta=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||jB(e))&&!JR(e)?0:e.tabIndex},HB=function(e,n){var r=Ta(e);return r<0&&n&&!JR(e)?0:r},zB=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ZR=function(e){return e.tagName==="INPUT"},YB=function(e){return ZR(e)&&e.type==="hidden"},qB=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},WB=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},GB=function(e){if(!e.name)return!0;var n=e.form||Tp(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=WB(s,e.form);return!i||i===e},KB=function(e){return ZR(e)&&e.type==="radio"},QB=function(e){return KB(e)&&!GB(e)},XB=function(e){var n,r=e&&Tp(e),s=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==e){var o,a,l;for(i=!!((o=s)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(s)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&s;){var u,c,f;r=Tp(s),s=(u=r)===null||u===void 0?void 0:u.host,i=!!((c=s)!==null&&c!==void 0&&(f=c.ownerDocument)!==null&&f!==void 0&&f.contains(s))}}return i},uE=function(e){var n=e.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},JB=function(e,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=el.call(e,"details>summary:first-of-type"),o=i?e.parentElement:e;if(el.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var l=e.parentElement,u=Tp(e);if(l&&!l.shadowRoot&&s(l)===!0)return uE(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(XB(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return uE(e);return!1},ZB=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return el.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},Ap=function(e,n){return!(n.disabled||Ep(n)||YB(n)||JB(n,e)||qB(n)||ZB(n))},sv=function(e,n){return!(QB(n)||Ta(n)<0||!Ap(e,n))},e4=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},t4=function t(e){var n=[],r=[];return e.forEach(function(s,i){var o=!!s.scopeParent,a=o?s.scopeParent:s,l=HB(a,o),u=o?t(s.candidates):a;l===0?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:l,item:s,isScope:o,content:u})}),r.sort(zB).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(n)},n4=function(e,n){n=n||{};var r;return n.getShadowRoot?r=XR([e],n.includeContainer,{filter:sv.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:e4}):r=QR(e,n.includeContainer,sv.bind(null,n)),t4(r)},r4=function(e,n){n=n||{};var r;return n.getShadowRoot?r=XR([e],n.includeContainer,{filter:Ap.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=QR(e,n.includeContainer,Ap.bind(null,n)),r},Dl=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return el.call(e,bp)===!1?!1:sv(n,e)},s4=GR.concat("iframe").join(","),Vg=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return el.call(e,s4)===!1?!1:Ap(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function cE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(r){i4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i4(t,e,n){return e=a4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o4(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a4(t){var e=o4(t,"string");return typeof e=="symbol"?e:String(e)}var fE={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var s=e.indexOf(n);s===-1||e.splice(s,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},l4=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},u4=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Jc=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},c4=function(e){return Jc(e)&&!e.shiftKey},h4=function(e){return Jc(e)&&e.shiftKey},dE=function(e){return setTimeout(e,0)},pE=function(e,n){var r=-1;return e.every(function(s,i){return n(s)?(r=i,!1):!0}),r},hc=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,r):e},rd=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},f4=[],d4=function(e,n){var r=(n==null?void 0:n.document)||document,s=(n==null?void 0:n.trapStack)||f4,i=hE({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:c4,isKeyBackward:h4},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(y,E,B){return y&&y[E]!==void 0?y[E]:i[B||E]},u=function(y,E){var B=typeof(E==null?void 0:E.composedPath)=="function"?E.composedPath():void 0;return o.containerGroups.findIndex(function(U){var F=U.container,j=U.tabbableNodes;return F.contains(y)||(B==null?void 0:B.includes(F))||j.find(function(H){return H===y})})},c=function(y){var E=i[y];if(typeof E=="function"){for(var B=arguments.length,U=new Array(B>1?B-1:0),F=1;F<B;F++)U[F-1]=arguments[F];E=E.apply(void 0,U)}if(E===!0&&(E=void 0),!E){if(E===void 0||E===!1)return E;throw new Error("`".concat(y,"` was specified but was not a node, or did not return a node"))}var j=E;if(typeof E=="string"&&(j=r.querySelector(E),!j))throw new Error("`".concat(y,"` as selector refers to no known node"));return j},f=function(){var y=c("initialFocus");if(y===!1)return!1;if(y===void 0||!Vg(y,i.tabbableOptions))if(u(r.activeElement)>=0)y=r.activeElement;else{var E=o.tabbableGroups[0],B=E&&E.firstTabbableNode;y=B||c("fallbackFocus")}if(!y)throw new Error("Your focus-trap needs to have at least one focusable element");return y},d=function(){if(o.containerGroups=o.containers.map(function(y){var E=n4(y,i.tabbableOptions),B=r4(y,i.tabbableOptions),U=E.length>0?E[0]:void 0,F=E.length>0?E[E.length-1]:void 0,j=B.find(function(R){return Dl(R)}),H=B.slice().reverse().find(function(R){return Dl(R)}),ee=!!E.find(function(R){return Ta(R)>0});return{container:y,tabbableNodes:E,focusableNodes:B,posTabIndexesFound:ee,firstTabbableNode:U,lastTabbableNode:F,firstDomTabbableNode:j,lastDomTabbableNode:H,nextTabbableNode:function(ce){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ve=E.indexOf(ce);return ve<0?te?B.slice(B.indexOf(ce)+1).find(function(ge){return Dl(ge)}):B.slice(0,B.indexOf(ce)).reverse().find(function(ge){return Dl(ge)}):E[ve+(te?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(y){return y.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(y){return y.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function P(y){var E=y.activeElement;if(E)return E.shadowRoot&&E.shadowRoot.activeElement!==null?P(E.shadowRoot):E},g=function P(y){if(y!==!1&&y!==p(document)){if(!y||!y.focus){P(f());return}y.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=y,l4(y)&&y.select()}},_=function(y){var E=c("setReturnFocus",y);return E||(E===!1?!1:y)},A=function(y){var E=y.target,B=y.event,U=y.isBackward,F=U===void 0?!1:U;E=E||rd(B),d();var j=null;if(o.tabbableGroups.length>0){var H=u(E,B),ee=H>=0?o.containerGroups[H]:void 0;if(H<0)F?j=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:j=o.tabbableGroups[0].firstTabbableNode;else if(F){var R=pE(o.tabbableGroups,function(Oe){var z=Oe.firstTabbableNode;return E===z});if(R<0&&(ee.container===E||Vg(E,i.tabbableOptions)&&!Dl(E,i.tabbableOptions)&&!ee.nextTabbableNode(E,!1))&&(R=H),R>=0){var ce=R===0?o.tabbableGroups.length-1:R-1,te=o.tabbableGroups[ce];j=Ta(E)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else Jc(B)||(j=ee.nextTabbableNode(E,!1))}else{var ve=pE(o.tabbableGroups,function(Oe){var z=Oe.lastTabbableNode;return E===z});if(ve<0&&(ee.container===E||Vg(E,i.tabbableOptions)&&!Dl(E,i.tabbableOptions)&&!ee.nextTabbableNode(E))&&(ve=H),ve>=0){var ge=ve===o.tabbableGroups.length-1?0:ve+1,De=o.tabbableGroups[ge];j=Ta(E)>=0?De.firstTabbableNode:De.firstDomTabbableNode}else Jc(B)||(j=ee.nextTabbableNode(E))}}else j=c("fallbackFocus");return j},S=function(y){var E=rd(y);if(!(u(E,y)>=0)){if(hc(i.clickOutsideDeactivates,y)){a.deactivate({returnFocus:i.returnFocusOnDeactivate});return}hc(i.allowOutsideClick,y)||y.preventDefault()}},M=function(y){var E=rd(y),B=u(E,y)>=0;if(B||E instanceof Document)B&&(o.mostRecentlyFocusedNode=E);else{y.stopImmediatePropagation();var U,F=!0;if(o.mostRecentlyFocusedNode)if(Ta(o.mostRecentlyFocusedNode)>0){var j=u(o.mostRecentlyFocusedNode),H=o.containerGroups[j].tabbableNodes;if(H.length>0){var ee=H.findIndex(function(R){return R===o.mostRecentlyFocusedNode});ee>=0&&(i.isKeyForward(o.recentNavEvent)?ee+1<H.length&&(U=H[ee+1],F=!1):ee-1>=0&&(U=H[ee-1],F=!1))}}else o.containerGroups.some(function(R){return R.tabbableNodes.some(function(ce){return Ta(ce)>0})})||(F=!1);else F=!1;F&&(U=A({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),g(U||o.mostRecentlyFocusedNode||f())}o.recentNavEvent=void 0},k=function(y){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=y;var B=A({event:y,isBackward:E});B&&(Jc(y)&&y.preventDefault(),g(B))},O=function(y){if(u4(y)&&hc(i.escapeDeactivates,y)!==!1){y.preventDefault(),a.deactivate();return}(i.isKeyForward(y)||i.isKeyBackward(y))&&k(y,i.isKeyBackward(y))},x=function(y){var E=rd(y);u(E,y)>=0||hc(i.clickOutsideDeactivates,y)||hc(i.allowOutsideClick,y)||(y.preventDefault(),y.stopImmediatePropagation())},N=function(){if(o.active)return fE.activateTrap(s,a),o.delayInitialFocusTimer=i.delayInitialFocus?dE(function(){g(f())}):g(f()),r.addEventListener("focusin",M,!0),r.addEventListener("mousedown",S,{capture:!0,passive:!1}),r.addEventListener("touchstart",S,{capture:!0,passive:!1}),r.addEventListener("click",x,{capture:!0,passive:!1}),r.addEventListener("keydown",O,{capture:!0,passive:!1}),a},T=function(){if(o.active)return r.removeEventListener("focusin",M,!0),r.removeEventListener("mousedown",S,!0),r.removeEventListener("touchstart",S,!0),r.removeEventListener("click",x,!0),r.removeEventListener("keydown",O,!0),a},b=function(y){var E=y.some(function(B){var U=Array.from(B.removedNodes);return U.some(function(F){return F===o.mostRecentlyFocusedNode})});E&&g(f())},w=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(b):void 0,I=function(){w&&(w.disconnect(),o.active&&!o.paused&&o.containers.map(function(y){w.observe(y,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(y){if(o.active)return this;var E=l(y,"onActivate"),B=l(y,"onPostActivate"),U=l(y,"checkCanFocusTrap");U||d(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,E==null||E();var F=function(){U&&d(),N(),I(),B==null||B()};return U?(U(o.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(y){if(!o.active)return this;var E=hE({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},y);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,T(),o.active=!1,o.paused=!1,I(),fE.deactivateTrap(s,a);var B=l(E,"onDeactivate"),U=l(E,"onPostDeactivate"),F=l(E,"checkCanReturnFocus"),j=l(E,"returnFocus","returnFocusOnDeactivate");B==null||B();var H=function(){dE(function(){j&&g(_(o.nodeFocusedBeforeActivation)),U==null||U()})};return j&&F?(F(_(o.nodeFocusedBeforeActivation)).then(H,H),this):(H(),this)},pause:function(y){if(o.paused||!o.active)return this;var E=l(y,"onPause"),B=l(y,"onPostPause");return o.paused=!0,E==null||E(),T(),I(),B==null||B(),this},unpause:function(y){if(!o.paused||!o.active)return this;var E=l(y,"onUnpause"),B=l(y,"onPostUnpause");return o.paused=!1,E==null||E(),d(),N(),I(),B==null||B(),this},updateContainerElements:function(y){var E=[].concat(y).filter(Boolean);return o.containers=E.map(function(B){return typeof B=="string"?r.querySelector(B):B}),o.active&&d(),I(),this}},a.updateContainerElements(e),a};function p4(t,e={}){let n;const{immediate:r,...s}=e,i=ke(!1),o=ke(!1),a=f=>n&&n.activate(f),l=f=>n&&n.deactivate(f),u=()=>{n&&(n.pause(),o.value=!0)},c=()=>{n&&(n.unpause(),o.value=!1)};return at(()=>Ii(t),f=>{f&&(n=d4(f,{...s,onActivate(){i.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){i.value=!1,e.onDeactivate&&e.onDeactivate()}}),r&&a())},{flush:"post"}),Vm(()=>l()),{hasFocus:i,isPaused:o,activate:a,deactivate:l,pause:u,unpause:c}}const m4=t=>(...e)=>{t&&(t==null||t(...e),t=null)},Mh=()=>{};function sd(t,e,n){return t>n?n:t<e?e:t}const v0=t=>typeof t=="string";function Fg(t,e){var n;const r=((n=Cc(t,e))==null?void 0:n[0])||e;t.push(r)}function Cc(t,e){const n=t.indexOf(e);if(n!==-1)return t.splice(n,1)}function eC(t){return Object.entries(t)}const g4={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:t=>["auto","persist"].includes(t)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function mE(t=!1){const e=ke(t),n=ke(e.value?0:void 0);return[e,n,{beforeEnter(){n.value=1},afterEnter(){n.value=0},beforeLeave(){n.value=3},afterLeave(){n.value=2}}]}function _4(t,e){const{modelValueLocal:n,onEntering:r,onEnter:s,onLeaving:i,onLeave:o}=e,a=ke(n.value),[l,u,c]=mE(a.value),[f,d,p]=mE(a.value),g=Q(()=>typeof t.contentTransition=="string"?{name:t.contentTransition,appear:!0}:{appear:!0,...t.contentTransition}),_=Q(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition,appear:!0}:{appear:!0,...t.overlayTransition}),A=Q(()=>(t.hideOverlay||d.value===2)&&u.value===2);at(A,k=>{k&&(a.value=!1)}),at(u,k=>{if(k===1){if(!a.value)return;r==null||r()}else if(k===0){if(!a.value)return;s==null||s()}else k===3?i==null||i():k===2&&(o==null||o())});async function S(){a.value=!0,await wn(),l.value=!0,f.value=!0}function M(){l.value=!1,f.value=!1}return{visible:a,contentVisible:l,contentListeners:c,contentTransition:g,overlayVisible:f,overlayListeners:p,overlayTransition:_,enterTransition:S,leaveTransition:M}}function v4(t,e,n){const{vfmRootEl:r,vfmContentEl:s,visible:i,modelValueLocal:o}=n,a=ke();function l(){i.value&&t.escToClose&&(o.value=!1)}function u(f){a.value=f==null?void 0:f.target}function c(){var f;a.value===r.value&&(t.clickToClose?o.value=!1:((f=s.value)==null||f.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:c,onMousedown:u}}function y4(t,e,n){let r=!1;const{open:s,close:i}=n,o=ke(!1),a={get value(){return o.value},set value(u){l(u)}};function l(u){(u?s():i())?(o.value=u,u!==t.modelValue&&e("update:modelValue",u)):(r=!0,e("update:modelValue",!u),wn(()=>{r=!1}))}return at(()=>t.modelValue,u=>{r||(a.value=!!u)}),{modelValueLocal:a}}function w4(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:n}=e,{hasFocus:r,activate:s,deactivate:i}=p4(n,t.focusTrap);function o(){requestAnimationFrame(()=>{s()})}function a(){r.value&&i()}return{focus:o,blur:a}}let y0=!1;if(typeof window<"u"){const t={get passive(){y0=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const tC=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let Eo=[],Ip=!1,Od=0,nC=-1,Zc,eh;const b4=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},T4=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),E4=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},A4=(t,e)=>{let n=!1;return E4(t).forEach(r=>{b4(r)&&T4(r,e)&&(n=!0)}),n},rC=t=>Eo.some(()=>A4(t,-Od)),w0=t=>{const e=t||window.event;return rC(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},I4=t=>{if(eh===void 0){const e=!!t&&t.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(e&&n>0){const r=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);eh=document.body.style.paddingRight,document.body.style.paddingRight=`${r+n}px`}}Zc===void 0&&(Zc=document.body.style.overflow,document.body.style.overflow="hidden")},S4=()=>{eh!==void 0&&(document.body.style.paddingRight=eh,eh=void 0),Zc!==void 0&&(document.body.style.overflow=Zc,Zc=void 0)},P4=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,R4=(t,e)=>(Od=t.targetTouches[0].clientY-nC,rC(t.target)?!1:e&&e.scrollTop===0&&Od>0||P4(e)&&Od<0?w0(t):(t.stopPropagation(),!0)),C4=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(Eo.some(r=>r.targetElement===t))return;const n={targetElement:t,options:e||{}};Eo=[...Eo,n],tC?(t.ontouchstart=r=>{r.targetTouches.length===1&&(nC=r.targetTouches[0].clientY)},t.ontouchmove=r=>{r.targetTouches.length===1&&R4(r,t)},Ip||(document.addEventListener("touchmove",w0,y0?{passive:!1}:void 0),Ip=!0)):I4(e)},D4=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Eo=Eo.filter(e=>e.targetElement!==t),tC?(t.ontouchstart=null,t.ontouchmove=null,Ip&&Eo.length===0&&(document.removeEventListener("touchmove",w0,y0?{passive:!1}:void 0),Ip=!1)):Eo.length||S4()};function k4(t,e){const{lockScrollEl:n,modelValueLocal:r}=e;let s;at(n,a=>{a&&(s=a)},{immediate:!0}),at(()=>t.lockScroll,a=>{a?o():i()}),gf(()=>{i()});function i(){s&&D4(s)}function o(){r.value&&t.lockScroll&&s&&C4(s,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:a=>{for(;a&&a!==document.body;){if(a.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;a=a.parentElement}return!1}})}return{enableBodyScroll:i,disableBodyScroll:o}}function O4(t){const e=ke();function n(s){var i;e.value=(i=t.zIndexFn)==null?void 0:i.call(t,{index:s<=-1?0:s})}function r(){e.value=void 0}return{zIndex:e,refreshZIndex:n,resetZIndex:r}}const Ug={beforeMount(t,{value:e},{transition:n}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,n&&e?n.beforeEnter(t):fc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),fc(t,!0),r.enter(t)):r.leave(t,()=>{fc(t,!1)}):fc(t,e))},beforeUnmount(t,{value:e}){fc(t,e)}};function fc(t,e){t.style.visibility=e?t._vov:"hidden"}const gE=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:n}=t;return{x:e,y:n}}else{const{clientX:e,clientY:n}=t.targetTouches[0];return{x:e,y:n}}};function x4(t){if(!t)return!1;let e=!1;const n={get passive(){return e=!0,!1}};return t.addEventListener("x",Mh,n),t.removeEventListener("x",Mh),e}function M4(t,{threshold:e=0,onSwipeStart:n,onSwipe:r,onSwipeEnd:s,passive:i=!0}){const o=br({x:0,y:0}),a=br({x:0,y:0}),l=Q(()=>o.x-a.x),u=Q(()=>o.y-a.y),{max:c,abs:f}=Math,d=Q(()=>c(f(l.value),f(u.value))>=e),p=ke(!1),g=Q(()=>d.value?f(l.value)>f(u.value)?l.value>0?"left":"right":u.value>0?"up":"down":"none"),_=(T,b)=>{o.x=T,o.y=b},A=(T,b)=>{a.x=T,a.y=b};let S,M;function k(T){S.capture&&!S.passive&&T.preventDefault();const{x:b,y:w}=gE(T);_(b,w),A(b,w),n==null||n(T),M=[ss(t,"mousemove",O,S),ss(t,"touchmove",O,S),ss(t,"mouseup",x,S),ss(t,"touchend",x,S),ss(t,"touchcancel",x,S)]}function O(T){const{x:b,y:w}=gE(T);A(b,w),!p.value&&d.value&&(p.value=!0),p.value&&(r==null||r(T))}function x(T){p.value&&(s==null||s(T,g.value)),p.value=!1,M.forEach(b=>b())}let N=[];return Vr(()=>{const T=x4(window==null?void 0:window.document);i?S=T?{passive:!0}:{capture:!1}:S=T?{passive:!1,capture:!0}:{capture:!0},N=[ss(t,"mousedown",k,S),ss(t,"touchstart",k,S)]}),{isSwiping:p,direction:g,coordsStart:o,coordsEnd:a,lengthX:l,lengthY:u,stop:()=>{N.forEach(T=>T()),M.forEach(T=>T())}}}function N4(t,e){const{vfmContentEl:n,modelValueLocal:r}=e,s=.1,i=300,o=ke(),a=Q(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?o.value:n.value}),l=ke(0),u=ke(!0);let c=Mh,f=!0,d,p=!1;const{lengthX:g,lengthY:_,direction:A,isSwiping:S}=M4(a,{threshold:t.threshold,onSwipeStart(x){c=ss(document,"selectionchange",()=>{var N;u.value=(N=window.getSelection())==null?void 0:N.isCollapsed}),d=new Date().getTime(),p=O(x==null?void 0:x.target)},onSwipe(){var x,N,T,b;if(p&&u.value&&A.value===t.swipeToClose){if(A.value==="up"){const w=sd(Math.abs(_.value||0),0,((x=a.value)==null?void 0:x.offsetHeight)||0)-(t.threshold||0);l.value=w}else if(A.value==="down"){const w=sd(Math.abs(_.value||0),0,((N=a.value)==null?void 0:N.offsetHeight)||0)-(t.threshold||0);l.value=-w}else if(A.value==="right"){const w=sd(Math.abs(g.value||0),0,((T=a.value)==null?void 0:T.offsetWidth)||0)-(t.threshold||0);l.value=-w}else if(A.value==="left"){const w=sd(Math.abs(g.value||0),0,((b=a.value)==null?void 0:b.offsetWidth)||0)-(t.threshold||0);l.value=w}}},onSwipeEnd(x,N){if(c(),!u.value){u.value=!0;return}const T=new Date().getTime(),b=N===t.swipeToClose,w=(()=>{var P,y;if(N==="up"||N==="down")return Math.abs((_==null?void 0:_.value)||0)>s*(((P=a.value)==null?void 0:P.offsetHeight)||0);if(N==="left"||N==="right")return Math.abs((g==null?void 0:g.value)||0)>s*(((y=a.value)==null?void 0:y.offsetWidth)||0)})(),I=T-d<=i;if(f&&p&&b&&(w||I)){r.value=!1;return}l.value=0}}),M=Q(()=>{if(t.swipeToClose==="none")return;const x=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!S.value},style:{transform:`${x}(${-l.value}px)`}}});at(()=>u.value,x=>{x||(l.value=0)}),at(()=>r.value,x=>{x&&(l.value=0)}),at(()=>l.value,(x,N)=>{switch(t.swipeToClose){case"down":case"right":f=x<N;break;case"up":case"left":f=x>N;break}});function k(x){t.preventNavigationGestures&&x.preventDefault()}function O(x){const N=x==null?void 0:x.tagName;if(!N||["INPUT","TEXTAREA"].includes(N))return!1;const T=(()=>{switch(t.swipeToClose){case"up":return(x==null?void 0:x.scrollTop)+(x==null?void 0:x.clientHeight)===(x==null?void 0:x.scrollHeight);case"left":return(x==null?void 0:x.scrollLeft)+(x==null?void 0:x.clientWidth)===(x==null?void 0:x.scrollWidth);case"down":return(x==null?void 0:x.scrollTop)===0;case"right":return(x==null?void 0:x.scrollLeft)===0;default:return!1}})();return x===a.value?T:T&&O(x==null?void 0:x.parentElement)}return{vfmContentEl:n,swipeBannerEl:o,bindSwipe:M,onTouchStartSwipeBanner:k}}const sC=Symbol("vfm");let Ea;const L4=t=>Ea=t,$4={install:Mh,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:ke([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},V4=()=>ml()&&Ln(sC,$4)||Ea;function F4(){const t=Hl([]),e=Hl([]),n=Hl([]),r=Hl([]),s=ke([]),i=Ma({install(o){o.provide(sC,i),o.config.globalProperties.$vfm=i},modals:t,openedModals:e,openedModalOverlays:n,dynamicModals:r,modalsContainers:s,get(o){return t.find(a=>{var l,u;return((u=(l=th(a))==null?void 0:l.value.modalId)==null?void 0:u.value)===o})},toggle(o,a){var l;const u=i.get(o);return(l=th(u))==null?void 0:l.value.toggle(a)},open(o){return i.toggle(o,!0)},close(o){return i.toggle(o,!1)},closeAll(){return Promise.allSettled(e.reduce((o,a)=>{const l=th(a),u=l==null?void 0:l.value.toggle(!1);return u&&o.push(u),o},[]))}});return L4(i),i}function th(t){var e;return(e=t==null?void 0:t.exposed)==null?void 0:e.modalExposed}const U4=zt({inheritAttrs:!1}),b0=zt({...U4,__name:"VueFinalModal",props:g4,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{expose:e,emit:n}){const r=t,s=n,i=JF(),o=ml(),{modals:a,openedModals:l,openedModalOverlays:u}=$a(),c=ke(),f=ke(),{focus:d,blur:p}=w4(r,{focusEl:c}),{zIndex:g,refreshZIndex:_,resetZIndex:A}=O4(r),{modelValueLocal:S}=y4(r,s,{open:ce,close:te}),{enableBodyScroll:M,disableBodyScroll:k}=k4(r,{lockScrollEl:c,modelValueLocal:S});let O=Mh;const{visible:x,contentVisible:N,contentListeners:T,contentTransition:b,overlayVisible:w,overlayListeners:I,overlayTransition:P,enterTransition:y,leaveTransition:E}=_4(r,{modelValueLocal:S,onEntering(){wn(()=>{k(),d()})},onEnter(){s("opened"),O("opened")},onLeave(){Cc(l,o),A(),M(),s("closed"),O("closed")}}),{onEsc:B,onMouseupRoot:U,onMousedown:F}=v4(r,s,{vfmRootEl:c,vfmContentEl:f,visible:x,modelValueLocal:S}),{swipeBannerEl:j,bindSwipe:H,onTouchStartSwipeBanner:ee}=N4(r,{vfmContentEl:f,modelValueLocal:S}),R=Q(()=>o?l.indexOf(o):-1);at([()=>r.zIndexFn,R],()=>{x.value&&_(R.value)}),Vr(()=>{Fg(a,o)}),r.modelValue&&(S.value=!0);function ce(){let W=!1;return s("beforeOpen",{stop:()=>W=!0}),W?!1:(Fg(l,o),Fg(u,o),ge(),y(),!0)}function te(){let W=!1;return s("beforeClose",{stop:()=>W=!0}),W?!1:(Cc(u,o),ge(),p(),E(),!0)}function ve(){S.value=!1}gf(()=>{M(),Cc(a,o),Cc(l,o),p(),ge()});async function ge(){await wn();const W=u.filter(ne=>{var me;const Ce=th(ne);return(Ce==null?void 0:Ce.value.overlayBehavior.value)==="auto"&&!((me=Ce==null?void 0:Ce.value.hideOverlay)!=null&&me.value)});W.forEach((ne,me)=>{const Ce=th(ne);Ce!=null&&Ce.value&&(Ce.value.overlayVisible.value=me===W.length-1)})}const De=Na(()=>r.modalId),Oe=Na(()=>r.hideOverlay),z=Na(()=>r.overlayBehavior),le=Q(()=>({modalId:De,hideOverlay:Oe,overlayBehavior:z,overlayVisible:w,toggle(W){return new Promise(ne=>{O=m4(Ce=>ne(Ce));const me=typeof W=="boolean"?W:!S.value;S.value=me})}}));return e({modalExposed:le}),(W,ne)=>(oe(),ot(DU,{to:W.teleportTo?W.teleportTo:void 0,disabled:!W.teleportTo},[W.displayDirective!=="if"||K(x)?Sr((oe(),Se("div",Kr({key:0},K(i),{ref_key:"vfmRootEl",ref:c,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":W.background==="interactive"}],style:{zIndex:K(g)},role:"dialog","aria-modal":"true",onKeydown:ne[7]||(ne[7]=Br(()=>K(B)(),["esc"])),onMouseup:ne[8]||(ne[8]=nn(()=>K(U)(),["self"])),onMousedown:ne[9]||(ne[9]=nn(me=>K(F)(me),["self"]))}),[Oe.value?rt("",!0):(oe(),ot(jo,Kr({key:0},K(P),W_(K(I))),{default:gt(()=>[W.displayDirective!=="if"||K(w)?Sr((oe(),Se("div",{key:0,class:Pt(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",W.overlayClass]),style:ti(W.overlayStyle),"aria-hidden":"true"},null,6)),[[Is,W.displayDirective!=="show"||K(w)],[K(Ug),W.displayDirective!=="visible"||K(w)]]):rt("",!0)]),_:1},16)),ye(jo,Kr(K(b),W_(K(T))),{default:gt(()=>[W.displayDirective!=="if"||K(N)?Sr((oe(),Se("div",Kr({key:0,ref_key:"vfmContentEl",ref:f,class:["vfm__content vfm--outline-none",[W.contentClass,{"vfm--prevent-auto":W.background==="interactive"}]],style:W.contentStyle,tabindex:"0"},K(H),{onMousedown:ne[6]||(ne[6]=()=>K(F)())}),[rn(W.$slots,"default",Da(Oh({close:ve}))),W.showSwipeBanner?(oe(),Se("div",{key:0,ref_key:"swipeBannerEl",ref:j,class:"vfm-swipe-banner-container",onTouchstart:ne[2]||(ne[2]=me=>K(ee)(me))},[rn(W.$slots,"swipe-banner",{},()=>[pe("div",{class:"vfm-swipe-banner-back",onTouchstart:ne[0]||(ne[0]=me=>W.swipeToClose==="left"&&me.preventDefault())},null,32),pe("div",{class:"vfm-swipe-banner-forward",onTouchstart:ne[1]||(ne[1]=me=>W.swipeToClose==="right"&&me.preventDefault())},null,32)])],544)):!W.showSwipeBanner&&W.preventNavigationGestures?(oe(),Se("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:ne[5]||(ne[5]=me=>K(ee)(me))},[pe("div",{class:"vfm-swipe-banner-back",onTouchstart:ne[3]||(ne[3]=me=>W.swipeToClose==="left"&&me.preventDefault())},null,32),pe("div",{class:"vfm-swipe-banner-forward",onTouchstart:ne[4]||(ne[4]=me=>W.swipeToClose==="right"&&me.preventDefault())},null,32)],32)):rt("",!0)],16)),[[Is,W.displayDirective!=="show"||K(N)],[K(Ug),W.displayDirective!=="visible"||K(N)]]):rt("",!0)]),_:3},16)],16)),[[Is,W.displayDirective!=="show"||K(x)],[K(Ug),W.displayDirective!=="visible"||K(x)]]):rt("",!0)],8,["to","disabled"]))}});function $a(){const t=V4();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function _E(t,e=b0){const{component:n,slots:r,...s}=t,i=typeof r>"u"?{}:Object.fromEntries(eC(r).map(([o,a])=>v0(a)?[o,a]:Sp(a)?[o,{...a,component:Ma(a.component)}]:[o,Ma(a)]));return{...s,component:Ma(n||e),slots:i}}function vE(t){const e=br({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},..._E(t)});VB(()=>{e!=null&&e.keepAlive||a()}),e.modelValue===!0&&(Ea?Ea==null||Ea.dynamicModals.push(e):wn(()=>{const l=$a();l==null||l.dynamicModals.push(e)}));async function n(){let l;return Ea?l=Ea:(await wn(),l=$a()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(a(),e.modelValue=!0,l.dynamicModals.push(e),new Promise(u=>{e.resolveOpened=()=>u("opened")}))}function r(){return e.modelValue?(e.modelValue=!1,new Promise(l=>{e.resolveClosed=()=>l("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function s(l){const{slots:u,...c}=_E(l,e.component);l.defaultModelValue!==void 0&&(e.defaultModelValue=l.defaultModelValue),(l==null?void 0:l.keepAlive)!==void 0&&(e.keepAlive=l==null?void 0:l.keepAlive),i(e,c),u&&eC(u).forEach(([f,d])=>{const p=e.slots[f];v0(p)?e.slots[f]=d:Sp(p)&&Sp(d)?i(p,d):e.slots[f]=d})}function i(l,u){u.component&&(l.component=u.component),u.attrs&&o(l.attrs,u.attrs)}function o(l,u){return Object.entries(u).forEach(([c,f])=>{l[c]=f}),l}function a(){const l=$a(),u=l.dynamicModals.indexOf(e);u!==-1&&l.dynamicModals.splice(u,1)}return{options:e,open:n,close:r,patchOptions:s,destroy:a}}function Sp(t){return typeof t=="object"&&t!==null?"component"in t:!1}const B4=["innerHTML"],j4=zt({__name:"ModalsContainer",setup(t){const{modalsContainers:e,dynamicModals:n}=$a(),r=Symbol("ModalsContainer"),s=Q(()=>{var a;return r===((a=e.value)==null?void 0:a[0])});e.value.push(r),gf(()=>{e.value=e.value.filter(a=>a!==r)});function i(a){var l,u,c;(u=(l=n[a])==null?void 0:l.resolveClosed)==null||u.call(l),(c=n[a])!=null&&c.keepAlive||n.splice(a,1)}function o(a){var l,u;(u=(l=n[a])==null?void 0:l.resolveOpened)==null||u.call(l)}return(a,l)=>s.value?(oe(!0),Se(ft,{key:0},Nn(K(n),(u,c)=>(oe(),ot(qc(u.component),Kr({key:u.id},{displayDirective:u!=null&&u.keepAlive?"show":void 0,...typeof u.attrs=="object"?u.attrs:{}},{modelValue:u.modelValue,"onUpdate:modelValue":f=>u.modelValue=f,onClosed:()=>i(c),onOpened:()=>o(c)}),QF({_:2},[Nn(u.slots,(f,d)=>({name:d,fn:gt(()=>[K(v0)(f)?(oe(),Se("div",{key:0,innerHTML:f},null,8,B4)):K(Sp)(f)?(oe(),ot(qc(f.component),Da(Kr({key:1},f.attrs)),null,16)):(oe(),ot(qc(f),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):rt("",!0)}});/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function iC(t,e){return e={exports:{}},t(e,e.exports),e.exports}var iv=iC(function(t){const e=Object.prototype.toString,n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;t.exports=(i,...o)=>{if(!s(i))throw new TypeError("expected the first argument to be an object");if(o.length===0||typeof Symbol!="function"||typeof r!="function")return i;for(let a of o){let l=r(a);for(let u of l)n.call(a,u)&&(i[u]=a[u])}return i};function s(i){return typeof i=="function"||e.call(i)==="[object Object]"||Array.isArray(i)}}),yE=Object.freeze({__proto__:null,default:iv,__moduleExports:iv}),H4=yE&&iv||yE,wE=iC(function(t){const e=Object.prototype.toString,n=o=>o!=="__proto__"&&o!=="constructor"&&o!=="prototype",r=t.exports=(o,...a)=>{let l=0;for(i(o)&&(o=a[l++]),o||(o={});l<a.length;l++)if(s(a[l])){for(const u of Object.keys(a[l]))n(u)&&(s(o[u])&&s(a[l][u])?r(o[u],a[l][u]):o[u]=a[l][u]);H4(o,a[l])}return o};function s(o){return typeof o=="function"||e.call(o)==="[object Object]"}function i(o){return typeof o=="object"?o===null:typeof o!="function"}});const zo=typeof window<"u"&&window!==null,bE=z4();function z4(){return zo&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const fa={event:"event",observer:"observer"};function Dc(t,e){if(!t.length)return;const n=t.indexOf(e);if(n>-1)return t.splice(n,1)}function TE(t,e){if(t.tagName!=="IMG"||!t.getAttribute("data-srcset"))return"";let n=t.getAttribute("data-srcset").trim().split(",");const r=[],i=t.parentNode.offsetWidth*e;let o,a,l;n.forEach(f=>{f=f.trim(),o=f.lastIndexOf(" "),o===-1?(a=f,l=99999):(a=f.substr(0,o),l=parseInt(f.substr(o+1,f.length-o-2),10)),r.push([l,a])}),r.sort((f,d)=>{if(f[0]<d[0])return 1;if(f[0]>d[0])return-1;if(f[0]===d[0]){if(d[1].indexOf(".webp",d[1].length-5)!==-1)return 1;if(f[1].indexOf(".webp",f[1].length-5)!==-1)return-1}return 0});let u="",c;for(let f=0;f<r.length;f++){c=r[f],u=c[1];const d=r[f+1];if(d&&d[0]<i){u=c[1];break}else if(!d){u=c[1];break}}return u}const Y4=(t=1)=>zo&&window.devicePixelRatio||t;function q4(){if(!zo)return!1;let t=!0;function e(n,r){const s={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},i=new Image;i.onload=function(){const o=i.width>0&&i.height>0;r(o)},i.onerror=function(){r(!1)},i.src="data:image/webp;base64,"+s[n]}return e("lossy",n=>{t=n}),e("lossless",n=>{t=n}),e("alpha",n=>{t=n}),e("animation",n=>{t=n}),t}function W4(t,e){let n=null,r=0;return function(){if(n)return;const s=Date.now()-r,i=this,o=arguments,a=function(){r=Date.now(),n=!1,t.apply(i,o)};s>=e?a():n=setTimeout(a,e)}}function G4(){if(!zo)return!1;let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",T0,e)}catch{}return t}const K4=G4(),Q4={on(t,e,n,r=!1){K4?t.addEventListener(e,n,{capture:r,passive:!0}):t.addEventListener(e,n,r)},off(t,e,n,r=!1){t.removeEventListener(e,n,r)}},ov=(t,e,n)=>{let r=new Image;if(!t||!t.src){const s=new Error("image src is required");return n(s)}t.cors&&(r.crossOrigin=t.cors),r.src=t.src,r.onload=function(){e({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src}),r=null},r.onerror=function(s){n(s)}},Bg=(t,e)=>typeof getComputedStyle<"u"?getComputedStyle(t,null).getPropertyValue(e):t.style[e],X4=t=>Bg(t,"overflow")+Bg(t,"overflowY")+Bg(t,"overflowX"),J4=t=>{if(!zo)return;if(!(t instanceof Element))return window;let e=t;for(;e&&!(e===document.body||e===document.documentElement||!e.parentNode);){if(/(scroll|auto)/.test(X4(e)))return e;e=e.parentNode}return window};function Z4(t){return t!==null&&typeof t=="object"}function T0(){}class ej{constructor(e){this.max=e||100,this._caches=[]}has(e){return this._caches.indexOf(e)>-1}add(e){this.has(e)||(this._caches.push(e),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class tj{constructor(e,n,r,s,i,o,a,l,u,c){this.el=e,this.src=n,this.error=r,this.loading=s,this.bindType=i,this.attempt=0,this.cors=l,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=o,this.elRenderer=u,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update(e){const n=this.src;this.src=e.src,this.loading=e.loading,this.error=e.error,this.filter(),n!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const e in this.options.filter)this.options.filter[e](this,this.options)}renderLoading(e){this.state.loading=!0,ov({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,e()},()=>{e(),this.state.loading=!1,this.options.silent||console.warn(`VueLazyload log: load failed with loading image(${this.loading})`)})}load(e=T0){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`),e();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),ov({src:this.src,cors:this.cors},n=>{this.naturalHeight=n.naturalHeight,this.naturalWidth=n.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),e()},n=>{!this.options.silent&&console.error(n),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(e,n){this.elRenderer(this,e,n)}performance(){let e="loading",n=0;return this.state.loaded&&(e="loaded",n=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:n}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const EE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nj=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],rj={rootMargin:"0px",threshold:0};class sj{constructor({preLoad:e,error:n,throttleWait:r,preLoadTop:s,dispatchEvent:i,loading:o,attempt:a,silent:l=!0,scale:u,listenEvents:c,filter:f,adapter:d,observer:p,observerOptions:g}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=fa.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:l,dispatchEvent:!!i,throttleWait:r||200,preLoad:e||1.3,preLoadTop:s||0,error:n||EE,loading:o||EE,attempt:a||3,scale:u||Y4(u),listenEvents:c||nj,supportWebp:q4(),filter:f||{},adapter:d||{},observer:!!p,observerOptions:g||rj},this._initEvent(),this._imageCache=new ej(200),this.lazyLoadHandler=W4(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?fa.observer:fa.event)}performance(){const e=[];return this.ListenerQueue.map(n=>e.push(n.performance())),e}addLazyBox(e){this.ListenerQueue.push(e),zo&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}add(e,n,r){if(this.ListenerQueue.some(l=>l.el===e))return this.update(e,n),wn(this.lazyLoadHandler);let{src:s,loading:i,error:o,cors:a}=this._valueFormatter(n.value);wn(()=>{s=TE(e,this.options.scale)||s,this._observer&&this._observer.observe(e);const l=Object.keys(n.modifiers)[0];let u;l&&(u=n.instance.$refs[l],u=u?u.el||u:document.getElementById(l)),u||(u=J4(e));const c=new tj(e,s,o,i,n.arg,u,this.options,a,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(c),zo&&(this._addListenerTarget(window),this._addListenerTarget(u)),wn(this.lazyLoadHandler)})}update(e,n,r){let{src:s,loading:i,error:o}=this._valueFormatter(n.value);s=TE(e,this.options.scale)||s;const a=this.ListenerQueue.find(l=>l.el===e);a?a.update({src:s,loading:i,error:o}):(e.getAttribute("lazy")!=="loaded"||e.dataset.src!==s)&&this.add(e,n,r),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),wn(this.lazyLoadHandler)}remove(e){if(!e)return;this._observer&&this._observer.unobserve(e);const n=this.ListenerQueue.find(r=>r.el===e);n&&(this._removeListenerTarget(n.$parent),this._removeListenerTarget(window),Dc(this.ListenerQueue,n),n.$destroy&&n.$destroy())}removeComponent(e){e&&(Dc(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}setMode(e){!bE&&e===fa.observer&&(e=fa.event),this.mode=e,e===fa.event?(this._observer&&(this.ListenerQueue.forEach(n=>{this._observer.unobserve(n.el)}),this._observer=null),this.TargetQueue.forEach(n=>{this._initListen(n.el,!0)})):(this.TargetQueue.forEach(n=>{this._initListen(n.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(e){if(!e)return;let n=this.TargetQueue.find(r=>r.el===e);return n?n.childrenCount++:(n={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===fa.event&&this._initListen(n.el,!0),this.TargetQueue.push(n)),this.TargetIndex}_removeListenerTarget(e){this.TargetQueue.forEach((n,r)=>{n.el===e&&(n.childrenCount--,n.childrenCount||(this._initListen(n.el,!1),this.TargetQueue.splice(r,1),n=null))})}_initListen(e,n){this.options.listenEvents.forEach(r=>Q4[n?"on":"off"](e,r,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,n)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(n)},this.$once=(e,n)=>{const r=this;function s(){r.$off(e,s),n.apply(r,arguments)}this.$on(e,s)},this.$off=(e,n)=>{if(!n){if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0;return}Dc(this.Event.listeners[e],n)},this.$emit=(e,n,r)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach(s=>s(n,r))}}_lazyLoadHandler(){const e=[];this.ListenerQueue.forEach((n,r)=>{(!n.el||!n.el.parentNode||n.state.loaded)&&e.push(n),n.checkInView()&&(n.state.loaded||n.load())}),e.forEach(n=>{Dc(this.ListenerQueue,n),n.$destroy&&n.$destroy()})}_initIntersectionObserver(){bE&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(e=>{this._observer.observe(e.el)}))}_observerHandler(e){e.forEach(n=>{n.isIntersecting&&this.ListenerQueue.forEach(r=>{if(r.el===n.target){if(r.state.loaded)return this._observer.unobserve(r.el);r.load()}})})}_elRenderer(e,n,r){if(!e.el)return;const{el:s,bindType:i}=e;let o;switch(n){case"loading":o=e.loading;break;case"error":o=e.error;break;default:o=e.src;break}if(i?s.style[i]='url("'+o+'")':s.getAttribute("src")!==o&&s.setAttribute("src",o),s.setAttribute("lazy",n),this.$emit(n,e,r),this.options.adapter[n]&&this.options.adapter[n](e,this.options),this.options.dispatchEvent){const a=new CustomEvent(n,{detail:e});s.dispatchEvent(a)}}_valueFormatter(e){return Z4(e)?(!e.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+e),{src:e.src,loading:e.loading||this.options.loading,error:e.error||this.options.error,cors:this.options.cors}):{src:e,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const oC=(t,e)=>{let n=br({});const r=()=>{n=t.value.getBoundingClientRect()};return{rect:n,checkInView:()=>(r(),zo&&n.top<window.innerHeight*e&&n.bottom>0&&n.left<window.innerWidth*e&&n.right>0)}};var ij=t=>zt({props:{tag:{type:String,default:"div"}},emits:["show"],setup(e,{emit:n,slots:r}){const s=ke(),i=br({loaded:!1,error:!1,attempt:0}),o=ke(!1),{rect:a,checkInView:l}=oC(s,t.options.preLoad),u=()=>{o.value=!0,i.loaded=!0,n("show",o.value)},c=Q(()=>({el:s.value,rect:a,checkInView:l,load:u,state:i}));return Vr(()=>{t.addLazyBox(c.value),t.lazyLoadHandler()}),Jo(()=>{t.removeComponent(c.value)}),()=>{var f;return ye(e.tag,{ref:s},[o.value&&((f=r.default)===null||f===void 0?void 0:f.call(r))])}}});class oj{constructor(e){this.lazy=e,e.lazyContainerMananger=this,this._queue=[]}bind(e,n,r){const s=new lj(e,n,r,this.lazy);this._queue.push(s)}update(e,n,r){const s=this._queue.find(i=>i.el===e);s&&s.update(e,n)}unbind(e,n,r){const s=this._queue.find(i=>i.el===e);s&&(s.clear(),Dc(this._queue,s))}}const aj={selector:"img",error:"",loading:""};class lj{constructor(e,n,r,s){this.el=e,this.vnode=r,this.binding=n,this.options={},this.lazy=s,this._queue=[],this.update(e,n)}update(e,n){this.el=e,this.options=wE({},aj,n.value),this.getImgs().forEach(s=>{this.lazy.add(s,wE({},this.binding,{value:{src:s.getAttribute("data-src")||s.dataset.src,error:s.getAttribute("data-error")||s.dataset.error||this.options.error,loading:s.getAttribute("data-loading")||s.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(n=>this.lazy.remove(n)),this.vnode=null,this.binding=null,this.lazy=null}}var uj=t=>zt({setup(e,{slots:n}){const r=ke(),s=br({src:"",error:"",loading:"",attempt:t.options.attempt}),i=br({loaded:!1,error:!1,attempt:0}),{rect:o,checkInView:a}=oC(r,t.options.preLoad),l=ke(""),u=(d=T0)=>{if(i.attempt>s.attempt-1&&i.error)return t.options.silent||console.log(`VueLazyload log: ${s.src} tried too more than ${s.attempt} times`),d();const p=s.src;ov({src:p},({src:g})=>{l.value=g,i.loaded=!0},()=>{i.attempt++,l.value=s.error,i.error=!0})},c=Q(()=>({el:r.value,rect:o,checkInView:a,load:u,state:i}));Vr(()=>{t.addLazyBox(c.value),t.lazyLoadHandler()}),Jo(()=>{t.removeComponent(c.value)});const f=()=>{const{src:d,loading:p,error:g}=t._valueFormatter(e.src);i.loaded=!1,s.src=d,s.error=g,s.loading=p,l.value=s.loading};return at(()=>e.src,()=>{f(),t.addLazyBox(c.value),t.lazyLoadHandler()},{immediate:!0}),()=>{var d;return ye(e.tag||"img",{src:l.value,ref:r},[(d=n.default)===null||d===void 0?void 0:d.call(n)])}}}),cj={install(t,e={}){const n=new sj(e),r=new oj(n);if(Number(t.version.split(".")[0])<3)return new Error("Vue version at least 3.0");t.config.globalProperties.$Lazyload=n,t.provide("Lazyload",n),e.lazyComponent&&t.component("lazy-component",ij(n)),e.lazyImage&&t.component("lazy-image",uj(n)),t.directive("lazy",{beforeMount:n.add.bind(n),beforeUpdate:n.update.bind(n),updated:n.lazyLoadHandler.bind(n),unmounted:n.remove.bind(n)}),t.directive("lazy-container",{beforeMount:r.bind.bind(r),updated:r.update.bind(r),unmounted:r.unbind.bind(r)})}};function E0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function aC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hj=aC,lC=new tf("auth","Firebase",aC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new sy("@firebase/auth");function fj(t,...e){Pp.logLevel<=ht.WARN&&Pp.warn(`Auth (${hl}): ${t}`,...e)}function xd(t,...e){Pp.logLevel<=ht.ERROR&&Pp.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,...e){throw A0(t,...e)}function ni(t,...e){return A0(t,...e)}function uC(t,e,n){const r=Object.assign(Object.assign({},hj()),{[e]:n});return new tf("auth","Firebase",r).create(e,{appName:t.name})}function Ni(t){return uC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lC.create(t,...e)}function qe(t,e,...n){if(!t)throw A0(e,...n)}function Si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xd(e),new Error(e)}function Ui(t,e){t||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dj(){return AE()==="http:"||AE()==="https:"}function AE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dj()||Jx()||"connection"in navigator)?navigator.onLine:!0}function mj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=Qx()||Zx()}get(){return pj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new yf(3e4,6e4);function Zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ea(t,e,n,r,s={}){return hC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=nf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),cC.fetch()(fC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function hC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gj),e);try{const s=new yj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw id(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw id(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw id(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uC(t,c,u);Os(t,c)}}catch(s){if(s instanceof fi)throw s;Os(t,"network-request-failed",{message:String(s)})}}async function wf(t,e,n,r,s={}){const i=await ea(t,e,n,r,s);return"mfaPendingCredential"in i&&Os(t,"multi-factor-auth-required",{_serverResponse:i}),i}function fC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?I0(t.config,s):`${t.config.apiScheme}://${s}`}function vj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),_j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ni(t,e,r);return s.customData._tokenResponse=n,s}function IE(t){return t!==void 0&&t.enterprise!==void 0}class wj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function bj(t,e){return ea(t,"GET","/v2/recaptchaConfig",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){return ea(t,"POST","/v1/accounts:delete",e)}async function dC(t,e){return ea(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ej(t,e=!1){const n=bn(t),r=await n.getIdToken(e),s=S0(r);qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:nh(jg(s.auth_time)),issuedAtTime:nh(jg(s.iat)),expirationTime:nh(jg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jg(t){return Number(t)*1e3}function S0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const s=EI(n);return s?JSON.parse(s):(xd("Failed to decode base64 JWT payload"),null)}catch(s){return xd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function SE(t){const e=S0(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&Aj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Aj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Nh(t,dC(n,{idToken:r}));qe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?pC(i.providerUserInfo):[],a=Pj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new lv(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function Sj(t){const e=bn(t);await Rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function pC(t){return t.map(e=>{var{providerId:n}=e,r=E0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e){const n=await hC(t,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=fC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Cj(t,e){return ea(t,"POST","/v2/accounts:revokeToken",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=SE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Rj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new tu;return r&&(qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(qe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(qe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=E0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ij(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new lv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ej(this,e)}reload(){return Sj(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qs(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Nh(this,Tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,M=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:k,emailVerified:O,isAnonymous:x,providerData:N,stsTokenManager:T}=n;qe(k&&T,e,"internal-error");const b=tu.fromJSON(this.name,T);qe(typeof k=="string",e,"internal-error"),ro(f,e.name),ro(d,e.name),qe(typeof O=="boolean",e,"internal-error"),qe(typeof x=="boolean",e,"internal-error"),ro(p,e.name),ro(g,e.name),ro(_,e.name),ro(A,e.name),ro(S,e.name),ro(M,e.name);const w=new Pi({uid:k,auth:e,email:d,emailVerified:O,displayName:f,isAnonymous:x,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:b,createdAt:S,lastLoginAt:M});return N&&Array.isArray(N)&&(w.providerData=N.map(I=>Object.assign({},I))),A&&(w._redirectEventId=A),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new tu;s.updateFromServerResponse(n);const i=new Pi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];qe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?pC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new tu;a.updateFromIdToken(r);const l=new Pi({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new lv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function Ri(t){Ui(t instanceof Function,"Expected a class definition");let e=PE.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mC.type="NONE";const RE=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t,e,n){return`firebase:${t}:${e}:${n}`}class nu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Md(this.userKey,s.apiKey,i),this.fullPersistenceKey=Md("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nu(Ri(RE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ri(RE);const o=Md(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Pi._fromJSON(e,c);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new nu(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new nu(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wC(e))return"Blackberry";if(bC(e))return"Webos";if(P0(e))return"Safari";if((e.includes("chrome/")||_C(e))&&!e.includes("edge/"))return"Chrome";if(yC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gC(t=zn()){return/firefox\//i.test(t)}function P0(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _C(t=zn()){return/crios\//i.test(t)}function vC(t=zn()){return/iemobile/i.test(t)}function yC(t=zn()){return/android/i.test(t)}function wC(t=zn()){return/blackberry/i.test(t)}function bC(t=zn()){return/webos/i.test(t)}function Um(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Dj(t=zn()){var e;return Um(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kj(){return eM()&&document.documentMode===10}function TC(t=zn()){return Um(t)||yC(t)||bC(t)||wC(t)||/windows phone/i.test(t)||vC(t)}function Oj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e=[]){let n;switch(t){case"Browser":n=CE(zn());break;case"Worker":n=`${CE(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e={}){return ea(t,"GET","/v2/passwordPolicy",Zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=6;class Lj{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Nj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new xj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await nu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dC(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qs(this.app))return Promise.reject(Ni(this));const n=e?bn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qs(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qs(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mj(this),n=new Lj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Cj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ri(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await nu.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gl(t){return bn(t)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vj(t){Bm=t}function AC(t){return Bm.loadJS(t)}function Fj(){return Bm.recaptchaEnterpriseScript}function Uj(){return Bm.gapiScript}function Bj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const jj="recaptcha-enterprise",Hj="NO_RECAPTCHA";class zj{constructor(e){this.type=jj,this.auth=gl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{bj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new wj(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;IE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Hj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&IE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Fj();l.length!==0&&(l+=a),AC(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function kE(t,e,n,r=!1){const s=new zj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function uv(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await kE(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await kE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t,e){const n=om(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ep(i,e??{}))return s;Os(s,"already-initialized")}return n.initialize({options:e})}function qj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Wj(t,e,n){const r=gl(t);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=IC(e),{host:o,port:a}=Gj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Kj()}function IC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gj(t){const e=IC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:OE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:OE(o)}}}function OE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function Qj(t,e){return ea(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e){return wf(t,"POST","/v1/accounts:signInWithPassword",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}async function Zj(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends R0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Lh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uv(e,n,"signInWithPassword",Xj);case"emailLink":return Jj(e,{email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uv(e,r,"signUpPassword",Qj);case"emailLink":return Zj(e,{idToken:n,email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e){return wf(t,"POST","/v1/accounts:signInWithIdp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH="http://localhost";class tl extends R0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=E0(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new tl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ru(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ru(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ru(e,n)}buildRequest(){const e={requestUri:eH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nH(t){const e=Tc(Ec(t)).link,n=e?Tc(Ec(e)).deep_link_id:null,r=Tc(Ec(t)).deep_link_id;return(r?Tc(Ec(r)).link:null)||r||n||e||t}class C0{constructor(e){var n,r,s,i,o,a;const l=Tc(Ec(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=tH((s=l.mode)!==null&&s!==void 0?s:null);qe(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=nH(e);try{return new C0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.providerId=ju.PROVIDER_ID}static credential(e,n){return Lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=C0.parseLink(n);return qe(r,"argument-error"),Lh._fromEmailAndCode(e,r.code,r.tenantId)}}ju.PROVIDER_ID="password";ju.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ju.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends SC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends bf{constructor(){super("facebook.com")}static credential(e){return tl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends bf{constructor(){super("github.com")}static credential(e){return tl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends bf{constructor(){super("twitter.com")}static credential(e,n){return tl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yo.credential(n,r)}catch{return null}}}yo.TWITTER_SIGN_IN_METHOD="twitter.com";yo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(t,e){return wf(t,"POST","/v1/accounts:signUp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Pi._fromIdTokenResponse(e,r,s),o=xE(r);return new nl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=xE(r);return new nl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function xE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends fi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Cp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Cp(e,n,r,s)}}function PC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cp._fromErrorAndOperation(t,i,e,r):i})}async function sH(t,e,n=!1){const r=await Nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(t,e,n=!1){const{auth:r}=t;if(qs(r.app))return Promise.reject(Ni(r));const s="reauthenticate";try{const i=await Nh(t,PC(r,s,e,t),n);qe(i.idToken,r,"internal-error");const o=S0(i.idToken);qe(o,r,"internal-error");const{sub:a}=o;return qe(t.uid===a,r,"user-mismatch"),nl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Os(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e,n=!1){if(qs(t.app))return Promise.reject(Ni(t));const r="signIn",s=await PC(t,r,e),i=await nl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function oH(t,e){return RC(gl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t){const e=gl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aH(t,e,n){if(qs(t.app))return Promise.reject(Ni(t));const r=gl(t),o=await uv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&CC(t),l}),a=await nl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function lH(t,e,n){return qs(t.app)?Promise.reject(Ni(t)):oH(bn(t),ju.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CC(t),r})}function uH(t,e,n,r){return bn(t).onIdTokenChanged(e,n,r)}function cH(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function hH(t,e,n,r){return bn(t).onAuthStateChanged(e,n,r)}function fH(t){return bn(t).signOut()}const Dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dp,"1"),this.storage.removeItem(Dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(){const t=zn();return P0(t)||Um(t)}const pH=1e3,mH=10;class kC extends DC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dH()&&Oj(),this.fallbackToPolling=TC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);kj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kC.type="LOCAL";const gH=kC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends DC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OC.type="SESSION";const xC=OC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new jm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await _H(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=D0("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function yH(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function wH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TH(){return MC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebaseLocalStorageDb",EH=1,kp="firebaseLocalStorage",LC="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hm(t,e){return t.transaction([kp],e?"readwrite":"readonly").objectStore(kp)}function AH(){const t=indexedDB.deleteDatabase(NC);return new Tf(t).toPromise()}function cv(){const t=indexedDB.open(NC,EH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kp,{keyPath:LC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kp)?e(r):(r.close(),await AH(),e(await cv()))})})}async function ME(t,e,n){const r=Hm(t,!0).put({[LC]:e,value:n});return new Tf(r).toPromise()}async function IH(t,e){const n=Hm(t,!1).get(e),r=await new Tf(n).toPromise();return r===void 0?null:r.value}function NE(t,e){const n=Hm(t,!0).delete(e);return new Tf(n).toPromise()}const SH=800,PH=3;class $C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jm._getInstance(TH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wH(),!this.activeServiceWorker)return;this.sender=new vH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cv();return await ME(e,Dp,"1"),await NE(e,Dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ME(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hm(s,!1).getAll();return new Tf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$C.type="LOCAL";const RH=$C;new yf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t,e){return e?Ri(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends R0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ru(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ru(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ru(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DH(t){return RC(t.auth,new k0(t),t.bypassAuthState)}function kH(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),iH(n,new k0(t),t.bypassAuthState)}async function OH(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),sH(n,new k0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DH;case"linkViaPopup":case"linkViaRedirect":return OH;case"reauthViaPopup":case"reauthViaRedirect":return kH;default:Os(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=new yf(2e3,1e4);class zl extends VC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,zl.currentPopupAction&&zl.currentPopupAction.cancel(),zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=D0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xH.get())};e()}}zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH="pendingRedirect",Nd=new Map;class NH extends VC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const r=await LH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LH(t,e){const n=FH(e),r=VH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $H(t,e){Nd.set(t._key(),e)}function VH(t){return Ri(t._redirectPersistence)}function FH(t){return Md(MH,t.config.apiKey,t.name)}async function UH(t,e,n=!1){if(qs(t.app))return Promise.reject(Ni(t));const r=gl(t),s=CH(r,e),o=await new NH(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=10*60*1e3;class jH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BH&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(t,e={}){return ea(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qH=/^https?/;async function WH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zH(t);for(const n of e)try{if(GH(n))return}catch{}Os(t,"unauthorized-domain")}function GH(t){const e=av(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qH.test(n))return!1;if(YH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=new yf(3e4,6e4);function $E(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QH(t){return new Promise((e,n)=>{var r,s,i;function o(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),n(ni(t,"network-request-failed"))},timeout:KH.get()})}if(!((s=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ri().gapi)===null||i===void 0)&&i.load)o();else{const a=Bj("iframefcb");return ri()[a]=()=>{gapi.load?o():n(ni(t,"network-request-failed"))},AC(`${Uj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function XH(t){return Ld=Ld||QH(t),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=new yf(5e3,15e3),ZH="__/auth/iframe",e3="emulator/auth/iframe",t3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r3(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I0(e,e3):`https://${t.config.authDomain}/${ZH}`,r={apiKey:e.apiKey,appName:t.name,v:hl},s=n3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${nf(r).slice(1)}`}async function s3(t){const e=await XH(t),n=ri().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:r3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ni(t,"network-request-failed"),a=ri().setTimeout(()=>{i(o)},JH.get());function l(){ri().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o3=500,a3=600,l3="_blank",u3="http://localhost";class VE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c3(t,e,n,r=o3,s=a3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},i3),{width:r.toString(),height:s.toString(),top:i,left:o}),u=zn().toLowerCase();n&&(a=_C(u)?l3:n),gC(u)&&(e=e||u3,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(Dj(u)&&a!=="_self")return h3(e||"",a),new VE(null);const f=window.open(e||"",a,c);qe(f,t,"popup-blocked");try{f.focus()}catch{}return new VE(f)}function h3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="__/auth/handler",d3="emulator/auth/handler",p3=encodeURIComponent("fac");async function FE(t,e,n,r,s,i){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hl,eventId:s};if(e instanceof SC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof bf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${p3}=${encodeURIComponent(l)}`:"";return`${m3(t)}?${nf(a).slice(1)}${u}`}function m3({config:t}){return t.emulator?I0(t,d3):`https://${t.authDomain}/${f3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="webStorageSupport";class g3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xC,this._completeRedirectFn=UH,this._overrideRedirectResult=$H}async _openPopup(e,n,r,s){var i;Ui((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await FE(e,n,r,av(),s);return c3(e,o,D0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await FE(e,n,r,av(),s);return yH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ui(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s3(e),r=new jH(e);return n.register("authEvent",s=>(qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hg,{type:Hg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Hg];o!==void 0&&n(!!o),Os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TC()||P0()||Um()}}const _3=g3;var UE="@firebase/auth",BE="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w3(t){Ga(new $o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EC(t)},u=new $j(r,s,i,l);return qj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new $o("auth-internal",e=>{const n=gl(e.getProvider("auth").getImmediate());return(r=>new v3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(UE,BE,y3(t)),Js(UE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=5*60,T3=PI("authIdTokenMaxAge")||b3;let jE=null;const E3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T3)return;const s=n==null?void 0:n.token;jE!==s&&(jE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function A3(t=oy()){const e=om(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Yj(t,{popupRedirectResolver:_3,persistence:[RH,gH,xC]}),r=PI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=E3(i.toString());cH(n,o,()=>o(n.currentUser)),uH(n,a=>o(a))}}const s=AI("auth");return s&&Wj(n,`http://${s}`),n}function I3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Vj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ni("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",I3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w3("Browser");function UC(t,e){return function(){return t.apply(e,arguments)}}const{toString:S3}=Object.prototype,{getPrototypeOf:O0}=Object,zm=(t=>e=>{const n=S3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ns=t=>(t=t.toLowerCase(),e=>zm(e)===t),Ym=t=>e=>typeof e===t,{isArray:Hu}=Array,$h=Ym("undefined");function P3(t){return t!==null&&!$h(t)&&t.constructor!==null&&!$h(t.constructor)&&ms(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const BC=Ns("ArrayBuffer");function R3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&BC(t.buffer),e}const C3=Ym("string"),ms=Ym("function"),jC=Ym("number"),qm=t=>t!==null&&typeof t=="object",D3=t=>t===!0||t===!1,$d=t=>{if(zm(t)!=="object")return!1;const e=O0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},k3=Ns("Date"),O3=Ns("File"),x3=Ns("Blob"),M3=Ns("FileList"),N3=t=>qm(t)&&ms(t.pipe),L3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ms(t.append)&&((e=zm(t))==="formdata"||e==="object"&&ms(t.toString)&&t.toString()==="[object FormData]"))},$3=Ns("URLSearchParams"),[V3,F3,U3,B3]=["ReadableStream","Request","Response","Headers"].map(Ns),j3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ef(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Hu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function HC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const zC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YC=t=>!$h(t)&&t!==zC;function hv(){const{caseless:t}=YC(this)&&this||{},e={},n=(r,s)=>{const i=t&&HC(e,s)||s;$d(e[i])&&$d(r)?e[i]=hv(e[i],r):$d(r)?e[i]=hv({},r):Hu(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ef(arguments[r],n);return e}const H3=(t,e,n,{allOwnKeys:r}={})=>(Ef(e,(s,i)=>{n&&ms(s)?t[i]=UC(s,n):t[i]=s},{allOwnKeys:r}),t),z3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Y3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},q3=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&O0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},W3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},G3=t=>{if(!t)return null;if(Hu(t))return t;let e=t.length;if(!jC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},K3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&O0(Uint8Array)),Q3=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},X3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},J3=Ns("HTMLFormElement"),Z3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),HE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ez=Ns("RegExp"),qC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ef(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},tz=t=>{qC(t,(e,n)=>{if(ms(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ms(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nz=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Hu(t)?r(t):r(String(t).split(e)),n},rz=()=>{},sz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,zg="abcdefghijklmnopqrstuvwxyz",zE="0123456789",WC={DIGIT:zE,ALPHA:zg,ALPHA_DIGIT:zg+zg.toUpperCase()+zE},iz=(t=16,e=WC.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function oz(t){return!!(t&&ms(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const az=t=>{const e=new Array(10),n=(r,s)=>{if(qm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Hu(r)?[]:{};return Ef(r,(o,a)=>{const l=n(o,s+1);!$h(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},lz=Ns("AsyncFunction"),uz=t=>t&&(qm(t)||ms(t))&&ms(t.then)&&ms(t.catch),Z={isArray:Hu,isArrayBuffer:BC,isBuffer:P3,isFormData:L3,isArrayBufferView:R3,isString:C3,isNumber:jC,isBoolean:D3,isObject:qm,isPlainObject:$d,isReadableStream:V3,isRequest:F3,isResponse:U3,isHeaders:B3,isUndefined:$h,isDate:k3,isFile:O3,isBlob:x3,isRegExp:ez,isFunction:ms,isStream:N3,isURLSearchParams:$3,isTypedArray:K3,isFileList:M3,forEach:Ef,merge:hv,extend:H3,trim:j3,stripBOM:z3,inherits:Y3,toFlatObject:q3,kindOf:zm,kindOfTest:Ns,endsWith:W3,toArray:G3,forEachEntry:Q3,matchAll:X3,isHTMLForm:J3,hasOwnProperty:HE,hasOwnProp:HE,reduceDescriptors:qC,freezeMethods:tz,toObjectSet:nz,toCamelCase:Z3,noop:rz,toFiniteNumber:sz,findKey:HC,global:zC,isContextDefined:YC,ALPHABET:WC,generateString:iz,isSpecCompliantForm:oz,toJSONObject:az,isAsyncFn:lz,isThenable:uz};function Ze(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}Z.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const GC=Ze.prototype,KC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{KC[t]={value:t}});Object.defineProperties(Ze,KC);Object.defineProperty(GC,"isAxiosError",{value:!0});Ze.from=(t,e,n,r,s,i)=>{const o=Object.create(GC);return Z.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ze.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const cz=null;function fv(t){return Z.isPlainObject(t)||Z.isArray(t)}function QC(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function YE(t,e,n){return t?t.concat(e).map(function(s,i){return s=QC(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function hz(t){return Z.isArray(t)&&!t.some(fv)}const fz=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function Wm(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!Z.isUndefined(A[_])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Z.isDate(g))return g.toISOString();if(!l&&Z.isBlob(g))throw new Ze("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(g)||Z.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,_,A){let S=g;if(g&&!A&&typeof g=="object"){if(Z.endsWith(_,"{}"))_=r?_:_.slice(0,-2),g=JSON.stringify(g);else if(Z.isArray(g)&&hz(g)||(Z.isFileList(g)||Z.endsWith(_,"[]"))&&(S=Z.toArray(g)))return _=QC(_),S.forEach(function(k,O){!(Z.isUndefined(k)||k===null)&&e.append(o===!0?YE([_],O,i):o===null?_:_+"[]",u(k))}),!1}return fv(g)?!0:(e.append(YE(A,_,i),u(g)),!1)}const f=[],d=Object.assign(fz,{defaultVisitor:c,convertValue:u,isVisitable:fv});function p(g,_){if(!Z.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(g),Z.forEach(g,function(S,M){(!(Z.isUndefined(S)||S===null)&&s.call(e,S,Z.isString(M)?M.trim():M,_,d))===!0&&p(S,_?_.concat(M):[M])}),f.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return p(t),e}function qE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function x0(t,e){this._pairs=[],t&&Wm(t,this,e)}const XC=x0.prototype;XC.append=function(e,n){this._pairs.push([e,n])};XC.toString=function(e){const n=e?function(r){return e.call(this,r,qE)}:qE;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function dz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JC(t,e,n){if(!e)return t;const r=n&&n.encode||dz,s=n&&n.serialize;let i;if(s?i=s(e,n):i=Z.isURLSearchParams(e)?e.toString():new x0(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class WE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ZC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pz=typeof URLSearchParams<"u"?URLSearchParams:x0,mz=typeof FormData<"u"?FormData:null,gz=typeof Blob<"u"?Blob:null,_z={isBrowser:!0,classes:{URLSearchParams:pz,FormData:mz,Blob:gz},protocols:["http","https","file","blob","url","data"]},M0=typeof window<"u"&&typeof document<"u",vz=(t=>M0&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),yz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wz=M0&&window.location.href||"http://localhost",bz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:M0,hasStandardBrowserEnv:vz,hasStandardBrowserWebWorkerEnv:yz,origin:wz},Symbol.toStringTag,{value:"Module"})),Cs={...bz,..._z};function Tz(t,e){return Wm(t,new Cs.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Cs.isNode&&Z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Ez(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Az(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function eD(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&Z.isArray(s)?s.length:o,l?(Z.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!Z.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&Z.isArray(s[o])&&(s[o]=Az(s[o])),!a)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(r,s)=>{e(Ez(r),s,n,0)}),n}return null}function Iz(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Af={transitional:ZC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Z.isObject(e);if(i&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return s?JSON.stringify(eD(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Tz(e,this.formSerializer).toString();if((a=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Wm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Iz(e)):e}],transformResponse:[function(e){const n=this.transitional||Af.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ze.from(a,Ze.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cs.classes.FormData,Blob:Cs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{Af.headers[t]={}});const Sz=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Pz=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&Sz[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},GE=Symbol("internals");function dc(t){return t&&String(t).trim().toLowerCase()}function Vd(t){return t===!1||t==null?t:Z.isArray(t)?t.map(Vd):String(t)}function Rz(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Cz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Yg(t,e,n,r,s){if(Z.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function Dz(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function kz(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Cr{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const c=dc(l);if(!c)throw new Error("header name must be a non-empty string");const f=Z.findKey(s,c);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=Vd(a))}const o=(a,l)=>Z.forEach(a,(u,c)=>i(u,c,l));if(Z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Z.isString(e)&&(e=e.trim())&&!Cz(e))o(Pz(e),n);else if(Z.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=dc(e),e){const r=Z.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Rz(s);if(Z.isFunction(n))return n.call(this,s,r);if(Z.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=dc(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Yg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=dc(o),o){const a=Z.findKey(r,o);a&&(!n||Yg(r,r[a],a,n))&&(delete r[a],s=!0)}}return Z.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Yg(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return Z.forEach(this,(s,i)=>{const o=Z.findKey(r,i);if(o){n[o]=Vd(s),delete n[i];return}const a=e?Dz(i):String(i).trim();a!==i&&delete n[i],n[a]=Vd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[GE]=this[GE]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=dc(o);r[a]||(kz(s,o),r[a]=!0)}return Z.isArray(e)?e.forEach(i):i(e),this}}Cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Cr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Z.freezeMethods(Cr);function qg(t,e){const n=this||Af,r=e||n,s=Cr.from(r.headers);let i=r.data;return Z.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function tD(t){return!!(t&&t.__CANCEL__)}function zu(t,e,n){Ze.call(this,t??"canceled",Ze.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(zu,Ze,{__CANCEL__:!0});function nD(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ze("Request failed with status code "+n.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Oz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xz(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let f=i,d=0;for(;f!==s;)d+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(d*1e3/p):void 0}}function Mz(t,e){let n=0;const r=1e3/e;let s=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return s&&(clearTimeout(s),s=null),n=a,t.apply(null,arguments);s||(s=setTimeout(()=>(s=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Op=(t,e,n=3)=>{let r=0;const s=xz(50,250);return Mz(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),c=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:i,lengthComputable:a!=null};f[e?"download":"upload"]=!0,t(f)},n)},Nz=Cs.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=Z.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),Lz=Cs.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];Z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Z.isString(r)&&o.push("path="+r),Z.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $z(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Vz(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rD(t,e){return t&&!$z(e)?Vz(t,e):e}const KE=t=>t instanceof Cr?{...t}:t;function rl(t,e){e=e||{};const n={};function r(u,c,f){return Z.isPlainObject(u)&&Z.isPlainObject(c)?Z.merge.call({caseless:f},u,c):Z.isPlainObject(c)?Z.merge({},c):Z.isArray(c)?c.slice():c}function s(u,c,f){if(Z.isUndefined(c)){if(!Z.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function i(u,c){if(!Z.isUndefined(c))return r(void 0,c)}function o(u,c){if(Z.isUndefined(c)){if(!Z.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>s(KE(u),KE(c),!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||s,d=f(t[c],e[c],c);Z.isUndefined(d)&&f!==a||(n[c]=d)}),n}const sD=t=>{const e=rl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Cr.from(o),e.url=JC(rD(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Z.isFormData(n)){if(Cs.hasStandardBrowserEnv||Cs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Cs.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&Nz(e.url))){const u=s&&i&&Lz.read(i);u&&o.set(s,u)}return e},Fz=typeof XMLHttpRequest<"u",Uz=Fz&&function(t){return new Promise(function(n,r){const s=sD(t);let i=s.data;const o=Cr.from(s.headers).normalize();let{responseType:a}=s,l;function u(){s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(s.method.toUpperCase(),s.url,!0),c.timeout=s.timeout;function f(){if(!c)return;const p=Cr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};nD(function(S){n(S),u()},function(S){r(S),u()},_),c=null}"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new Ze("Request aborted",Ze.ECONNABORTED,s,c)),c=null)},c.onerror=function(){r(new Ze("Network Error",Ze.ERR_NETWORK,s,c)),c=null},c.ontimeout=function(){let g=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||ZC;s.timeoutErrorMessage&&(g=s.timeoutErrorMessage),r(new Ze(g,_.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,s,c)),c=null},i===void 0&&o.setContentType(null),"setRequestHeader"in c&&Z.forEach(o.toJSON(),function(g,_){c.setRequestHeader(_,g)}),Z.isUndefined(s.withCredentials)||(c.withCredentials=!!s.withCredentials),a&&a!=="json"&&(c.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&c.addEventListener("progress",Op(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Op(s.onUploadProgress)),(s.cancelToken||s.signal)&&(l=p=>{c&&(r(!p||p.type?new zu(null,t,c):p),c.abort(),c=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const d=Oz(s.url);if(d&&Cs.protocols.indexOf(d)===-1){r(new Ze("Unsupported protocol "+d+":",Ze.ERR_BAD_REQUEST,t));return}c.send(i||null)})},Bz=(t,e)=>{let n=new AbortController,r;const s=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof Ze?u:new zu(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{s(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",s):l.unsubscribe(s))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{i&&clearTimeout(i),i=null}]},jz=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Hz=async function*(t,e,n){for await(const r of t)yield*jz(ArrayBuffer.isView(r)?r:await n(String(r)),e)},QE=(t,e,n,r,s)=>{const i=Hz(t,e,s);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:u}=await i.next();if(l){a.close(),r();return}let c=u.byteLength;n&&n(o+=c),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),i.return()}},{highWaterMark:2})},XE=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},Gm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iD=Gm&&typeof ReadableStream=="function",dv=Gm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),zz=iD&&(()=>{let t=!1;const e=new Request(Cs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),JE=64*1024,pv=iD&&!!(()=>{try{return Z.isReadableStream(new Response("").body)}catch{}})(),xp={stream:pv&&(t=>t.body)};Gm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xp[e]&&(xp[e]=Z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ze(`Response type '${e}' is not supported`,Ze.ERR_NOT_SUPPORT,r)})})})(new Response);const Yz=async t=>{if(t==null)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Z.isArrayBufferView(t))return t.byteLength;if(Z.isURLSearchParams(t)&&(t=t+""),Z.isString(t))return(await dv(t)).byteLength},qz=async(t,e)=>{const n=Z.toFiniteNumber(t.getContentLength());return n??Yz(e)},Wz=Gm&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:d}=sD(t);u=u?(u+"").toLowerCase():"text";let[p,g]=s||i||o?Bz([s,i],o):[],_,A;const S=()=>{!_&&setTimeout(()=>{p&&p.unsubscribe()}),_=!0};let M;try{if(l&&zz&&n!=="get"&&n!=="head"&&(M=await qz(c,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),T;Z.isFormData(r)&&(T=N.headers.get("content-type"))&&c.setContentType(T),N.body&&(r=QE(N.body,JE,XE(M,Op(l)),null,dv))}Z.isString(f)||(f=f?"cors":"omit"),A=new Request(e,{...d,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",withCredentials:f});let k=await fetch(A);const O=pv&&(u==="stream"||u==="response");if(pv&&(a||O)){const N={};["status","statusText","headers"].forEach(b=>{N[b]=k[b]});const T=Z.toFiniteNumber(k.headers.get("content-length"));k=new Response(QE(k.body,JE,a&&XE(T,Op(a,!0)),O&&S,dv),N)}u=u||"text";let x=await xp[Z.findKey(xp,u)||"text"](k,t);return!O&&S(),g&&g(),await new Promise((N,T)=>{nD(N,T,{data:x,headers:Cr.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:A})})}catch(k){throw S(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,t,A),{cause:k.cause||k}):Ze.from(k,k&&k.code,t,A)}}),mv={http:cz,xhr:Uz,fetch:Wz};Z.forEach(mv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ZE=t=>`- ${t}`,Gz=t=>Z.isFunction(t)||t===null||t===!1,oD={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!Gz(n)&&(r=mv[(o=String(n)).toLowerCase()],r===void 0))throw new Ze(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(ZE).join(`
`):" "+ZE(i[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:mv};function Wg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zu(null,t)}function e1(t){return Wg(t),t.headers=Cr.from(t.headers),t.data=qg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oD.getAdapter(t.adapter||Af.adapter)(t).then(function(r){return Wg(t),r.data=qg.call(t,t.transformResponse,r),r.headers=Cr.from(r.headers),r},function(r){return tD(r)||(Wg(t),r&&r.response&&(r.response.data=qg.call(t,t.transformResponse,r.response),r.response.headers=Cr.from(r.response.headers))),Promise.reject(r)})}const aD="1.7.2",N0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{N0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const t1={};N0.transitional=function(e,n,r){function s(i,o){return"[Axios v"+aD+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Ze(s(o," has been removed"+(n?" in "+n:"")),Ze.ERR_DEPRECATED);return n&&!t1[o]&&(t1[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function Kz(t,e,n){if(typeof t!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Ze("option "+i+" must be "+l,Ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ze("Unknown option "+i,Ze.ERR_BAD_OPTION)}}const gv={assertOptions:Kz,validators:N0},so=gv.validators;class Va{constructor(e){this.defaults=e,this.interceptors={request:new WE,response:new WE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=rl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&gv.assertOptions(r,{silentJSONParsing:so.transitional(so.boolean),forcedJSONParsing:so.transitional(so.boolean),clarifyTimeoutError:so.transitional(so.boolean)},!1),s!=null&&(Z.isFunction(s)?n.paramsSerializer={serialize:s}:gv.assertOptions(s,{encode:so.function,serialize:so.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Z.merge(i.common,i[n.method]);i&&Z.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Cr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,f=0,d;if(!l){const g=[e1.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),d=g.length,c=Promise.resolve(n);f<d;)c=c.then(g[f++],g[f++]);return c}d=a.length;let p=n;for(f=0;f<d;){const g=a[f++],_=a[f++];try{p=g(p)}catch(A){_.call(this,A);break}}try{c=e1.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=rl(this.defaults,e);const n=rD(e.baseURL,e.url);return JC(n,e.params,e.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(e){Va.prototype[e]=function(n,r){return this.request(rl(r||{},{method:e,url:n,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(rl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Va.prototype[e]=n(),Va.prototype[e+"Form"]=n(!0)});class L0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new zu(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new L0(function(s){e=s}),cancel:e}}}function Qz(t){return function(n){return t.apply(null,n)}}function Xz(t){return Z.isObject(t)&&t.isAxiosError===!0}const _v={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_v).forEach(([t,e])=>{_v[e]=t});function lD(t){const e=new Va(t),n=UC(Va.prototype.request,e);return Z.extend(n,Va.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return lD(rl(t,s))},n}const Tn=lD(Af);Tn.Axios=Va;Tn.CanceledError=zu;Tn.CancelToken=L0;Tn.isCancel=tD;Tn.VERSION=aD;Tn.toFormData=Wm;Tn.AxiosError=Ze;Tn.Cancel=Tn.CanceledError;Tn.all=function(e){return Promise.all(e)};Tn.spread=Qz;Tn.isAxiosError=Xz;Tn.mergeConfig=rl;Tn.AxiosHeaders=Cr;Tn.formToJSON=t=>eD(Z.isHTMLForm(t)?new FormData(t):t);Tn.getAdapter=oD.getAdapter;Tn.HttpStatusCode=_v;Tn.default=Tn;const Jz="https://api.themoviedb.org/3/",Zz={accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNDRkZWY0OTZkMGMzODdmMDZiNjMyZGYzZjZjYjIwZSIsIm5iZiI6MTcxOTQ3MDM2Mi44OTUzNDksInN1YiI6IjYwNGYzM2NmODcxYjM0MDAzYzk0NDg5ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.GK8vrQP-AmlzaFayj4cNG2zwKd9XpRZdn4NnjxhNV5w"},uD=async({path:t,method:e="get",opts:n})=>{let r=`${Jz+t}`;return console.log(n),await Tn({method:e,url:r,...n,headers:Zz})},e9="modulepreload",t9=function(t){return"/movie-record-vue-v2/"+t},n1={},kl=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(a=>{if(a=t9(a),a in n1)return;n1[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":e9,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fl=typeof document<"u";function n9(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const At=Object.assign;function Gg(t,e){const n={};for(const r in e){const s=e[r];n[r]=xs(s)?s.map(t):t(s)}return n}const rh=()=>{},xs=Array.isArray,cD=/#/g,r9=/&/g,s9=/\//g,i9=/=/g,o9=/\?/g,hD=/\+/g,a9=/%5B/g,l9=/%5D/g,fD=/%5E/g,u9=/%60/g,dD=/%7B/g,c9=/%7C/g,pD=/%7D/g,h9=/%20/g;function $0(t){return encodeURI(""+t).replace(c9,"|").replace(a9,"[").replace(l9,"]")}function f9(t){return $0(t).replace(dD,"{").replace(pD,"}").replace(fD,"^")}function vv(t){return $0(t).replace(hD,"%2B").replace(h9,"+").replace(cD,"%23").replace(r9,"%26").replace(u9,"`").replace(dD,"{").replace(pD,"}").replace(fD,"^")}function d9(t){return vv(t).replace(i9,"%3D")}function p9(t){return $0(t).replace(cD,"%23").replace(o9,"%3F")}function m9(t){return t==null?"":p9(t).replace(s9,"%2F")}function Vh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const g9=/\/$/,_9=t=>t.replace(g9,"");function Kg(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=b9(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Vh(o)}}function v9(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function r1(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function y9(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&bu(e.matched[r],n.matched[s])&&mD(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function bu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mD(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!w9(t[n],e[n]))return!1;return!0}function w9(t,e){return xs(t)?s1(t,e):xs(e)?s1(e,t):t===e}function s1(t,e){return xs(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function b9(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const io={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fh;(function(t){t.pop="pop",t.push="push"})(Fh||(Fh={}));var sh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(sh||(sh={}));function T9(t){if(!t)if(Fl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_9(t)}const E9=/^[^#]+#/;function A9(t,e){return t.replace(E9,"#")+e}function I9(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Km=()=>({left:window.scrollX,top:window.scrollY});function S9(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=I9(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function i1(t,e){return(history.state?history.state.position-e:-1)+t}const yv=new Map;function P9(t,e){yv.set(t,e)}function R9(t){const e=yv.get(t);return yv.delete(t),e}let C9=()=>location.protocol+"//"+location.host;function gD(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),r1(l,"")}return r1(n,t)+r+s}function D9(t,e,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const p=gD(t,location),g=n.value,_=e.value;let A=0;if(d){if(n.value=p,e.value=d,o&&o===g){o=null;return}A=_?d.position-_.position:0}else r(p);s.forEach(S=>{S(n.value,g,{delta:A,type:Fh.pop,direction:A?A>0?sh.forward:sh.back:sh.unknown})})};function l(){o=n.value}function u(d){s.push(d);const p=()=>{const g=s.indexOf(d);g>-1&&s.splice(g,1)};return i.push(p),p}function c(){const{history:d}=window;d.state&&d.replaceState(At({},d.state,{scroll:Km()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function o1(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Km():null}}function k9(t){const{history:e,location:n}=window,r={value:gD(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:C9()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),s.value=u}catch(p){console.error(p),n[c?"replace":"assign"](d)}}function o(l,u){const c=At({},e.state,o1(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=At({},s.value,e.state,{forward:l,scroll:Km()});i(c.current,c,!0);const f=At({},o1(r.value,l,null),{position:c.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function O9(t){t=T9(t);const e=k9(t),n=D9(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=At({location:"",base:t,go:r,createHref:A9.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function x9(t){return typeof t=="string"||t&&typeof t=="object"}function _D(t){return typeof t=="string"||typeof t=="symbol"}const vD=Symbol("");var a1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(a1||(a1={}));function Tu(t,e){return At(new Error,{type:t,[vD]:!0},e)}function yi(t,e){return t instanceof Error&&vD in t&&(e==null||!!(t.type&e))}const l1="[^/]+?",M9={sensitive:!1,strict:!1,start:!0,end:!0},N9=/[.+*?^${}()[\]/\\]/g;function L9(t,e){const n=At({},M9,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const d=u[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(N9,"\\$&"),p+=40;else if(d.type===1){const{value:g,repeatable:_,optional:A,regexp:S}=d;i.push({name:g,repeatable:_,optional:A});const M=S||l1;if(M!==l1){p+=10;try{new RegExp(`(${M})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${g}" (${M}): `+O.message)}}let k=_?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;f||(k=A&&u.length<2?`(?:/${k})`:"/"+k),A&&(k+="?"),s+=k,p+=20,A&&(p+=-8),_&&(p+=-20),M===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",g=i[d-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:_,optional:A}=p,S=g in u?u[g]:"";if(xs(S)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const M=xs(S)?S.join("/"):S;if(!M)if(A)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);c+=M}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function $9(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function yD(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=$9(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(u1(r))return 1;if(u1(s))return-1}return s.length-r.length}function u1(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const V9={type:0,value:""},F9=/[a-zA-Z0-9_]/;function U9(t){if(!t)return[[]];if(t==="/")return[[V9]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:F9.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function B9(t,e,n){const r=L9(U9(t.path),n),s=At(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function j9(t,e){const n=[],r=new Map;e=f1({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,d,p){const g=!p,_=H9(f);_.aliasOf=p&&p.record;const A=f1(e,f),S=[_];if("alias"in f){const O=typeof f.alias=="string"?[f.alias]:f.alias;for(const x of O)S.push(At({},_,{components:p?p.record.components:_.components,path:x,aliasOf:p?p.record:_}))}let M,k;for(const O of S){const{path:x}=O;if(d&&x[0]!=="/"){const N=d.record.path,T=N[N.length-1]==="/"?"":"/";O.path=d.record.path+(x&&T+x)}if(M=B9(O,d,A),p?p.alias.push(M):(k=k||M,k!==M&&k.alias.push(M),g&&f.name&&!h1(M)&&o(f.name)),wD(M)&&l(M),_.children){const N=_.children;for(let T=0;T<N.length;T++)i(N[T],M,p&&p.children[T])}p=p||M}return k?()=>{o(k)}:rh}function o(f){if(_D(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=q9(f,n);n.splice(d,0,f),f.record.name&&!h1(f)&&r.set(f.record.name,f)}function u(f,d){let p,g={},_,A;if("name"in f&&f.name){if(p=r.get(f.name),!p)throw Tu(1,{location:f});A=p.record.name,g=At(c1(d.params,p.keys.filter(k=>!k.optional).concat(p.parent?p.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),f.params&&c1(f.params,p.keys.map(k=>k.name))),_=p.stringify(g)}else if(f.path!=null)_=f.path,p=n.find(k=>k.re.test(_)),p&&(g=p.parse(_),A=p.record.name);else{if(p=d.name?r.get(d.name):n.find(k=>k.re.test(d.path)),!p)throw Tu(1,{location:f,currentLocation:d});A=p.record.name,g=At({},d.params,f.params),_=p.stringify(g)}const S=[];let M=p;for(;M;)S.unshift(M.record),M=M.parent;return{name:A,path:_,params:g,matched:S,meta:Y9(S)}}t.forEach(f=>i(f));function c(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:s}}function c1(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function H9(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:z9(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function z9(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function h1(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Y9(t){return t.reduce((e,n)=>At(e,n.meta),{})}function f1(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function q9(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;yD(t,e[i])<0?r=i:n=i+1}const s=W9(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function W9(t){let e=t;for(;e=e.parent;)if(wD(e)&&yD(t,e)===0)return e}function wD({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function G9(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(hD," "),o=i.indexOf("="),a=Vh(o<0?i:i.slice(0,o)),l=o<0?null:Vh(i.slice(o+1));if(a in e){let u=e[a];xs(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function d1(t){let e="";for(let n in t){const r=t[n];if(n=d9(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(xs(r)?r.map(i=>i&&vv(i)):[r&&vv(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function K9(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=xs(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Q9=Symbol(""),p1=Symbol(""),Qm=Symbol(""),V0=Symbol(""),wv=Symbol("");function pc(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function fo(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(Tu(4,{from:n,to:e})):d instanceof Error?l(d):x9(d)?l(Tu(2,{from:e,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function Qg(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(X9(l)){const c=(l.__vccOpts||l)[e];c&&i.push(fo(c,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=n9(c)?c.default:c;o.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&fo(p,n,r,o,a,s)()}))}}return i}function X9(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function m1(t){const e=Ln(Qm),n=Ln(V0),r=Q(()=>{const l=K(t.to);return e.resolve(l)}),s=Q(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(bu.bind(null,c));if(d>-1)return d;const p=g1(l[u-2]);return u>1&&g1(c)===p&&f[f.length-1].path!==p?f.findIndex(bu.bind(null,l[u-2])):d}),i=Q(()=>s.value>-1&&tY(n.params,r.value.params)),o=Q(()=>s.value>-1&&s.value===n.matched.length-1&&mD(n.params,r.value.params));function a(l={}){return eY(l)?e[K(t.replace)?"replace":"push"](K(t.to)).catch(rh):Promise.resolve()}return{route:r,href:Q(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const J9=zt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:m1,setup(t,{slots:e}){const n=br(m1(t)),{options:r}=Ln(Qm),s=Q(()=>({[_1(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_1(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:_0("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Z9=J9;function eY(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function tY(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!xs(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function g1(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _1=(t,e,n)=>t??e??n,nY=zt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ln(wv),s=Q(()=>t.route||r.value),i=Ln(p1,0),o=Q(()=>{let u=K(i);const{matched:c}=s.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=Q(()=>s.value.matched[o.value]);Mi(p1,Q(()=>o.value+1)),Mi(Q9,a),Mi(wv,s);const l=ke();return at(()=>[l.value,a.value,t.name],([u,c,f],[d,p,g])=>{c&&(c.instances[f]=u,p&&p!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!bu(c,p)||!d)&&(c.enterCallbacks[f]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=s.value,c=t.name,f=a.value,d=f&&f.components[c];if(!d)return v1(n.default,{Component:d,route:u});const p=f.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=_0(d,At({},g,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return v1(n.default,{Component:A,route:u})||A}}});function v1(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const bD=nY;function rY(t){const e=j9(t.routes,t),n=t.parseQuery||G9,r=t.stringifyQuery||d1,s=t.history,i=pc(),o=pc(),a=pc(),l=TF(io);let u=io;Fl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Gg.bind(null,z=>""+z),f=Gg.bind(null,m9),d=Gg.bind(null,Vh);function p(z,le){let W,ne;return _D(z)?(W=e.getRecordMatcher(z),ne=le):ne=z,e.addRoute(ne,W)}function g(z){const le=e.getRecordMatcher(z);le&&e.removeRoute(le)}function _(){return e.getRoutes().map(z=>z.record)}function A(z){return!!e.getRecordMatcher(z)}function S(z,le){if(le=At({},le||l.value),typeof z=="string"){const L=Kg(n,z,le.path),Y=e.resolve({path:L.path},le),X=s.createHref(L.fullPath);return At(L,Y,{params:d(Y.params),hash:Vh(L.hash),redirectedFrom:void 0,href:X})}let W;if(z.path!=null)W=At({},z,{path:Kg(n,z.path,le.path).path});else{const L=At({},z.params);for(const Y in L)L[Y]==null&&delete L[Y];W=At({},z,{params:f(L)}),le.params=f(le.params)}const ne=e.resolve(W,le),me=z.hash||"";ne.params=c(d(ne.params));const Ce=v9(r,At({},z,{hash:f9(me),path:ne.path})),D=s.createHref(Ce);return At({fullPath:Ce,hash:me,query:r===d1?K9(z.query):z.query||{}},ne,{redirectedFrom:void 0,href:D})}function M(z){return typeof z=="string"?Kg(n,z,l.value.path):At({},z)}function k(z,le){if(u!==z)return Tu(8,{from:le,to:z})}function O(z){return T(z)}function x(z){return O(At(M(z),{replace:!0}))}function N(z){const le=z.matched[z.matched.length-1];if(le&&le.redirect){const{redirect:W}=le;let ne=typeof W=="function"?W(z):W;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=M(ne):{path:ne},ne.params={}),At({query:z.query,hash:z.hash,params:ne.path!=null?{}:z.params},ne)}}function T(z,le){const W=u=S(z),ne=l.value,me=z.state,Ce=z.force,D=z.replace===!0,L=N(W);if(L)return T(At(M(L),{state:typeof L=="object"?At({},me,L.state):me,force:Ce,replace:D}),le||W);const Y=W;Y.redirectedFrom=le;let X;return!Ce&&y9(r,ne,W)&&(X=Tu(16,{to:Y,from:ne}),ce(ne,ne,!0,!1)),(X?Promise.resolve(X):I(Y,ne)).catch($=>yi($)?yi($,2)?$:R($):H($,Y,ne)).then($=>{if($){if(yi($,2))return T(At({replace:D},M($.to),{state:typeof $.to=="object"?At({},me,$.to.state):me,force:Ce}),le||Y)}else $=y(Y,ne,!0,D,me);return P(Y,ne,$),$})}function b(z,le){const W=k(z,le);return W?Promise.reject(W):Promise.resolve()}function w(z){const le=ge.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(z):z()}function I(z,le){let W;const[ne,me,Ce]=sY(z,le);W=Qg(ne.reverse(),"beforeRouteLeave",z,le);for(const L of ne)L.leaveGuards.forEach(Y=>{W.push(fo(Y,z,le))});const D=b.bind(null,z,le);return W.push(D),Oe(W).then(()=>{W=[];for(const L of i.list())W.push(fo(L,z,le));return W.push(D),Oe(W)}).then(()=>{W=Qg(me,"beforeRouteUpdate",z,le);for(const L of me)L.updateGuards.forEach(Y=>{W.push(fo(Y,z,le))});return W.push(D),Oe(W)}).then(()=>{W=[];for(const L of Ce)if(L.beforeEnter)if(xs(L.beforeEnter))for(const Y of L.beforeEnter)W.push(fo(Y,z,le));else W.push(fo(L.beforeEnter,z,le));return W.push(D),Oe(W)}).then(()=>(z.matched.forEach(L=>L.enterCallbacks={}),W=Qg(Ce,"beforeRouteEnter",z,le,w),W.push(D),Oe(W))).then(()=>{W=[];for(const L of o.list())W.push(fo(L,z,le));return W.push(D),Oe(W)}).catch(L=>yi(L,8)?L:Promise.reject(L))}function P(z,le,W){a.list().forEach(ne=>w(()=>ne(z,le,W)))}function y(z,le,W,ne,me){const Ce=k(z,le);if(Ce)return Ce;const D=le===io,L=Fl?history.state:{};W&&(ne||D?s.replace(z.fullPath,At({scroll:D&&L&&L.scroll},me)):s.push(z.fullPath,me)),l.value=z,ce(z,le,W,D),R()}let E;function B(){E||(E=s.listen((z,le,W)=>{if(!De.listening)return;const ne=S(z),me=N(ne);if(me){T(At(me,{replace:!0}),ne).catch(rh);return}u=ne;const Ce=l.value;Fl&&P9(i1(Ce.fullPath,W.delta),Km()),I(ne,Ce).catch(D=>yi(D,12)?D:yi(D,2)?(T(D.to,ne).then(L=>{yi(L,20)&&!W.delta&&W.type===Fh.pop&&s.go(-1,!1)}).catch(rh),Promise.reject()):(W.delta&&s.go(-W.delta,!1),H(D,ne,Ce))).then(D=>{D=D||y(ne,Ce,!1),D&&(W.delta&&!yi(D,8)?s.go(-W.delta,!1):W.type===Fh.pop&&yi(D,20)&&s.go(-1,!1)),P(ne,Ce,D)}).catch(rh)}))}let U=pc(),F=pc(),j;function H(z,le,W){R(z);const ne=F.list();return ne.length?ne.forEach(me=>me(z,le,W)):console.error(z),Promise.reject(z)}function ee(){return j&&l.value!==io?Promise.resolve():new Promise((z,le)=>{U.add([z,le])})}function R(z){return j||(j=!z,B(),U.list().forEach(([le,W])=>z?W(z):le()),U.reset()),z}function ce(z,le,W,ne){const{scrollBehavior:me}=t;if(!Fl||!me)return Promise.resolve();const Ce=!W&&R9(i1(z.fullPath,0))||(ne||!W)&&history.state&&history.state.scroll||null;return wn().then(()=>me(z,le,Ce)).then(D=>D&&S9(D)).catch(D=>H(D,z,le))}const te=z=>s.go(z);let ve;const ge=new Set,De={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:_,resolve:S,options:t,push:O,replace:x,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:F.add,isReady:ee,install(z){const le=this;z.component("RouterLink",Z9),z.component("RouterView",bD),z.config.globalProperties.$router=le,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>K(l)}),Fl&&!ve&&l.value===io&&(ve=!0,O(s.location).catch(me=>{}));const W={};for(const me in io)Object.defineProperty(W,me,{get:()=>l.value[me],enumerable:!0});z.provide(Qm,le),z.provide(V0,Hl(W)),z.provide(wv,l);const ne=z.unmount;ge.add(z),z.unmount=function(){ge.delete(z),ge.size<1&&(u=io,E&&E(),E=null,l.value=io,ve=!1,j=!1),ne()}}};function Oe(z){return z.reduce((le,W)=>le.then(()=>w(W)),Promise.resolve())}return De}function sY(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>bu(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>bu(u,l))||s.push(l))}return[n,r,s]}function iY(){return Ln(Qm)}function oY(t){return Ln(V0)}const _l=rY({history:O9("/movie-record-vue-v2/"),routes:[{path:"/:pathMatch(.*)*",redirect:"login"},{path:"/",name:"Home",component:()=>kl(()=>import("./index-Doj20N83.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:()=>kl(()=>import("./login-Dg3oM8p0.js"),__vite__mapDeps([2,3]))},{path:"/register",name:"register",component:()=>kl(()=>import("./register-C_rPOP0h.js"),__vite__mapDeps([4,5]))},{path:"/search",name:"search",component:()=>kl(()=>import("./search-BLVlykUS.js"),__vite__mapDeps([6,1])),meta:{requiresAuth:!0}},{path:"/:mediaType/:mediaID",name:"searched",component:()=>kl(()=>import("./search-detail-DBPyS4oS.js"),__vite__mapDeps([7,8])),meta:{requiresAuth:!0}},{path:"/list/:id",name:"MovieDetail",component:()=>kl(()=>import("./movie-detail-prevNXYG.js"),__vite__mapDeps([9,10])),meta:{requiresAuth:!0}}]});_l.beforeEach(async(t,e)=>{if(console.log(t.fullPath),!(t.fullPath==="/login"||t.fullPath==="/register"))try{const n=await TD();return t.meta.requiresAuth&&n,void 0}catch{return t.fullPath==="/login"?"/login":t.fullPath==="/register"?"/register":"/login"}});const Xm=zR("global",{state:()=>({user:{}}),getters:{},actions:{setUserStatus(t){this.user=t}}}),F0={28:"動作",12:"冒險",16:"動畫",35:"喜劇",80:"犯罪",99:"紀錄",18:"劇情",10751:"家庭",14:"奇幻",36:"歷史",27:"恐怖",10402:"音樂",9648:"懸疑",10749:"愛情",878:"科學",10770:"電視電影",53:"驚悚",10752:"戰爭",37:"西部",10759:"動作冒險",10762:"兒童",10763:"新聞",10764:"真人秀",10765:"科幻與奇幻",10766:"肥皂劇",10767:"脱口秀",10768:"戰爭與政治"},aY=Object.entries(F0).map(([t,e])=>({id:Number(t),label:e})),xae=async t=>uD({path:"search/multi",opts:t}),Mae=async(t,e)=>uD({path:t,opts:e}),vl=s2(),Uh=A3(),yl=()=>Xm().user.email,TD=async()=>{const t=Xm();return new Promise((e,n)=>{hH(Uh,r=>{r?(t.setUserStatus(r),e(r.email)):n(r)})})},Nae=async(t,e)=>lH(Uh,t,e).then(n=>{console.log(Uh,t,e);const r=n.user;console.log(r),_l.push({path:"/"})}).catch(n=>(console.log(n.code),n.code)),y1=()=>{const t=Xm();fH(Uh).then(()=>{_l.push("/login"),t.user={},console.log("登出成功，跳回首頁")}).catch(e=>{console.log("登出失敗",e)})},Lae=(t,e)=>{aH(Uh,t,e).then(n=>{const r=n.user;uP(cf(vl,"users",r.email),{uuid:r.uid,email:r.email}),_l.push("/")}).catch(n=>{console.log("error: ",n)})},$ae=async(t,e,n)=>{const{selectedStatusLists:r,selectedYearLists:s,selectedCategoryLists:i,selectedCountryLists:o,order:a,word:l}=e,u=yl(),c=[];if(t&&c.push(aa("type","==",t)),r.length>0){const _=r.indexOf("favorite"),A=r.indexOf("watched"),S=r.indexOf("to_be_watching");_!==-1&&c.push(aa("favorite","==",!0)),A!==-1&&c.push(aa("watched","==",!0)),S!==-1&&c.push(aa("watched","==",!1))}s.length>0&&c.push(aa("year","in",s)),o.length>0&&c.push(aa("country","in",o)),i.length>0&&c.push(aa("categoryList","array-contains-any",i));const f=nP(Dy(vl,`users/${u}/post`),...c,rP(l,a),...n?[p2(n)]:[],d2(20)),d=await lP(f),p=d.docs[d.docs.length-1];return{dataDoc:d.docs,latestDoc:p}},Vae=async t=>{try{const e=yl();if(e){const n=await y2(cf(vl,`users/${e}/post`,`${t}`));if(n.exists())return n.data();_l.push("/"),console.log("No such document!")}}catch(e){console.log(e)}},lY=async()=>{const t=await yl(),e=nP(Dy(vl,`users/${t}/post`),rP("year","asc")),n=await lP(e),r=new Set,s=new Set,i=new Set,o=[];n.docs.forEach(c=>{r.add(c.data().year),s.add(c.data().country),c.data().categoryList.forEach(d=>{i.add(d.id)}),o.push(c.data().name)});const a=Array.from(r),l=Array.from(s),u=Array.from(i).map(c=>({label:F0[c],id:c}));return{yearOptLists:a,countryOtpLists:l,categoryOtpList:u,nameLists:o}},uY=async t=>{const e=yl();if(e)try{await b2(Dy(vl,`users/${e}`,"post"),{...t,createAt:new Date().getTime()})}catch(n){console.log(n)}},cY=async t=>{const e=yl();return await kV(xV(UV,`images/${e}/${t.name}`),t).then(async n=>await OV(n.ref))},Fae=async(t,e)=>{const n=yl();await uP(cf(vl,`users/${n}/post/${t}`),e,{merge:!0})},Uae=async t=>{const e=yl();await w2(cf(vl,`users/${e}/post/`,t)),_l.push("/")},hY=zR("filter",{state:()=>({yearLists:[],countryLists:[],categoryLists:[],nameLists:[],currKey:"latest_addition",currFilterWord:"createAt",currOrder:"desc",currStatusLists:[],currYearLists:[],currCategoryLists:[],currCountyLists:[]}),getters:{getFilterList:t=>({selectedStatusLists:t.currStatusLists,selectedYearLists:t.currYearLists,selectedCategoryLists:t.currCategoryLists,selectedCountryLists:t.currCountyLists,order:t.currOrder,word:t.currFilterWord})},actions:{async setFilterLists(){const{yearOptLists:t,countryOtpLists:e,categoryOtpList:n,nameLists:r}=await lY();this.yearLists=t,this.countryLists=e,this.categoryLists=n,this.nameLists=r},setOrder(t){this.currKey=t.key,this.currOrder=t.slug,this.currFilterWord=t.filterWord},setCurrStatusList(t){this.currStatusLists=t},setCurrYearLists(t){this.currYearLists=t},setCurrCategoryLists(t){this.currCategoryLists=t},setCurrCountryLists(t){this.currCountyLists=t}}}),fY="/movie-record-vue-v2/images/register-logo.png",dY=["type","placeholder"],Xg={__name:"input",props:fR({placeholder:{type:String},type:{type:String,default:"text"}},{text:{},textModifiers:{}}),emits:["update:text"],setup(t){const e=LR(t,"text");return(n,r)=>Sr((oe(),Se("input",{type:t.type,class:"w-full rounded-none border-b bg-transparent px-1 py-2 text-white placeholder:text-placeholder focus:outline-none",placeholder:t.placeholder,"onUpdate:modelValue":r[0]||(r[0]=s=>e.value=s)},null,8,dY)),[[mB,e.value]])}},pY=["disabled"],mY={__name:"button",props:{text:{type:String},disable:{type:Boolean,default:!1}},setup(t){return(e,n)=>(oe(),Se("button",{class:"text-body-l-semibold w-full rounded-[8px] border border-primary py-2 text-center text-primary disabled:border-disable disabled:text-disable md:max-w-[329px]",disabled:!t.disable},It(t.text),9,pY))}},gY={class:"relative"},_Y={class:"group flex items-center"},vY=pe("i",{class:"icon-file-arrow-ip text-[24px]"},null,-1),yY={class:"dropdown-image group ml-2 flex-1 px-2"},wY={class:"absolute left-0 top-[-395px] z-10 hidden size-[80%] group-hover:block"},bY=["src"],TY={class:"cursor-pointer"},EY={key:0,class:"text-primary"},AY={key:1,class:"text-primary"},IY={__name:"upload-image",props:{imgUrl:{type:String},movieName:{type:String}},emits:["imageData"],setup(t,{emit:e}){const n=e,r=t,s=ke(null),i=ke("上傳海報"),o=ke("");ke(!1),r.movieName&&r.imgUrl&&(i.value=r.movieName,o.value=r.imgUrl);const a=l=>{s.value=l.target.files[0],i.value=l.target.files[0].name;const u=new FileReader;u.readAsDataURL(s.value),u.onload=c=>{o.value=c.target.result;let f=new Image;f.src=c.target.result,f.onload=()=>{const d=f.width,p=f.height;if(d>p){alert("圖片比例不對"),o.value="";return}d<420&&p<500&&(o.value="",alert("圖片尺寸沒有420 * 500 "))}},n("imageData",s.value)};return(l,u)=>(oe(),Se("div",gY,[pe("div",_Y,[vY,pe("div",yY,[pe("p",null,It(i.value),1),pe("div",wY,[pe("img",{src:o.value,alt:""},null,8,bY)])]),pe("label",TY,[o.value?(oe(),Se("p",AY,"更換圖片")):(oe(),Se("p",EY,"選擇圖片")),pe("input",{type:"file",accept:"image/*",class:"hidden",onChange:a},null,32)])])]))}},SY={key:0,class:"absolute size-full rounded-[4px] bg-primary"},PY=pe("i",{class:"icon-check text-[20px] text-second"},null,-1),RY=[PY],w1={__name:"checkbox",props:{title:{type:String},current:{type:Boolean,default:()=>!1}},emits:["selected"],setup(t,{emit:e}){const n=t,r=e,s=ke(n.current),i=()=>{s.value=!s.value,r("selected",s.value)};return(o,a)=>(oe(),Se("div",{onClick:a[0]||(a[0]=l=>i()),class:"flex cursor-pointer items-center justify-between"},[pe("p",null,It(t.title),1),pe("div",{class:Pt(["relative size-[20px] rounded-[4px]",{border:!s.value}])},[s.value?(oe(),Se("div",SY,RY)):rt("",!0)],2)]))}},CY={class:"flex justify-between"},DY=pe("p",null,"評分",-1),kY={class:"flex"},OY=["onMouseenter","onClick"],xY={class:"flex"},MY={key:0},NY=pe("i",{class:"icon-star text-[24px]"},null,-1),LY=[NY],$Y={key:1},VY=pe("i",{class:"icon-star-fill text-[24px]"},null,-1),FY=[VY],UY={__name:"star",props:{current:{type:Number}},emits:["selected"],setup(t,{emit:e}){const n=t,r=e,s=ke(!1),i=ke(0);n.current&&(i.value=n.current,s.value=!0);const o=u=>{s.value=!s.value,i.value=u,s.value?r("selected",i.value):r("selected",0)},a=u=>{s.value||(i.value=u)},l=()=>{s.value||(i.value=-1)};return(u,c)=>(oe(),Se("div",CY,[DY,pe("div",kY,[(oe(),Se(ft,null,Nn(5,f=>pe("div",{key:f,onMouseenter:d=>a(f),onMouseleave:l,onClick:d=>o(f)},[pe("div",xY,[i.value<f?(oe(),Se("div",MY,LY)):rt("",!0),i.value>=f?(oe(),Se("div",$Y,FY)):rt("",!0)])],40,OY)),64))])]))}};function Jg(t){return t===0?!1:Array.isArray(t)&&t.length===0?!0:!t}function BY(t){return(...e)=>!t(...e)}function jY(t,e){return t===void 0&&(t="undefined"),t===null&&(t="null"),t===!1&&(t="false"),t.toString().toLowerCase().indexOf(e.trim())!==-1}function ED(t,e,n,r){return e?t.filter(s=>jY(r(s,n),e)).sort((s,i)=>r(s,n).length-r(i,n).length):t}function HY(t){return t.filter(e=>!e.$isLabel)}function Zg(t,e){return n=>n.reduce((r,s)=>s[t]&&s[t].length?(r.push({$groupLabel:s[e],$isLabel:!0}),r.concat(s[t])):r,[])}function zY(t,e,n,r,s){return i=>i.map(o=>{if(!o[n])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const a=ED(o[n],t,e,s);return a.length?{[r]:o[r],[n]:a}:[]})}const b1=(...t)=>e=>t.reduce((n,r)=>r(n),e);var YY={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(t,e){return Jg(t)?"":e?t[e]:t}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const t=this.search||"",e=t.toLowerCase().trim();let n=this.options.concat();return this.internalSearch?n=this.groupValues?this.filterAndFlat(n,e,this.label):ED(n,e,this.label,this.customLabel):n=this.groupValues?Zg(this.groupValues,this.groupLabel)(n):n,n=this.hideSelected?n.filter(BY(this.isSelected)):n,this.taggable&&e.length&&!this.isExistingOption(e)&&(this.tagPosition==="bottom"?n.push({isTag:!0,label:t}):n.unshift({isTag:!0,label:t})),n.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(t=>t[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(e=>this.customLabel(e,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(t,e,n){return b1(zY(e,n,this.groupValues,this.groupLabel,this.customLabel),Zg(this.groupValues,this.groupLabel))(t)},flatAndStrip(t){return b1(Zg(this.groupValues,this.groupLabel),HY)(t)},updateSearch(t){this.search=t},isExistingOption(t){return this.options?this.optionKeys.indexOf(t)>-1:!1},isSelected(t){const e=this.trackBy?t[this.trackBy]:t;return this.valueKeys.indexOf(e)>-1},isOptionDisabled(t){return!!t.$isDisabled},getOptionLabel(t){if(Jg(t))return"";if(t.isTag)return t.label;if(t.$isLabel)return t.$groupLabel;const e=this.customLabel(t,this.label);return Jg(e)?"":e},select(t,e){if(t.$isLabel&&this.groupSelect){this.selectGroup(t);return}if(!(this.blockKeys.indexOf(e)!==-1||this.disabled||t.$isDisabled||t.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(e==="Tab"&&!this.pointerDirty)){if(t.isTag)this.$emit("tag",t.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(t)){e!=="Tab"&&this.removeElement(t);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([t])):this.$emit("update:modelValue",t),this.$emit("select",t,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(t){const e=this.options.find(n=>n[this.groupLabel]===t.$groupLabel);if(e){if(this.wholeGroupSelected(e)){this.$emit("remove",e[this.groupValues],this.id);const n=this.trackBy?e[this.groupValues].map(s=>s[this.trackBy]):e[this.groupValues],r=this.internalValue.filter(s=>n.indexOf(this.trackBy?s[this.trackBy]:s)===-1);this.$emit("update:modelValue",r)}else{let n=e[this.groupValues].filter(r=>!(this.isOptionDisabled(r)||this.isSelected(r)));this.max&&n.splice(this.max-this.internalValue.length),this.$emit("select",n,this.id),this.$emit("update:modelValue",this.internalValue.concat(n))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(t){return t[this.groupValues].every(e=>this.isSelected(e)||this.isOptionDisabled(e))},wholeGroupDisabled(t){return t[this.groupValues].every(this.isOptionDisabled)},removeElement(t,e=!0){if(this.disabled||t.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const n=typeof t=="object"?this.valueKeys.indexOf(t[this.trackBy]):this.valueKeys.indexOf(t);if(this.multiple){const r=this.internalValue.slice(0,n).concat(this.internalValue.slice(n+1));this.$emit("update:modelValue",r)}else this.$emit("update:modelValue",null);this.$emit("remove",t,this.id),this.closeOnSelect&&e&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const t=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>t||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(t-40,this.maxHeight))}}},qY={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(t,e){return{"multiselect__option--highlight":t===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight(t,e){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":e.$isLabel}];const n=this.options.find(r=>r[this.groupLabel]===e.$groupLabel);return n&&!this.wholeGroupDisabled(n)?["multiselect__option--group",{"multiselect__option--highlight":t===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(n)}]:"multiselect__option--disabled"},addPointerElement({key:t}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(t){this.pointer=t,this.pointerDirty=!0}}},U0={name:"vue-multiselect",mixins:[YY,qY],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:t=>`and ${t} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}};const WY={ref:"tags",class:"multiselect__tags"},GY={class:"multiselect__tags-wrap"},KY={class:"multiselect__spinner"},QY={key:0},XY={class:"multiselect__option"},JY={class:"multiselect__option"},ZY=$n("No elements found. Consider changing the search query."),e6={class:"multiselect__option"},t6=$n("List is empty.");function n6(t,e,n,r,s,i){return oe(),ot("div",{tabindex:t.searchable?-1:n.tabindex,class:[{"multiselect--active":t.isOpen,"multiselect--disabled":n.disabled,"multiselect--above":i.isAbove,"multiselect--has-options-group":i.hasOptionGroup},"multiselect"],onFocus:e[14]||(e[14]=o=>t.activate()),onBlur:e[15]||(e[15]=o=>t.searchable?!1:t.deactivate()),onKeydown:[e[16]||(e[16]=Br(nn(o=>t.pointerForward(),["self","prevent"]),["down"])),e[17]||(e[17]=Br(nn(o=>t.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:e[18]||(e[18]=Br(nn(o=>t.addPointerElement(o),["stop","self"]),["enter","tab"])),onKeyup:e[19]||(e[19]=Br(o=>t.deactivate(),["esc"])),role:"combobox","aria-owns":"listbox-"+t.id},[rn(t.$slots,"caret",{toggle:t.toggle},()=>[ye("div",{onMousedown:e[1]||(e[1]=nn(o=>t.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),rn(t.$slots,"clear",{search:t.search}),ye("div",WY,[rn(t.$slots,"selection",{search:t.search,remove:t.removeElement,values:i.visibleValues,isOpen:t.isOpen},()=>[Sr(ye("div",GY,[(oe(!0),ot(ft,null,Nn(i.visibleValues,(o,a)=>rn(t.$slots,"tag",{option:o,search:t.search,remove:t.removeElement},()=>[(oe(),ot("span",{class:"multiselect__tag",key:a},[ye("span",{textContent:It(t.getOptionLabel(o))},null,8,["textContent"]),ye("i",{tabindex:"1",onKeypress:Br(nn(l=>t.removeElement(o),["prevent"]),["enter"]),onMousedown:nn(l=>t.removeElement(o),["prevent"]),class:"multiselect__tag-icon"},null,40,["onKeypress","onMousedown"])]))])),256))],512),[[Is,i.visibleValues.length>0]]),t.internalValue&&t.internalValue.length>n.limit?rn(t.$slots,"limit",{key:0},()=>[ye("strong",{class:"multiselect__strong",textContent:It(n.limitText(t.internalValue.length-n.limit))},null,8,["textContent"])]):rt("v-if",!0)]),ye(jo,{name:"multiselect__loading"},{default:gt(()=>[rn(t.$slots,"loading",{},()=>[Sr(ye("div",KY,null,512),[[Is,n.loading]])])]),_:3}),t.searchable?(oe(),ot("input",{key:0,ref:"search",name:n.name,id:t.id,type:"text",autocomplete:"off",spellcheck:!1,placeholder:t.placeholder,style:i.inputStyle,value:t.search,disabled:n.disabled,tabindex:n.tabindex,onInput:e[2]||(e[2]=o=>t.updateSearch(o.target.value)),onFocus:e[3]||(e[3]=nn(o=>t.activate(),["prevent"])),onBlur:e[4]||(e[4]=nn(o=>t.deactivate(),["prevent"])),onKeyup:e[5]||(e[5]=Br(o=>t.deactivate(),["esc"])),onKeydown:[e[6]||(e[6]=Br(nn(o=>t.pointerForward(),["prevent"]),["down"])),e[7]||(e[7]=Br(nn(o=>t.pointerBackward(),["prevent"]),["up"])),e[9]||(e[9]=Br(nn(o=>t.removeLastElement(),["stop"]),["delete"]))],onKeypress:e[8]||(e[8]=Br(nn(o=>t.addPointerElement(o),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+t.id},null,44,["name","id","placeholder","value","disabled","tabindex","aria-controls"])):rt("v-if",!0),i.isSingleLabelVisible?(oe(),ot("span",{key:1,class:"multiselect__single",onMousedown:e[10]||(e[10]=nn((...o)=>t.toggle&&t.toggle(...o),["prevent"]))},[rn(t.$slots,"singleLabel",{option:i.singleValue},()=>[$n(It(t.currentOptionLabel),1)])],32)):rt("v-if",!0),i.isPlaceholderVisible?(oe(),ot("span",{key:2,class:"multiselect__placeholder",onMousedown:e[11]||(e[11]=nn((...o)=>t.toggle&&t.toggle(...o),["prevent"]))},[rn(t.$slots,"placeholder",{},()=>[$n(It(t.placeholder),1)])],32)):rt("v-if",!0)],512),ye(jo,{name:"multiselect"},{default:gt(()=>[Sr(ye("div",{class:"multiselect__content-wrapper",onFocus:e[12]||(e[12]=(...o)=>t.activate&&t.activate(...o)),tabindex:"-1",onMousedown:e[13]||(e[13]=nn(()=>{},["prevent"])),style:{maxHeight:t.optimizedHeight+"px"},ref:"list"},[ye("ul",{class:"multiselect__content",style:i.contentStyle,role:"listbox",id:"listbox-"+t.id},[rn(t.$slots,"beforeList"),t.multiple&&t.max===t.internalValue.length?(oe(),ot("li",QY,[ye("span",XY,[rn(t.$slots,"maxElements",{},()=>[$n("Maximum of "+It(t.max)+" options selected. First remove a selected option to select another.",1)])])])):rt("v-if",!0),!t.max||t.internalValue.length<t.max?(oe(!0),ot(ft,{key:1},Nn(t.filteredOptions,(o,a)=>(oe(),ot("li",{class:"multiselect__element",key:a,id:t.id+"-"+a,role:o&&(o.$isLabel||o.$isDisabled)?null:"option"},[o&&(o.$isLabel||o.$isDisabled)?rt("v-if",!0):(oe(),ot("span",{key:0,class:[t.optionHighlight(a,o),"multiselect__option"],onClick:nn(l=>t.select(o),["stop"]),onMouseenter:nn(l=>t.pointerSet(a),["self"]),"data-select":o&&o.isTag?t.tagPlaceholder:i.selectLabelText,"data-selected":i.selectedLabelText,"data-deselect":i.deselectLabelText},[rn(t.$slots,"option",{option:o,search:t.search,index:a},()=>[ye("span",null,It(t.getOptionLabel(o)),1)])],42,["onClick","onMouseenter","data-select","data-selected","data-deselect"])),o&&(o.$isLabel||o.$isDisabled)?(oe(),ot("span",{key:1,"data-select":t.groupSelect&&i.selectGroupLabelText,"data-deselect":t.groupSelect&&i.deselectGroupLabelText,class:[t.groupHighlight(a,o),"multiselect__option"],onMouseenter:nn(l=>t.groupSelect&&t.pointerSet(a),["self"]),onMousedown:nn(l=>t.selectGroup(o),["prevent"])},[rn(t.$slots,"option",{option:o,search:t.search,index:a},()=>[ye("span",null,It(t.getOptionLabel(o)),1)])],42,["data-select","data-deselect","onMouseenter","onMousedown"])):rt("v-if",!0)],8,["id","role"]))),128)):rt("v-if",!0),Sr(ye("li",null,[ye("span",JY,[rn(t.$slots,"noResult",{search:t.search},()=>[ZY])])],512),[[Is,n.showNoResults&&t.filteredOptions.length===0&&t.search&&!n.loading]]),Sr(ye("li",null,[ye("span",e6,[rn(t.$slots,"noOptions",{},()=>[t6])])],512),[[Is,n.showNoOptions&&(t.options.length===0||i.hasOptionGroup===!0&&t.filteredOptions.length===0)&&!t.search&&!n.loading]]),rn(t.$slots,"afterList")],12,["id"])],36),[[Is,t.isOpen]])]),_:3})],42,["tabindex","aria-owns"])}U0.render=n6;const r6={movie:"電影",tv:"電視劇",cartoon:"動漫"},If=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},s6=t=>(pf("data-v-a074eb6b"),t=t(),mf(),t),i6=s6(()=>pe("template",{slot:"caret","slot-scope":"{ option }"},[$n(" 123 ")],-1)),o6={__name:"type-select",props:{attrSelected:{type:String}},emits:["selected"],setup(t,{emit:e}){const n=e,r=t,s=ke(""),i=Q(()=>Object.entries(r6).map(([a,l])=>({title:l,slug:a}))),o=i.value.find(a=>a.slug===r.attrSelected);return s.value=o,at(s,a=>{n("selected",a.slug)}),(a,l)=>(oe(),ot(K(U0),{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=u=>s.value=u),options:i.value,"show-labels":!1,searchable:!1,placeholder:"種類","track-by":"title",label:"title"},{default:gt(()=>[i6]),_:1},8,["modelValue","options"]))}},a6=If(o6,[["__scopeId","data-v-a074eb6b"]]);var Dr="top",ys="bottom",ws="right",kr="left",B0="auto",Sf=[Dr,ys,ws,kr],Eu="start",Bh="end",l6="clippingParents",AD="viewport",mc="popper",u6="reference",T1=Sf.reduce(function(t,e){return t.concat([e+"-"+Eu,e+"-"+Bh])},[]),ID=[].concat(Sf,[B0]).reduce(function(t,e){return t.concat([e,e+"-"+Eu,e+"-"+Bh])},[]),c6="beforeRead",h6="read",f6="afterRead",d6="beforeMain",p6="main",m6="afterMain",g6="beforeWrite",_6="write",v6="afterWrite",y6=[c6,h6,f6,d6,p6,m6,g6,_6,v6];function ci(t){return t?(t.nodeName||"").toLowerCase():null}function Jr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function sl(t){var e=Jr(t).Element;return t instanceof e||t instanceof Element}function gs(t){var e=Jr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function j0(t){if(typeof ShadowRoot>"u")return!1;var e=Jr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function w6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!gs(i)||!ci(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function b6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!gs(s)||!ci(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const T6={name:"applyStyles",enabled:!0,phase:"write",fn:w6,effect:b6,requires:["computeStyles"]};function si(t){return t.split("-")[0]}var Fa=Math.max,Mp=Math.min,Au=Math.round;function bv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function SD(){return!/^((?!chrome|android).)*safari/i.test(bv())}function Iu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&gs(t)&&(s=t.offsetWidth>0&&Au(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Au(r.height)/t.offsetHeight||1);var o=sl(t)?Jr(t):window,a=o.visualViewport,l=!SD()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/s,c=(r.top+(l&&a?a.offsetTop:0))/i,f=r.width/s,d=r.height/i;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function H0(t){var e=Iu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function PD(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&j0(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bi(t){return Jr(t).getComputedStyle(t)}function E6(t){return["table","td","th"].indexOf(ci(t))>=0}function ta(t){return((sl(t)?t.ownerDocument:t.document)||window.document).documentElement}function Jm(t){return ci(t)==="html"?t:t.assignedSlot||t.parentNode||(j0(t)?t.host:null)||ta(t)}function E1(t){return!gs(t)||Bi(t).position==="fixed"?null:t.offsetParent}function A6(t){var e=/firefox/i.test(bv()),n=/Trident/i.test(bv());if(n&&gs(t)){var r=Bi(t);if(r.position==="fixed")return null}var s=Jm(t);for(j0(s)&&(s=s.host);gs(s)&&["html","body"].indexOf(ci(s))<0;){var i=Bi(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Pf(t){for(var e=Jr(t),n=E1(t);n&&E6(n)&&Bi(n).position==="static";)n=E1(n);return n&&(ci(n)==="html"||ci(n)==="body"&&Bi(n).position==="static")?e:n||A6(t)||e}function z0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ih(t,e,n){return Fa(t,Mp(e,n))}function I6(t,e,n){var r=ih(t,e,n);return r>n?n:r}function RD(){return{top:0,right:0,bottom:0,left:0}}function CD(t){return Object.assign({},RD(),t)}function DD(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var S6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,CD(typeof e!="number"?e:DD(e,Sf))};function P6(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=si(n.placement),l=z0(a),u=[kr,ws].indexOf(a)>=0,c=u?"height":"width";if(!(!i||!o)){var f=S6(s.padding,n),d=H0(i),p=l==="y"?Dr:kr,g=l==="y"?ys:ws,_=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],A=o[l]-n.rects.reference[l],S=Pf(i),M=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,k=_/2-A/2,O=f[p],x=M-d[c]-f[g],N=M/2-d[c]/2+k,T=ih(O,N,x),b=l;n.modifiersData[r]=(e={},e[b]=T,e.centerOffset=T-N,e)}}function R6(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||PD(e.elements.popper,s)&&(e.elements.arrow=s))}const C6={name:"arrow",enabled:!0,phase:"main",fn:P6,effect:R6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Su(t){return t.split("-")[1]}var D6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function k6(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Au(n*s)/s||0,y:Au(r*s)/s||0}}function A1(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=o.x,p=d===void 0?0:d,g=o.y,_=g===void 0?0:g,A=typeof c=="function"?c({x:p,y:_}):{x:p,y:_};p=A.x,_=A.y;var S=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),k=kr,O=Dr,x=window;if(u){var N=Pf(n),T="clientHeight",b="clientWidth";if(N===Jr(n)&&(N=ta(n),Bi(N).position!=="static"&&a==="absolute"&&(T="scrollHeight",b="scrollWidth")),N=N,s===Dr||(s===kr||s===ws)&&i===Bh){O=ys;var w=f&&N===x&&x.visualViewport?x.visualViewport.height:N[T];_-=w-r.height,_*=l?1:-1}if(s===kr||(s===Dr||s===ys)&&i===Bh){k=ws;var I=f&&N===x&&x.visualViewport?x.visualViewport.width:N[b];p-=I-r.width,p*=l?1:-1}}var P=Object.assign({position:a},u&&D6),y=c===!0?k6({x:p,y:_},Jr(n)):{x:p,y:_};if(p=y.x,_=y.y,l){var E;return Object.assign({},P,(E={},E[O]=M?"0":"",E[k]=S?"0":"",E.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",E))}return Object.assign({},P,(e={},e[O]=M?_+"px":"",e[k]=S?p+"px":"",e.transform="",e))}function O6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:si(e.placement),variation:Su(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,A1(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,A1(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const x6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:O6,data:{}};var od={passive:!0};function M6(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Jr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,od)}),a&&l.addEventListener("resize",n.update,od),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,od)}),a&&l.removeEventListener("resize",n.update,od)}}const N6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:M6,data:{}};var L6={left:"right",right:"left",bottom:"top",top:"bottom"};function Fd(t){return t.replace(/left|right|bottom|top/g,function(e){return L6[e]})}var $6={start:"end",end:"start"};function I1(t){return t.replace(/start|end/g,function(e){return $6[e]})}function Y0(t){var e=Jr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function q0(t){return Iu(ta(t)).left+Y0(t).scrollLeft}function V6(t,e){var n=Jr(t),r=ta(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var u=SD();(u||!u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+q0(t),y:l}}function F6(t){var e,n=ta(t),r=Y0(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Fa(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Fa(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+q0(t),l=-r.scrollTop;return Bi(s||n).direction==="rtl"&&(a+=Fa(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function W0(t){var e=Bi(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function kD(t){return["html","body","#document"].indexOf(ci(t))>=0?t.ownerDocument.body:gs(t)&&W0(t)?t:kD(Jm(t))}function oh(t,e){var n;e===void 0&&(e=[]);var r=kD(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Jr(r),o=s?[i].concat(i.visualViewport||[],W0(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(oh(Jm(o)))}function Tv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function U6(t,e){var n=Iu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function S1(t,e,n){return e===AD?Tv(V6(t,n)):sl(e)?U6(e,n):Tv(F6(ta(t)))}function B6(t){var e=oh(Jm(t)),n=["absolute","fixed"].indexOf(Bi(t).position)>=0,r=n&&gs(t)?Pf(t):t;return sl(r)?e.filter(function(s){return sl(s)&&PD(s,r)&&ci(s)!=="body"}):[]}function j6(t,e,n,r){var s=e==="clippingParents"?B6(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,u){var c=S1(t,u,r);return l.top=Fa(c.top,l.top),l.right=Mp(c.right,l.right),l.bottom=Mp(c.bottom,l.bottom),l.left=Fa(c.left,l.left),l},S1(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function OD(t){var e=t.reference,n=t.element,r=t.placement,s=r?si(r):null,i=r?Su(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case Dr:l={x:o,y:e.y-n.height};break;case ys:l={x:o,y:e.y+e.height};break;case ws:l={x:e.x+e.width,y:a};break;case kr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=s?z0(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Eu:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Bh:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function jh(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?l6:a,u=n.rootBoundary,c=u===void 0?AD:u,f=n.elementContext,d=f===void 0?mc:f,p=n.altBoundary,g=p===void 0?!1:p,_=n.padding,A=_===void 0?0:_,S=CD(typeof A!="number"?A:DD(A,Sf)),M=d===mc?u6:mc,k=t.rects.popper,O=t.elements[g?M:d],x=j6(sl(O)?O:O.contextElement||ta(t.elements.popper),l,c,o),N=Iu(t.elements.reference),T=OD({reference:N,element:k,strategy:"absolute",placement:s}),b=Tv(Object.assign({},k,T)),w=d===mc?b:N,I={top:x.top-w.top+S.top,bottom:w.bottom-x.bottom+S.bottom,left:x.left-w.left+S.left,right:w.right-x.right+S.right},P=t.modifiersData.offset;if(d===mc&&P){var y=P[s];Object.keys(I).forEach(function(E){var B=[ws,ys].indexOf(E)>=0?1:-1,U=[Dr,ys].indexOf(E)>=0?"y":"x";I[E]+=y[U]*B})}return I}function H6(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?ID:l,c=Su(r),f=c?a?T1:T1.filter(function(g){return Su(g)===c}):Sf,d=f.filter(function(g){return u.indexOf(g)>=0});d.length===0&&(d=f);var p=d.reduce(function(g,_){return g[_]=jh(t,{placement:_,boundary:s,rootBoundary:i,padding:o})[si(_)],g},{});return Object.keys(p).sort(function(g,_){return p[g]-p[_]})}function z6(t){if(si(t)===B0)return[];var e=Fd(t);return[I1(t),e,I1(e)]}function Y6(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,_=n.allowedAutoPlacements,A=e.options.placement,S=si(A),M=S===A,k=l||(M||!g?[Fd(A)]:z6(A)),O=[A].concat(k).reduce(function(ge,De){return ge.concat(si(De)===B0?H6(e,{placement:De,boundary:c,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:_}):De)},[]),x=e.rects.reference,N=e.rects.popper,T=new Map,b=!0,w=O[0],I=0;I<O.length;I++){var P=O[I],y=si(P),E=Su(P)===Eu,B=[Dr,ys].indexOf(y)>=0,U=B?"width":"height",F=jh(e,{placement:P,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),j=B?E?ws:kr:E?ys:Dr;x[U]>N[U]&&(j=Fd(j));var H=Fd(j),ee=[];if(i&&ee.push(F[y]<=0),a&&ee.push(F[j]<=0,F[H]<=0),ee.every(function(ge){return ge})){w=P,b=!1;break}T.set(P,ee)}if(b)for(var R=g?3:1,ce=function(De){var Oe=O.find(function(z){var le=T.get(z);if(le)return le.slice(0,De).every(function(W){return W})});if(Oe)return w=Oe,"break"},te=R;te>0;te--){var ve=ce(te);if(ve==="break")break}e.placement!==w&&(e.modifiersData[r]._skip=!0,e.placement=w,e.reset=!0)}}const q6={name:"flip",enabled:!0,phase:"main",fn:Y6,requiresIfExists:["offset"],data:{_skip:!1}};function P1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function R1(t){return[Dr,ws,ys,kr].some(function(e){return t[e]>=0})}function W6(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=jh(e,{elementContext:"reference"}),a=jh(e,{altBoundary:!0}),l=P1(o,r),u=P1(a,s,i),c=R1(l),f=R1(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const G6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:W6};function K6(t,e,n){var r=si(t),s=[kr,Dr].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[kr,ws].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Q6(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=ID.reduce(function(c,f){return c[f]=K6(f,e.rects,i),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const X6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q6};function J6(t){var e=t.state,n=t.name;e.modifiersData[n]=OD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Z6={name:"popperOffsets",enabled:!0,phase:"read",fn:J6,data:{}};function eq(t){return t==="x"?"y":"x"}function tq(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,g=n.tetherOffset,_=g===void 0?0:g,A=jh(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),S=si(e.placement),M=Su(e.placement),k=!M,O=z0(S),x=eq(O),N=e.modifiersData.popperOffsets,T=e.rects.reference,b=e.rects.popper,w=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,I=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,y={x:0,y:0};if(N){if(i){var E,B=O==="y"?Dr:kr,U=O==="y"?ys:ws,F=O==="y"?"height":"width",j=N[O],H=j+A[B],ee=j-A[U],R=p?-b[F]/2:0,ce=M===Eu?T[F]:b[F],te=M===Eu?-b[F]:-T[F],ve=e.elements.arrow,ge=p&&ve?H0(ve):{width:0,height:0},De=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:RD(),Oe=De[B],z=De[U],le=ih(0,T[F],ge[F]),W=k?T[F]/2-R-le-Oe-I.mainAxis:ce-le-Oe-I.mainAxis,ne=k?-T[F]/2+R+le+z+I.mainAxis:te+le+z+I.mainAxis,me=e.elements.arrow&&Pf(e.elements.arrow),Ce=me?O==="y"?me.clientTop||0:me.clientLeft||0:0,D=(E=P==null?void 0:P[O])!=null?E:0,L=j+W-D-Ce,Y=j+ne-D,X=ih(p?Mp(H,L):H,j,p?Fa(ee,Y):ee);N[O]=X,y[O]=X-j}if(a){var $,he=O==="x"?Dr:kr,de=O==="x"?ys:ws,ue=N[x],ae=x==="y"?"height":"width",se=ue+A[he],_e=ue-A[de],Re=[Dr,kr].indexOf(S)!==-1,we=($=P==null?void 0:P[x])!=null?$:0,Ie=Re?se:ue-T[ae]-b[ae]-we+I.altAxis,Te=Re?ue+T[ae]+b[ae]-we-I.altAxis:_e,Ye=p&&Re?I6(Ie,ue,Te):ih(p?Ie:se,ue,p?Te:_e);N[x]=Ye,y[x]=Ye-ue}e.modifiersData[r]=y}}const nq={name:"preventOverflow",enabled:!0,phase:"main",fn:tq,requiresIfExists:["offset"]};function rq(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function sq(t){return t===Jr(t)||!gs(t)?Y0(t):rq(t)}function iq(t){var e=t.getBoundingClientRect(),n=Au(e.width)/t.offsetWidth||1,r=Au(e.height)/t.offsetHeight||1;return n!==1||r!==1}function oq(t,e,n){n===void 0&&(n=!1);var r=gs(e),s=gs(e)&&iq(e),i=ta(e),o=Iu(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ci(e)!=="body"||W0(i))&&(a=sq(e)),gs(e)?(l=Iu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=q0(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function aq(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function lq(t){var e=aq(t);return y6.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function uq(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function cq(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var C1={placement:"bottom",modifiers:[],strategy:"absolute"};function D1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hq(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?C1:s;return function(a,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},C1,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(S){var M=typeof S=="function"?S(c.options):S;_(),c.options=Object.assign({},i,c.options,M),c.scrollParents={reference:sl(a)?oh(a):a.contextElement?oh(a.contextElement):[],popper:oh(l)};var k=lq(cq([].concat(r,c.options.modifiers)));return c.orderedModifiers=k.filter(function(O){return O.enabled}),g(),p.update()},forceUpdate:function(){if(!d){var S=c.elements,M=S.reference,k=S.popper;if(D1(M,k)){c.rects={reference:oq(M,Pf(k),c.options.strategy==="fixed"),popper:H0(k)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var O=0;O<c.orderedModifiers.length;O++){if(c.reset===!0){c.reset=!1,O=-1;continue}var x=c.orderedModifiers[O],N=x.fn,T=x.options,b=T===void 0?{}:T,w=x.name;typeof N=="function"&&(c=N({state:c,options:b,name:w,instance:p})||c)}}}},update:uq(function(){return new Promise(function(A){p.forceUpdate(),A(c)})}),destroy:function(){_(),d=!0}};if(!D1(a,l))return p;p.setOptions(u).then(function(A){!d&&u.onFirstUpdate&&u.onFirstUpdate(A)});function g(){c.orderedModifiers.forEach(function(A){var S=A.name,M=A.options,k=M===void 0?{}:M,O=A.effect;if(typeof O=="function"){var x=O({state:c,name:S,instance:p,options:k}),N=function(){};f.push(x||N)}})}function _(){f.forEach(function(A){return A()}),f=[]}return p}}var fq=[N6,Z6,x6,T6,X6,q6,nq,C6,G6],dq=hq({defaultModifiers:fq}),pq=Object.defineProperty,mq=(t,e,n)=>e in t?pq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ue=(t,e,n)=>(mq(t,typeof e!="symbol"?e+"":e,n),n),ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gq=Object.prototype,_q=gq.hasOwnProperty;function vq(t,e){return t!=null&&_q.call(t,e)}var yq=vq,wq=Array.isArray,Ls=wq,bq=typeof ad=="object"&&ad&&ad.Object===Object&&ad,MD=bq,Tq=MD,Eq=typeof self=="object"&&self&&self.Object===Object&&self,Aq=Tq||Eq||Function("return this")(),di=Aq,Iq=di,Sq=Iq.Symbol,Zm=Sq,k1=Zm,ND=Object.prototype,Pq=ND.hasOwnProperty,Rq=ND.toString,gc=k1?k1.toStringTag:void 0;function Cq(t){var e=Pq.call(t,gc),n=t[gc];try{t[gc]=void 0;var r=!0}catch{}var s=Rq.call(t);return r&&(e?t[gc]=n:delete t[gc]),s}var Dq=Cq,kq=Object.prototype,Oq=kq.toString;function xq(t){return Oq.call(t)}var Mq=xq,O1=Zm,Nq=Dq,Lq=Mq,$q="[object Null]",Vq="[object Undefined]",x1=O1?O1.toStringTag:void 0;function Fq(t){return t==null?t===void 0?Vq:$q:x1&&x1 in Object(t)?Nq(t):Lq(t)}var pi=Fq;function Uq(t){return t!=null&&typeof t=="object"}var $s=Uq,Bq=pi,jq=$s,Hq="[object Symbol]";function zq(t){return typeof t=="symbol"||jq(t)&&Bq(t)==Hq}var G0=zq,Yq=Ls,qq=G0,Wq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gq=/^\w*$/;function Kq(t,e){if(Yq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||qq(t)?!0:Gq.test(t)||!Wq.test(t)||e!=null&&t in Object(e)}var K0=Kq;function Qq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Gi=Qq,Xq=pi,Jq=Gi,Zq="[object AsyncFunction]",eW="[object Function]",tW="[object GeneratorFunction]",nW="[object Proxy]";function rW(t){if(!Jq(t))return!1;var e=Xq(t);return e==eW||e==tW||e==Zq||e==nW}var wl=rW,sW=di,iW=sW["__core-js_shared__"],oW=iW,e_=oW,M1=function(){var t=/[^.]+$/.exec(e_&&e_.keys&&e_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function aW(t){return!!M1&&M1 in t}var lW=aW,uW=Function.prototype,cW=uW.toString;function hW(t){if(t!=null){try{return cW.call(t)}catch{}try{return t+""}catch{}}return""}var LD=hW,fW=wl,dW=lW,pW=Gi,mW=LD,gW=/[\\^$.*+?()[\]{}|]/g,_W=/^\[object .+?Constructor\]$/,vW=Function.prototype,yW=Object.prototype,wW=vW.toString,bW=yW.hasOwnProperty,TW=RegExp("^"+wW.call(bW).replace(gW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EW(t){if(!pW(t)||dW(t))return!1;var e=fW(t)?TW:_W;return e.test(mW(t))}var AW=EW;function IW(t,e){return t==null?void 0:t[e]}var SW=IW,PW=AW,RW=SW;function CW(t,e){var n=RW(t,e);return PW(n)?n:void 0}var bl=CW,DW=bl,kW=DW(Object,"create"),eg=kW,N1=eg;function OW(){this.__data__=N1?N1(null):{},this.size=0}var xW=OW;function MW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NW=MW,LW=eg,$W="__lodash_hash_undefined__",VW=Object.prototype,FW=VW.hasOwnProperty;function UW(t){var e=this.__data__;if(LW){var n=e[t];return n===$W?void 0:n}return FW.call(e,t)?e[t]:void 0}var BW=UW,jW=eg,HW=Object.prototype,zW=HW.hasOwnProperty;function YW(t){var e=this.__data__;return jW?e[t]!==void 0:zW.call(e,t)}var qW=YW,WW=eg,GW="__lodash_hash_undefined__";function KW(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=WW&&e===void 0?GW:e,this}var QW=KW,XW=xW,JW=NW,ZW=BW,e5=qW,t5=QW;function Yu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yu.prototype.clear=XW;Yu.prototype.delete=JW;Yu.prototype.get=ZW;Yu.prototype.has=e5;Yu.prototype.set=t5;var n5=Yu;function r5(){this.__data__=[],this.size=0}var s5=r5;function i5(t,e){return t===e||t!==t&&e!==e}var qu=i5,o5=qu;function a5(t,e){for(var n=t.length;n--;)if(o5(t[n][0],e))return n;return-1}var tg=a5,l5=tg,u5=Array.prototype,c5=u5.splice;function h5(t){var e=this.__data__,n=l5(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():c5.call(e,n,1),--this.size,!0}var f5=h5,d5=tg;function p5(t){var e=this.__data__,n=d5(e,t);return n<0?void 0:e[n][1]}var m5=p5,g5=tg;function _5(t){return g5(this.__data__,t)>-1}var v5=_5,y5=tg;function w5(t,e){var n=this.__data__,r=y5(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var b5=w5,T5=s5,E5=f5,A5=m5,I5=v5,S5=b5;function Wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wu.prototype.clear=T5;Wu.prototype.delete=E5;Wu.prototype.get=A5;Wu.prototype.has=I5;Wu.prototype.set=S5;var ng=Wu,P5=bl,R5=di,C5=P5(R5,"Map"),Q0=C5,L1=n5,D5=ng,k5=Q0;function O5(){this.size=0,this.__data__={hash:new L1,map:new(k5||D5),string:new L1}}var x5=O5;function M5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var N5=M5,L5=N5;function $5(t,e){var n=t.__data__;return L5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var rg=$5,V5=rg;function F5(t){var e=V5(this,t).delete(t);return this.size-=e?1:0,e}var U5=F5,B5=rg;function j5(t){return B5(this,t).get(t)}var H5=j5,z5=rg;function Y5(t){return z5(this,t).has(t)}var q5=Y5,W5=rg;function G5(t,e){var n=W5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var K5=G5,Q5=x5,X5=U5,J5=H5,Z5=q5,eG=K5;function Gu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gu.prototype.clear=Q5;Gu.prototype.delete=X5;Gu.prototype.get=J5;Gu.prototype.has=Z5;Gu.prototype.set=eG;var X0=Gu,$D=X0,tG="Expected a function";function J0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tG);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(J0.Cache||$D),n}J0.Cache=$D;var nG=J0,rG=nG,sG=500;function iG(t){var e=rG(t,function(r){return n.size===sG&&n.clear(),r}),n=e.cache;return e}var oG=iG,aG=oG,lG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uG=/\\(\\)?/g,cG=aG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lG,function(n,r,s,i){e.push(s?i.replace(uG,"$1"):r||n)}),e}),hG=cG;function fG(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var dG=fG,$1=Zm,pG=dG,mG=Ls,gG=G0,_G=1/0,V1=$1?$1.prototype:void 0,F1=V1?V1.toString:void 0;function VD(t){if(typeof t=="string")return t;if(mG(t))return pG(t,VD)+"";if(gG(t))return F1?F1.call(t):"";var e=t+"";return e=="0"&&1/t==-_G?"-0":e}var vG=VD,yG=vG;function wG(t){return t==null?"":yG(t)}var bG=wG,TG=Ls,EG=K0,AG=hG,IG=bG;function SG(t,e){return TG(t)?t:EG(t,e)?[t]:AG(IG(t))}var FD=SG,PG=pi,RG=$s,CG="[object Arguments]";function DG(t){return RG(t)&&PG(t)==CG}var kG=DG,U1=kG,OG=$s,UD=Object.prototype,xG=UD.hasOwnProperty,MG=UD.propertyIsEnumerable,NG=U1(function(){return arguments}())?U1:function(t){return OG(t)&&xG.call(t,"callee")&&!MG.call(t,"callee")},Z0=NG,LG=9007199254740991,$G=/^(?:0|[1-9]\d*)$/;function VG(t,e){var n=typeof t;return e=e??LG,!!e&&(n=="number"||n!="symbol"&&$G.test(t))&&t>-1&&t%1==0&&t<e}var ew=VG,FG=9007199254740991;function UG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FG}var tw=UG,BG=G0,jG=1/0;function HG(t){if(typeof t=="string"||BG(t))return t;var e=t+"";return e=="0"&&1/t==-jG?"-0":e}var sg=HG,zG=FD,YG=Z0,qG=Ls,WG=ew,GG=tw,KG=sg;function QG(t,e,n){e=zG(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=KG(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&GG(s)&&WG(o,s)&&(qG(t)||YG(t)))}var BD=QG,XG=yq,JG=BD;function ZG(t,e){return t!=null&&JG(t,e,XG)}var jD=ZG,eK=pi,tK=$s,nK="[object Date]";function rK(t){return tK(t)&&eK(t)==nK}var sK=rK;function iK(t){return function(e){return t(e)}}var HD=iK,Hh={},oK={get exports(){return Hh},set exports(t){Hh=t}};(function(t,e){var n=MD,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(oK,Hh);var aK=sK,lK=HD,B1=Hh,j1=B1&&B1.isDate,uK=j1?lK(j1):aK,cK=uK,hK=pi,fK=Ls,dK=$s,pK="[object String]";function mK(t){return typeof t=="string"||!fK(t)&&dK(t)&&hK(t)==pK}var Gs=mK;function gK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var zD=gK,_K=ng;function vK(){this.__data__=new _K,this.size=0}var yK=vK;function wK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var bK=wK;function TK(t){return this.__data__.get(t)}var EK=TK;function AK(t){return this.__data__.has(t)}var IK=AK,SK=ng,PK=Q0,RK=X0,CK=200;function DK(t,e){var n=this.__data__;if(n instanceof SK){var r=n.__data__;if(!PK||r.length<CK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new RK(r)}return n.set(t,e),this.size=n.size,this}var kK=DK,OK=ng,xK=yK,MK=bK,NK=EK,LK=IK,$K=kK;function Ku(t){var e=this.__data__=new OK(t);this.size=e.size}Ku.prototype.clear=xK;Ku.prototype.delete=MK;Ku.prototype.get=NK;Ku.prototype.has=LK;Ku.prototype.set=$K;var nw=Ku,VK="__lodash_hash_undefined__";function FK(t){return this.__data__.set(t,VK),this}var UK=FK;function BK(t){return this.__data__.has(t)}var jK=BK,HK=X0,zK=UK,YK=jK;function Np(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new HK;++e<n;)this.add(t[e])}Np.prototype.add=Np.prototype.push=zK;Np.prototype.has=YK;var qK=Np;function WK(t,e){return t.has(e)}var GK=WK,KK=qK,QK=zD,XK=GK,JK=1,ZK=2;function e8(t,e,n,r,s,i){var o=n&JK,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=i.get(t),c=i.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&ZK?new KK:void 0;for(i.set(t,e),i.set(e,t);++f<a;){var g=t[f],_=e[f];if(r)var A=o?r(_,g,f,e,t,i):r(g,_,f,t,e,i);if(A!==void 0){if(A)continue;d=!1;break}if(p){if(!QK(e,function(S,M){if(!XK(p,M)&&(g===S||s(g,S,n,r,i)))return p.push(M)})){d=!1;break}}else if(!(g===_||s(g,_,n,r,i))){d=!1;break}}return i.delete(t),i.delete(e),d}var YD=e8,t8=di,n8=t8.Uint8Array,qD=n8;function r8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var s8=r8;function i8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var o8=i8,H1=Zm,z1=qD,a8=qu,l8=YD,u8=s8,c8=o8,h8=1,f8=2,d8="[object Boolean]",p8="[object Date]",m8="[object Error]",g8="[object Map]",_8="[object Number]",v8="[object RegExp]",y8="[object Set]",w8="[object String]",b8="[object Symbol]",T8="[object ArrayBuffer]",E8="[object DataView]",Y1=H1?H1.prototype:void 0,t_=Y1?Y1.valueOf:void 0;function A8(t,e,n,r,s,i,o){switch(n){case E8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T8:return!(t.byteLength!=e.byteLength||!i(new z1(t),new z1(e)));case d8:case p8:case _8:return a8(+t,+e);case m8:return t.name==e.name&&t.message==e.message;case v8:case w8:return t==e+"";case g8:var a=u8;case y8:var l=r&h8;if(a||(a=c8),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=f8,o.set(t,e);var c=l8(a(t),a(e),r,s,i,o);return o.delete(t),c;case b8:if(t_)return t_.call(t)==t_.call(e)}return!1}var I8=A8;function S8(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var P8=S8,R8=P8,C8=Ls;function D8(t,e,n){var r=e(t);return C8(t)?r:R8(r,n(t))}var k8=D8;function O8(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var x8=O8;function M8(){return[]}var N8=M8,L8=x8,$8=N8,V8=Object.prototype,F8=V8.propertyIsEnumerable,q1=Object.getOwnPropertySymbols,U8=q1?function(t){return t==null?[]:(t=Object(t),L8(q1(t),function(e){return F8.call(t,e)}))}:$8,B8=U8;function j8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var H8=j8,Pu={},z8={get exports(){return Pu},set exports(t){Pu=t}};function Y8(){return!1}var q8=Y8;(function(t,e){var n=di,r=q8,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(z8,Pu);var W8=pi,G8=tw,K8=$s,Q8="[object Arguments]",X8="[object Array]",J8="[object Boolean]",Z8="[object Date]",e7="[object Error]",t7="[object Function]",n7="[object Map]",r7="[object Number]",s7="[object Object]",i7="[object RegExp]",o7="[object Set]",a7="[object String]",l7="[object WeakMap]",u7="[object ArrayBuffer]",c7="[object DataView]",h7="[object Float32Array]",f7="[object Float64Array]",d7="[object Int8Array]",p7="[object Int16Array]",m7="[object Int32Array]",g7="[object Uint8Array]",_7="[object Uint8ClampedArray]",v7="[object Uint16Array]",y7="[object Uint32Array]",Ut={};Ut[h7]=Ut[f7]=Ut[d7]=Ut[p7]=Ut[m7]=Ut[g7]=Ut[_7]=Ut[v7]=Ut[y7]=!0;Ut[Q8]=Ut[X8]=Ut[u7]=Ut[J8]=Ut[c7]=Ut[Z8]=Ut[e7]=Ut[t7]=Ut[n7]=Ut[r7]=Ut[s7]=Ut[i7]=Ut[o7]=Ut[a7]=Ut[l7]=!1;function w7(t){return K8(t)&&G8(t.length)&&!!Ut[W8(t)]}var b7=w7,T7=b7,E7=HD,W1=Hh,G1=W1&&W1.isTypedArray,A7=G1?E7(G1):T7,rw=A7,I7=H8,S7=Z0,P7=Ls,R7=Pu,C7=ew,D7=rw,k7=Object.prototype,O7=k7.hasOwnProperty;function x7(t,e){var n=P7(t),r=!n&&S7(t),s=!n&&!r&&R7(t),i=!n&&!r&&!s&&D7(t),o=n||r||s||i,a=o?I7(t.length,String):[],l=a.length;for(var u in t)(e||O7.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||C7(u,l)))&&a.push(u);return a}var WD=x7,M7=Object.prototype;function N7(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||M7;return t===n}var sw=N7;function L7(t,e){return function(n){return t(e(n))}}var GD=L7,$7=GD,V7=$7(Object.keys,Object),F7=V7,U7=sw,B7=F7,j7=Object.prototype,H7=j7.hasOwnProperty;function z7(t){if(!U7(t))return B7(t);var e=[];for(var n in Object(t))H7.call(t,n)&&n!="constructor"&&e.push(n);return e}var Y7=z7,q7=wl,W7=tw;function G7(t){return t!=null&&W7(t.length)&&!q7(t)}var Rf=G7,K7=WD,Q7=Y7,X7=Rf;function J7(t){return X7(t)?K7(t):Q7(t)}var iw=J7,Z7=k8,eQ=B8,tQ=iw;function nQ(t){return Z7(t,tQ,eQ)}var rQ=nQ,K1=rQ,sQ=1,iQ=Object.prototype,oQ=iQ.hasOwnProperty;function aQ(t,e,n,r,s,i){var o=n&sQ,a=K1(t),l=a.length,u=K1(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=a[f];if(!(o?d in e:oQ.call(e,d)))return!1}var p=i.get(t),g=i.get(e);if(p&&g)return p==e&&g==t;var _=!0;i.set(t,e),i.set(e,t);for(var A=o;++f<l;){d=a[f];var S=t[d],M=e[d];if(r)var k=o?r(M,S,d,e,t,i):r(S,M,d,t,e,i);if(!(k===void 0?S===M||s(S,M,n,r,i):k)){_=!1;break}A||(A=d=="constructor")}if(_&&!A){var O=t.constructor,x=e.constructor;O!=x&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof x=="function"&&x instanceof x)&&(_=!1)}return i.delete(t),i.delete(e),_}var lQ=aQ,uQ=bl,cQ=di,hQ=uQ(cQ,"DataView"),fQ=hQ,dQ=bl,pQ=di,mQ=dQ(pQ,"Promise"),gQ=mQ,_Q=bl,vQ=di,yQ=_Q(vQ,"Set"),wQ=yQ,bQ=bl,TQ=di,EQ=bQ(TQ,"WeakMap"),AQ=EQ,Ev=fQ,Av=Q0,Iv=gQ,Sv=wQ,Pv=AQ,KD=pi,Qu=LD,Q1="[object Map]",IQ="[object Object]",X1="[object Promise]",J1="[object Set]",Z1="[object WeakMap]",eA="[object DataView]",SQ=Qu(Ev),PQ=Qu(Av),RQ=Qu(Iv),CQ=Qu(Sv),DQ=Qu(Pv),ga=KD;(Ev&&ga(new Ev(new ArrayBuffer(1)))!=eA||Av&&ga(new Av)!=Q1||Iv&&ga(Iv.resolve())!=X1||Sv&&ga(new Sv)!=J1||Pv&&ga(new Pv)!=Z1)&&(ga=function(t){var e=KD(t),n=e==IQ?t.constructor:void 0,r=n?Qu(n):"";if(r)switch(r){case SQ:return eA;case PQ:return Q1;case RQ:return X1;case CQ:return J1;case DQ:return Z1}return e});var kQ=ga,n_=nw,OQ=YD,xQ=I8,MQ=lQ,tA=kQ,nA=Ls,rA=Pu,NQ=rw,LQ=1,sA="[object Arguments]",iA="[object Array]",ld="[object Object]",$Q=Object.prototype,oA=$Q.hasOwnProperty;function VQ(t,e,n,r,s,i){var o=nA(t),a=nA(e),l=o?iA:tA(t),u=a?iA:tA(e);l=l==sA?ld:l,u=u==sA?ld:u;var c=l==ld,f=u==ld,d=l==u;if(d&&rA(t)){if(!rA(e))return!1;o=!0,c=!1}if(d&&!c)return i||(i=new n_),o||NQ(t)?OQ(t,e,n,r,s,i):xQ(t,e,l,n,r,s,i);if(!(n&LQ)){var p=c&&oA.call(t,"__wrapped__"),g=f&&oA.call(e,"__wrapped__");if(p||g){var _=p?t.value():t,A=g?e.value():e;return i||(i=new n_),s(_,A,n,r,i)}}return d?(i||(i=new n_),MQ(t,e,n,r,s,i)):!1}var FQ=VQ,UQ=FQ,aA=$s;function QD(t,e,n,r,s){return t===e?!0:t==null||e==null||!aA(t)&&!aA(e)?t!==t&&e!==e:UQ(t,e,n,r,QD,s)}var XD=QD,BQ=nw,jQ=XD,HQ=1,zQ=2;function YQ(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var a=n[s];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++s<i;){a=n[s];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new BQ;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?jQ(c,u,HQ|zQ,r,f):d))return!1}}return!0}var qQ=YQ,WQ=Gi;function GQ(t){return t===t&&!WQ(t)}var JD=GQ,KQ=JD,QQ=iw;function XQ(t){for(var e=QQ(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,KQ(s)]}return e}var JQ=XQ;function ZQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var ZD=ZQ,eX=qQ,tX=JQ,nX=ZD;function rX(t){var e=tX(t);return e.length==1&&e[0][2]?nX(e[0][0],e[0][1]):function(n){return n===t||eX(n,t,e)}}var sX=rX,iX=FD,oX=sg;function aX(t,e){e=iX(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[oX(e[n++])];return n&&n==r?t:void 0}var ek=aX,lX=ek;function uX(t,e,n){var r=t==null?void 0:lX(t,e);return r===void 0?n:r}var Ia=uX;function cX(t,e){return t!=null&&e in Object(t)}var hX=cX,fX=hX,dX=BD;function pX(t,e){return t!=null&&dX(t,e,fX)}var mX=pX,gX=XD,_X=Ia,vX=mX,yX=K0,wX=JD,bX=ZD,TX=sg,EX=1,AX=2;function IX(t,e){return yX(t)&&wX(e)?bX(TX(t),e):function(n){var r=_X(n,t);return r===void 0&&r===e?vX(n,t):gX(e,r,EX|AX)}}var SX=IX;function PX(t){return t}var ow=PX;function RX(t){return function(e){return e==null?void 0:e[t]}}var CX=RX,DX=ek;function kX(t){return function(e){return DX(e,t)}}var OX=kX,xX=CX,MX=OX,NX=K0,LX=sg;function $X(t){return NX(t)?xX(LX(t)):MX(t)}var VX=$X,FX=sX,UX=SX,BX=ow,jX=Ls,HX=VX;function zX(t){return typeof t=="function"?t:t==null?BX:typeof t=="object"?jX(t)?UX(t[0],t[1]):FX(t):HX(t)}var tk=zX;function YX(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++s];if(n(i[l],l,i)===!1)break}return e}}var qX=YX,WX=qX,GX=WX(),nk=GX,KX=nk,QX=iw;function XX(t,e){return t&&KX(t,e,QX)}var rk=XX,JX=Rf;function ZX(t,e){return function(n,r){if(n==null)return n;if(!JX(n))return t(n,r);for(var s=n.length,i=e?s:-1,o=Object(n);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var eJ=ZX,tJ=rk,nJ=eJ,rJ=nJ(tJ),sJ=rJ,iJ=sJ;function oJ(t,e){var n;return iJ(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}var aJ=oJ,lJ=qu,uJ=Rf,cJ=ew,hJ=Gi;function fJ(t,e,n){if(!hJ(n))return!1;var r=typeof e;return(r=="number"?uJ(n)&&cJ(e,n.length):r=="string"&&e in n)?lJ(n[e],t):!1}var aw=fJ,dJ=zD,pJ=tk,mJ=aJ,gJ=Ls,_J=aw;function vJ(t,e,n){var r=gJ(t)?dJ:mJ;return n&&_J(t,e,n)&&(e=void 0),r(t,pJ(e))}var yJ=vJ,wJ=pi,bJ=$s,TJ="[object Boolean]";function EJ(t){return t===!0||t===!1||bJ(t)&&wJ(t)==TJ}var AJ=EJ,IJ=pi,SJ=$s,PJ="[object Number]";function RJ(t){return typeof t=="number"||SJ(t)&&IJ(t)==PJ}var Ms=RJ,CJ=bl,DJ=function(){try{var t=CJ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),sk=DJ,lA=sk;function kJ(t,e,n){e=="__proto__"&&lA?lA(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ig=kJ,OJ=ig,xJ=qu,MJ=Object.prototype,NJ=MJ.hasOwnProperty;function LJ(t,e,n){var r=t[e];(!(NJ.call(t,e)&&xJ(r,n))||n===void 0&&!(e in t))&&OJ(t,e,n)}var $J=LJ,VJ=ig,FJ=rk,UJ=tk;function BJ(t,e){var n={};return e=UJ(e),FJ(t,function(r,s,i){VJ(n,s,e(r,s,i))}),n}var jJ=BJ;function HJ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ik=HJ,zJ=ik,uA=Math.max;function YJ(t,e,n){return e=uA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=uA(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=r[s];return a[e]=n(o),zJ(t,this,a)}}var qJ=YJ;function WJ(t){return function(){return t}}var GJ=WJ,KJ=GJ,cA=sk,QJ=ow,XJ=cA?function(t,e){return cA(t,"toString",{configurable:!0,enumerable:!1,value:KJ(e),writable:!0})}:QJ,JJ=XJ,ZJ=800,eZ=16,tZ=Date.now;function nZ(t){var e=0,n=0;return function(){var r=tZ(),s=eZ-(r-n);if(n=r,s>0){if(++e>=ZJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var rZ=nZ,sZ=JJ,iZ=rZ,oZ=iZ(sZ),aZ=oZ,lZ=ow,uZ=qJ,cZ=aZ;function hZ(t,e){return cZ(uZ(t,e,lZ),t+"")}var lw=hZ;function fZ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var dZ=fZ,pZ=Gi,mZ=sw,gZ=dZ,_Z=Object.prototype,vZ=_Z.hasOwnProperty;function yZ(t){if(!pZ(t))return gZ(t);var e=mZ(t),n=[];for(var r in t)r=="constructor"&&(e||!vZ.call(t,r))||n.push(r);return n}var wZ=yZ,bZ=WD,TZ=wZ,EZ=Rf;function AZ(t){return EZ(t)?bZ(t,!0):TZ(t)}var uw=AZ,IZ=lw,SZ=qu,PZ=aw,RZ=uw,ok=Object.prototype,CZ=ok.hasOwnProperty,DZ=IZ(function(t,e){t=Object(t);var n=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&PZ(e[0],e[1],s)&&(r=1);++n<r;)for(var i=e[n],o=RZ(i),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||SZ(c,ok[u])&&!CZ.call(t,u))&&(t[u]=i[u])}return t}),hA=DZ,kZ=ig,OZ=qu;function xZ(t,e,n){(n!==void 0&&!OZ(t[e],n)||n===void 0&&!(e in t))&&kZ(t,e,n)}var ak=xZ,Lp={},MZ={get exports(){return Lp},set exports(t){Lp=t}};(function(t,e){var n=di,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=a?a(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(MZ,Lp);var fA=qD;function NZ(t){var e=new t.constructor(t.byteLength);return new fA(e).set(new fA(t)),e}var LZ=NZ,$Z=LZ;function VZ(t,e){var n=e?$Z(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var FZ=VZ;function UZ(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var BZ=UZ,jZ=Gi,dA=Object.create,HZ=function(){function t(){}return function(e){if(!jZ(e))return{};if(dA)return dA(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),zZ=HZ,YZ=GD,qZ=YZ(Object.getPrototypeOf,Object),lk=qZ,WZ=zZ,GZ=lk,KZ=sw;function QZ(t){return typeof t.constructor=="function"&&!KZ(t)?WZ(GZ(t)):{}}var XZ=QZ,JZ=Rf,ZZ=$s;function eee(t){return ZZ(t)&&JZ(t)}var tee=eee,nee=pi,ree=lk,see=$s,iee="[object Object]",oee=Function.prototype,aee=Object.prototype,uk=oee.toString,lee=aee.hasOwnProperty,uee=uk.call(Object);function cee(t){if(!see(t)||nee(t)!=iee)return!1;var e=ree(t);if(e===null)return!0;var n=lee.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&uk.call(n)==uee}var hee=cee;function fee(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var ck=fee,dee=$J,pee=ig;function mee(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),s?pee(n,a,l):dee(n,a,l)}return n}var gee=mee,_ee=gee,vee=uw;function yee(t){return _ee(t,vee(t))}var wee=yee,pA=ak,bee=Lp,Tee=FZ,Eee=BZ,Aee=XZ,mA=Z0,gA=Ls,Iee=tee,See=Pu,Pee=wl,Ree=Gi,Cee=hee,Dee=rw,_A=ck,kee=wee;function Oee(t,e,n,r,s,i,o){var a=_A(t,n),l=_A(e,n),u=o.get(l);if(u){pA(t,n,u);return}var c=i?i(a,l,n+"",t,e,o):void 0,f=c===void 0;if(f){var d=gA(l),p=!d&&See(l),g=!d&&!p&&Dee(l);c=l,d||p||g?gA(a)?c=a:Iee(a)?c=Eee(a):p?(f=!1,c=bee(l,!0)):g?(f=!1,c=Tee(l,!0)):c=[]:Cee(l)||mA(l)?(c=a,mA(a)?c=kee(a):(!Ree(a)||Pee(a))&&(c=Aee(l))):f=!1}f&&(o.set(l,c),s(c,l,r,i,o),o.delete(l)),pA(t,n,c)}var xee=Oee,Mee=nw,Nee=ak,Lee=nk,$ee=xee,Vee=Gi,Fee=uw,Uee=ck;function hk(t,e,n,r,s){t!==e&&Lee(e,function(i,o){if(s||(s=new Mee),Vee(i))$ee(t,e,o,n,hk,r,s);else{var a=r?r(Uee(t,o),i,o+"",t,e,s):void 0;a===void 0&&(a=i),Nee(t,o,a)}},Fee)}var fk=hk,Bee=fk,vA=Gi;function dk(t,e,n,r,s,i){return vA(t)&&vA(e)&&(i.set(e,t),Bee(t,e,void 0,dk,i),i.delete(e)),t}var jee=dk,Hee=lw,zee=aw;function Yee(t){return Hee(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&zee(n[0],n[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var a=n[r];a&&t(e,a,r,i)}return e})}var qee=Yee,Wee=fk,Gee=qee,Kee=Gee(function(t,e,n,r){Wee(t,e,n,r)}),Qee=Kee,Xee=ik,Jee=lw,Zee=jee,ete=Qee,tte=Jee(function(t){return t.push(void 0,Zee),Xee(ete,void 0,t)}),zh=tte;function nte(t){return t&&t.length?t[0]:void 0}var pk=nte;function rte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Yl=rte;const ste=t=>Object.prototype.toString.call(t).slice(8,-1),su=t=>cK(t)&&!isNaN(t.getTime()),ji=t=>ste(t)==="Object",mk=jD,yA=(t,e)=>yJ(e,n=>jD(t,n)),St=(t,e,n="0")=>{for(t=t!=null?String(t):"",e=e||2;t.length<e;)t=`${n}${t}`;return t},_s=t=>Array.isArray(t),Ci=t=>_s(t)&&t.length>0,$p=t=>t==null?null:document&&Gs(t)?document.querySelector(t):t.$el??t,wo=(t,e,n,r=void 0)=>{t.removeEventListener(e,n,r)},bo=(t,e,n,r=void 0)=>(t.addEventListener(e,n,r),()=>wo(t,e,n,r)),Ud=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),ud=(t,e)=>{(t.key===" "||t.key==="Enter")&&(e(t),t.preventDefault())},gk=(t,...e)=>{const n={};let r;for(r in t)e.includes(r)||(n[r]=t[r]);return n},_k=(t,e)=>{const n={};return e.forEach(r=>{r in t&&(n[r]=t[r])}),n};function ite(t,e,n){return Math.min(Math.max(t,e),n)}var Vp={},ote={get exports(){return Vp},set exports(t){Vp=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=e.default})(ote,Vp);const ate=xD(Vp);var Fp={},lte={get exports(){return Fp},set exports(t){Fp=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}t.exports=e.default})(lte,Fp);const wA=xD(Fp);function ute(t,e){var n=dte(e);return n.formatToParts?hte(n,t):fte(n,t)}var cte={year:0,month:1,day:2,hour:3,minute:4,second:5};function hte(t,e){try{for(var n=t.formatToParts(e),r=[],s=0;s<n.length;s++){var i=cte[n[s].type];i>=0&&(r[i]=parseInt(n[s].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function fte(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var r_={};function dte(t){if(!r_[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";r_[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return r_[t]}function vk(t,e,n,r,s,i,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,s,i,o),a}var bA=36e5,pte=6e4,s_={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function mte(t,e,n){var r,s;if(!t||(r=s_.timezoneZ.exec(t),r))return 0;var i;if(r=s_.timezoneHH.exec(t),r)return i=parseInt(r[1],10),TA(i)?-(i*bA):NaN;if(r=s_.timezoneHHMM.exec(t),r){i=parseInt(r[1],10);var o=parseInt(r[2],10);return TA(i,o)?(s=Math.abs(i)*bA+o*pte,i>0?-s:s):NaN}if(vte(t)){e=new Date(e||Date.now());var a=gte(e),l=Rv(a,t),u=_te(e,l,t);return-u}return NaN}function gte(t){return vk(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Rv(t,e){var n=ute(t,e),r=vk(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),s=t.getTime(),i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function _te(t,e,n){var r=t.getTime(),s=r-e,i=Rv(new Date(s),n);if(e===i)return e;s-=i-e;var o=Rv(new Date(s),n);return i===o?i:Math.max(i,o)}function TA(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var EA={};function vte(t){if(EA[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),EA[t]=!0,!0}catch{return!1}}var yte=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const wte=yte;var i_=36e5,AA=6e4,bte=2,_r={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:wte};function Tte(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?bte:ate(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=Ete(t),i=Ate(s.date,r),o=i.year,a=i.restDateString,l=Ite(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,f;if(s.time&&(c=Ste(s.time),isNaN(c)))return new Date(NaN);if(s.timeZone||n.timeZone){if(f=mte(s.timeZone||n.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=wA(new Date(u+c)),f=wA(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function Ete(t){var e={},n=_r.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=_r.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var s=_r.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function Ate(t,e){var n=_r.YYY[e],r=_r.YYYYY[e],s;if(s=_r.YYYY.exec(t)||r.exec(t),s){var i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=_r.YY.exec(t)||n.exec(t),s){var o=s[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function Ite(t,e){if(e===null)return null;var n,r,s,i;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=_r.MM.exec(t),n)return r=new Date(0),s=parseInt(n[1],10)-1,SA(e,s)?(r.setUTCFullYear(e,s),r):new Date(NaN);if(n=_r.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return Cte(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=_r.MMDD.exec(t),n){r=new Date(0),s=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return SA(e,s,a)?(r.setUTCFullYear(e,s,a),r):new Date(NaN)}if(n=_r.Www.exec(t),n)return i=parseInt(n[1],10)-1,PA(e,i)?IA(e,i):new Date(NaN);if(n=_r.WwwD.exec(t),n){i=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return PA(e,i,l)?IA(e,i,l):new Date(NaN)}return null}function Ste(t){var e,n,r;if(e=_r.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),o_(n)?n%24*i_:NaN;if(e=_r.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),o_(n,r)?n%24*i_+r*AA:NaN;if(e=_r.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return o_(n,r,s)?n%24*i_+r*AA+s*1e3:NaN}return null}function IA(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var Pte=[31,28,31,30,31,30,31,31,30,31,30,31],Rte=[31,29,31,30,31,30,31,31,30,31,30,31];function yk(t){return t%400===0||t%4===0&&t%100!==0}function SA(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=yk(t);if(r&&n>Rte[e]||!r&&n>Pte[e])return!1}return!0}function Cte(t,e){if(e<1)return!1;var n=yk(t);return!(n&&e>366||!n&&e>365)}function PA(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function o_(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function ar(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Bd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bd=function(n){return typeof n}:Bd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bd(t)}function Ki(t){ar(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Bd(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xu(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var Dte={};function cw(){return Dte}function il(t,e){var n,r,s,i,o,a,l,u;ar(1,arguments);var c=cw(),f=Xu((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Ki(t),p=d.getDay(),g=(p<f?7:0)+p-f;return d.setDate(d.getDate()-g),d.setHours(0,0,0,0),d}function RA(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var kte=6048e5;function Ote(t,e,n){ar(2,arguments);var r=il(t,n),s=il(e,n),i=r.getTime()-RA(r),o=s.getTime()-RA(s);return Math.round((i-o)/kte)}function xte(t){ar(1,arguments);var e=Ki(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Mte(t){ar(1,arguments);var e=Ki(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Nte(t,e){return ar(1,arguments),Ote(xte(t),Mte(t),e)+1}function Lte(t,e){var n,r,s,i,o,a,l,u;ar(1,arguments);var c=Ki(t),f=c.getFullYear(),d=cw(),p=Xu((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,p),g.setHours(0,0,0,0);var _=il(g,e),A=new Date(0);A.setFullYear(f,0,p),A.setHours(0,0,0,0);var S=il(A,e);return c.getTime()>=_.getTime()?f+1:c.getTime()>=S.getTime()?f:f-1}function $te(t,e){var n,r,s,i,o,a,l,u;ar(1,arguments);var c=cw(),f=Xu((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=Lte(t,e),p=new Date(0);p.setFullYear(d,0,f),p.setHours(0,0,0,0);var g=il(p,e);return g}var Vte=6048e5;function Fte(t,e){ar(1,arguments);var n=Ki(t),r=il(n,e).getTime()-$te(n,e).getTime();return Math.round(r/Vte)+1}function Up(t){return ar(1,arguments),il(t,{weekStartsOn:1})}function Ute(t){ar(1,arguments);var e=Ki(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Up(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=Up(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Bte(t){ar(1,arguments);var e=Ute(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Up(n);return r}var jte=6048e5;function Hte(t){ar(1,arguments);var e=Ki(t),n=Up(e).getTime()-Bte(e).getTime();return Math.round(n/jte)+1}function gr(t,e){ar(2,arguments);var n=Ki(t),r=Xu(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Bp(t,e){ar(2,arguments);var n=Ki(t),r=Xu(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function CA(t,e){ar(2,arguments);var n=Xu(e);return Bp(t,n*12)}const zte={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function Yte({monthComps:t,prevMonthComps:e,nextMonthComps:n},r){const s=[],{firstDayOfWeek:i,firstWeekday:o,isoWeeknumbers:a,weeknumbers:l,numDays:u,numWeeks:c}=t,f=o+(o<i?Jn:0)-i;let d=!0,p=!1,g=!1,_=0;const A=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let S=e.numDays-f+1,M=e.numDays-S+1,k=Math.floor((S-1)/Jn+1),O=1,x=e.numWeeks,N=1,T=e.month,b=e.year;const w=new Date,I=w.getDate(),P=w.getMonth()+1,y=w.getFullYear();for(let E=1;E<=$ne;E++){for(let B=1,U=i;B<=Jn;B++,U+=U===Jn?1-Jn:1){d&&U===o&&(S=1,M=t.numDays,k=Math.floor((S-1)/Jn+1),O=Math.floor((u-S)/Jn+1),x=1,N=c,T=t.month,b=t.year,d=!1,p=!0);const F=r.getDateFromParams(b,T,S,0,0,0,0),j=r.getDateFromParams(b,T,S,12,0,0,0),H=r.getDateFromParams(b,T,S,23,59,59,999),ee=F,R=`${St(b,4)}-${St(T,2)}-${St(S,2)}`,ce=B,te=Jn-B,ve=l[E-1],ge=a[E-1],De=S===I&&T===P&&b===y,Oe=p&&S===1,z=p&&S===u,le=E===1,W=E===c,ne=B===1,me=B===Jn,Ce=kk(b,T,S);s.push({locale:r,id:R,position:++_,label:S.toString(),ariaLabel:A.format(new Date(b,T-1,S)),day:S,dayFromEnd:M,weekday:U,weekdayPosition:ce,weekdayPositionFromEnd:te,weekdayOrdinal:k,weekdayOrdinalFromEnd:O,week:x,weekFromEnd:N,weekPosition:E,weeknumber:ve,isoWeeknumber:ge,month:T,year:b,date:ee,startDate:F,endDate:H,noonDate:j,dayIndex:Ce,isToday:De,isFirstDay:Oe,isLastDay:z,isDisabled:!p,isFocusable:!p,isFocused:!1,inMonth:p,inPrevMonth:d,inNextMonth:g,onTop:le,onBottom:W,onLeft:ne,onRight:me,classes:[`id-${R}`,`day-${S}`,`day-from-end-${M}`,`weekday-${U}`,`weekday-position-${ce}`,`weekday-ordinal-${k}`,`weekday-ordinal-from-end-${O}`,`week-${x}`,`week-from-end-${N}`,{"is-today":De,"is-first-day":Oe,"is-last-day":z,"in-month":p,"in-prev-month":d,"in-next-month":g,"on-top":le,"on-bottom":W,"on-left":ne,"on-right":me}]}),p&&z?(p=!1,g=!0,S=1,M=u,k=1,O=Math.floor((u-S)/Jn+1),x=1,N=n.numWeeks,T=n.month,b=n.year):(S++,M--,k=Math.floor((S-1)/Jn+1),O=Math.floor((u-S)/Jn+1))}x++,N--}return s}function qte(t,e,n,r){const s=t.reduce((i,o,a)=>{const l=Math.floor(a/7);let u=i[l];return u||(u={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:e?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},i[l]=u),u.days.push(o),i},Array(t.length/Jn));return s.forEach(i=>{const o=i.days[0],a=i.days[i.days.length-1];o.month===a.month?i.title=`${r.formatDate(o.date,"MMMM YYYY")}`:o.year===a.year?i.title=`${r.formatDate(o.date,"MMM")} - ${r.formatDate(a.date,"MMM YYYY")}`:i.title=`${r.formatDate(o.date,"MMM YYYY")} - ${r.formatDate(a.date,"MMM YYYY")}`}),s}function Wte(t,e){return t.days.map(n=>({label:e.formatDate(n.date,e.masks.weekdays),weekday:n.weekday}))}function Gte(t,e){return`${e}.${St(t,2)}`}function wk(t,e,n){return _k(n.getDateParts(n.toDate(t)),zte[e])}function bk({day:t,week:e,month:n,year:r},s,i,o){if(i==="daily"&&t){const a=new Date(r,n-1,t),l=gr(a,s);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(i==="weekly"&&e){const l=o.getMonthParts(n,r).firstDayOfMonth,u=gr(l,(e-1+s)*7),c=o.getDateParts(u);return{week:c.week,month:c.month,year:c.year}}else{const a=new Date(r,n-1,1),l=Bp(a,s);return{month:l.getMonth()+1,year:l.getFullYear()}}}function Ks(t){return t!=null&&t.month!=null&&t.year!=null}function Cv(t,e){return!Ks(t)||!Ks(e)?!1:(t=t,e=e,t.year!==e.year?t.year<e.year:t.month&&e.month&&t.month!==e.month?t.month<e.month:t.week&&e.week&&t.week!==e.week?t.week<e.week:t.day&&e.day&&t.day!==e.day?t.day<e.day:!1)}function jp(t,e){return!Ks(t)||!Ks(e)?!1:(t=t,e=e,t.year!==e.year?t.year>e.year:t.month&&e.month&&t.month!==e.month?t.month>e.month:t.week&&e.week&&t.week!==e.week?t.week>e.week:t.day&&e.day&&t.day!==e.day?t.day>e.day:!1)}function Kte(t,e,n){return(t||!1)&&!Cv(t,e)&&!jp(t,n)}function Qte(t,e){return!t&&e||t&&!e?!1:!t&&!e?!0:(t=t,e=e,t.year===e.year&&t.month===e.month&&t.week===e.week&&t.day===e.day)}function Xte(t,e,n,r){if(!Ks(t)||!Ks(e))return[];const s=[];for(;!jp(t,e);)s.push(t),t=bk(t,1,n,r);return s}function Tk(t){const{day:e,week:n,month:r,year:s}=t;let i=`${s}-${St(r,2)}`;return n&&(i=`${i}-w${n}`),e&&(i=`${i}-${St(e,2)}`),i}function Jte(t,e){const{month:n,year:r,showWeeknumbers:s,showIsoWeeknumbers:i}=t,o=new Date(r,n-1,15),a=e.getMonthParts(n,r),l=e.getPrevMonthParts(n,r),u=e.getNextMonthParts(n,r),c=Yte({monthComps:a,prevMonthComps:l,nextMonthComps:u},e),f=qte(c,s,i,e),d=Wte(f[0],e);return{id:Tk(t),month:n,year:r,monthTitle:e.formatDate(o,e.masks.title),shortMonthLabel:e.formatDate(o,"MMM"),monthLabel:e.formatDate(o,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:u,days:c,weeks:f,weekdays:d}}function Zte(t,e){const{day:n,week:r,view:s,trimWeeks:i}=t,o={...e,...t,title:"",viewDays:[],viewWeeks:[]};switch(s){case"daily":{let a=o.days.find(u=>u.inMonth);n?a=o.days.find(u=>u.day===n&&u.inMonth)||a:r&&(a=o.days.find(u=>u.week===r&&u.inMonth));const l=o.weeks[a.week-1];o.viewWeeks=[l],o.viewDays=[a],o.week=a.week,o.weekTitle=l.title,o.day=a.day,o.dayTitle=a.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=r||1;const a=o.weeks[o.week-1];o.viewWeeks=[a],o.viewDays=a.days,o.weekTitle=a.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,i?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class DA{constructor(e,n,r){Ue(this,"keys",[]),Ue(this,"store",{}),this.size=e,this.createKey=n,this.createItem=r}get(...e){const n=this.createKey(...e);return this.store[n]}getOrSet(...e){const n=this.createKey(...e);if(this.store[n])return this.store[n];const r=this.createItem(...e);if(this.keys.length>=this.size){const s=this.keys.shift();s!=null&&delete this.store[s]}return this.keys.push(n),this.store[n]=r,r}}class iu{constructor(e,n=new Hp){Ue(this,"order"),Ue(this,"locale"),Ue(this,"start",null),Ue(this,"end",null),Ue(this,"repeat",null);var r;this.locale=n;const{start:s,end:i,span:o,order:a,repeat:l}=e;su(s)&&(this.start=n.getDateParts(s)),su(i)?this.end=n.getDateParts(i):this.start!=null&&o&&(this.end=n.getDateParts(gr(this.start.date,o-1))),this.order=a??0,l&&(this.repeat=new zp({from:(r=this.start)==null?void 0:r.date,...l},{locale:this.locale}))}static fromMany(e,n){return(_s(e)?e:[e]).filter(r=>r).map(r=>iu.from(r,n))}static from(e,n){if(e instanceof iu)return e;const r={start:null,end:null};return e!=null&&(_s(e)?(r.start=e[0]??null,r.end=e[1]??null):ji(e)?Object.assign(r,e):(r.start=e,r.end=e)),r.start!=null&&(r.start=new Date(r.start)),r.end!=null&&(r.end=new Date(r.end)),new iu(r,n)}get opts(){const{order:e,locale:n}=this;return{order:e,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:n}=this;return e&&n&&e.year===n.year&&e.month===n.month&&e.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var n,r;return((n=this.start)==null?void 0:n.dayIndex)===e.dayIndex||!!((r=this.repeat)!=null&&r.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var n,r;return this.intersectsDayRange(((n=e.start)==null?void 0:n.dayIndex)??-1/0,((r=e.end)==null?void 0:r.dayIndex)??1/0)}intersectsDayRange(e,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<e)}}class ene{constructor(){Ue(this,"records",{})}render(e,n,r){var s,i,o,a;let l=null;const u=r[0].dayIndex,c=r[r.length-1].dayIndex;return n.hasRepeat?r.forEach(f=>{var d,p;if(n.startsOnDay(f)){const g=n.daySpan<1/0?n.daySpan:1;l={startDay:f.dayIndex,startTime:((d=n.start)==null?void 0:d.time)??0,endDay:f.dayIndex+g-1,endTime:((p=n.end)==null?void 0:p.time)??jd},this.getRangeRecords(e).push(l)}}):n.intersectsDayRange(u,c)&&(l={startDay:((s=n.start)==null?void 0:s.dayIndex)??-1/0,startTime:((i=n.start)==null?void 0:i.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((a=n.end)==null?void 0:a.time)??1/0},this.getRangeRecords(e).push(l)),l}getRangeRecords(e){let n=this.records[e.key];return n||(n={ranges:[],data:e},this.records[e.key]=n),n.ranges}getCell(e,n){return this.getCells(n).find(i=>i.data.key===e)}cellExists(e,n){const r=this.records[e];return r==null?!1:r.ranges.some(s=>s.startDay<=n&&s.endDay>=n)}getCells(e){const n=Object.values(this.records),r=[],{dayIndex:s}=e;return n.forEach(({data:i,ranges:o})=>{o.filter(a=>a.startDay<=s&&a.endDay>=s).forEach(a=>{const l=s===a.startDay,u=s===a.endDay,c=l?a.startTime:0,f=new Date(e.startDate.getTime()+c),d=u?a.endTime:jd,p=new Date(e.endDate.getTime()+d),g=c===0&&d===jd,_=i.order||0;r.push({...a,data:i,onStart:l,onEnd:u,startTime:c,startDate:f,endTime:d,endDate:p,allDay:g,order:_})})}),r.sort((i,o)=>i.order-o.order),r}}const Hi={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Hi.en=Hi["en-US"];Hi.es=Hi["es-ES"];Hi.no=Hi.nb;Hi.zh=Hi["zh-CN"];const tne=Object.entries(Hi).reduce((t,[e,{dow:n,L:r}])=>(t[e]={id:e,firstDayOfWeek:n,masks:{L:r}},t),{}),nne="MMMM YYYY",rne="W",sne="MMM",ine="h A",one=["L","YYYY-MM-DD","YYYY/MM/DD"],ane=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],lne=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],une=["h:mm A"],cne=["HH:mm"],hne="WWW, MMM D, YYYY",fne=["L","YYYY-MM-DD","YYYY/MM/DD"],dne="iso",pne="YYYY-MM-DDTHH:mm:ss.SSSZ",mne={title:nne,weekdays:rne,navMonths:sne,hours:ine,input:one,inputDateTime:ane,inputDateTime24hr:lne,inputTime:une,inputTime24hr:cne,dayPopover:hne,data:fne,model:dne,iso:pne},gne=300,_ne=60,vne=80,yne={maxSwipeTime:gne,minHorizontalSwipeDistance:_ne,maxVerticalSwipeDistance:vne},wne={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:yne,masks:mne,locales:tne,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Dv=br(wne),bne=Q(()=>jJ(Dv.locales,t=>(t.masks=zh(t.masks,Dv.masks),t))),Yo=t=>typeof window<"u"&&mk(window.__vcalendar__,t)?Ia(window.__vcalendar__,t):Ia(Dv,t),Tne=12,Ene=5;function Ane(t,e){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let r;Gs(t)?r=t:mk(t,"id")&&(r=t.id),r=(r||n).toLowerCase();const s=Object.keys(e),i=l=>s.find(u=>u.toLowerCase()===l);r=i(r)||i(r.substring(0,2))||n;const o={...e["en-IE"],...e[r],id:r,monthCacheSize:Tne,pageCacheSize:Ene};return ji(t)?zh(t,o):o}class Hp{constructor(e=void 0,n){Ue(this,"id"),Ue(this,"daysInWeek"),Ue(this,"firstDayOfWeek"),Ue(this,"masks"),Ue(this,"timezone"),Ue(this,"hourLabels"),Ue(this,"dayNames"),Ue(this,"dayNamesShort"),Ue(this,"dayNamesShorter"),Ue(this,"dayNamesNarrow"),Ue(this,"monthNames"),Ue(this,"monthNamesShort"),Ue(this,"relativeTimeNames"),Ue(this,"amPm",["am","pm"]),Ue(this,"monthCache"),Ue(this,"pageCache");const{id:r,firstDayOfWeek:s,masks:i,monthCacheSize:o,pageCacheSize:a}=Ane(e,bne.value);this.monthCache=new DA(o,qne,Wne),this.pageCache=new DA(a,Tk,Jte),this.id=r,this.daysInWeek=Jn,this.firstDayOfWeek=ite(s,1,Jn),this.masks=i,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=a_("long",this.id),this.dayNamesShort=a_("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=a_("narrow",this.id),this.monthNames=LA("long",this.id),this.monthNamesShort=LA("short",this.id),this.relativeTimeNames=Qne(this.id)}formatDate(e,n){return tre(e,n,this)}parseDate(e,n){return $A(e,n,this)}toDate(e,n={}){const r=new Date(NaN);let s=r;const{fillDate:i,mask:o,patch:a,rules:l}=n;if(Ms(e)?(n.type="number",s=new Date(+e)):Gs(e)?(n.type="string",s=e?$A(e,o||"iso",this):r):su(e)?(n.type="date",s=new Date(e.getTime())):hw(e)&&(n.type="object",s=this.getDateFromParts(e)),s&&(a||l)){let u=this.getDateParts(s);if(a&&i!=null){const c=this.getDateParts(this.toDate(i));u=this.getDateParts(this.toDate({...c,..._k(u,Lne[a])}))}l&&(u=ere(u,l)),s=this.getDateFromParts(u)}return s||r}toDateOrNull(e,n={}){const r=this.toDate(e,n);return isNaN(r.getTime())?null:r}fromDate(e,{type:n,mask:r}={}){switch(n){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,r||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return iu.from(e,this)}ranges(e){return iu.fromMany(e,this)}getDateParts(e){return Yne(e,this)}getDateFromParts(e){return xk(e,this.timezone)}getDateFromParams(e,n,r,s,i,o,a){return this.getDateFromParts({year:e,month:n,day:r,hours:s,minutes:i,seconds:o,milliseconds:a})}getPage(e){const n=this.pageCache.getOrSet(e,this);return Zte(e,n)}getMonthParts(e,n){const{firstDayOfWeek:r}=this;return this.monthCache.getOrSet(e,n,r)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,n){return e===1?this.getMonthParts(12,n-1):this.getMonthParts(e-1,n)}getNextMonthParts(e,n){return e===12?this.getMonthParts(1,n+1):this.getMonthParts(e+1,n)}getHourLabels(){return Kne().map(e=>this.formatDate(e,this.masks.hours))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var Ul=(t=>(t.Any="any",t.All="all",t))(Ul||{}),Ek=(t=>(t.Days="days",t.Weeks="weeks",t.Months="months",t.Years="years",t))(Ek||{}),Ak=(t=>(t.Days="days",t.Weekdays="weekdays",t.Weeks="weeks",t.Months="months",t.Years="years",t))(Ak||{}),Ik=(t=>(t.OrdinalWeekdays="ordinalWeekdays",t))(Ik||{});class Ine{constructor(e,n,r){Ue(this,"validated",!0),this.type=e,this.interval=n,this.from=r,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:n}=e;switch(this.type){case"days":return fw(this.from.date,n)%this.interval===0;case"weeks":return Hne(this.from.date,n)%this.interval===0;case"months":return zne(this.from.date,n)%this.interval===0;case"years":return Ok(this.from.date,n)%this.interval===0;default:return!1}}}class Ju{constructor(e,n,r,s){Ue(this,"components",[]),this.type=e,this.validator=r,this.getter=s,this.components=this.normalizeComponents(n)}static create(e,n){switch(e){case"days":return new Sne(n);case"weekdays":return new Pne(n);case"weeks":return new Rne(n);case"months":return new Cne(n);case"years":return new Dne(n)}}normalizeComponents(e){if(this.validator(e))return[e];if(!_s(e))return[];const n=[];return e.forEach(r=>{if(!this.validator(r)){console.error(`Component value ${r} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(r)}),n}passes(e){return this.getter(e).some(s=>this.components.includes(s))}}class Sne extends Ju{constructor(e){super("days",e,xne,({day:n,dayFromEnd:r})=>[n,-r])}}class Pne extends Ju{constructor(e){super("weekdays",e,kv,({weekday:n})=>[n])}}class Rne extends Ju{constructor(e){super("weeks",e,Mne,({week:n,weekFromEnd:r})=>[n,-r])}}class Cne extends Ju{constructor(e){super("months",e,Nne,({month:n})=>[n])}}class Dne extends Ju{constructor(e){super("years",e,Ms,({year:n})=>[n])}}class kne{constructor(e,n){Ue(this,"components"),this.type=e,this.components=this.normalizeComponents(n)}normalizeArrayConfig(e){const n=[];return e.forEach((r,s)=>{if(Ms(r)){if(s===0)return;if(!kA(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!kv(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else _s(r)&&n.push(...this.normalizeArrayConfig(r))}),n}normalizeComponents(e){const n=[];return e.forEach((r,s)=>{if(Ms(r)){if(s===0)return;if(!kA(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!kv(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else _s(r)&&n.push(...this.normalizeArrayConfig(r))}),n}passes(e){const{weekday:n,weekdayOrdinal:r,weekdayOrdinalFromEnd:s}=e;return this.components.some(([i,o])=>(i===r||i===-s)&&n===o)}}class One{constructor(e){Ue(this,"type","function"),Ue(this,"validated",!0),this.fn=e,wl(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return this.validated?this.fn(e):!0}}class zp{constructor(e,n={},r){Ue(this,"validated",!0),Ue(this,"config"),Ue(this,"type",Ul.Any),Ue(this,"from"),Ue(this,"until"),Ue(this,"rules",[]),Ue(this,"locale",new Hp),this.parent=r,n.locale&&(this.locale=n.locale),this.config=e,wl(e)?(this.type=Ul.All,this.rules=[new One(e)]):_s(e)?(this.type=Ul.Any,this.rules=e.map(s=>new zp(s,n,this))):ji(e)?(this.type=Ul.All,this.from=e.from?this.locale.getDateParts(e.from):r==null?void 0:r.from,this.until=e.until?this.locale.getDateParts(e.until):r==null?void 0:r.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const n=[];if(e.every&&(Gs(e.every)&&(e.every=[1,`${e.every}s`]),_s(e.every))){const[r=1,s=Ek.Days]=e.every;n.push(new Ine(s,r,this.from))}return Object.values(Ak).forEach(r=>{r in e&&n.push(Ju.create(r,e[r]))}),Object.values(Ik).forEach(r=>{r in e&&n.push(new kne(r,e[r]))}),e.on!=null&&(_s(e.on)||(e.on=[e.on]),n.push(new zp(e.on,{locale:this.locale},this.parent))),n}passes(e){return this.validated?this.from&&e.dayIndex<=this.from.dayIndex||this.until&&e.dayIndex>=this.until.dayIndex?!1:this.type===Ul.Any?this.rules.some(n=>n.passes(e)):this.rules.every(n=>n.passes(e)):!0}}function xne(t){return Ms(t)?t>=1&&t<=31:!1}function kv(t){return Ms(t)?t>=1&&t<=7:!1}function Mne(t){return Ms(t)?t>=-6&&t<=-1||t>=1&&t<=6:!1}function Nne(t){return Ms(t)?t>=1&&t<=12:!1}function kA(t){return!(!Ms(t)||t<-5||t>5||t===0)}const Lne={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},Jn=7,$ne=6,Sk=1e3,Pk=Sk*60,Rk=Pk*60,jd=Rk*24,Vne=[31,28,31,30,31,30,31,31,30,31,30,31],Fne=["L","iso"],kc={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},Ck=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Une=/\[([^]*?)\]/gm,OA={D(t){return t.day},DD(t){return St(t.day,2)},d(t){return t.weekday-1},dd(t){return St(t.weekday-1,2)},W(t,e){return e.dayNamesNarrow[t.weekday-1]},WW(t,e){return e.dayNamesShorter[t.weekday-1]},WWW(t,e){return e.dayNamesShort[t.weekday-1]},WWWW(t,e){return e.dayNames[t.weekday-1]},M(t){return t.month},MM(t){return St(t.month,2)},MMM(t,e){return e.monthNamesShort[t.month-1]},MMMM(t,e){return e.monthNames[t.month-1]},YY(t){return String(t.year).substr(2)},YYYY(t){return St(t.year,4)},h(t){return t.hours%12||12},hh(t){return St(t.hours%12||12,2)},H(t){return t.hours},HH(t){return St(t.hours,2)},m(t){return t.minutes},mm(t){return St(t.minutes,2)},s(t){return t.seconds},ss(t){return St(t.seconds,2)},S(t){return Math.round(t.milliseconds/100)},SS(t){return St(Math.round(t.milliseconds/10),2)},SSS(t){return St(t.milliseconds,3)},a(t,e){return t.hours<12?e.amPm[0]:e.amPm[1]},A(t,e){return t.hours<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60),2)}`},ZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}`},ZZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60),2)}:${St(Math.abs(e)%60,2)}`}},oo=/\d\d?/,Bne=/\d{3}/,jne=/\d{4}/,_c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,xA=()=>{},MA=t=>(e,n,r)=>{const s=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~s&&(e.month=s)},Mt={D:[oo,(t,e)=>{t.day=e}],Do:[new RegExp(oo.source+_c.source),(t,e)=>{t.day=parseInt(e,10)}],d:[oo,xA],W:[_c,xA],M:[oo,(t,e)=>{t.month=e-1}],MMM:[_c,MA("monthNamesShort")],MMMM:[_c,MA("monthNames")],YY:[oo,(t,e)=>{const r=+new Date().getFullYear().toString().substr(0,2);t.year=+`${e>68?r-1:r}${e}`}],YYYY:[jne,(t,e)=>{t.year=e}],S:[/\d/,(t,e)=>{t.milliseconds=e*100}],SS:[/\d{2}/,(t,e)=>{t.milliseconds=e*10}],SSS:[Bne,(t,e)=>{t.milliseconds=e}],h:[oo,(t,e)=>{t.hours=e}],m:[oo,(t,e)=>{t.minutes=e}],s:[oo,(t,e)=>{t.seconds=e}],a:[_c,(t,e,n)=>{const r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(t,e)=>{e==="Z"&&(e="+00:00");const n=`${e}`.match(/([+-]|\d\d)/gi);if(n){const r=+n[1]*60+parseInt(n[2],10);t.timezoneOffset=n[0]==="+"?r:-r}}]};Mt.DD=Mt.D;Mt.dd=Mt.d;Mt.WWWW=Mt.WWW=Mt.WW=Mt.W;Mt.MM=Mt.M;Mt.mm=Mt.m;Mt.hh=Mt.H=Mt.HH=Mt.h;Mt.ss=Mt.s;Mt.A=Mt.a;Mt.ZZZZ=Mt.ZZZ=Mt.ZZ=Mt.Z;function Dk(t,e){return(Ci(t)&&t||[Gs(t)&&t||"YYYY-MM-DD"]).map(n=>Fne.reduce((r,s)=>r.replace(s,e.masks[s]||""),n))}function hw(t){return ji(t)&&"year"in t&&"month"in t&&"day"in t}function NA(t,e=1){const n=t.getDay()+1,r=n>=e?e-n:-(7-(e-n));return gr(t,r)}function kk(t,e,n){const r=Date.UTC(t,e-1,n);return fw(new Date(0),new Date(r))}function fw(t,e){return Math.round((e.getTime()-t.getTime())/jd)}function Hne(t,e){return Math.ceil(fw(NA(t),NA(e))/7)}function Ok(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function zne(t,e){return Ok(t,e)*12+(e.getMonth()-t.getMonth())}function xk(t,e=""){const n=new Date,{year:r=n.getFullYear(),month:s=n.getMonth()+1,day:i=n.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:u=0}=t;if(e){const c=`${St(r,4)}-${St(s,2)}-${St(i,2)}T${St(o,2)}:${St(a,2)}:${St(l,2)}.${St(u,3)}`;return Tte(c,{timeZone:e})}return new Date(r,s-1,i,o,a,l,u)}function Yne(t,e){let n=new Date(t.getTime());e.timezone&&(n=new Date(t.toLocaleString("en-US",{timeZone:e.timezone})),n.setMilliseconds(t.getMilliseconds()));const r=n.getMilliseconds(),s=n.getSeconds(),i=n.getMinutes(),o=n.getHours(),a=r+s*Sk+i*Pk+o*Rk,l=n.getMonth()+1,u=n.getFullYear(),c=e.getMonthParts(l,u),f=n.getDate(),d=c.numDays-f+1,p=n.getDay()+1,g=Math.floor((f-1)/7+1),_=Math.floor((c.numDays-f)/7+1),A=Math.ceil((f+Math.abs(c.firstWeekday-c.firstDayOfWeek))/7),S=c.numWeeks-A+1,M=c.weeknumbers[A],k=kk(u,l,f);return{milliseconds:r,seconds:s,minutes:i,hours:o,time:a,day:f,dayFromEnd:d,weekday:p,weekdayOrdinal:g,weekdayOrdinalFromEnd:_,week:A,weekFromEnd:S,weeknumber:M,month:l,year:u,date:n,dateTime:n.getTime(),dayIndex:k,timezoneOffset:0,isValid:!0}}function qne(t,e,n){return`${e}-${t}-${n}`}function Wne(t,e,n){const r=e%4===0&&e%100!==0||e%400===0,s=new Date(e,t-1,1),i=s.getDay()+1,o=t===2&&r?29:Vne[t-1],a=n-1,l=Nte(s,{weekStartsOn:a}),u=[],c=[];for(let f=0;f<l;f++){const d=gr(s,f*7);u.push(Fte(d,{weekStartsOn:a})),c.push(Hte(d))}return{firstDayOfWeek:n,firstDayOfMonth:s,inLeapYear:r,firstWeekday:i,numDays:o,numWeeks:l,month:t,year:e,weeknumbers:u,isoWeeknumbers:c}}function Gne(){const t=[];for(let s=0;s<Jn;s++)t.push(xk({year:2020,month:1,day:5+s,hours:12}));return t}function a_(t,e=void 0){const n=new Intl.DateTimeFormat(e,{weekday:t});return Gne().map(r=>n.format(r))}function Kne(){const t=[];for(let e=0;e<=24;e++)t.push(new Date(2e3,0,1,e));return t}function Qne(t=void 0){const e=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(t);return e.reduce((r,s)=>{const i=n.formatToParts(100,s);return r[s]=i[1].unit,r},{})}function Mk(){const t=[];for(let e=0;e<12;e++)t.push(new Date(2e3,e,15));return t}function LA(t,e=void 0){const n=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return Mk().map(r=>n.format(r))}function Xne(t,e,n){return Ms(e)?e===t:_s(e)?e.includes(t):wl(e)?e(t,n):!(e.min!=null&&e.min>t||e.max!=null&&e.max<t||e.interval!=null&&t%e.interval!==0)}function Oc(t,e,n){const r=[],[s,i,o]=e;for(let a=s;a<=i;a++)(n==null||Xne(a,n,t))&&r.push({value:a,label:St(a,o)});return r}function Jne(t,e){return{milliseconds:Oc(t,kc.milliseconds,e.milliseconds),seconds:Oc(t,kc.seconds,e.seconds),minutes:Oc(t,kc.minutes,e.minutes),hours:Oc(t,kc.hours,e.hours)}}function Zne(t,e,n,r){const i=Oc(t,e,r).reduce((o,a)=>{if(a.disabled)return o;if(isNaN(o))return a.value;const l=Math.abs(o-n);return Math.abs(a.value-n)<l?a.value:o},NaN);return isNaN(i)?n:i}function ere(t,e){const n={...t};return Object.entries(e).forEach(([r,s])=>{const i=kc[r],o=t[r];n[r]=Zne(t,i,o,s)}),n}function $A(t,e,n){return Dk(e,n).map(s=>{if(typeof s!="string")throw new Error("Invalid mask");let i=t;if(i.length>1e3)return!1;let o=!0;const a={};if(s.replace(Ck,c=>{if(Mt[c]){const f=Mt[c],d=i.search(f[0]);~d?i.replace(f[0],p=>(f[1](a,p,n),i=i.substr(d+p.length),p)):o=!1}return Mt[c]?"":c.slice(1,c.length-1)}),!o)return!1;const l=new Date;a.hours!=null&&(a.isPm===!0&&+a.hours!=12?a.hours=+a.hours+12:a.isPm===!1&&+a.hours==12&&(a.hours=0));let u;return a.timezoneOffset!=null?(a.minutes=+(a.minutes||0)-+a.timezoneOffset,u=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hours||0,a.minutes||0,a.seconds||0,a.milliseconds||0))):u=n.getDateFromParts({year:a.year||l.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hours||0,minutes:a.minutes||0,seconds:a.seconds||0,milliseconds:a.milliseconds||0}),u}).find(s=>s)||new Date(t)}function tre(t,e,n){if(t==null)return"";let r=Dk(e,n)[0];/Z$/.test(r)&&(n.timezone="utc");const s=[];r=r.replace(Une,(o,a)=>(s.push(a),"??"));const i=n.getDateParts(t);return r=r.replace(Ck,o=>o in OA?OA[o](i,n):o.slice(1,o.length-1)),r.replace(/\?\?/g,()=>s.shift())}let nre=0;class Nk{constructor(e,n,r){Ue(this,"key",""),Ue(this,"hashcode",""),Ue(this,"highlight",null),Ue(this,"content",null),Ue(this,"dot",null),Ue(this,"bar",null),Ue(this,"event",null),Ue(this,"popover",null),Ue(this,"customData",null),Ue(this,"ranges"),Ue(this,"hasRanges",!1),Ue(this,"order",0),Ue(this,"pinPage",!1),Ue(this,"maxRepeatSpan",0),Ue(this,"locale");const{dates:s}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++nre),this.locale=r,n.normalizeGlyphs(this),this.ranges=r.ranges(s??[]),this.hasRanges=!!Ci(this.ranges),this.maxRepeatSpan=this.ranges.filter(i=>i.hasRepeat).map(i=>i.daySpan).reduce((i,o)=>Math.max(i,o),0)}intersectsRange({start:e,end:n}){if(e==null||n==null)return!1;const r=this.ranges.filter(o=>!o.hasRepeat);for(const o of r)if(o.intersectsDayRange(e.dayIndex,n.dayIndex))return!0;const s=this.ranges.filter(o=>o.hasRepeat);if(!s.length)return!1;let i=e;for(this.maxRepeatSpan>1&&(i=this.locale.getDateParts(gr(i.date,-this.maxRepeatSpan)));i.dayIndex<=n.dayIndex;){for(const o of s)if(o.startsOnDay(i))return!0;i=this.locale.getDateParts(gr(i.date,1))}return!1}}function Ov(t){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:t}))}function Yh(t){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:t}))}function Lk(t){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:t}))}function $k(t){const{visibility:e}=t,n=e==="click",r=e==="hover",s=e==="hover-focus",i=e==="focus";t.autoHide=!n;let o=!1,a=!1;const l=g=>{n&&(Lk({...t,target:t.target||g.currentTarget}),g.stopPropagation())},u=g=>{o||(o=!0,(r||s)&&Ov({...t,target:t.target||g.currentTarget}))},c=()=>{o&&(o=!1,(r||s&&!a)&&Yh(t))},f=g=>{a||(a=!0,(i||s)&&Ov({...t,target:t.target||g.currentTarget}))},d=g=>{a&&!Ud(g.currentTarget,g.relatedTarget)&&(a=!1,(i||s&&!o)&&Yh(t))},p={};switch(t.visibility){case"click":p.click=l;break;case"hover":p.mousemove=u,p.mouseleave=c;break;case"focus":p.focusin=f,p.focusout=d;break;case"hover-focus":p.mousemove=u,p.mouseleave=c,p.focusin=f,p.focusout=d;break}return p}const VA=t=>{const e=$p(t);if(e==null)return;const n=e.popoverHandlers;!n||!n.length||(n.forEach(r=>r()),delete e.popoverHandlers)},FA=(t,e)=>{const n=$p(t);if(n==null)return;const r=[],s=$k(e);Object.entries(s).forEach(([i,o])=>{r.push(bo(n,i,o))}),n.popoverHandlers=r},Vk={mounted(t,e){const{value:n}=e;n&&FA(t,n)},updated(t,e){const{oldValue:n,value:r}=e,s=n==null?void 0:n.visibility,i=r==null?void 0:r.visibility;s!==i&&(s&&(VA(t),i||Yh(n)),i&&FA(t,r))},unmounted(t){VA(t)}},rre=(t,e,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:s})=>{if(!t||!t.addEventListener||!wl(e))return null;let i=0,o=0,a=null,l=!1;function u(f){const d=f.changedTouches[0];i=d.screenX,o=d.screenY,a=new Date().getTime(),l=!0}function c(f){if(!l||!a)return;l=!1;const d=f.changedTouches[0],p=d.screenX-i,g=d.screenY-o;if(new Date().getTime()-a<n&&Math.abs(p)>=r&&Math.abs(g)<=s){const A={toLeft:!1,toRight:!1};p<0?A.toLeft=!0:A.toRight=!0,e(A)}}return bo(t,"touchstart",u,{passive:!0}),bo(t,"touchend",c,{passive:!0}),()=>{wo(t,"touchstart",u),wo(t,"touchend",c)}},Hd={},sre=(t,e=10)=>{Hd[t]=Date.now()+e},ire=(t,e)=>{if(t in Hd){const n=Hd[t];if(Date.now()<n)return;delete Hd[t]}e()};function Fk(){return typeof window<"u"}function ore(t){return Fk()&&t in window}function are(t){const e=ke(!1),n=Q(()=>e.value?"dark":"light");let r,s;function i(p){e.value=p.matches}function o(){ore("matchMedia")&&(r=window.matchMedia("(prefers-color-scheme: dark)"),r.addEventListener("change",i),e.value=r.matches)}function a(){const{selector:p=":root",darkClass:g="dark"}=t.value,_=document.querySelector(p);e.value=_.classList.contains(g)}function l(p){const{selector:g=":root",darkClass:_="dark"}=p;if(Fk()&&g&&_){const A=document.querySelector(g);A&&(s=new MutationObserver(a),s.observe(A,{attributes:!0,attributeFilter:["class"]}),e.value=A.classList.contains(_))}}function u(){f();const p=typeof t.value;p==="string"&&t.value.toLowerCase()==="system"?o():p==="object"?l(t.value):e.value=!!t.value}const c=at(()=>t.value,()=>u(),{immediate:!0});function f(){r&&(r.removeEventListener("change",i),r=void 0),s&&(s.disconnect(),s=void 0)}function d(){f(),c()}return Jo(()=>d()),{isDark:e,displayMode:n,cleanup:d}}const lre=["base","start","end","startEnd"],ure=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],cre={base:{},start:{},end:{}};function dw(t,e,n=cre){let r=t,s={};e===!0||Gs(e)?(r=Gs(e)?e:r,s={...n}):ji(e)&&(yA(e,lre)?s={...e}:s={base:{...e},start:{...e},end:{...e}});const i=zh(s,{start:s.startEnd,end:s.startEnd},n);return Object.entries(i).forEach(([o,a])=>{let l=r;a===!0||Gs(a)?(l=Gs(a)?a:l,i[o]={color:l}):ji(a)&&(yA(a,ure)?i[o]={...a}:i[o]={}),zh(i[o],{color:l})}),i}class hre{constructor(){Ue(this,"type","highlight")}normalizeConfig(e,n){return dw(e,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:n,onEnd:r},s){const{key:i,highlight:o}=e;if(!o)return;const{highlights:a}=s,{base:l,start:u,end:c}=o;n&&r?a.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]}):n?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):r?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):a.push({...l,key:`${i}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class pw{constructor(e,n){Ue(this,"type",""),Ue(this,"collectionType",""),this.type=e,this.collectionType=n}normalizeConfig(e,n){return dw(e,n)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:n,onEnd:r},s){const{key:i}=e,o=e[this.type];if(!i||!o)return;const a=s[this.collectionType],{base:l,start:u,end:c}=o;n?a.push({...u,key:i,class:[`vc-${this.type} vc-${this.type}-start vc-${u.color} vc-attr`,u.class]}):r?a.push({...c,key:i,class:[`vc-${this.type} vc-${this.type}-end vc-${c.color} vc-attr`,c.class]}):a.push({...l,key:i,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class fre extends pw{constructor(){super("content","content")}normalizeConfig(e,n){return dw("base",n)}}class dre extends pw{constructor(){super("dot","dots")}}class pre extends pw{constructor(){super("bar","bars")}}class mre{constructor(e){Ue(this,"color"),Ue(this,"renderers",[new fre,new hre,new dre,new pre]),this.color=e}normalizeGlyphs(e){this.renderers.forEach(n=>{const r=n.type;e[r]!=null&&(e[r]=n.normalizeConfig(this.color,e[r]))})}prepareRender(e={}){return this.renderers.forEach(n=>{n.prepareRender(e)}),e}render(e,n){this.renderers.forEach(r=>{r.render(e,n)})}}const Uk=Symbol("__vc_base_context__"),Bk={color:{type:String,default:()=>Yo("color")},isDark:{type:[Boolean,String,Object],default:()=>Yo("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function jk(t){const e=Q(()=>t.color??""),n=Q(()=>t.isDark??!1),{displayMode:r}=are(n),s=Q(()=>new mre(e.value)),i=Q(()=>{if(t.locale instanceof Hp)return t.locale;const d=ji(t.locale)?t.locale:{id:t.locale,firstDayOfWeek:t.firstDayOfWeek,masks:t.masks};return new Hp(d,t.timezone)}),o=Q(()=>i.value.masks),a=Q(()=>t.minDate),l=Q(()=>t.maxDate),u=Q(()=>{const d=t.disabledDates?[...t.disabledDates]:[];return a.value!=null&&d.push({start:null,end:gr(i.value.toDate(a.value),-1)}),l.value!=null&&d.push({start:gr(i.value.toDate(l.value),1),end:null}),i.value.ranges(d)}),c=Q(()=>new Nk({key:"disabled",dates:u.value,order:100},s.value,i.value)),f={color:e,isDark:n,displayMode:r,theme:s,locale:i,masks:o,minDate:a,maxDate:l,disabledDates:u,disabledAttribute:c};return Mi(Uk,f),f}function gre(t){return Ln(Uk,()=>jk(t),!0)}function Hk(t){return`__vc_slot_${t}__`}function zk(t,e={}){Object.keys(t).forEach(n=>{Mi(Hk(e[n]??n),t[n])})}function Yk(t){return Ln(Hk(t),null)}const _re={...Bk,view:{type:String,default:"monthly",validator(t){return["daily","weekly","monthly"].includes(t)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Yo("titlePosition")},navVisibility:{type:String,default:()=>Yo("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},vre=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],qk=Symbol("__vc_calendar_context__");function yre(t,{slots:e,emit:n}){const r=ke(null),s=ke(null),i=ke(new Date().getDate()),o=ke(!1),a=ke(Symbol()),l=ke(Symbol()),u=ke(t.view),c=ke([]),f=ke("");let d=null,p=null;zk(e);const{theme:g,color:_,displayMode:A,locale:S,masks:M,minDate:k,maxDate:O,disabledAttribute:x,disabledDates:N}=gre(t),T=Q(()=>t.rows*t.columns),b=Q(()=>t.step||T.value),w=Q(()=>pk(c.value)??null),I=Q(()=>Yl(c.value)??null),P=Q(()=>t.minPage||(k.value?te(k.value):null)),y=Q(()=>t.maxPage||(O.value?te(O.value):null)),E=Q(()=>t.navVisibility),B=Q(()=>!!t.showWeeknumbers),U=Q(()=>!!t.showIsoWeeknumbers),F=Q(()=>u.value==="monthly"),j=Q(()=>u.value==="weekly"),H=Q(()=>u.value==="daily"),ee=()=>{o.value=!0,n("transition-start")},R=()=>{o.value=!1,n("transition-end"),d&&(d.resolve(!0),d=null)},ce=(re,V,G=u.value)=>bk(re,V,G,S.value),te=re=>wk(re,u.value,S.value),ve=re=>{!x.value||!W.value||(re.isDisabled=W.value.cellExists(x.value.key,re.dayIndex))},ge=re=>{re.isFocusable=re.inMonth&&re.day===i.value},De=(re,V)=>{for(const G of re)for(const be of G.days)if(V(be)===!1)return},Oe=Q(()=>c.value.reduce((re,V)=>(re.push(...V.viewDays),re),[])),z=Q(()=>{const re=[];return(t.attributes||[]).forEach((V,G)=>{!V||!V.dates||re.push(new Nk({...V,order:V.order||0},g.value,S.value))}),x.value&&re.push(x.value),re}),le=Q(()=>Ci(z.value)),W=Q(()=>{const re=new ene;return z.value.forEach(V=>{V.ranges.forEach(G=>{re.render(V,G,Oe.value)})}),re}),ne=Q(()=>Oe.value.reduce((re,V)=>(re[V.dayIndex]={day:V,cells:[]},re[V.dayIndex].cells.push(...W.value.getCells(V)),re),{})),me=(re,V)=>{const G=t.showWeeknumbers||t.showIsoWeeknumbers;return G==null?"":AJ(G)?G?"left":"":G.startsWith("right")?V>1?"right":G:re>1?"left":G},Ce=()=>{var re,V;if(!le.value)return null;const G=z.value.find(et=>et.pinPage)||z.value[0];if(!G||!G.hasRanges)return null;const[be]=G.ranges,Le=((re=be.start)==null?void 0:re.date)||((V=be.end)==null?void 0:V.date);return Le?te(Le):null},D=()=>{if(Ks(w.value))return w.value;const re=Ce();return Ks(re)?re:te(new Date)},L=(re,V={})=>{const{view:G=u.value,position:be=1,force:Le}=V,et=be>0?1-be:-(T.value+be);let wt=ce(re,et,G),Et=ce(wt,T.value-1,G);return Le||(Cv(wt,P.value)?wt=P.value:jp(Et,y.value)&&(wt=ce(y.value,1-T.value)),Et=ce(wt,T.value-1)),{fromPage:wt,toPage:Et}},Y=(re,V,G="")=>{if(G==="none"||G==="fade")return G;if((re==null?void 0:re.view)!==(V==null?void 0:V.view))return"fade";const be=jp(V,re),Le=Cv(V,re);return!be&&!Le?"fade":G==="slide-v"?Le?"slide-down":"slide-up":Le?"slide-right":"slide-left"},X=(re={})=>new Promise((V,G)=>{const{position:be=1,force:Le=!1,transition:et}=re,wt=Ks(re.page)?re.page:D(),{fromPage:Et}=L(wt,{position:be,force:Le}),Yn=[];for(let an=0;an<T.value;an++){const es=ce(Et,an),Me=an+1,Fe=Math.ceil(Me/t.columns),He=t.rows-Fe+1,Ee=Me%t.columns||t.columns,je=t.columns-Ee+1,$e=me(Ee,je);Yn.push(S.value.getPage({...es,view:u.value,titlePosition:t.titlePosition,trimWeeks:t.trimWeeks,position:Me,row:Fe,rowFromEnd:He,column:Ee,columnFromEnd:je,showWeeknumbers:B.value,showIsoWeeknumbers:U.value,weeknumberPosition:$e}))}f.value=Y(c.value[0],Yn[0],et),c.value=Yn,f.value&&f.value!=="none"?d={resolve:V,reject:G}:V(!0)}),$=re=>{const V=w.value??te(new Date);return ce(V,re)},he=(re,V={})=>{const G=Ks(re)?re:te(re);return Object.assign(V,L(G,{...V,force:!0})),Xte(V.fromPage,V.toPage,u.value,S.value).map(Le=>Kte(Le,P.value,y.value)).some(Le=>Le)},de=(re,V={})=>he($(re),V),ue=Q(()=>de(-b.value)),ae=Q(()=>de(b.value)),se=async(re,V={})=>!V.force&&!he(re,V)?!1:(V.fromPage&&!Qte(V.fromPage,w.value)&&(Yh({id:a.value,hideDelay:0}),V.view&&(sre("view",10),u.value=V.view),await X({...V,page:V.fromPage,position:1,force:!0}),n("did-move",c.value)),!0),_e=(re,V={})=>se($(re),V),Re=()=>_e(-b.value),we=()=>_e(b.value),Ie=re=>{const V=F.value?".in-month":"",G=`.id-${S.value.getDayId(re)}${V}`,be=`${G}.vc-focusable, ${G} .vc-focusable`,Le=r.value;if(Le){const et=Le.querySelector(be);if(et)return et.focus(),!0}return!1},Te=async(re,V={})=>Ie(re)?!0:(await se(re,V),Ie(re)),Ye=(re,V)=>{i.value=re.day,n("dayclick",re,V)},ze=(re,V)=>{n("daymouseenter",re,V)},st=(re,V)=>{n("daymouseleave",re,V)},qt=(re,V)=>{i.value=re.day,s.value=re,re.isFocused=!0,n("dayfocusin",re,V)},tt=(re,V)=>{s.value=null,re.isFocused=!1,n("dayfocusout",re,V)},lr=(re,V)=>{n("daykeydown",re,V);const G=re.noonDate;let be=null;switch(V.key){case"ArrowLeft":{be=gr(G,-1);break}case"ArrowRight":{be=gr(G,1);break}case"ArrowUp":{be=gr(G,-7);break}case"ArrowDown":{be=gr(G,7);break}case"Home":{be=gr(G,-re.weekdayPosition+1);break}case"End":{be=gr(G,re.weekdayPositionFromEnd);break}case"PageUp":{V.altKey?be=CA(G,-1):be=Bp(G,-1);break}case"PageDown":{V.altKey?be=CA(G,1):be=Bp(G,1);break}}be&&(V.preventDefault(),Te(be).catch())},on=re=>{const V=s.value;V!=null&&lr(V,re)},Rn=(re,V)=>{n("weeknumberclick",re,V)};X({page:t.initialPage,position:t.initialPagePosition}),Vr(()=>{!t.disablePageSwipe&&r.value&&(p=rre(r.value,({toLeft:re=!1,toRight:V=!1})=>{re?we():V&&Re()},Yo("touch")))}),Jo(()=>{c.value=[],p&&p()}),at(()=>S.value,()=>{X()}),at(()=>T.value,()=>X()),at(()=>t.view,()=>u.value=t.view),at(()=>u.value,()=>{ire("view",()=>{X()}),n("update:view",u.value)}),at(()=>i.value,()=>{De(c.value,re=>ge(re))}),m0(()=>{n("update:pages",c.value),De(c.value,re=>{ve(re),ge(re)})});const Ct={emit:n,containerRef:r,focusedDay:s,inTransition:o,navPopoverId:a,dayPopoverId:l,view:u,pages:c,transitionName:f,theme:g,color:_,displayMode:A,locale:S,masks:M,attributes:z,disabledAttribute:x,disabledDates:N,attributeContext:W,days:Oe,dayCells:ne,count:T,step:b,firstPage:w,lastPage:I,canMovePrev:ue,canMoveNext:ae,minPage:P,maxPage:y,isMonthly:F,isWeekly:j,isDaily:H,navVisibility:E,showWeeknumbers:B,showIsoWeeknumbers:U,getDateAddress:te,canMove:he,canMoveBy:de,move:se,moveBy:_e,movePrev:Re,moveNext:we,onTransitionBeforeEnter:ee,onTransitionAfterEnter:R,tryFocusDate:Ie,focusDate:Te,onKeydown:on,onDayKeydown:lr,onDayClick:Ye,onDayMouseenter:ze,onDayMouseleave:st,onDayFocusin:qt,onDayFocusout:tt,onWeeknumberClick:Rn};return Mi(qk,Ct),Ct}function Tl(){const t=Ln(qk);if(t)return t;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const wre=zt({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(t,{emit:e}){let n;const r=ke();let s=null,i=null;const o=br({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function a(R){R&&(o.direction=R.split("-")[0])}function l({placement:R,options:ce}){a(R||(ce==null?void 0:ce.placement))}const u=Q(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),c=Q(()=>{const R=o.direction==="left"||o.direction==="right";let ce="";if(o.placement){const te=o.placement.split("-");te.length>1&&(ce=te[1])}return["start","top","left"].includes(ce)?R?"top":"left":["end","bottom","right"].includes(ce)?R?"bottom":"right":R?"middle":"center"});function f(){i&&(i.destroy(),i=null)}function d(){wn(()=>{const R=$p(o.target);!R||!r.value||(i&&i.state.elements.reference!==R&&f(),i?i.update():i=dq(R,r.value,u.value))})}function p(R){Object.assign(o,gk(R,"force"))}function g(R,ce){clearTimeout(n),R>0?n=setTimeout(ce,R):ce()}function _(R){return!R||!i?!1:$p(R)===i.state.elements.reference}async function A(R={}){o.force||(R.force&&(o.force=!0),g(R.showDelay??t.showDelay,()=>{o.isVisible&&(o.force=!1),p({...R,isVisible:!0}),d()}))}function S(R={}){i&&(R.target&&!_(R.target)||o.force||(R.force&&(o.force=!0),g(R.hideDelay??t.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function M(R={}){R.target!=null&&(o.isVisible&&_(R.target)?S(R):A(R))}function k(R){if(!i)return;const ce=i.state.elements.reference;if(!r.value||!ce)return;const te=R.target;Ud(r.value,te)||Ud(ce,te)||S({force:!0})}function O(R){(R.key==="Esc"||R.key==="Escape")&&S()}function x({detail:R}){!R.id||R.id!==t.id||A(R)}function N({detail:R}){!R.id||R.id!==t.id||S(R)}function T({detail:R}){!R.id||R.id!==t.id||M(R)}function b(){bo(document,"keydown",O),bo(document,"click",k),bo(document,"show-popover",x),bo(document,"hide-popover",N),bo(document,"toggle-popover",T)}function w(){wo(document,"keydown",O),wo(document,"click",k),wo(document,"show-popover",x),wo(document,"hide-popover",N),wo(document,"toggle-popover",T)}function I(R){e("before-show",R)}function P(R){o.force=!1,e("after-show",R)}function y(R){e("before-hide",R)}function E(R){o.force=!1,f(),e("after-hide",R)}function B(R){R.stopPropagation()}function U(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&A()}function F(){if(o.isHovered=!1,!i)return;const R=i.state.elements.reference;o.autoHide&&!o.isFocused&&(!R||R!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&S()}function j(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&A()}function H(R){["focus","hover-focus"].includes(o.visibility)&&(!R.relatedTarget||!Ud(r.value,R.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&S())}function ee(){s!=null&&(s.disconnect(),s=null)}return at(()=>r.value,R=>{ee(),R&&(s=new ResizeObserver(()=>{i&&i.update()}),s.observe(R))}),at(()=>o.placement,a,{immediate:!0}),Vr(()=>{b()}),Jo(()=>{f(),ee(),w()}),{...rR(o),popoverRef:r,alignment:c,hide:S,setupPopper:d,beforeEnter:I,afterEnter:P,beforeLeave:y,afterLeave:E,onClick:B,onMouseOver:U,onMouseLeave:F,onFocusIn:j,onFocusOut:H}}}),na=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};function bre(t,e,n,r,s,i){return oe(),Se("div",{class:Pt(["vc-popover-content-wrapper",{"is-interactive":t.isInteractive}]),ref:"popoverRef",onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o)),onMouseover:e[1]||(e[1]=(...o)=>t.onMouseOver&&t.onMouseOver(...o)),onMouseleave:e[2]||(e[2]=(...o)=>t.onMouseLeave&&t.onMouseLeave(...o)),onFocusin:e[3]||(e[3]=(...o)=>t.onFocusIn&&t.onFocusIn(...o)),onFocusout:e[4]||(e[4]=(...o)=>t.onFocusOut&&t.onFocusOut(...o))},[ye(jo,{name:`vc-${t.transition}`,appear:"",onBeforeEnter:t.beforeEnter,onAfterEnter:t.afterEnter,onBeforeLeave:t.beforeLeave,onAfterLeave:t.afterLeave},{default:gt(()=>[t.isVisible?(oe(),Se("div",Kr({key:0,tabindex:"-1",class:`vc-popover-content direction-${t.direction}`},t.$attrs),[rn(t.$slots,"default",{direction:t.direction,alignment:t.alignment,data:t.data,hide:t.hide},()=>[$n(It(t.data),1)]),pe("span",{class:Pt(["vc-popover-caret",`direction-${t.direction}`,`align-${t.alignment}`])},null,2)],16)):rt("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const mw=na(wre,[["render",bre]]),Tre={class:"vc-day-popover-row"},Ere={key:0,class:"vc-day-popover-row-indicator"},Are={class:"vc-day-popover-row-label"},Ire=zt({__name:"PopoverRow",props:{attribute:null},setup(t){const e=t,n=Q(()=>{const{content:r,highlight:s,dot:i,bar:o,popover:a}=e.attribute;return a&&a.hideIndicator?null:r?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${r.base.color}`}:s?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${s.base.color}`}:i?{class:`vc-dot vc-attr vc-${i.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(r,s)=>(oe(),Se("div",Tre,[K(n)?(oe(),Se("div",Ere,[pe("span",{class:Pt(K(n).class)},null,2)])):rt("",!0),pe("div",Are,[rn(r.$slots,"default",{},()=>[$n(It(t.attribute.popover?t.attribute.popover.label:"No content provided"),1)])])]))}}),Sre={inheritAttrs:!1},cs=zt({...Sre,__name:"CalendarSlot",props:{name:null},setup(t){const n=Yk(t.name);return(r,s)=>K(n)?(oe(),ot(qc(K(n)),Da(Kr({key:0},r.$attrs)),null,16)):rn(r.$slots,"default",{key:1})}}),Pre={class:"vc-day-popover-container"},Rre={key:0,class:"vc-day-popover-header"},Cre=zt({__name:"CalendarDayPopover",setup(t){const{dayPopoverId:e,displayMode:n,color:r,masks:s,locale:i}=Tl();function o(l,u){return i.value.formatDate(l,u)}function a(l){return i.value.formatDate(l.date,s.value.dayPopover)}return(l,u)=>(oe(),ot(mw,{id:K(e),class:Pt([`vc-${K(r)}`,`vc-${K(n)}`])},{default:gt(({data:{day:c,attributes:f},hide:d})=>[ye(cs,{name:"day-popover",day:c,"day-title":a(c),attributes:f,format:o,masks:K(s),hide:d},{default:gt(()=>[pe("div",Pre,[K(s).dayPopover?(oe(),Se("div",Rre,It(a(c)),1)):rt("",!0),(oe(!0),Se(ft,null,Nn(f,p=>(oe(),ot(Ire,{key:p.key,attribute:p},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),Dre={},kre={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},Ore=pe("polyline",{points:"9 18 15 12 9 6"},null,-1),xre=[Ore];function Mre(t,e){return oe(),Se("svg",kre,xre)}const Nre=na(Dre,[["render",Mre]]),Lre={},$re={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},Vre=pe("polyline",{points:"15 18 9 12 15 6"},null,-1),Fre=[Vre];function Ure(t,e){return oe(),Se("svg",$re,Fre)}const Bre=na(Lre,[["render",Ure]]),jre={},Hre={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},zre=pe("polyline",{points:"6 9 12 15 18 9"},null,-1),Yre=[zre];function qre(t,e){return oe(),Se("svg",Hre,Yre)}const Wre=na(jre,[["render",qre]]),Gre={},Kre={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},Qre=pe("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Xre=[Qre];function Jre(t,e){return oe(),Se("svg",Kre,Xre)}const Zre=na(Gre,[["render",Jre]]),ese=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:Wre,IconChevronLeft:Bre,IconChevronRight:Nre,IconClock:Zre},Symbol.toStringTag,{value:"Module"})),Ru=zt({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(t){const e=t,n=Q(()=>e.width||e.size),r=Q(()=>e.height||e.size),s=Q(()=>ese[`Icon${e.name}`]);return(i,o)=>(oe(),ot(qc(K(s)),{width:K(n),height:K(r),class:"vc-base-icon"},null,8,["width","height"]))}}),tse=["disabled"],nse={key:1,class:"vc-title-wrapper"},rse={type:"button",class:"vc-title"},sse=["disabled"],Wk=zt({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(t){const e=t,{navPopoverId:n,navVisibility:r,canMovePrev:s,movePrev:i,canMoveNext:o,moveNext:a}=Tl(),l=Q(()=>{switch(e.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),u=Q(()=>{const{page:_}=e;return{id:n.value,visibility:r.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:_},isInteractive:!0}}),c=Q(()=>e.page.titlePosition.includes("left")),f=Q(()=>e.page.titlePosition.includes("right")),d=Q(()=>e.layout?e.layout:c.value?"tu-pn":f.value?"pn-tu":"p-tu-n;"),p=Q(()=>({prev:d.value.includes("p")&&!e.hideArrows,title:d.value.includes("t")&&!e.hideTitle,next:d.value.includes("n")&&!e.hideArrows})),g=Q(()=>({gridTemplateColumns:d.value.split("").map(A=>{switch(A){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(_,A)=>(oe(),Se("div",{class:Pt(["vc-header",{"is-lg":t.isLg,"is-xl":t.isXl,"is-2xl":t.is2xl}]),style:ti(K(g))},[K(p).prev?(oe(),Se("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!K(s),onClick:A[0]||(A[0]=(...S)=>K(i)&&K(i)(...S)),onKeydown:A[1]||(A[1]=Br((...S)=>K(i)&&K(i)(...S),["space","enter"]))},[ye(cs,{name:"header-prev-button",disabled:!K(s)},{default:gt(()=>[ye(Ru,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,tse)):rt("",!0),K(p).title?(oe(),Se("div",nse,[ye(cs,{name:"header-title-wrapper"},{default:gt(()=>[Sr((oe(),Se("button",rse,[ye(cs,{name:"header-title",title:t.page.title},{default:gt(()=>[pe("span",null,It(t.page.title),1)]),_:1},8,["title"])])),[[K(Vk),K(u)]])]),_:1})])):rt("",!0),K(p).next?(oe(),Se("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!K(o),onClick:A[2]||(A[2]=(...S)=>K(a)&&K(a)(...S)),onKeydown:A[3]||(A[3]=Br((...S)=>K(a)&&K(a)(...S),["space","enter"]))},[ye(cs,{name:"header-next-button",disabled:!K(o)},{default:gt(()=>[ye(Ru,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,sse)):rt("",!0)],6))}}),Gk=Symbol("__vc_page_context__");function ise(t){const{locale:e,getDateAddress:n,canMove:r}=Tl();function s(a,l){const{month:u,year:c}=n(new Date);return Mk().map((f,d)=>{const p=d+1;return{month:p,year:a,id:Gte(p,a),label:e.value.formatDate(f,l),ariaLabel:e.value.formatDate(f,"MMMM"),isActive:p===t.value.month&&a===t.value.year,isCurrent:p===u&&a===c,isDisabled:!r({month:p,year:a},{position:t.value.position})}})}function i(a,l){const{year:u}=n(new Date),{position:c}=t.value,f=[];for(let d=a;d<=l;d+=1){const p=[...Array(12).keys()].some(g=>r({month:g+1,year:d},{position:c}));f.push({year:d,id:d.toString(),label:d.toString(),ariaLabel:d.toString(),isActive:d===t.value.year,isCurrent:d===u,isDisabled:!p})}return f}const o={page:t,getMonthItems:s,getYearItems:i};return Mi(Gk,o),o}function Kk(){const t=Ln(Gk);if(t)return t;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const ose={class:"vc-nav-header"},ase=["disabled"],lse=["disabled"],use={class:"vc-nav-items"},cse=["data-id","aria-label","disabled","onClick","onKeydown"],hse=zt({__name:"CalendarNav",setup(t){const{masks:e,move:n}=Tl(),{page:r,getMonthItems:s,getYearItems:i}=Kk(),o=ke(!0),a=12,l=ke(r.value.year),u=ke(d(r.value.year)),c=ke(null);function f(){setTimeout(()=>{if(c.value==null)return;const te=c.value.querySelector(".vc-nav-item:not(:disabled)");te&&te.focus()},10)}function d(te){return Math.floor(te/a)}function p(){o.value=!o.value}function g(te){return te*a}function _(te){return a*(te+1)-1}function A(){j.value&&(o.value&&M(),O())}function S(){H.value&&(o.value&&k(),x())}function M(){l.value--}function k(){l.value++}function O(){u.value--}function x(){u.value++}const N=Q(()=>s(l.value,e.value.navMonths).map(te=>({...te,click:()=>n({month:te.month,year:te.year},{position:r.value.position})}))),T=Q(()=>s(l.value-1,e.value.navMonths)),b=Q(()=>T.value.some(te=>!te.isDisabled)),w=Q(()=>s(l.value+1,e.value.navMonths)),I=Q(()=>w.value.some(te=>!te.isDisabled)),P=Q(()=>i(g(u.value),_(u.value)).map(te=>({...te,click:()=>{l.value=te.year,o.value=!0,f()}}))),y=Q(()=>i(g(u.value-1),_(u.value-1))),E=Q(()=>y.value.some(te=>!te.isDisabled)),B=Q(()=>i(g(u.value+1),_(u.value+1))),U=Q(()=>B.value.some(te=>!te.isDisabled)),F=Q(()=>o.value?N.value:P.value),j=Q(()=>o.value?b.value:E.value),H=Q(()=>o.value?I.value:U.value),ee=Q(()=>pk(P.value.map(te=>te.year))),R=Q(()=>Yl(P.value.map(te=>te.year))),ce=Q(()=>o.value?l.value:`${ee.value} - ${R.value}`);return m0(()=>{l.value=r.value.year,f()}),at(()=>l.value,te=>u.value=d(te)),Vr(()=>f()),(te,ve)=>(oe(),Se("div",{class:"vc-nav-container",ref_key:"navContainer",ref:c},[pe("div",ose,[pe("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!K(j),onClick:A,onKeydown:ve[0]||(ve[0]=ge=>K(ud)(ge,A))},[ye(cs,{name:"nav-prev-button",move:A,disabled:!K(j)},{default:gt(()=>[ye(Ru,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,ase),pe("button",{type:"button",class:"vc-nav-title vc-focus",onClick:p,onKeydown:ve[1]||(ve[1]=ge=>K(ud)(ge,p))},It(K(ce)),33),pe("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!K(H),onClick:S,onKeydown:ve[2]||(ve[2]=ge=>K(ud)(ge,S))},[ye(cs,{name:"nav-next-button",move:S,disabled:!K(H)},{default:gt(()=>[ye(Ru,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,lse)]),pe("div",use,[(oe(!0),Se(ft,null,Nn(K(F),ge=>(oe(),Se("button",{key:ge.label,type:"button","data-id":ge.id,"aria-label":ge.ariaLabel,class:Pt(["vc-nav-item vc-focus",[ge.isActive?"is-active":ge.isCurrent?"is-current":""]]),disabled:ge.isDisabled,onClick:ge.click,onKeydown:De=>K(ud)(De,ge.click)},It(ge.label),43,cse))),128))])],512))}}),Qk=zt({__name:"CalendarPageProvider",props:{page:null},setup(t){return ise(Na(t,"page")),(n,r)=>rn(n.$slots,"default")}}),fse=zt({__name:"CalendarNavPopover",setup(t){const{navPopoverId:e,color:n,displayMode:r}=Tl();return(s,i)=>(oe(),ot(mw,{id:K(e),class:Pt(["vc-nav-popover-container",`vc-${K(n)}`,`vc-${K(r)}`])},{default:gt(({data:o})=>[ye(Qk,{page:o.page},{default:gt(()=>[ye(cs,{name:"nav"},{default:gt(()=>[ye(hse)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),dse=zt({directives:{popover:Vk},components:{CalendarSlot:cs},props:{day:{type:Object,required:!0}},setup(t){const{locale:e,theme:n,attributeContext:r,dayPopoverId:s,onDayClick:i,onDayMouseenter:o,onDayMouseleave:a,onDayFocusin:l,onDayFocusout:u,onDayKeydown:c}=Tl(),f=Q(()=>t.day),d=Q(()=>r.value.getCells(f.value)),p=Q(()=>d.value.map(U=>U.data)),g=Q(()=>({...f.value,attributes:p.value,attributeCells:d.value}));function _({data:U},{popovers:F}){const{key:j,customData:H,popover:ee}=U;if(!ee)return;const R=hA({key:j,customData:H,attribute:U},{...ee},{visibility:ee.label?"hover":"click",placement:"bottom",isInteractive:!ee.label});F.splice(0,0,R)}const A=Q(()=>{const U={...n.value.prepareRender({}),popovers:[]};return d.value.forEach(F=>{n.value.render(F,U),_(F,U)}),U}),S=Q(()=>A.value.highlights),M=Q(()=>!!Ci(S.value)),k=Q(()=>A.value.content),O=Q(()=>A.value.dots),x=Q(()=>!!Ci(O.value)),N=Q(()=>A.value.bars),T=Q(()=>!!Ci(N.value)),b=Q(()=>A.value.popovers),w=Q(()=>b.value.map(U=>U.attribute)),I=Yk("day-content"),P=Q(()=>["vc-day",...f.value.classes,{"vc-day-box-center-center":!I},{"is-not-in-month":!t.day.inMonth}]),y=Q(()=>{let U;f.value.isFocusable?U="0":U="-1";const F=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":f.value.isDisabled},Ia(Yl(S.value),"contentClass"),Ia(Yl(k.value),"class")||""],j={...Ia(Yl(S.value),"contentStyle"),...Ia(Yl(k.value),"style")};return{class:F,style:j,tabindex:U,"aria-label":f.value.ariaLabel,"aria-disabled":!!f.value.isDisabled,role:"button"}}),E=Q(()=>({click(U){i(g.value,U)},mouseenter(U){o(g.value,U)},mouseleave(U){a(g.value,U)},focusin(U){l(g.value,U)},focusout(U){u(g.value,U)},keydown(U){c(g.value,U)}})),B=Q(()=>Ci(b.value)?hA({id:s.value,data:{day:f,attributes:w.value}},...b.value):null);return{attributes:p,attributeCells:d,bars:N,dayClasses:P,dayContentProps:y,dayContentEvents:E,dayPopover:B,glyphs:A,dots:O,hasDots:x,hasBars:T,highlights:S,hasHighlights:M,locale:e,popovers:b}}}),pse={key:0,class:"vc-highlights vc-day-layer"},mse={key:1,class:"vc-day-layer vc-day-box-center-bottom"},gse={class:"vc-dots"},_se={key:2,class:"vc-day-layer vc-day-box-center-bottom"},vse={class:"vc-bars"};function yse(t,e,n,r,s,i){const o=is("CalendarSlot"),a=UF("popover");return oe(),Se("div",{class:Pt(t.dayClasses)},[t.hasHighlights?(oe(),Se("div",pse,[(oe(!0),Se(ft,null,Nn(t.highlights,({key:l,wrapperClass:u,class:c,style:f})=>(oe(),Se("div",{key:l,class:Pt(u)},[pe("div",{class:Pt(c),style:ti(f)},null,6)],2))),128))])):rt("",!0),ye(o,{name:"day-content",day:t.day,attributes:t.attributes,"attribute-cells":t.attributeCells,dayProps:t.dayContentProps,dayEvents:t.dayContentEvents,locale:t.locale},{default:gt(()=>[Sr((oe(),Se("div",Kr(t.dayContentProps,W_(t.dayContentEvents,!0)),[$n(It(t.day.label),1)],16)),[[a,t.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),t.hasDots?(oe(),Se("div",mse,[pe("div",gse,[(oe(!0),Se(ft,null,Nn(t.dots,({key:l,class:u,style:c})=>(oe(),Se("span",{key:l,class:Pt(u),style:ti(c)},null,6))),128))])])):rt("",!0),t.hasBars?(oe(),Se("div",_se,[pe("div",vse,[(oe(!0),Se(ft,null,Nn(t.bars,({key:l,class:u,style:c})=>(oe(),Se("span",{key:l,class:Pt(u),style:ti(c)},null,6))),128))])])):rt("",!0)],2)}const wse=na(dse,[["render",yse]]),bse={class:"vc-weekdays"},Tse=["onClick"],Ese={inheritAttrs:!1},Ase=zt({...Ese,__name:"CalendarPage",setup(t){const{page:e}=Kk(),{onWeeknumberClick:n}=Tl();return(r,s)=>(oe(),Se("div",{class:Pt(["vc-pane",`row-${K(e).row}`,`row-from-end-${K(e).rowFromEnd}`,`column-${K(e).column}`,`column-from-end-${K(e).columnFromEnd}`]),ref:"pane"},[ye(Wk,{page:K(e),"is-lg":"","hide-arrows":""},null,8,["page"]),pe("div",{class:Pt(["vc-weeks",{[`vc-show-weeknumbers-${K(e).weeknumberPosition}`]:K(e).weeknumberPosition}])},[pe("div",bse,[(oe(!0),Se(ft,null,Nn(K(e).weekdays,({weekday:i,label:o},a)=>(oe(),Se("div",{key:a,class:Pt(`vc-weekday vc-weekday-${i}`)},It(o),3))),128))]),(oe(!0),Se(ft,null,Nn(K(e).viewWeeks,i=>(oe(),Se("div",{key:`weeknumber-${i.weeknumber}`,class:"vc-week"},[K(e).weeknumberPosition?(oe(),Se("div",{key:0,class:Pt(["vc-weeknumber",`is-${K(e).weeknumberPosition}`])},[pe("span",{class:Pt(["vc-weeknumber-content"]),onClick:o=>K(n)(i,o)},It(i.weeknumberDisplay),9,Tse)],2)):rt("",!0),(oe(!0),Se(ft,null,Nn(i.days,o=>(oe(),ot(wse,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),Ise=zt({components:{CalendarHeader:Wk,CalendarPage:Ase,CalendarNavPopover:fse,CalendarDayPopover:Cre,CalendarPageProvider:Qk,CalendarSlot:cs},props:_re,emit:vre,setup(t,{emit:e,slots:n}){return yre(t,{emit:e,slots:n})}}),Sse={class:"vc-pane-header-wrapper"};function Pse(t,e,n,r,s,i){const o=is("CalendarHeader"),a=is("CalendarPage"),l=is("CalendarSlot"),u=is("CalendarPageProvider"),c=is("CalendarDayPopover"),f=is("CalendarNavPopover");return oe(),Se(ft,null,[pe("div",Kr({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},t.$attrs,{class:["vc-container",`vc-${t.view}`,`vc-${t.color}`,`vc-${t.displayMode}`,{"vc-expanded":t.expanded,"vc-bordered":!t.borderless,"vc-transparent":t.transparent}],onMouseup:e[0]||(e[0]=nn(()=>{},["prevent"])),ref:"containerRef"}),[pe("div",{class:Pt(["vc-pane-container",{"in-transition":t.inTransition}])},[pe("div",Sse,[t.firstPage?(oe(),ot(o,{key:0,page:t.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):rt("",!0)]),ye(jo,{name:`vc-${t.transitionName}`,onBeforeEnter:t.onTransitionBeforeEnter,onAfterEnter:t.onTransitionAfterEnter},{default:gt(()=>[(oe(),Se("div",{key:t.pages[0].id,class:"vc-pane-layout",style:ti({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(oe(!0),Se(ft,null,Nn(t.pages,d=>(oe(),ot(u,{key:d.id,page:d},{default:gt(()=>[ye(l,{name:"page",page:d},{default:gt(()=>[ye(a)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),ye(l,{name:"footer"})],2)],16),ye(c),ye(f)],64)}const Rse=na(Ise,[["render",Pse]]),Xk=Symbol("__vc_date_picker_context__"),Cse={...Bk,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>Yo("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>Yo("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},Dse=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function kse(t,{emit:e,slots:n}){zk(n,{footer:"dp-footer"});const r=jk(t),{locale:s,masks:i,disabledAttribute:o}=r,a=ke(!1),l=ke(Symbol()),u=ke(null),c=ke(null),f=ke(["",""]),d=ke(null),p=ke(null);let g,_,A=!0;const S=Q(()=>t.isRange||t.modelModifiers.range===!0),M=Q(()=>S.value&&u.value!=null?u.value.start:null),k=Q(()=>S.value&&u.value!=null?u.value.end:null),O=Q(()=>t.mode.toLowerCase()==="date"),x=Q(()=>t.mode.toLowerCase()==="datetime"),N=Q(()=>t.mode.toLowerCase()==="time"),T=Q(()=>!!c.value),b=Q(()=>{let V="date";t.modelModifiers.number&&(V="number"),t.modelModifiers.string&&(V="string");const G=i.value.modelValue||"iso";return ve({type:V,mask:G})}),w=Q(()=>de(c.value??u.value)),I=Q(()=>N.value?t.is24hr?i.value.inputTime24hr:i.value.inputTime:x.value?t.is24hr?i.value.inputDateTime24hr:i.value.inputDateTime:i.value.input),P=Q(()=>/[Hh]/g.test(I.value)),y=Q(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(I.value)),E=Q(()=>{if(P.value&&y.value)return"dateTime";if(y.value)return"date";if(P.value)return"time"}),B=Q(()=>{var V;const G=((V=d.value)==null?void 0:V.$el.previousElementSibling)??void 0;return zh({},t.popover,Yo("datePicker.popover"),{target:G})}),U=Q(()=>$k({...B.value,id:l.value})),F=Q(()=>S.value?{start:f.value[0],end:f.value[1]}:f.value[0]),j=Q(()=>{const V=["start","end"].map(G=>({input:X(G),change:$(G),keyup:he,...t.popover&&U.value}));return S.value?{start:V[0],end:V[1]}:V[0]}),H=Q(()=>{if(!z(u.value))return null;const V={key:"select-drag",...t.selectAttribute,dates:u.value,pinPage:!0},{dot:G,bar:be,highlight:Le,content:et}=V;return!G&&!be&&!Le&&!et&&(V.highlight=!0),V}),ee=Q(()=>{if(!S.value||!z(c.value))return null;const V={key:"select-drag",...t.dragAttribute,dates:c.value},{dot:G,bar:be,highlight:Le,content:et}=V;return!G&&!be&&!Le&&!et&&(V.highlight={startEnd:{fillMode:"outline"}}),V}),R=Q(()=>{const V=_s(t.attributes)?[...t.attributes]:[];return ee.value?V.unshift(ee.value):H.value&&V.unshift(H.value),V}),ce=Q(()=>ve(t.rules==="auto"?te():t.rules??{}));function te(){const V={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},G=O.value?0:t.timeAccuracy;return[0,1].map(be=>{switch(G){case 0:return{hours:V.hr[be],minutes:V.min[be],seconds:V.sec[be],milliseconds:V.ms[be]};case 1:return{minutes:V.min[be],seconds:V.sec[be],milliseconds:V.ms[be]};case 3:return{milliseconds:V.ms[be]};case 4:return{};default:return{seconds:V.sec[be],milliseconds:V.ms[be]}}})}function ve(V){return _s(V)?V.length===1?[V[0],V[0]]:V:[V,V]}function ge(V){return ve(V).map((G,be)=>({...G,rules:ce.value[be]}))}function De(V){return V==null?!1:Ms(V)?!isNaN(V):su(V)?!isNaN(V.getTime()):Gs(V)?V!=="":hw(V)}function Oe(V){return ji(V)&&"start"in V&&"end"in V&&De(V.start??null)&&De(V.end??null)}function z(V){return Oe(V)||De(V)}function le(V,G){if(V==null&&G==null)return!0;if(V==null||G==null)return!1;const be=su(V),Le=su(G);return be&&Le?V.getTime()===G.getTime():be||Le?!1:le(V.start,G.start)&&le(V.end,G.end)}function W(V){return!z(V)||!o.value?!1:o.value.intersectsRange(s.value.range(V))}function ne(V,G,be,Le){if(!z(V))return null;if(Oe(V)){const et=s.value.toDate(V.start,{...G[0],fillDate:M.value??void 0,patch:be}),wt=s.value.toDate(V.end,{...G[1],fillDate:k.value??void 0,patch:be});return tt({start:et,end:wt},Le)}return s.value.toDateOrNull(V,{...G[0],fillDate:u.value,patch:be})}function me(V,G){return Oe(V)?{start:s.value.fromDate(V.start,G[0]),end:s.value.fromDate(V.end,G[1])}:S.value?null:s.value.fromDate(V,G[0])}function Ce(V,G={}){return clearTimeout(g),new Promise(be=>{const{debounce:Le=0,...et}=G;Le>0?g=window.setTimeout(()=>{be(D(V,et))},Le):be(D(V,et))})}function D(V,{config:G=b.value,patch:be="dateTime",clearIfEqual:Le=!1,formatInput:et=!0,hidePopover:wt=!1,dragging:Et=T.value,targetPriority:Yn,moveToValue:an=!1}={}){const es=ge(G);let Me=ne(V,es,be,Yn);if(W(Me)){if(Et)return null;Me=u.value,wt=!1}else Me==null&&t.isRequired?Me=u.value:Me!=null&&le(u.value,Me)&&Le&&(Me=null);const He=Et?c:u,Ee=!le(He.value,Me);He.value=Me,Et||(c.value=null);const je=me(Me,b.value);return Ee&&(A=!1,e(Et?"drag":"update:modelValue",je),wn(()=>A=!0)),wt&&!Et&&st(),et&&L(),an&&wn(()=>Rn(Yn??"start")),je}function L(){wn(()=>{const V=ge({type:"string",mask:I.value}),G=me(c.value??u.value,V);S.value?f.value=[G&&G.start,G&&G.end]:f.value=[G,""]})}function Y(V,G,be){f.value.splice(G==="start"?0:1,1,V);const Le=S.value?{start:f.value[0],end:f.value[1]||f.value[0]}:V,et={type:"string",mask:I.value};Ce(Le,{...be,config:et,patch:E.value,targetPriority:G,moveToValue:!0})}function X(V){return G=>{t.updateOnInput&&Y(G.currentTarget.value,V,{formatInput:!1,hidePopover:!1,debounce:t.inputDebounce})}}function $(V){return G=>{Y(G.currentTarget.value,V,{formatInput:!0,hidePopover:!1})}}function he(V){V.key==="Escape"&&Ce(u.value,{formatInput:!0,hidePopover:!0})}function de(V){return S.value?[V&&V.start?s.value.getDateParts(V.start):null,V&&V.end?s.value.getDateParts(V.end):null]:[V?s.value.getDateParts(V):null]}function ue(){c.value=null,L()}function ae(V){e("popover-will-show",V)}function se(V){e("popover-did-show",V)}function _e(V){ue(),e("popover-will-hide",V)}function Re(V){e("popover-did-hide",V)}function we(V){const G={patch:"date",formatInput:!0,hidePopover:!0};if(S.value){const be=!T.value;be?_={start:V.startDate,end:V.endDate}:_!=null&&(_.end=V.date),Ce(_,{...G,dragging:be})}else Ce(V.date,{...G,clearIfEqual:!t.isRequired})}function Ie(V,G){we(V),e("dayclick",V,G)}function Te(V,G){switch(G.key){case" ":case"Enter":{we(V),G.preventDefault();break}case"Escape":st()}e("daykeydown",V,G)}function Ye(V,G){!T.value||_==null||(_.end=V.date,Ce(tt(_),{patch:"date",formatInput:!0}))}function ze(V={}){Ov({...B.value,...V,isInteractive:!0,id:l.value})}function st(V={}){Yh({hideDelay:10,force:!0,...B.value,...V,id:l.value})}function qt(V){Lk({...B.value,...V,isInteractive:!0,id:l.value})}function tt(V,G){const{start:be,end:Le}=V;if(be>Le)switch(G){case"start":return{start:be,end:be};case"end":return{start:Le,end:Le};default:return{start:Le,end:be}}return{start:be,end:Le}}async function lr(V,G={}){return p.value==null?!1:p.value.move(V,G)}async function on(V,G={}){return p.value==null?!1:p.value.moveBy(V,G)}async function Rn(V,G={}){const be=u.value;if(p.value==null||!z(be))return!1;const Le=V!=="end",et=Le?1:-1,wt=Oe(be)?Le?be.start:be.end:be,Et=wk(wt,"monthly",s.value);return p.value.move(Et,{position:et,...G})}at(()=>t.isRange,V=>{V&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),at(()=>S.value,()=>{D(null,{formatInput:!0})}),at(()=>I.value,()=>L()),at(()=>t.modelValue,V=>{A&&D(V,{formatInput:!0,hidePopover:!1})}),at(()=>ce.value,()=>{ji(t.rules)&&D(t.modelValue,{formatInput:!0,hidePopover:!1})}),at(()=>t.timezone,()=>{D(u.value,{formatInput:!0})});const Ct=ve(b.value);u.value=ne(t.modelValue??null,Ct,"dateTime"),Vr(()=>{D(t.modelValue,{formatInput:!0,hidePopover:!1})}),wn(()=>a.value=!0);const re={...r,showCalendar:a,datePickerPopoverId:l,popoverRef:d,popoverEvents:U,calendarRef:p,isRange:S,isTimeMode:N,isDateTimeMode:x,is24hr:Na(t,"is24hr"),hideTimeHeader:Na(t,"hideTimeHeader"),timeAccuracy:Na(t,"timeAccuracy"),isDragging:T,inputValue:F,inputEvents:j,dateParts:w,attributes:R,rules:ce,move:lr,moveBy:on,moveToValue:Rn,updateValue:Ce,showPopover:ze,hidePopover:st,togglePopover:qt,onDayClick:Ie,onDayKeydown:Te,onDayMouseEnter:Ye,onPopoverBeforeShow:ae,onPopoverAfterShow:se,onPopoverBeforeHide:_e,onPopoverAfterHide:Re};return Mi(Xk,re),re}function gw(){const t=Ln(Xk);if(t)return t;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const Ose=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],xse=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function Mse(t){const e=gw(),{locale:n,isRange:r,isTimeMode:s,dateParts:i,rules:o,is24hr:a,hideTimeHeader:l,timeAccuracy:u,updateValue:c}=e;function f(y){y=Object.assign(p.value,y);let E=null;if(r.value){const B=d.value?y:i.value[0],U=d.value?i.value[1]:y;E={start:B,end:U}}else E=y;c(E,{patch:"time",targetPriority:d.value?"start":"end",moveToValue:!0})}const d=Q(()=>t.position===0),p=Q(()=>i.value[t.position]||{isValid:!1}),g=Q(()=>hw(p.value)),_=Q(()=>!!p.value.isValid),A=Q(()=>!l.value&&_.value),S=Q(()=>{if(!g.value)return null;let y=n.value.toDate(p.value);return p.value.hours===24&&(y=new Date(y.getTime()-1)),y}),M=Q({get(){return p.value.hours},set(y){f({hours:y})}}),k=Q({get(){return p.value.minutes},set(y){f({minutes:y})}}),O=Q({get(){return p.value.seconds},set(y){f({seconds:y})}}),x=Q({get(){return p.value.milliseconds},set(y){f({milliseconds:y})}}),N=Q({get(){return p.value.hours<12},set(y){y=String(y).toLowerCase()=="true";let E=M.value;y&&E>=12?E-=12:!y&&E<12&&(E+=12),f({hours:E})}}),T=Q(()=>Jne(p.value,o.value[t.position])),b=Q(()=>Ose.filter(y=>T.value.hours.some(E=>E.value===y.value))),w=Q(()=>xse.filter(y=>T.value.hours.some(E=>E.value===y.value))),I=Q(()=>a.value?T.value.hours:N.value?b.value:w.value),P=Q(()=>{const y=[];return Ci(b.value)&&y.push({value:!0,label:"AM"}),Ci(w.value)&&y.push({value:!1,label:"PM"}),y});return{...e,showHeader:A,timeAccuracy:u,parts:p,isValid:_,date:S,hours:M,minutes:k,seconds:O,milliseconds:x,options:T,hourOptions:I,isAM:N,isAMOptions:P,is24hr:a}}const Nse=["value"],Lse=["value","disabled"],$se={key:1,class:"vc-base-sizer","aria-hidden":"true"},Vse={inheritAttrs:!1},vc=zt({...Vse,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(t){const e=t,n=Q(()=>{const r=e.options.find(s=>s.value===e.modelValue);return r==null?void 0:r.label});return(r,s)=>(oe(),Se("div",{class:Pt(["vc-base-select",{"vc-fit-content":t.fitContent,"vc-has-icon":t.showIcon}])},[pe("select",Kr(r.$attrs,{value:t.modelValue,class:["vc-focus",{"vc-align-right":t.alignRight,"vc-align-left":t.alignLeft}],onChange:s[0]||(s[0]=i=>r.$emit("update:modelValue",i.target.value))}),[(oe(!0),Se(ft,null,Nn(t.options,i=>(oe(),Se("option",{key:i.value,value:i.value,disabled:i.disabled},It(i.label),9,Lse))),128))],16,Nse),t.showIcon?(oe(),ot(Ru,{key:0,name:"ChevronDown",size:"18"})):rt("",!0),t.fitContent?(oe(),Se("div",$se,It(K(n)),1)):rt("",!0)],2))}}),Fse={key:0,class:"vc-time-header"},Use={class:"vc-time-weekday"},Bse={class:"vc-time-month"},jse={class:"vc-time-day"},Hse={class:"vc-time-year"},zse={class:"vc-time-select-group"},Yse=pe("span",{class:"vc-time-colon"},":",-1),qse=pe("span",{class:"vc-time-colon"},":",-1),Wse=pe("span",{class:"vc-time-decimal"},".",-1),UA=zt({__name:"TimePicker",props:{position:null},setup(t,{expose:e}){const r=Mse(t);e(r);const{locale:s,isValid:i,date:o,hours:a,minutes:l,seconds:u,milliseconds:c,options:f,hourOptions:d,isTimeMode:p,isAM:g,isAMOptions:_,is24hr:A,showHeader:S,timeAccuracy:M}=r;return(k,O)=>(oe(),Se("div",{class:Pt(["vc-time-picker",[{"vc-invalid":!K(i),"vc-attached":!K(p)}]])},[ye(cs,{name:"time-header"},{default:gt(()=>[K(S)&&K(o)?(oe(),Se("div",Fse,[pe("span",Use,It(K(s).formatDate(K(o),"WWW")),1),pe("span",Bse,It(K(s).formatDate(K(o),"MMM")),1),pe("span",jse,It(K(s).formatDate(K(o),"D")),1),pe("span",Hse,It(K(s).formatDate(K(o),"YYYY")),1)])):rt("",!0)]),_:1}),pe("div",zse,[ye(Ru,{name:"Clock",size:"17"}),ye(vc,{modelValue:K(a),"onUpdate:modelValue":O[0]||(O[0]=x=>jt(a)?a.value=x:null),modelModifiers:{number:!0},options:K(d),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),K(M)>1?(oe(),Se(ft,{key:0},[Yse,ye(vc,{modelValue:K(l),"onUpdate:modelValue":O[1]||(O[1]=x=>jt(l)?l.value=x:null),modelModifiers:{number:!0},options:K(f).minutes,class:"vc-time-select-minutes","align-left":K(M)===2},null,8,["modelValue","options","align-left"])],64)):rt("",!0),K(M)>2?(oe(),Se(ft,{key:1},[qse,ye(vc,{modelValue:K(u),"onUpdate:modelValue":O[2]||(O[2]=x=>jt(u)?u.value=x:null),modelModifiers:{number:!0},options:K(f).seconds,class:"vc-time-select-seconds","align-left":K(M)===3},null,8,["modelValue","options","align-left"])],64)):rt("",!0),K(M)>3?(oe(),Se(ft,{key:2},[Wse,ye(vc,{modelValue:K(c),"onUpdate:modelValue":O[3]||(O[3]=x=>jt(c)?c.value=x:null),modelModifiers:{number:!0},options:K(f).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):rt("",!0),K(A)?rt("",!0):(oe(),ot(vc,{key:3,modelValue:K(g),"onUpdate:modelValue":O[4]||(O[4]=x=>jt(g)?g.value=x:null),options:K(_)},null,8,["modelValue","options"]))])],2))}}),Jk=zt({__name:"DatePickerBase",setup(t){const{attributes:e,calendarRef:n,color:r,displayMode:s,isDateTimeMode:i,isTimeMode:o,isRange:a,onDayClick:l,onDayMouseEnter:u,onDayKeydown:c}=gw(),f=a.value?[0,1]:[0];return(d,p)=>K(o)?(oe(),Se("div",{key:0,class:Pt(`vc-container vc-bordered vc-${K(r)} vc-${K(s)}`)},[(oe(!0),Se(ft,null,Nn(K(f),g=>(oe(),ot(UA,{key:g,position:g},null,8,["position"]))),128))],2)):(oe(),ot(Rse,{key:1,attributes:K(e),ref_key:"calendarRef",ref:n,onDayclick:K(l),onDaymouseenter:K(u),onDaykeydown:K(c)},{footer:gt(()=>[K(i)?(oe(!0),Se(ft,{key:0},Nn(K(f),g=>(oe(),ot(UA,{key:g,position:g},null,8,["position"]))),128)):rt("",!0),ye(cs,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),Gse={inheritAttrs:!1},Kse=zt({...Gse,__name:"DatePickerPopover",setup(t){const{datePickerPopoverId:e,color:n,displayMode:r,popoverRef:s,onPopoverBeforeShow:i,onPopoverAfterShow:o,onPopoverBeforeHide:a,onPopoverAfterHide:l}=gw();return(u,c)=>(oe(),ot(mw,{id:K(e),placement:"bottom-start",class:Pt(`vc-date-picker-content vc-${K(n)} vc-${K(r)}`),ref_key:"popoverRef",ref:s,onBeforeShow:K(i),onAfterShow:K(o),onBeforeHide:K(a),onAfterHide:K(l)},{default:gt(()=>[ye(Jk,Da(Oh(u.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),Qse=zt({inheritAttrs:!1,emits:Dse,props:Cse,components:{DatePickerBase:Jk,DatePickerPopover:Kse},setup(t,e){const n=kse(t,e),r=br(gk(n,"calendarRef","popoverRef"));return{...n,slotCtx:r}}});function Xse(t,e,n,r,s,i){const o=is("DatePickerPopover"),a=is("DatePickerBase");return t.$slots.default?(oe(),Se(ft,{key:0},[rn(t.$slots,"default",Da(Oh(t.slotCtx))),ye(o,Da(Oh(t.$attrs)),null,16)],64)):(oe(),ot(a,Da(Kr({key:1},t.$attrs)),null,16))}const Jse=na(Qse,[["render",Xse]]);var Zse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zse,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",o="second",a="minute",l="hour",u="day",c="week",f="month",d="quarter",p="year",g="date",_="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var U=["th","st","nd","rd"],F=B%100;return"["+B+(U[(F-20)%10]||U[F]||U[0])+"]"}},k=function(B,U,F){var j=String(B);return!j||j.length>=U?B:""+Array(U+1-j.length).join(F)+B},O={s:k,z:function(B){var U=-B.utcOffset(),F=Math.abs(U),j=Math.floor(F/60),H=F%60;return(U<=0?"+":"-")+k(j,2,"0")+":"+k(H,2,"0")},m:function B(U,F){if(U.date()<F.date())return-B(F,U);var j=12*(F.year()-U.year())+(F.month()-U.month()),H=U.clone().add(j,f),ee=F-H<0,R=U.clone().add(j+(ee?-1:1),f);return+(-(j+(F-H)/(ee?H-R:R-H))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:f,y:p,w:c,d:u,D:g,h:l,m:a,s:o,ms:i,Q:d}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},x="en",N={};N[x]=M;var T="$isDayjsObject",b=function(B){return B instanceof y||!(!B||!B[T])},w=function B(U,F,j){var H;if(!U)return x;if(typeof U=="string"){var ee=U.toLowerCase();N[ee]&&(H=ee),F&&(N[ee]=F,H=ee);var R=U.split("-");if(!H&&R.length>1)return B(R[0])}else{var ce=U.name;N[ce]=U,H=ce}return!j&&H&&(x=H),H||!j&&x},I=function(B,U){if(b(B))return B.clone();var F=typeof U=="object"?U:{};return F.date=B,F.args=arguments,new y(F)},P=O;P.l=w,P.i=b,P.w=function(B,U){return I(B,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var y=function(){function B(F){this.$L=w(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[T]=!0}var U=B.prototype;return U.parse=function(F){this.$d=function(j){var H=j.date,ee=j.utc;if(H===null)return new Date(NaN);if(P.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var R=H.match(A);if(R){var ce=R[2]-1||0,te=(R[7]||"0").substring(0,3);return ee?new Date(Date.UTC(R[1],ce,R[3]||1,R[4]||0,R[5]||0,R[6]||0,te)):new Date(R[1],ce,R[3]||1,R[4]||0,R[5]||0,R[6]||0,te)}}return new Date(H)}(F),this.init()},U.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},U.$utils=function(){return P},U.isValid=function(){return this.$d.toString()!==_},U.isSame=function(F,j){var H=I(F);return this.startOf(j)<=H&&H<=this.endOf(j)},U.isAfter=function(F,j){return I(F)<this.startOf(j)},U.isBefore=function(F,j){return this.endOf(j)<I(F)},U.$g=function(F,j,H){return P.u(F)?this[j]:this.set(H,F)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(F,j){var H=this,ee=!!P.u(j)||j,R=P.p(F),ce=function(W,ne){var me=P.w(H.$u?Date.UTC(H.$y,ne,W):new Date(H.$y,ne,W),H);return ee?me:me.endOf(u)},te=function(W,ne){return P.w(H.toDate()[W].apply(H.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(ne)),H)},ve=this.$W,ge=this.$M,De=this.$D,Oe="set"+(this.$u?"UTC":"");switch(R){case p:return ee?ce(1,0):ce(31,11);case f:return ee?ce(1,ge):ce(0,ge+1);case c:var z=this.$locale().weekStart||0,le=(ve<z?ve+7:ve)-z;return ce(ee?De-le:De+(6-le),ge);case u:case g:return te(Oe+"Hours",0);case l:return te(Oe+"Minutes",1);case a:return te(Oe+"Seconds",2);case o:return te(Oe+"Milliseconds",3);default:return this.clone()}},U.endOf=function(F){return this.startOf(F,!1)},U.$set=function(F,j){var H,ee=P.p(F),R="set"+(this.$u?"UTC":""),ce=(H={},H[u]=R+"Date",H[g]=R+"Date",H[f]=R+"Month",H[p]=R+"FullYear",H[l]=R+"Hours",H[a]=R+"Minutes",H[o]=R+"Seconds",H[i]=R+"Milliseconds",H)[ee],te=ee===u?this.$D+(j-this.$W):j;if(ee===f||ee===p){var ve=this.clone().set(g,1);ve.$d[ce](te),ve.init(),this.$d=ve.set(g,Math.min(this.$D,ve.daysInMonth())).$d}else ce&&this.$d[ce](te);return this.init(),this},U.set=function(F,j){return this.clone().$set(F,j)},U.get=function(F){return this[P.p(F)]()},U.add=function(F,j){var H,ee=this;F=Number(F);var R=P.p(j),ce=function(ge){var De=I(ee);return P.w(De.date(De.date()+Math.round(ge*F)),ee)};if(R===f)return this.set(f,this.$M+F);if(R===p)return this.set(p,this.$y+F);if(R===u)return ce(1);if(R===c)return ce(7);var te=(H={},H[a]=r,H[l]=s,H[o]=n,H)[R]||1,ve=this.$d.getTime()+F*te;return P.w(ve,this)},U.subtract=function(F,j){return this.add(-1*F,j)},U.format=function(F){var j=this,H=this.$locale();if(!this.isValid())return H.invalidDate||_;var ee=F||"YYYY-MM-DDTHH:mm:ssZ",R=P.z(this),ce=this.$H,te=this.$m,ve=this.$M,ge=H.weekdays,De=H.months,Oe=H.meridiem,z=function(ne,me,Ce,D){return ne&&(ne[me]||ne(j,ee))||Ce[me].slice(0,D)},le=function(ne){return P.s(ce%12||12,ne,"0")},W=Oe||function(ne,me,Ce){var D=ne<12?"AM":"PM";return Ce?D.toLowerCase():D};return ee.replace(S,function(ne,me){return me||function(Ce){switch(Ce){case"YY":return String(j.$y).slice(-2);case"YYYY":return P.s(j.$y,4,"0");case"M":return ve+1;case"MM":return P.s(ve+1,2,"0");case"MMM":return z(H.monthsShort,ve,De,3);case"MMMM":return z(De,ve);case"D":return j.$D;case"DD":return P.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return z(H.weekdaysMin,j.$W,ge,2);case"ddd":return z(H.weekdaysShort,j.$W,ge,3);case"dddd":return ge[j.$W];case"H":return String(ce);case"HH":return P.s(ce,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return W(ce,te,!0);case"A":return W(ce,te,!1);case"m":return String(te);case"mm":return P.s(te,2,"0");case"s":return String(j.$s);case"ss":return P.s(j.$s,2,"0");case"SSS":return P.s(j.$ms,3,"0");case"Z":return R}return null}(ne)||R.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(F,j,H){var ee,R=this,ce=P.p(j),te=I(F),ve=(te.utcOffset()-this.utcOffset())*r,ge=this-te,De=function(){return P.m(R,te)};switch(ce){case p:ee=De()/12;break;case f:ee=De();break;case d:ee=De()/3;break;case c:ee=(ge-ve)/6048e5;break;case u:ee=(ge-ve)/864e5;break;case l:ee=ge/s;break;case a:ee=ge/r;break;case o:ee=ge/n;break;default:ee=ge}return H?ee:P.a(ee)},U.daysInMonth=function(){return this.endOf(f).$D},U.$locale=function(){return N[this.$L]},U.locale=function(F,j){if(!F)return this.$L;var H=this.clone(),ee=w(F,j,!0);return ee&&(H.$L=ee),H},U.clone=function(){return P.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},B}(),E=y.prototype;return I.prototype=E,[["$ms",i],["$s",o],["$m",a],["$H",l],["$W",u],["$M",f],["$y",p],["$D",g]].forEach(function(B){E[B[1]]=function(U){return this.$g(U,B[0],B[1])}}),I.extend=function(B,U){return B.$i||(B(U,y,I),B.$i=!0),I},I.locale=w,I.isDayjs=b,I.unix=function(B){return I(1e3*B)},I.en=N[x],I.Ls=N,I.p={},I})})(Zk);var tie=Zk.exports;const Yp=eie(tie),nie=t=>(pf("data-v-17fb86a6"),t=t(),mf(),t),rie={class:"relative"},sie=nie(()=>pe("i",{class:"icon-calendar cursor-pointer text-[24px]"},null,-1)),iie={__name:"pick-calendar",emits:["selected"],setup(t,{emit:e}){const n=e,r=ke(!1),s=ke(new Date),i=ke(null);return at(s,o=>{n("selected",Yp(o).format("DD-MM-YYYY"))}),FB(i,o=>r.value=!1),(o,a)=>(oe(),Se("div",rie,[pe("div",{class:"flex justify-between border-b px-1 py-2 text-white",ref:"test",onClick:a[0]||(a[0]=l=>r.value=!r.value)},[pe("p",null,It(K(Yp)(s.value).format("DD-MM-YYYY")),1),sie],512),Sr(pe("div",{class:"absolute left-0 top-14 z-10 w-full",ref_key:"calendar",ref:i},[ye(K(Jse),{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=l=>s.value=l)},null,8,["modelValue"])],512),[[Is,r.value]])]))}},oie=If(iie,[["__scopeId","data-v-17fb86a6"]]),aie=t=>(pf("data-v-573d7321"),t=t(),mf(),t),lie={class:"flex flex-wrap items-center gap-3"},uie=["onClick"],cie=aie(()=>pe("i",{class:"icon-tag-close ml-[10px]"},null,-1)),hie=[cie],fie={__name:"category-select",props:fR({data:{type:Object}},{category:{},categoryModifiers:{}}),emits:["update:category"],setup(t){var s;const e=t,n=LR(t,"category");if(e.data){const i=(s=e.data)==null?void 0:s.map(o=>{const a=F0[o.id]??o.id;return{id:o.id,label:a}});n.value=i}const r=i=>{const o=n.value.findIndex(a=>a.slug===i);o!==-1&&n.value.splice(o,1)};return(i,o)=>(oe(),Se(ft,null,[pe("div",null,[ye(K(U0),{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),options:K(aY),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"分類",label:"label","track-by":"id",selectedLabel:"已選擇",selectLabel:"點擊選擇",deselectLabel:"點擊刪除"},{selection:gt(({values:a,search:l,isOpen:u})=>[a.length?Sr((oe(),Se("span",{key:0,class:"multiselect__single"},"已選擇"+It(a.length)+"項",513)),[[Is,!u]]):rt("",!0)]),selectLabel:gt(a=>[$n(" 123 ")]),_:1},8,["modelValue","options"])]),pe("div",lie,[(oe(!0),Se(ft,null,Nn(n.value,a=>(oe(),Se("div",{class:"text-body-l-semibold flex items-center space-x-3 rounded-[8px] border border-enable px-2 py-1 text-enable",key:a.slug},[$n(It(a.label)+" ",1),pe("button",{type:"button",class:"flex",onClick:l=>r(a==null?void 0:a.slug)},hie,8,uie)]))),128))])],64))}},die=If(fie,[["__scopeId","data-v-573d7321"]]),eO=t=>(pf("data-v-729206a2"),t=t(),mf(),t),pie={class:"absolute inset-0 h-full overflow-auto"},mie={class:"main-gradient relative mx-auto my-[64px] w-[90%] rounded-[50px] border border-[#FFFFFF33] bg-black p-14 md:p-20 md:mt-[128px] md:w-[489px]"},gie=eO(()=>pe("p",{class:"text-heading-s"},"添加記錄",-1)),_ie={class:"mt-8 space-y-6"},vie={class:"space-y-3"},yie=eO(()=>pe("i",{class:"icon-close text-[32px]"},null,-1)),wie=[yie],bie={__name:"add-modal",setup(t){const e=$a();ke("");const n=ke(!1),r=ke({record_date:Yp(new Date).format("DD-MM-YYYY"),type:"",name:"",year:"",country:"",mark:0,favorite:!1,watched:!1,postImageUrl:""}),s=ke(null),i=d=>r.value.record_date=d,o=d=>r.value.type=d,a=d=>r.value.favorite=d,l=d=>r.value.watched=d,u=d=>r.value.mark=d,c=async d=>s.value=d,f=async()=>{r.value={...r.value,watched_date:r.value.watched?Yp(new Date).format("DD-MM-YYYY"):""},r.value.postImageUrl=await cY(s.value),await uY(r.value),console.log("added movie"),e.close("add-movie-id")};return at(r,d=>{d.country&&d.type&&d.name&&d.year&&(n.value=!0)},{deep:!0}),(d,p)=>(oe(),ot(K(b0),{"modal-id":"add-record-id",class:"absolute inset-0 bg-[#30313299]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:gt(()=>[pe("div",pie,[pe("div",mie,[pe("div",null,[gie,pe("div",_ie,[ye(oie,{onSelected:i,date:r.value.record_date,"onUpdate:date":p[0]||(p[0]=g=>r.value.record_date=g)},null,8,["date"]),ye(a6,{onSelected:o}),ye(Xg,{placeholder:"名稱",text:r.value.name,"onUpdate:text":p[1]||(p[1]=g=>r.value.name=g)},null,8,["text"]),ye(Xg,{placeholder:"年份",text:r.value.year,"onUpdate:text":p[2]||(p[2]=g=>r.value.year=g)},null,8,["text"]),ye(Xg,{placeholder:"產地",text:r.value.country,"onUpdate:text":p[3]||(p[3]=g=>r.value.country=g)},null,8,["text"]),ye(die,{category:r.value.categoryList,"onUpdate:category":p[4]||(p[4]=g=>r.value.categoryList=g)},null,8,["category"])]),ye(IY,{class:"my-8",onImageData:c}),pe("div",vie,[ye(w1,{title:"最愛",onSelected:a}),ye(w1,{title:"已觀看",onSelected:l}),ye(UY,{onSelected:u})]),ye(mY,{text:"添加",class:"mt-8",disable:n.value,onClick:p[5]||(p[5]=g=>f())},null,8,["disable"])]),pe("button",{type:"button",class:"absolute right-10 top-10",onClick:p[6]||(p[6]=g=>K(e).close("add-record-id"))},wie)])])]),_:1}))}},Tie=If(bie,[["__scopeId","data-v-729206a2"]]),Eie={class:"text-heading-m flex h-full flex-col justify-between"},Aie={class:"flex flex-col gap-y-4"},Iie={class:"flex justify-end"},Sie={type:"button",class:""},Pie=pe("i",{class:"icon-plus-square"},null,-1),Rie=pe("i",{class:"icon-search"},null,-1),Cie=pe("i",{class:"icon-sign-in"},null,-1),Die=zt({__name:"mobile-menu",props:{clickAddRecord:{type:Function},clickLogout:{type:Function}},setup(t){const e=$a();return(n,r)=>{const s=is("routerLink");return oe(),ot(K(b0),{"modal-id":"mobile-menu","content-class":"absolute bottom-0 w-[70%] h-dvh right-0 p-4 bg-second ","content-transition":"vfm-slide-right","overlay-transition":"vfm-fade"},{default:gt(()=>[pe("div",Eie,[pe("div",Aie,[pe("div",Iie,[pe("button",Sie,[pe("i",{class:"icon-close text-[24px]",onClick:r[0]||(r[0]=i=>K(e).close("mobile-menu"))})])]),pe("button",{type:"button",class:"flex items-center justify-center gap-x-2",onClick:r[1]||(r[1]=i=>t.clickAddRecord())},[Pie,$n(" 添加 ")]),ye(s,{to:"/search",class:"flex items-center justify-center gap-x-2",onClick:r[2]||(r[2]=i=>K(e).close("mobile-menu"))},{default:gt(()=>[Rie,$n(" 搜尋 ")]),_:1})]),pe("button",{type:"button",class:"flex w-full items-center justify-center gap-x-2 rounded-lg border border-primary text-primary",onClick:r[3]||(r[3]=i=>t.clickLogout())},[Cie,$n(" 登出 ")])])]),_:1})}}});function bi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Xr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Cu={duration:.5,overwrite:!1,delay:0},_w,sr,Yt,hs=1e8,Lt=1/hs,xv=Math.PI*2,kie=xv/4,Oie=0,nO=Math.sqrt,xie=Math.cos,Mie=Math.sin,Vn=function(e){return typeof e=="string"},sn=function(e){return typeof e=="function"},zi=function(e){return typeof e=="number"},vw=function(e){return typeof e>"u"},hi=function(e){return typeof e=="object"},Or=function(e){return e!==!1},yw=function(){return typeof window<"u"},cd=function(e){return sn(e)||Vn(e)},rO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ir=Array.isArray,Mv=/(?:-?\.?\d|\.)+/gi,sO=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ql=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,l_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,iO=/[+-]=-?[.\d]+/,oO=/[^,'"\[\]\s]+/gi,Nie=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Kt,Bs,Nv,ww,Zr={},qp={},aO,lO=function(e){return(qp=ol(e,Zr))&&$r},bw=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},qh=function(e,n){return!n&&console.warn(e)},uO=function(e,n){return e&&(Zr[e]=n)&&qp&&(qp[e]=n)||Zr},Wh=function(){return 0},Lie={suppressEvents:!0,isStart:!0,kill:!1},zd={suppressEvents:!0,kill:!1},$ie={suppressEvents:!0},Tw={},Mo=[],Lv={},cO,Yr={},u_={},BA=30,Yd=[],Ew="",Aw=function(e){var n=e[0],r,s;if(hi(n)||sn(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(s=Yd.length;s--&&!Yd[s].targetTest(n););r=Yd[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new MO(e[s],r)))||e.splice(s,1);return e},Ua=function(e){return e._gsap||Aw(fs(e))[0]._gsap},hO=function(e,n,r){return(r=e[n])&&sn(r)?e[n]():vw(r)&&e.getAttribute&&e.getAttribute(n)||r},xr=function(e,n){return(e=e.split(",")).forEach(n)||e},hn=function(e){return Math.round(e*1e5)/1e5||0},xn=function(e){return Math.round(e*1e7)/1e7||0},ou=function(e,n){var r=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},Vie=function(e,n){for(var r=n.length,s=0;e.indexOf(n[s])<0&&++s<r;);return s<r},Wp=function(){var e=Mo.length,n=Mo.slice(0),r,s;for(Lv={},Mo.length=0,r=0;r<e;r++)s=n[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},fO=function(e,n,r,s){Mo.length&&!sr&&Wp(),e.render(n,r,sr&&n<0&&(e._initted||e._startAt)),Mo.length&&!sr&&Wp()},dO=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(oO).length<2?n:Vn(e)?e.trim():e},pO=function(e){return e},bs=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Fie=function(e){return function(n,r){for(var s in r)s in n||s==="duration"&&e||s==="ease"||(n[s]=r[s])}},ol=function(e,n){for(var r in n)e[r]=n[r];return e},jA=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=hi(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Gp=function(e,n){var r={},s;for(s in e)s in n||(r[s]=e[s]);return r},ah=function(e){var n=e.parent||Kt,r=e.keyframes?Fie(ir(e.keyframes)):bs;if(Or(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Uie=function(e,n){for(var r=e.length,s=r===n.length;s&&r--&&e[r]===n[r];);return r<0},mO=function(e,n,r,s,i){var o=e[s],a;if(i)for(a=n[i];o&&o[i]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[s]=n,n._prev=o,n.parent=n._dp=e,n},og=function(e,n,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var i=n._prev,o=n._next;i?i._next=o:e[r]===n&&(e[r]=o),o?o._prev=i:e[s]===n&&(e[s]=i),n._next=n._prev=n.parent=null},qo=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ba=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Bie=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},$v=function(e,n,r,s){return e._startAt&&(sr?e._startAt.revert(zd):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},jie=function t(e){return!e||e._ts&&t(e.parent)},HA=function(e){return e._repeat?Du(e._tTime,e=e.duration()+e._rDelay)*e:0},Du=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},Kp=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},ag=function(e){return e._end=xn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Lt)||0))},lg=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=xn(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),ag(e),r._dirty||Ba(r,e)),e},gO=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Kp(e.rawTime(),n),(!n._dur||Cf(0,n.totalDuration(),r)-n._tTime>Lt)&&n.render(r,!0)),Ba(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Lt}},Ys=function(e,n,r,s){return n.parent&&qo(n),n._start=xn((zi(r)?r:r||e!==Kt?rs(e,r,n):e._time)+n._delay),n._end=xn(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),mO(e,n,"_first","_last",e._sort?"_start":0),Vv(n)||(e._recent=n),s||gO(e,n),e._ts<0&&lg(e,e._tTime),e},_O=function(e,n){return(Zr.ScrollTrigger||bw("scrollTrigger",n))&&Zr.ScrollTrigger.create(n,e)},vO=function(e,n,r,s,i){if(Sw(e,n,i),!e._initted)return 1;if(!r&&e._pt&&!sr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&cO!==qr.frame)return Mo.push(e),e._lazy=[i,s],1},Hie=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Vv=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},zie=function(e,n,r,s){var i=e.ratio,o=n<0||!n&&(!e._start&&Hie(e)&&!(!e._initted&&Vv(e))||(e._ts<0||e._dp._ts<0)&&!Vv(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=Cf(0,e._tDur,n),c=Du(l,a),e._yoyo&&c&1&&(o=1-o),c!==Du(e._tTime,a)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||sr||s||e._zTime===Lt||!n&&e._zTime){if(!e._initted&&vO(e,n,s,r,l))return;for(f=e._zTime,e._zTime=n||(r?Lt:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&$v(e,n,r,!0),e._onUpdate&&!r&&Qr(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Qr(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&qo(e,1),!r&&!sr&&(Qr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Yie=function(e,n,r){var s;if(r>n)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},ku=function(e,n,r,s){var i=e._repeat,o=xn(n)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:xn(o*(i+1)+e._rDelay*i):o,a>0&&!s&&lg(e,e._tTime=e._tDur*a),e.parent&&ag(e),r||Ba(e.parent,e),e},zA=function(e){return e instanceof vr?Ba(e):ku(e,e._dur)},qie={_start:0,endTime:Wh,totalDuration:Wh},rs=function t(e,n,r){var s=e.labels,i=e._recent||qie,o=e.duration()>=hs?i.endTime(!1):e._dur,a,l,u;return Vn(n)&&(isNaN(n)||n in s)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?i:r).totalDuration()/100:1)):a<0?(n in s||(s[n]=o),s[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(ir(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},lh=function(e,n,r){var s=zi(n[1]),i=(s?2:1)+(e<2?0:1),o=n[i],a,l;if(s&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Or(l.vars.inherit)&&l.parent;o.immediateRender=Or(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[i-1]}return new vn(n[0],o,n[i+1])},ra=function(e,n){return e||e===0?n(e):n},Cf=function(e,n,r){return r<e?e:r>n?n:r},rr=function(e,n){return!Vn(e)||!(n=Nie.exec(e))?"":n[1]},Wie=function(e,n,r){return ra(r,function(s){return Cf(e,n,s)})},Fv=[].slice,yO=function(e,n){return e&&hi(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&hi(e[0]))&&!e.nodeType&&e!==Bs},Gie=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(s){var i;return Vn(s)&&!n||yO(s,1)?(i=r).push.apply(i,fs(s)):r.push(s)})||r},fs=function(e,n,r){return Yt&&!n&&Yt.selector?Yt.selector(e):Vn(e)&&!r&&(Nv||!Ou())?Fv.call((n||ww).querySelectorAll(e),0):ir(e)?Gie(e,r):yO(e)?Fv.call(e,0):e?[e]:[]},Uv=function(e){return e=fs(e)[0]||qh("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return fs(n,r.querySelectorAll?r:r===e?qh("Invalid scope")||ww.createElement("div"):e)}},wO=function(e){return e.sort(function(){return .5-Math.random()})},bO=function(e){if(sn(e))return e;var n=hi(e)?e:{each:e},r=ja(n.ease),s=n.from||0,i=parseFloat(n.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,u=n.axis,c=s,f=s;return Vn(s)?c=f={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(c=s[0],f=s[1]),function(d,p,g){var _=(g||n).length,A=o[_],S,M,k,O,x,N,T,b,w;if(!A){if(w=n.grid==="auto"?0:(n.grid||[1,hs])[1],!w){for(T=-hs;T<(T=g[w++].getBoundingClientRect().left)&&w<_;);w<_&&w--}for(A=o[_]=[],S=l?Math.min(w,_)*c-.5:s%w,M=w===hs?0:l?_*f/w-.5:s/w|0,T=0,b=hs,N=0;N<_;N++)k=N%w-S,O=M-(N/w|0),A[N]=x=u?Math.abs(u==="y"?O:k):nO(k*k+O*O),x>T&&(T=x),x<b&&(b=x);s==="random"&&wO(A),A.max=T-b,A.min=b,A.v=_=(parseFloat(n.amount)||parseFloat(n.each)*(w>_?_-1:u?u==="y"?_/w:w:Math.max(w,_/w))||0)*(s==="edges"?-1:1),A.b=_<0?i-_:i,A.u=rr(n.amount||n.each)||0,r=r&&_<0?kO(r):r}return _=(A[d]-A.min)/A.max||0,xn(A.b+(r?r(_):_)*A.v)+A.u}},Bv=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=xn(Math.round(parseFloat(r)/e)*e*n);return(s-s%1)/n+(zi(r)?0:rr(r))}},TO=function(e,n){var r=ir(e),s,i;return!r&&hi(e)&&(s=r=e.radius||hs,e.values?(e=fs(e.values),(i=!zi(e[0]))&&(s*=s)):e=Bv(e.increment)),ra(n,r?sn(e)?function(o){return i=e(o),Math.abs(i-o)<=s?i:o}:function(o){for(var a=parseFloat(i?o.x:o),l=parseFloat(i?o.y:0),u=hs,c=0,f=e.length,d,p;f--;)i?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<u&&(u=d,c=f);return c=!s||u<=s?e[c]:o,i||c===o||zi(o)?c:c+rr(o)}:Bv(e))},EO=function(e,n,r,s){return ra(ir(e)?!n:r===!0?!!(r=0):!s,function(){return ir(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*s)/s})},Kie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduce(function(i,o){return o(i)},s)}},Qie=function(e,n){return function(r){return e(parseFloat(r))+(n||rr(r))}},Xie=function(e,n,r){return IO(e,n,0,1,r)},AO=function(e,n,r){return ra(r,function(s){return e[~~n(s)]})},Jie=function t(e,n,r){var s=n-e;return ir(e)?AO(e,t(0,e.length),n):ra(r,function(i){return(s+(i-e)%s)%s+e})},Zie=function t(e,n,r){var s=n-e,i=s*2;return ir(e)?AO(e,t(0,e.length-1),n):ra(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>s?i-o:o)})},Gh=function(e){for(var n=0,r="",s,i,o,a;~(s=e.indexOf("random(",n));)o=e.indexOf(")",s),a=e.charAt(s+7)==="[",i=e.substr(s+7,o-s-7).match(a?oO:Mv),r+=e.substr(n,s-n)+EO(a?i:+i[0],a?0:+i[1],+i[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},IO=function(e,n,r,s,i){var o=n-e,a=s-r;return ra(i,function(l){return r+((l-e)/o*a||0)})},eoe=function t(e,n,r,s){var i=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!i){var o=Vn(e),a={},l,u,c,f,d;if(r===!0&&(s=1)&&(r=null),o)e={p:e},n={p:n};else if(ir(e)&&!ir(n)){for(c=[],f=e.length,d=f-2,u=1;u<f;u++)c.push(t(e[u-1],e[u]));f--,i=function(g){g*=f;var _=Math.min(d,~~g);return c[_](g-_)},r=n}else s||(e=ol(ir(e)?[]:{},e));if(!c){for(l in n)Iw.call(a,e,l,"get",n[l]);i=function(g){return Cw(g,a)||(o?e.p:e)}}}return ra(r,i)},YA=function(e,n,r){var s=e.labels,i=hs,o,a,l;for(o in s)a=s[o]-n,a<0==!!r&&a&&i>(a=Math.abs(a))&&(l=o,i=a);return l},Qr=function(e,n,r){var s=e.vars,i=s[n],o=Yt,a=e._ctx,l,u,c;if(i)return l=s[n+"Params"],u=s.callbackScope||e,r&&Mo.length&&Wp(),a&&(Yt=a),c=l?i.apply(u,l):i.call(u),Yt=o,c},xc=function(e){return qo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!sr),e.progress()<1&&Qr(e,"onInterrupt"),e},Wl,SO=[],PO=function(e){if(e)if(e=!e.name&&e.default||e,yw()||e.headless){var n=e.name,r=sn(e),s=n&&!r&&e.init?function(){this._props=[]}:e,i={init:Wh,render:Cw,add:Iw,kill:goe,modifier:moe,rawVars:0},o={targetTest:0,get:0,getSetter:Rw,aliases:{},register:0};if(Ou(),e!==s){if(Yr[n])return;bs(s,bs(Gp(e,i),o)),ol(s.prototype,ol(i,Gp(e,o))),Yr[s.prop=n]=s,e.targetTest&&(Yd.push(s),Tw[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}uO(n,s),e.register&&e.register($r,s,Mr)}else SO.push(e)},xt=255,Mc={aqua:[0,xt,xt],lime:[0,xt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xt],navy:[0,0,128],white:[xt,xt,xt],olive:[128,128,0],yellow:[xt,xt,0],orange:[xt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xt,0,0],pink:[xt,192,203],cyan:[0,xt,xt],transparent:[xt,xt,xt,0]},c_=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*xt+.5|0},RO=function(e,n,r){var s=e?zi(e)?[e>>16,e>>8&xt,e&xt]:0:Mc.black,i,o,a,l,u,c,f,d,p,g;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Mc[e])s=Mc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+i+i+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&xt,s&xt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&xt,e&xt]}else if(e.substr(0,3)==="hsl"){if(s=g=e.match(Mv),!n)l=+s[0]%360/360,u=+s[1]/100,c=+s[2]/100,o=c<=.5?c*(u+1):c+u-c*u,i=c*2-o,s.length>3&&(s[3]*=1),s[0]=c_(l+1/3,i,o),s[1]=c_(l,i,o),s[2]=c_(l-1/3,i,o);else if(~e.indexOf("="))return s=e.match(sO),r&&s.length<4&&(s[3]=1),s}else s=e.match(Mv)||Mc.transparent;s=s.map(Number)}return n&&!g&&(i=s[0]/xt,o=s[1]/xt,a=s[2]/xt,f=Math.max(i,o,a),d=Math.min(i,o,a),c=(f+d)/2,f===d?l=u=0:(p=f-d,u=c>.5?p/(2-f-d):p/(f+d),l=f===i?(o-a)/p+(o<a?6:0):f===o?(a-i)/p+2:(i-o)/p+4,l*=60),s[0]=~~(l+.5),s[1]=~~(u*100+.5),s[2]=~~(c*100+.5)),r&&s.length<4&&(s[3]=1),s},CO=function(e){var n=[],r=[],s=-1;return e.split(No).forEach(function(i){var o=i.match(ql)||[];n.push.apply(n,o),r.push(s+=o.length+1)}),n.c=r,n},qA=function(e,n,r){var s="",i=(e+s).match(No),o=n?"hsla(":"rgba(",a=0,l,u,c,f;if(!i)return e;if(i=i.map(function(d){return(d=RO(d,n,1))&&o+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(c=CO(e),l=r.c,l.join(s)!==c.c.join(s)))for(u=e.replace(No,"1").split(ql),f=u.length-1;a<f;a++)s+=u[a]+(~l.indexOf(a)?i.shift()||o+"0,0,0,0)":(c.length?c:i.length?i:r).shift());if(!u)for(u=e.split(No),f=u.length-1;a<f;a++)s+=u[a]+i[a];return s+u[f]},No=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Mc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),toe=/hsl[a]?\(/,DO=function(e){var n=e.join(" "),r;if(No.lastIndex=0,No.test(n))return r=toe.test(n),e[1]=qA(e[1],r),e[0]=qA(e[0],r,CO(e[1])),!0},Kh,qr=function(){var t=Date.now,e=500,n=33,r=t(),s=r,i=1e3/240,o=i,a=[],l,u,c,f,d,p,g=function _(A){var S=t()-s,M=A===!0,k,O,x,N;if((S>e||S<0)&&(r+=S-n),s+=S,x=s-r,k=x-o,(k>0||M)&&(N=++f.frame,d=x-f.time*1e3,f.time=x=x/1e3,o+=k+(k>=i?4:i-k),O=1),M||(l=u(_)),O)for(p=0;p<a.length;p++)a[p](x,d,N,A)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(A){return d/(1e3/(A||60))},wake:function(){aO&&(!Nv&&yw()&&(Bs=Nv=window,ww=Bs.document||{},Zr.gsap=$r,(Bs.gsapVersions||(Bs.gsapVersions=[])).push($r.version),lO(qp||Bs.GreenSockGlobals||!Bs.gsap&&Bs||{}),SO.forEach(PO)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),u=c||function(A){return setTimeout(A,o-f.time*1e3+1|0)},Kh=1,g(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),Kh=0,u=Wh},lagSmoothing:function(A,S){e=A||1/0,n=Math.min(S||33,e)},fps:function(A){i=1e3/(A||240),o=f.time*1e3+i},add:function(A,S,M){var k=S?function(O,x,N,T){A(O,x,N,T),f.remove(k)}:A;return f.remove(A),a[M?"unshift":"push"](k),Ou(),k},remove:function(A,S){~(S=a.indexOf(A))&&a.splice(S,1)&&p>=S&&p--},_listeners:a},f}(),Ou=function(){return!Kh&&qr.wake()},dt={},noe=/^[\d.\-M][\d.\-,\s]/,roe=/["']/g,soe=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),s=r[0],i=1,o=r.length,a,l,u;i<o;i++)l=r[i],a=i!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[s]=isNaN(u)?u.replace(roe,"").trim():+u,s=l.substr(a+1).trim();return n},ioe=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<r?e.indexOf(")",r+1):r)},ooe=function(e){var n=(e+"").split("("),r=dt[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[soe(n[1])]:ioe(e).split(",").map(dO)):dt._CE&&noe.test(e)?dt._CE("",e):r},kO=function(e){return function(n){return 1-e(1-n)}},OO=function t(e,n){for(var r=e._first,s;r;)r instanceof vr?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=n)),r=r._next},ja=function(e,n){return e&&(sn(e)?e:dt[e]||ooe(e))||n},El=function(e,n,r,s){r===void 0&&(r=function(l){return 1-n(1-l)}),s===void 0&&(s=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var i={easeIn:n,easeOut:r,easeInOut:s},o;return xr(e,function(a){dt[a]=Zr[a]=i,dt[o=a.toLowerCase()]=r;for(var l in i)dt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=dt[a+"."+l]=i[l]}),i},xO=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},h_=function t(e,n,r){var s=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),o=i/xv*(Math.asin(1/s)||0),a=function(c){return c===1?1:s*Math.pow(2,-10*c)*Mie((c-o)*i)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:xO(a);return i=xv/i,l.config=function(u,c){return t(e,u,c)},l},f_=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},s=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:xO(r);return s.config=function(i){return t(e,i)},s};xr("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;El(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});dt.Linear.easeNone=dt.none=dt.Linear.easeIn;El("Elastic",h_("in"),h_("out"),h_());(function(t,e){var n=1/e,r=2*n,s=2.5*n,i=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<s?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};El("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);El("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});El("Circ",function(t){return-(nO(1-t*t)-1)});El("Sine",function(t){return t===1?1:-xie(t*kie)+1});El("Back",f_("in"),f_("out"),f_());dt.SteppedEase=dt.steps=Zr.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,s=e+(n?0:1),i=n?1:0,o=1-Lt;return function(a){return((s*Cf(0,o,a)|0)+i)*r}}};Cu.ease=dt["quad.out"];xr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Ew+=t+","+t+"Params,"});var MO=function(e,n){this.id=Oie++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:hO,this.set=n?n.getSetter:Rw},Qh=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,ku(this,+n.duration,1,1),this.data=n.data,Yt&&(this._ctx=Yt,Yt.data.push(this)),Kh||qr.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,ku(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(Ou(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(lg(this,r),!i._dp||i.parent||gO(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Ys(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Lt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),fO(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+HA(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+HA(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,s):this._repeat?Du(this._tTime,i)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-Lt?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Kp(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Lt?0:this._rts,this.totalTime(Cf(-Math.abs(this._delay),this._tDur,i),s!==!1),ag(this),Bie(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ou(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Lt&&(this._tTime-=Lt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Ys(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Or(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Kp(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=$ie);var s=sr;return sr=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),sr=s,this},e.globalTime=function(r){for(var s=this,i=arguments.length?r:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,zA(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,zA(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(rs(this,r),Or(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,Or(s))},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Lt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Lt,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=s&&i<this.endTime(!0)-Lt)},e.eventCallback=function(r,s,i){var o=this.vars;return arguments.length>1?(s?(o[r]=s,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(i){var o=sn(r)?r:pO,a=function(){var u=s.then;s.then=null,sn(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=u),i(o),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){xc(this)},t}();bs(Qh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Lt,_prom:0,_ps:!1,_rts:1});var vr=function(t){tO(e,t);function e(r,s){var i;return r===void 0&&(r={}),i=t.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=Or(r.sortChildren),Kt&&Ys(r.parent||Kt,bi(i),s),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&_O(bi(i),r.scrollTrigger),i}var n=e.prototype;return n.to=function(s,i,o){return lh(0,arguments,this),this},n.from=function(s,i,o){return lh(1,arguments,this),this},n.fromTo=function(s,i,o,a){return lh(2,arguments,this),this},n.set=function(s,i,o){return i.duration=0,i.parent=this,ah(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new vn(s,i,rs(this,o),1),this},n.call=function(s,i,o){return Ys(this,vn.delayedCall(0,s,i),o)},n.staggerTo=function(s,i,o,a,l,u,c){return o.duration=i,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new vn(s,o,rs(this,l)),this},n.staggerFrom=function(s,i,o,a,l,u,c){return o.runBackwards=1,ah(o).immediateRender=Or(o.immediateRender),this.staggerTo(s,i,o,a,l,u,c)},n.staggerFromTo=function(s,i,o,a,l,u,c,f){return a.startAt=o,ah(a).immediateRender=Or(a.immediateRender),this.staggerTo(s,i,a,l,u,c,f)},n.render=function(s,i,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=s<=0?0:xn(s),f=this._zTime<0!=s<0&&(this._initted||!u),d,p,g,_,A,S,M,k,O,x,N,T;if(this!==Kt&&c>l&&s>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,s+=this._time-a),d=c,O=this._start,k=this._ts,S=!k,f&&(u||(a=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(N=this._yoyo,A=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(A*100+s,i,o);if(d=xn(c%A),c===l?(_=this._repeat,d=u):(_=~~(c/A),_&&_===c/A&&(d=u,_--),d>u&&(d=u)),x=Du(this._tTime,A),!a&&this._tTime&&x!==_&&this._tTime-x*A-this._dur<=0&&(x=_),N&&_&1&&(d=u-d,T=1),_!==x&&!this._lock){var b=N&&x&1,w=b===(N&&_&1);if(_<x&&(b=!b),a=b?0:c%u?u:c,this._lock=1,this.render(a||(T?0:xn(_*A)),i,!u)._lock=0,this._tTime=c,!i&&this.parent&&Qr(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,w&&(this._lock=2,a=b?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;OO(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=Yie(this,xn(a),xn(d)),M&&(c-=d-(d=M._start))),this._tTime=c,this._time=d,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&d&&!i&&!_&&(Qr(this,"onStart"),this._tTime!==c))return this;if(d>=a&&s>=0)for(p=this._first;p;){if(g=p._next,(p._act||d>=p._start)&&p._ts&&M!==p){if(p.parent!==this)return this.render(s,i,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,i,o),d!==this._time||!this._ts&&!S){M=0,g&&(c+=this._zTime=-Lt);break}}p=g}else{p=this._last;for(var I=s<0?s:d;p;){if(g=p._prev,(p._act||I<=p._end)&&p._ts&&M!==p){if(p.parent!==this)return this.render(s,i,o);if(p.render(p._ts>0?(I-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(I-p._start)*p._ts,i,o||sr&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!S){M=0,g&&(c+=this._zTime=I?-Lt:Lt);break}}p=g}}if(M&&!i&&(this.pause(),M.render(d>=a?0:-Lt)._zTime=d>=a?1:-1,this._ts))return this._start=O,ag(this),this.render(s,i,o);this._onUpdate&&!i&&Qr(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(O===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&qo(this,1),!i&&!(s<0&&!a)&&(c||a||!l)&&(Qr(this,c===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,i){var o=this;if(zi(i)||(i=rs(this,i,s)),!(s instanceof Qh)){if(ir(s))return s.forEach(function(a){return o.add(a,i)}),this;if(Vn(s))return this.addLabel(s,i);if(sn(s))s=vn.delayedCall(0,s);else return this}return this!==s?Ys(this,s,i):this},n.getChildren=function(s,i,o,a){s===void 0&&(s=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=-hs);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof vn?i&&l.push(u):(o&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,i,o)))),u=u._next;return l},n.getById=function(s){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===s)return i[o]},n.remove=function(s){return Vn(s)?this.removeLabel(s):sn(s)?this.killTweensOf(s):(og(this,s),s===this._recent&&(this._recent=this._last),Ba(this))},n.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=xn(qr.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},n.addLabel=function(s,i){return this.labels[s]=rs(this,i),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,i,o){var a=vn.delayedCall(0,i||Wh,o);return a.data="isPause",this._hasPause=1,Ys(this,a,rs(this,s))},n.removePause=function(s){var i=this._first;for(s=rs(this,s);i;)i._start===s&&i.data==="isPause"&&qo(i),i=i._next},n.killTweensOf=function(s,i,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)Ao!==a[l]&&a[l].kill(s,i);return this},n.getTweensOf=function(s,i){for(var o=[],a=fs(s),l=this._first,u=zi(i),c;l;)l instanceof vn?Vie(l._targets,a)&&(u?(!Ao||l._initted&&l._ts)&&l.globalTime(0)<=i&&l.globalTime(l.totalDuration())>i:!i||l.isActive())&&o.push(l):(c=l.getTweensOf(a,i)).length&&o.push.apply(o,c),l=l._next;return o},n.tweenTo=function(s,i){i=i||{};var o=this,a=rs(o,s),l=i,u=l.startAt,c=l.onStart,f=l.onStartParams,d=l.immediateRender,p,g=vn.to(o,bs({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||Lt,onStart:function(){if(o.pause(),!p){var A=i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());g._dur!==A&&ku(g,A,0,1).render(g._time,!0,!0),p=1}c&&c.apply(g,f||[])}},i));return d?g.render(0):g},n.tweenFromTo=function(s,i,o){return this.tweenTo(i,bs({startAt:{time:rs(this,s)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),YA(this,rs(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),YA(this,rs(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Lt)},n.shiftChildren=function(s,i,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(i)for(u in l)l[u]>=o&&(l[u]+=s);return Ba(this)},n.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return t.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Ba(this)},n.totalDuration=function(s){var i=0,o=this,a=o._last,l=hs,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Ys(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(i-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>i&&a._ts&&(i=a._end),a=u;ku(o,o===Kt&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Kt._ts&&(fO(Kt,Kp(s,Kt)),cO=qr.frame),qr.frame>=BA){BA+=Xr.autoSleep||120;var i=Kt._first;if((!i||!i._ts)&&Xr.autoSleep&&qr._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||qr.sleep()}}},e}(Qh);bs(vr.prototype,{_lock:0,_hasPause:0,_forcing:0});var aoe=function(e,n,r,s,i,o,a){var l=new Mr(this._pt,e,n,0,1,UO,null,i),u=0,c=0,f,d,p,g,_,A,S,M;for(l.b=r,l.e=s,r+="",s+="",(S=~s.indexOf("random("))&&(s=Gh(s)),o&&(M=[r,s],o(M,e,n),r=M[0],s=M[1]),d=r.match(l_)||[];f=l_.exec(s);)g=f[0],_=s.substring(u,f.index),p?p=(p+1)%5:_.substr(-5)==="rgba("&&(p=1),g!==d[c++]&&(A=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:_||c===1?_:",",s:A,c:g.charAt(1)==="="?ou(A,g)-A:parseFloat(g)-A,m:p&&p<4?Math.round:0},u=l_.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=a,(iO.test(s)||S)&&(l.e=0),this._pt=l,l},Iw=function(e,n,r,s,i,o,a,l,u,c){sn(s)&&(s=s(i||0,e,o));var f=e[n],d=r!=="get"?r:sn(f)?u?e[n.indexOf("set")||!sn(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,p=sn(f)?u?foe:VO:Pw,g;if(Vn(s)&&(~s.indexOf("random(")&&(s=Gh(s)),s.charAt(1)==="="&&(g=ou(d,s)+(rr(d)||0),(g||g===0)&&(s=g))),!c||d!==s||jv)return!isNaN(d*s)&&s!==""?(g=new Mr(this._pt,e,n,+d||0,s-(d||0),typeof f=="boolean"?poe:FO,0,p),u&&(g.fp=u),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(n in e)&&bw(n,s),aoe.call(this,e,n,d,s,p,l||Xr.stringFilter,u))},loe=function(e,n,r,s,i){if(sn(e)&&(e=uh(e,i,n,r,s)),!hi(e)||e.style&&e.nodeType||ir(e)||rO(e))return Vn(e)?uh(e,i,n,r,s):e;var o={},a;for(a in e)o[a]=uh(e[a],i,n,r,s);return o},NO=function(e,n,r,s,i,o){var a,l,u,c;if(Yr[e]&&(a=new Yr[e]).init(i,a.rawVars?n[e]:loe(n[e],s,i,o,r),r,s,o)!==!1&&(r._pt=l=new Mr(r._pt,i,e,0,1,a.render,a,0,a.priority),r!==Wl))for(u=r._ptLookup[r._targets.indexOf(i)],c=a._props.length;c--;)u[a._props[c]]=l;return a},Ao,jv,Sw=function t(e,n,r){var s=e.vars,i=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,u=s.onUpdate,c=s.runBackwards,f=s.yoyoEase,d=s.keyframes,p=s.autoRevert,g=e._dur,_=e._startAt,A=e._targets,S=e.parent,M=S&&S.data==="nested"?S.vars.targets:A,k=e._overwrite==="auto"&&!_w,O=e.timeline,x,N,T,b,w,I,P,y,E,B,U,F,j;if(O&&(!d||!i)&&(i="none"),e._ease=ja(i,Cu.ease),e._yEase=f?kO(ja(f===!0?i:f,Cu.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!O&&!!s.runBackwards,!O||d&&!s.stagger){if(y=A[0]?Ua(A[0]).harness:0,F=y&&s[y.prop],x=Gp(s,Tw),_&&(_._zTime<0&&_.progress(1),n<0&&c&&a&&!p?_.render(-1,!0):_.revert(c&&g?zd:Lie),_._lazy=0),o){if(qo(e._startAt=vn.set(A,bs({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!_&&Or(l),startAt:null,delay:0,onUpdate:u&&function(){return Qr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(sr||!a&&!p)&&e._startAt.revert(zd),a&&g&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(c&&g&&!_){if(n&&(a=!1),T=bs({overwrite:!1,data:"isFromStart",lazy:a&&!_&&Or(l),immediateRender:a,stagger:0,parent:S},x),F&&(T[y.prop]=F),qo(e._startAt=vn.set(A,T)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(sr?e._startAt.revert(zd):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Lt,Lt);else if(!n)return}for(e._pt=e._ptCache=0,l=g&&Or(l)||l&&!g,N=0;N<A.length;N++){if(w=A[N],P=w._gsap||Aw(A)[N]._gsap,e._ptLookup[N]=B={},Lv[P.id]&&Mo.length&&Wp(),U=M===A?N:M.indexOf(w),y&&(E=new y).init(w,F||x,e,U,M)!==!1&&(e._pt=b=new Mr(e._pt,w,E.name,0,1,E.render,E,0,E.priority),E._props.forEach(function(H){B[H]=b}),E.priority&&(I=1)),!y||F)for(T in x)Yr[T]&&(E=NO(T,x,e,U,w,M))?E.priority&&(I=1):B[T]=b=Iw.call(e,w,T,"get",x[T],U,M,0,s.stringFilter);e._op&&e._op[N]&&e.kill(w,e._op[N]),k&&e._pt&&(Ao=e,Kt.killTweensOf(w,B,e.globalTime(n)),j=!e.parent,Ao=0),e._pt&&l&&(Lv[P.id]=1)}I&&BO(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!j,d&&n<=0&&O.render(hs,!0,!0)},uoe=function(e,n,r,s,i,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,f,d,p;if(!u)for(u=e._ptCache[n]=[],d=e._ptLookup,p=e._targets.length;p--;){if(c=d[p][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return jv=1,e.vars[n]="+=0",Sw(e,a),jv=0,l?qh(n+" not eligible for reset"):1;u.push(c)}for(p=u.length;p--;)f=u[p],c=f._pt||f,c.s=(s||s===0)&&!i?s:c.s+(s||0)+o*c.c,c.c=r-c.s,f.e&&(f.e=hn(r)+rr(f.e)),f.b&&(f.b=c.s+rr(f.b))},coe=function(e,n){var r=e[0]?Ua(e[0]).harness:0,s=r&&r.aliases,i,o,a,l;if(!s)return n;i=ol({},n);for(o in s)if(o in i)for(l=s[o].split(","),a=l.length;a--;)i[l[a]]=i[o];return i},hoe=function(e,n,r,s){var i=n.ease||s||"power1.inOut",o,a;if(ir(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:i})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:i})},uh=function(e,n,r,s,i){return sn(e)?e.call(n,r,s,i):Vn(e)&&~e.indexOf("random(")?Gh(e):e},LO=Ew+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$O={};xr(LO+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return $O[t]=1});var vn=function(t){tO(e,t);function e(r,s,i,o){var a;typeof s=="number"&&(i.duration=s,s=i,i=null),a=t.call(this,o?s:ah(s))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,g=l.keyframes,_=l.defaults,A=l.scrollTrigger,S=l.yoyoEase,M=s.parent||Kt,k=(ir(r)||rO(r)?zi(r[0]):"length"in s)?[r]:fs(r),O,x,N,T,b,w,I,P;if(a._targets=k.length?Aw(k):qh("GSAP target "+r+" not found. https://gsap.com",!Xr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,g||d||cd(u)||cd(c)){if(s=a.vars,O=a.timeline=new vr({data:"nested",defaults:_||{},targets:M&&M.data==="nested"?M.vars.targets:k}),O.kill(),O.parent=O._dp=bi(a),O._start=0,d||cd(u)||cd(c)){if(T=k.length,I=d&&bO(d),hi(d))for(b in d)~LO.indexOf(b)&&(P||(P={}),P[b]=d[b]);for(x=0;x<T;x++)N=Gp(s,$O),N.stagger=0,S&&(N.yoyoEase=S),P&&ol(N,P),w=k[x],N.duration=+uh(u,bi(a),x,w,k),N.delay=(+uh(c,bi(a),x,w,k)||0)-a._delay,!d&&T===1&&N.delay&&(a._delay=c=N.delay,a._start+=c,N.delay=0),O.to(w,N,I?I(x,w,k):0),O._ease=dt.none;O.duration()?u=c=0:a.timeline=0}else if(g){ah(bs(O.vars.defaults,{ease:"none"})),O._ease=ja(g.ease||s.ease||"none");var y=0,E,B,U;if(ir(g))g.forEach(function(F){return O.to(k,F,">")}),O.duration();else{N={};for(b in g)b==="ease"||b==="easeEach"||hoe(b,g[b],N,g.easeEach);for(b in N)for(E=N[b].sort(function(F,j){return F.t-j.t}),y=0,x=0;x<E.length;x++)B=E[x],U={ease:B.e,duration:(B.t-(x?E[x-1].t:0))/100*u},U[b]=B.v,O.to(k,U,y),y+=U.duration;O.duration()<u&&O.to({},{duration:u-O.duration()})}}u||a.duration(u=O.duration())}else a.timeline=0;return p===!0&&!_w&&(Ao=bi(a),Kt.killTweensOf(k),Ao=0),Ys(M,bi(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(f||!u&&!g&&a._start===xn(M._time)&&Or(f)&&jie(bi(a))&&M.data!=="nested")&&(a._tTime=-Lt,a.render(Math.max(0,-c)||0)),A&&_O(bi(a),A),a}var n=e.prototype;return n.render=function(s,i,o){var a=this._time,l=this._tDur,u=this._dur,c=s<0,f=s>l-Lt&&!c?l:s<Lt?0:s,d,p,g,_,A,S,M,k,O;if(!u)zie(this,s,i,o);else if(f!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(d=f,k=this.timeline,this._repeat){if(_=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(_*100+s,i,o);if(d=xn(f%_),f===l?(g=this._repeat,d=u):(g=~~(f/_),g&&g===xn(f/_)&&(d=u,g--),d>u&&(d=u)),S=this._yoyo&&g&1,S&&(O=this._yEase,d=u-d),A=Du(this._tTime,_),d===a&&!o&&this._initted&&g===A)return this._tTime=f,this;g!==A&&(k&&this._yEase&&OO(k,S),this.vars.repeatRefresh&&!S&&!this._lock&&this._time!==_&&this._initted&&(this._lock=o=1,this.render(xn(_*g),!0).invalidate()._lock=0))}if(!this._initted){if(vO(this,c?s:d,o,i,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==A))return this;if(u!==this._dur)return this.render(s,i,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(O||this._ease)(d/u),this._from&&(this.ratio=M=1-M),d&&!a&&!i&&!g&&(Qr(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(M,p.d),p=p._next;k&&k.render(s<0?s:k._dur*k._ease(d/this._dur),i,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(c&&$v(this,s,i,o),Qr(this,"onUpdate")),this._repeat&&g!==A&&this.vars.onRepeat&&!i&&this.parent&&Qr(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&$v(this,s,!0,!0),(s||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&qo(this,1),!i&&!(c&&!a)&&(f||a||S)&&(Qr(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},n.resetTo=function(s,i,o,a,l){Kh||qr.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||Sw(this,u),c=this._ease(u/this._dur),uoe(this,s,i,o,a,c,u,l)?this.resetTo(s,i,o,a,1):(lg(this,0),this.parent||mO(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?xc(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,Ao&&Ao.vars.overwrite!==!0)._first||xc(this),this.parent&&o!==this.timeline.totalDuration()&&ku(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?fs(s):a,u=this._ptLookup,c=this._pt,f,d,p,g,_,A,S;if((!i||i==="all")&&Uie(a,l))return i==="all"&&(this._pt=0),xc(this);for(f=this._op=this._op||[],i!=="all"&&(Vn(i)&&(_={},xr(i,function(M){return _[M]=1}),i=_),i=coe(a,i)),S=a.length;S--;)if(~l.indexOf(a[S])){d=u[S],i==="all"?(f[S]=i,g=d,p={}):(p=f[S]=f[S]||{},g=i);for(_ in g)A=d&&d[_],A&&((!("kill"in A.d)||A.d.kill(_)===!0)&&og(this,A,"_pt"),delete d[_]),p!=="all"&&(p[_]=1)}return this._initted&&!this._pt&&c&&xc(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return lh(1,arguments)},e.delayedCall=function(s,i,o,a){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(s,i,o){return lh(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,o){return Kt.killTweensOf(s,i,o)},e}(Qh);bs(vn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xr("staggerTo,staggerFrom,staggerFromTo",function(t){vn[t]=function(){var e=new vr,n=Fv.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Pw=function(e,n,r){return e[n]=r},VO=function(e,n,r){return e[n](r)},foe=function(e,n,r,s){return e[n](s.fp,r)},doe=function(e,n,r){return e.setAttribute(n,r)},Rw=function(e,n){return sn(e[n])?VO:vw(e[n])&&e.setAttribute?doe:Pw},FO=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},poe=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},UO=function(e,n){var r=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},Cw=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},moe=function(e,n,r,s){for(var i=this._pt,o;i;)o=i._next,i.p===s&&i.modifier(e,n,r),i=o},goe=function(e){for(var n=this._pt,r,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?og(this,n,"_pt"):n.dep||(r=1),n=s;return!r},_oe=function(e,n,r,s){s.mSet(e,n,s.m.call(s.tween,r,s.mt),s)},BO=function(e){for(var n=e._pt,r,s,i,o;n;){for(r=n._next,s=i;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:o)?n._prev._next=n:i=n,(n._next=s)?s._prev=n:o=n,n=r}e._pt=i},Mr=function(){function t(n,r,s,i,o,a,l,u,c){this.t=r,this.s=i,this.c=o,this.p=s,this.r=a||FO,this.d=l||this,this.set=u||Pw,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,s,i){this.mSet=this.mSet||this.set,this.set=_oe,this.m=r,this.mt=i,this.tween=s},t}();xr(Ew+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Tw[t]=1});Zr.TweenMax=Zr.TweenLite=vn;Zr.TimelineLite=Zr.TimelineMax=vr;Kt=new vr({sortChildren:!1,defaults:Cu,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Xr.stringFilter=DO;var Ha=[],qd={},voe=[],WA=0,yoe=0,d_=function(e){return(qd[e]||voe).map(function(n){return n()})},Hv=function(){var e=Date.now(),n=[];e-WA>2&&(d_("matchMediaInit"),Ha.forEach(function(r){var s=r.queries,i=r.conditions,o,a,l,u;for(a in s)o=Bs.matchMedia(s[a]).matches,o&&(l=1),o!==i[a]&&(i[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),d_("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),WA=e,d_("matchMedia"))},jO=function(){function t(n,r){this.selector=r&&Uv(r),this.data=[],this._r=[],this.isReverted=!1,this.id=yoe++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,s,i){sn(r)&&(i=s,s=r,r=sn);var o=this,a=function(){var u=Yt,c=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=Uv(i)),Yt=o,f=s.apply(o,arguments),sn(f)&&o._r.push(f),Yt=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===sn?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var s=Yt;Yt=null,r(this),Yt=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof t?r.push.apply(r,s.getTweens()):s instanceof vn&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var i=this;if(r?function(){for(var a=i.getTweens(),l=i.data.length,u;l--;)u=i.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=i.data.length;l--;)u=i.data[l],u instanceof vr?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof vn)&&u.revert&&u.revert(r);i._r.forEach(function(c){return c(r,i)}),i.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=Ha.length;o--;)Ha[o].id===this.id&&Ha.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),woe=function(){function t(n){this.contexts=[],this.scope=n,Yt&&Yt.data.push(this)}var e=t.prototype;return e.add=function(r,s,i){hi(r)||(r={matches:r});var o=new jO(0,i||this.scope),a=o.conditions={},l,u,c;Yt&&!o.selector&&(o.selector=Yt.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(u in r)u==="all"?c=1:(l=Bs.matchMedia(r[u]),l&&(Ha.indexOf(o)<0&&Ha.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(Hv):l.addEventListener("change",Hv)));return c&&s(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},t}(),Qp={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(s){return PO(s)})},timeline:function(e){return new vr(e)},getTweensOf:function(e,n){return Kt.getTweensOf(e,n)},getProperty:function(e,n,r,s){Vn(e)&&(e=fs(e)[0]);var i=Ua(e||{}).get,o=r?pO:dO;return r==="native"&&(r=""),e&&(n?o((Yr[n]&&Yr[n].get||i)(e,n,r,s)):function(a,l,u){return o((Yr[a]&&Yr[a].get||i)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=fs(e),e.length>1){var s=e.map(function(c){return $r.quickSetter(c,n,r)}),i=s.length;return function(c){for(var f=i;f--;)s[f](c)}}e=e[0]||{};var o=Yr[n],a=Ua(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(c){var f=new o;Wl._pt=0,f.init(e,r?c+r:c,Wl,0,[e]),f.render(1,f),Wl._pt&&Cw(1,Wl)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,n,r){var s,i=$r.to(e,ol((s={},s[n]="+=0.1",s.paused=!0,s),r||{})),o=function(l,u,c){return i.resetTo(n,l,u,c)};return o.tween=i,o},isTweening:function(e){return Kt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ja(e.ease,Cu.ease)),jA(Cu,e||{})},config:function(e){return jA(Xr,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,s=e.plugins,i=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!Yr[a]&&!Zr[a]&&qh(n+" effect requires "+a+" plugin.")}),u_[n]=function(a,l,u){return r(fs(a),bs(l||{},i),u)},o&&(vr.prototype[n]=function(a,l,u){return this.add(u_[n](a,hi(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){dt[e]=ja(n)},parseEase:function(e,n){return arguments.length?ja(e,n):dt},getById:function(e){return Kt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new vr(e),s,i;for(r.smoothChildTiming=Or(e.smoothChildTiming),Kt.remove(r),r._dp=0,r._time=r._tTime=Kt._time,s=Kt._first;s;)i=s._next,(n||!(!s._dur&&s instanceof vn&&s.vars.onComplete===s._targets[0]))&&Ys(r,s,s._start-s._delay),s=i;return Ys(Kt,r,0),r},context:function(e,n){return e?new jO(e,n):Yt},matchMedia:function(e){return new woe(e)},matchMediaRefresh:function(){return Ha.forEach(function(e){var n=e.conditions,r,s;for(s in n)n[s]&&(n[s]=!1,r=1);r&&e.revert()})||Hv()},addEventListener:function(e,n){var r=qd[e]||(qd[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=qd[e],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},utils:{wrap:Jie,wrapYoyo:Zie,distribute:bO,random:EO,snap:TO,normalize:Xie,getUnit:rr,clamp:Wie,splitColor:RO,toArray:fs,selector:Uv,mapRange:IO,pipe:Kie,unitize:Qie,interpolate:eoe,shuffle:wO},install:lO,effects:u_,ticker:qr,updateRoot:vr.updateRoot,plugins:Yr,globalTimeline:Kt,core:{PropTween:Mr,globals:uO,Tween:vn,Timeline:vr,Animation:Qh,getCache:Ua,_removeLinkedListItem:og,reverting:function(){return sr},context:function(e){return e&&Yt&&(Yt.data.push(e),e._ctx=Yt),Yt},suppressOverwrites:function(e){return _w=e}}};xr("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Qp[t]=vn[t]});qr.add(vr.updateRoot);Wl=Qp.to({},{duration:0});var boe=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},Toe=function(e,n){var r=e._targets,s,i,o;for(s in n)for(i=r.length;i--;)o=e._ptLookup[i][s],o&&(o=o.d)&&(o._pt&&(o=boe(o,s)),o&&o.modifier&&o.modifier(n[s],e,r[i],s))},p_=function(e,n){return{name:e,rawVars:1,init:function(s,i,o){o._onInit=function(a){var l,u;if(Vn(i)&&(l={},xr(i,function(c){return l[c]=1}),i=l),n){l={};for(u in i)l[u]=n(i[u]);i=l}Toe(a,i)}}}},$r=Qp.registerPlugin({name:"attr",init:function(e,n,r,s,i){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],s,i,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)sr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},p_("roundProps",Bv),p_("modifiers"),p_("snap",TO))||Qp;vn.version=vr.version=$r.version="3.12.5";aO=1;yw()&&Ou();dt.Power0;dt.Power1;dt.Power2;dt.Power3;dt.Power4;dt.Linear;dt.Quad;dt.Cubic;dt.Quart;dt.Quint;dt.Strong;dt.Elastic;dt.Back;dt.SteppedEase;dt.Bounce;dt.Sine;dt.Expo;dt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var GA,Io,au,Dw,Sa,KA,kw,Eoe=function(){return typeof window<"u"},Yi={},_a=180/Math.PI,lu=Math.PI/180,Ol=Math.atan2,QA=1e8,Ow=/([A-Z])/g,Aoe=/(left|right|width|margin|padding|x)/i,Ioe=/[\s,\(]\S/,Qs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},zv=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Soe=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Poe=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Roe=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},HO=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},zO=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Coe=function(e,n,r){return e.style[n]=r},Doe=function(e,n,r){return e.style.setProperty(n,r)},koe=function(e,n,r){return e._gsap[n]=r},Ooe=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},xoe=function(e,n,r,s,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},Moe=function(e,n,r,s,i){var o=e._gsap;o[n]=r,o.renderTransform(i,o)},Qt="transform",Nr=Qt+"Origin",Noe=function t(e,n){var r=this,s=this.target,i=s.style,o=s._gsap;if(e in Yi&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Qs[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Ti(s,a)}):this.tfm[e]=o.x?o[e]:Ti(s,e),e===Nr&&(this.tfm.zOrigin=o.zOrigin);else return Qs.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(Qt)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Nr,n,"")),e=Qt}(i||n)&&this.props.push(e,n,i[e])},YO=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Loe=function(){var e=this.props,n=this.target,r=n.style,s=n._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?n[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(Ow,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=kw(),(!i||!i.isStart)&&!r[Qt]&&(YO(r),s.zOrigin&&r[Nr]&&(r[Nr]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},qO=function(e,n){var r={target:e,props:[],revert:Loe,save:Noe};return e._gsap||$r.core.getCache(e),n&&n.split(",").forEach(function(s){return r.save(s)}),r},WO,Yv=function(e,n){var r=Io.createElementNS?Io.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Io.createElement(e);return r&&r.style?r:Io.createElement(e)},ii=function t(e,n,r){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(Ow,"-$1").toLowerCase())||s.getPropertyValue(n)||!r&&t(e,xu(n)||n,1)||""},XA="O,Moz,ms,Ms,Webkit".split(","),xu=function(e,n,r){var s=n||Sa,i=s.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(XA[o]+e in i););return o<0?null:(o===3?"ms":o>=0?XA[o]:"")+e},qv=function(){Eoe()&&window.document&&(GA=window,Io=GA.document,au=Io.documentElement,Sa=Yv("div")||{style:{}},Yv("div"),Qt=xu(Qt),Nr=Qt+"Origin",Sa.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",WO=!!xu("perspective"),kw=$r.core.reverting,Dw=1)},m_=function t(e){var n=Yv("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,s=this.nextSibling,i=this.style.cssText,o;if(au.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),au.removeChild(n),this.style.cssText=i,o},JA=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},GO=function(e){var n;try{n=e.getBBox()}catch{n=m_.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===m_||(n=m_.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+JA(e,["x","cx","x1"])||0,y:+JA(e,["y","cy","y1"])||0,width:0,height:0}:n},KO=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&GO(e))},al=function(e,n){if(n){var r=e.style,s;n in Yi&&n!==Nr&&(n=Qt),r.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(s==="--"?n:n.replace(Ow,"-$1").toLowerCase())):r.removeAttribute(n)}},So=function(e,n,r,s,i,o){var a=new Mr(e._pt,n,r,0,1,o?zO:HO);return e._pt=a,a.b=s,a.e=i,e._props.push(r),a},ZA={deg:1,rad:1,turn:1},$oe={grid:1,flex:1},Wo=function t(e,n,r,s){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",a=Sa.style,l=Aoe.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,d=s==="px",p=s==="%",g,_,A,S;if(s===o||!i||ZA[s]||ZA[o])return i;if(o!=="px"&&!d&&(i=t(e,n,r,"px")),S=e.getCTM&&KO(e),(p||o==="%")&&(Yi[n]||~n.indexOf("adius")))return g=S?e.getBBox()[l?"width":"height"]:e[c],hn(p?i/g*f:i/100*g);if(a[l?"width":"height"]=f+(d?o:s),_=~n.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,S&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===Io||!_.appendChild)&&(_=Io.body),A=_._gsap,A&&p&&A.width&&l&&A.time===qr.time&&!A.uncache)return hn(i/A.width*f);if(p&&(n==="height"||n==="width")){var M=e.style[n];e.style[n]=f+s,g=e[c],M?e.style[n]=M:al(e,n)}else(p||o==="%")&&!$oe[ii(_,"display")]&&(a.position=ii(e,"position")),_===e&&(a.position="static"),_.appendChild(Sa),g=Sa[c],_.removeChild(Sa),a.position="absolute";return l&&p&&(A=Ua(_),A.time=qr.time,A.width=_[c]),hn(d?g*i/f:g&&i?f/g*i:0)},Ti=function(e,n,r,s){var i;return Dw||qv(),n in Qs&&n!=="transform"&&(n=Qs[n],~n.indexOf(",")&&(n=n.split(",")[0])),Yi[n]&&n!=="transform"?(i=Jh(e,s),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:Jp(ii(e,Nr))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=Xp[n]&&Xp[n](e,n,r)||ii(e,n)||hO(e,n)||(n==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?Wo(e,n,i,r)+r:i},Voe=function(e,n,r,s){if(!r||r==="none"){var i=xu(n,e,1),o=i&&ii(e,i,1);o&&o!==r?(n=i,r=o):n==="borderColor"&&(r=ii(e,"borderTopColor"))}var a=new Mr(this._pt,e.style,n,0,1,UO),l=0,u=0,c,f,d,p,g,_,A,S,M,k,O,x;if(a.b=r,a.e=s,r+="",s+="",s==="auto"&&(_=e.style[n],e.style[n]=s,s=ii(e,n)||s,_?e.style[n]=_:al(e,n)),c=[r,s],DO(c),r=c[0],s=c[1],d=r.match(ql)||[],x=s.match(ql)||[],x.length){for(;f=ql.exec(s);)A=f[0],M=s.substring(l,f.index),g?g=(g+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(g=1),A!==(_=d[u++]||"")&&(p=parseFloat(_)||0,O=_.substr((p+"").length),A.charAt(1)==="="&&(A=ou(p,A)+O),S=parseFloat(A),k=A.substr((S+"").length),l=ql.lastIndex-k.length,k||(k=k||Xr.units[n]||O,l===s.length&&(s+=k,a.e+=k)),O!==k&&(p=Wo(e,n,_,k)||0),a._pt={_next:a._pt,p:M||u===1?M:",",s:p,c:S-p,m:g&&g<4||n==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=n==="display"&&s==="none"?zO:HO;return iO.test(s)&&(a.e=0),this._pt=a,a},eI={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Foe=function(e){var n=e.split(" "),r=n[0],s=n[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),n[0]=eI[r]||r,n[1]=eI[s]||s,n.join(" ")},Uoe=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,s=r.style,i=n.u,o=r._gsap,a,l,u;if(i==="all"||i===!0)s.cssText="",l=1;else for(i=i.split(","),u=i.length;--u>-1;)a=i[u],Yi[a]&&(l=1,a=a==="transformOrigin"?Nr:Qt),al(r,a);l&&(al(r,Qt),o&&(o.svg&&r.removeAttribute("transform"),Jh(r,1),o.uncache=1,YO(s)))}},Xp={clearProps:function(e,n,r,s,i){if(i.data!=="isFromStart"){var o=e._pt=new Mr(e._pt,n,r,0,0,Uoe);return o.u=s,o.pr=-10,o.tween=i,e._props.push(r),1}}},Xh=[1,0,0,1,0,0],QO={},XO=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},tI=function(e){var n=ii(e,Qt);return XO(n)?Xh:n.substr(7).match(sO).map(hn)},xw=function(e,n){var r=e._gsap||Ua(e),s=e.style,i=tI(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,i=[l.a,l.b,l.c,l.d,l.e,l.f],i.join(",")==="1,0,0,1,0,0"?Xh:i):(i===Xh&&!e.offsetParent&&e!==au&&!r.svg&&(l=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,au.appendChild(e)),i=tI(e),l?s.display=l:al(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):au.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},Wv=function(e,n,r,s,i,o){var a=e._gsap,l=i||xw(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],g=l[1],_=l[2],A=l[3],S=l[4],M=l[5],k=n.split(" "),O=parseFloat(k[0])||0,x=parseFloat(k[1])||0,N,T,b,w;r?l!==Xh&&(T=p*A-g*_)&&(b=O*(A/T)+x*(-_/T)+(_*M-A*S)/T,w=O*(-g/T)+x*(p/T)-(p*M-g*S)/T,O=b,x=w):(N=GO(e),O=N.x+(~k[0].indexOf("%")?O/100*N.width:O),x=N.y+(~(k[1]||k[0]).indexOf("%")?x/100*N.height:x)),s||s!==!1&&a.smooth?(S=O-u,M=x-c,a.xOffset=f+(S*p+M*_)-S,a.yOffset=d+(S*g+M*A)-M):a.xOffset=a.yOffset=0,a.xOrigin=O,a.yOrigin=x,a.smooth=!!s,a.origin=n,a.originIsAbsolute=!!r,e.style[Nr]="0px 0px",o&&(So(o,a,"xOrigin",u,O),So(o,a,"yOrigin",c,x),So(o,a,"xOffset",f,a.xOffset),So(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",O+" "+x)},Jh=function(e,n){var r=e._gsap||new MO(e);if("x"in r&&!n&&!r.uncache)return r;var s=e.style,i=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=ii(e,Nr)||"0",c,f,d,p,g,_,A,S,M,k,O,x,N,T,b,w,I,P,y,E,B,U,F,j,H,ee,R,ce,te,ve,ge,De;return c=f=d=_=A=S=M=k=O=0,p=g=1,r.svg=!!(e.getCTM&&KO(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Qt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Qt]!=="none"?l[Qt]:"")),s.scale=s.rotate=s.translate="none"),T=xw(e,r.svg),r.svg&&(r.uncache?(H=e.getBBox(),u=r.xOrigin-H.x+"px "+(r.yOrigin-H.y)+"px",j=""):j=!n&&e.getAttribute("data-svg-origin"),Wv(e,j||u,!!j||r.originIsAbsolute,r.smooth!==!1,T)),x=r.xOrigin||0,N=r.yOrigin||0,T!==Xh&&(P=T[0],y=T[1],E=T[2],B=T[3],c=U=T[4],f=F=T[5],T.length===6?(p=Math.sqrt(P*P+y*y),g=Math.sqrt(B*B+E*E),_=P||y?Ol(y,P)*_a:0,M=E||B?Ol(E,B)*_a+_:0,M&&(g*=Math.abs(Math.cos(M*lu))),r.svg&&(c-=x-(x*P+N*E),f-=N-(x*y+N*B))):(De=T[6],ve=T[7],R=T[8],ce=T[9],te=T[10],ge=T[11],c=T[12],f=T[13],d=T[14],b=Ol(De,te),A=b*_a,b&&(w=Math.cos(-b),I=Math.sin(-b),j=U*w+R*I,H=F*w+ce*I,ee=De*w+te*I,R=U*-I+R*w,ce=F*-I+ce*w,te=De*-I+te*w,ge=ve*-I+ge*w,U=j,F=H,De=ee),b=Ol(-E,te),S=b*_a,b&&(w=Math.cos(-b),I=Math.sin(-b),j=P*w-R*I,H=y*w-ce*I,ee=E*w-te*I,ge=B*I+ge*w,P=j,y=H,E=ee),b=Ol(y,P),_=b*_a,b&&(w=Math.cos(b),I=Math.sin(b),j=P*w+y*I,H=U*w+F*I,y=y*w-P*I,F=F*w-U*I,P=j,U=H),A&&Math.abs(A)+Math.abs(_)>359.9&&(A=_=0,S=180-S),p=hn(Math.sqrt(P*P+y*y+E*E)),g=hn(Math.sqrt(F*F+De*De)),b=Ol(U,F),M=Math.abs(b)>2e-4?b*_a:0,O=ge?1/(ge<0?-ge:ge):0),r.svg&&(j=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!XO(ii(e,Qt)),j&&e.setAttribute("transform",j))),Math.abs(M)>90&&Math.abs(M)<270&&(i?(p*=-1,M+=_<=0?180:-180,_+=_<=0?180:-180):(g*=-1,M+=M<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=hn(p),r.scaleY=hn(g),r.rotation=hn(_)+a,r.rotationX=hn(A)+a,r.rotationY=hn(S)+a,r.skewX=M+a,r.skewY=k+a,r.transformPerspective=O+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(s[Nr]=Jp(u)),r.xOffset=r.yOffset=0,r.force3D=Xr.force3D,r.renderTransform=r.svg?joe:WO?JO:Boe,r.uncache=0,r},Jp=function(e){return(e=e.split(" "))[0]+" "+e[1]},g_=function(e,n,r){var s=rr(n);return hn(parseFloat(n)+parseFloat(Wo(e,"x",r+"px",s)))+s},Boe=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,JO(e,n)},da="0deg",yc="0px",pa=") ",JO=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,g=r.scaleX,_=r.scaleY,A=r.transformPerspective,S=r.force3D,M=r.target,k=r.zOrigin,O="",x=S==="auto"&&e&&e!==1||S===!0;if(k&&(f!==da||c!==da)){var N=parseFloat(c)*lu,T=Math.sin(N),b=Math.cos(N),w;N=parseFloat(f)*lu,w=Math.cos(N),o=g_(M,o,T*w*-k),a=g_(M,a,-Math.sin(N)*-k),l=g_(M,l,b*w*-k+k)}A!==yc&&(O+="perspective("+A+pa),(s||i)&&(O+="translate("+s+"%, "+i+"%) "),(x||o!==yc||a!==yc||l!==yc)&&(O+=l!==yc||x?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+pa),u!==da&&(O+="rotate("+u+pa),c!==da&&(O+="rotateY("+c+pa),f!==da&&(O+="rotateX("+f+pa),(d!==da||p!==da)&&(O+="skew("+d+", "+p+pa),(g!==1||_!==1)&&(O+="scale("+g+", "+_+pa),M.style[Qt]=O||"translate(0, 0)"},joe=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,g=r.xOrigin,_=r.yOrigin,A=r.xOffset,S=r.yOffset,M=r.forceCSS,k=parseFloat(o),O=parseFloat(a),x,N,T,b,w;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=lu,u*=lu,x=Math.cos(l)*f,N=Math.sin(l)*f,T=Math.sin(l-u)*-d,b=Math.cos(l-u)*d,u&&(c*=lu,w=Math.tan(u-c),w=Math.sqrt(1+w*w),T*=w,b*=w,c&&(w=Math.tan(c),w=Math.sqrt(1+w*w),x*=w,N*=w)),x=hn(x),N=hn(N),T=hn(T),b=hn(b)):(x=f,b=d,N=T=0),(k&&!~(o+"").indexOf("px")||O&&!~(a+"").indexOf("px"))&&(k=Wo(p,"x",o,"px"),O=Wo(p,"y",a,"px")),(g||_||A||S)&&(k=hn(k+g-(g*x+_*T)+A),O=hn(O+_-(g*N+_*b)+S)),(s||i)&&(w=p.getBBox(),k=hn(k+s/100*w.width),O=hn(O+i/100*w.height)),w="matrix("+x+","+N+","+T+","+b+","+k+","+O+")",p.setAttribute("transform",w),M&&(p.style[Qt]=w)},Hoe=function(e,n,r,s,i){var o=360,a=Vn(i),l=parseFloat(i)*(a&&~i.indexOf("rad")?_a:1),u=l-s,c=s+u+"deg",f,d;return a&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*QA)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*QA)%o-~~(u/o)*o)),e._pt=d=new Mr(e._pt,n,r,s,u,Soe),d.e=c,d.u="deg",e._props.push(r),d},nI=function(e,n){for(var r in n)e[r]=n[r];return e},zoe=function(e,n,r){var s=nI({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,d,p,g;s.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Qt]=n,a=Jh(r,1),al(r,Qt),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Qt],o[Qt]=n,a=Jh(r,1),o[Qt]=u);for(l in Yi)u=s[l],c=a[l],u!==c&&i.indexOf(l)<0&&(p=rr(u),g=rr(c),f=p!==g?Wo(r,l,u,g):parseFloat(u),d=parseFloat(c),e._pt=new Mr(e._pt,a,l,f,d-f,zv),e._pt.u=g||0,e._props.push(l));nI(a,s)};xr("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",s="Bottom",i="Left",o=(e<3?[n,r,s,i]:[n+i,n+r,s+r,s+i]).map(function(a){return e<2?t+a:"border"+a+t});Xp[e>1?"border"+t:t]=function(a,l,u,c,f){var d,p;if(arguments.length<4)return d=o.map(function(g){return Ti(a,g,u)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(c+"").split(" "),p={},o.forEach(function(g,_){return p[g]=d[_]=d[_]||d[(_-1)/2|0]}),a.init(l,p,f)}});var ZO={name:"css",register:qv,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,s,i){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,d,p,g,_,A,S,M,k,O,x,N,T,b;Dw||qv(),this.styles=this.styles||qO(e),b=this.styles.props,this.tween=r;for(_ in n)if(_!=="autoRound"&&(c=n[_],!(Yr[_]&&NO(_,n,r,s,e,i)))){if(p=typeof c,g=Xp[_],p==="function"&&(c=c.call(r,s,e,i),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=Gh(c)),g)g(this,e,_,c,r)&&(T=1);else if(_.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(_)+"").trim(),c+="",No.lastIndex=0,No.test(u)||(A=rr(u),S=rr(c)),S?A!==S&&(u=Wo(e,_,u,S)+S):A&&(c+=A),this.add(a,"setProperty",u,c,s,i,0,0,_),o.push(_),b.push(_,0,a[_]);else if(p!=="undefined"){if(l&&_ in l?(u=typeof l[_]=="function"?l[_].call(r,s,e,i):l[_],Vn(u)&&~u.indexOf("random(")&&(u=Gh(u)),rr(u+"")||u==="auto"||(u+=Xr.units[_]||rr(Ti(e,_))||""),(u+"").charAt(1)==="="&&(u=Ti(e,_))):u=Ti(e,_),d=parseFloat(u),M=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),M&&(c=c.substr(2)),f=parseFloat(c),_ in Qs&&(_==="autoAlpha"&&(d===1&&Ti(e,"visibility")==="hidden"&&f&&(d=0),b.push("visibility",0,a.visibility),So(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),_!=="scale"&&_!=="transform"&&(_=Qs[_],~_.indexOf(",")&&(_=_.split(",")[0]))),k=_ in Yi,k){if(this.styles.save(_),O||(x=e._gsap,x.renderTransform&&!n.parseTransform||Jh(e,n.parseTransform),N=n.smoothOrigin!==!1&&x.smooth,O=this._pt=new Mr(this._pt,a,Qt,0,1,x.renderTransform,x,0,-1),O.dep=1),_==="scale")this._pt=new Mr(this._pt,x,"scaleY",x.scaleY,(M?ou(x.scaleY,M+f):f)-x.scaleY||0,zv),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){b.push(Nr,0,a[Nr]),c=Foe(c),x.svg?Wv(e,c,0,N,0,this):(S=parseFloat(c.split(" ")[2])||0,S!==x.zOrigin&&So(this,x,"zOrigin",x.zOrigin,S),So(this,a,_,Jp(u),Jp(c)));continue}else if(_==="svgOrigin"){Wv(e,c,1,N,0,this);continue}else if(_ in QO){Hoe(this,x,_,d,M?ou(d,M+c):c);continue}else if(_==="smoothOrigin"){So(this,x,"smooth",x.smooth,c);continue}else if(_==="force3D"){x[_]=c;continue}else if(_==="transform"){zoe(this,c,e);continue}}else _ in a||(_=xu(_)||_);if(k||(f||f===0)&&(d||d===0)&&!Ioe.test(c)&&_ in a)A=(u+"").substr((d+"").length),f||(f=0),S=rr(c)||(_ in Xr.units?Xr.units[_]:A),A!==S&&(d=Wo(e,_,u,S)),this._pt=new Mr(this._pt,k?x:a,_,d,(M?ou(d,M+f):f)-d,!k&&(S==="px"||_==="zIndex")&&n.autoRound!==!1?Roe:zv),this._pt.u=S||0,A!==S&&S!=="%"&&(this._pt.b=u,this._pt.r=Poe);else if(_ in a)Voe.call(this,e,_,u,M?M+c:c);else if(_ in e)this.add(e,_,u||e[_],M?M+c:c,s,i);else if(_!=="parseTransform"){bw(_,c);continue}k||(_ in a?b.push(_,0,a[_]):b.push(_,1,u||e[_])),o.push(_)}}T&&BO(this)},render:function(e,n){if(n.tween._time||!kw())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Ti,aliases:Qs,getSetter:function(e,n,r){var s=Qs[n];return s&&s.indexOf(",")<0&&(n=s),n in Yi&&n!==Nr&&(e._gsap.x||Ti(e,"x"))?r&&KA===r?n==="scale"?Ooe:koe:(KA=r||{})&&(n==="scale"?xoe:Moe):e.style&&!vw(e.style[n])?Coe:~n.indexOf("-")?Doe:Rw(e,n)},core:{_removeProperty:al,_getMatrix:xw}};$r.utils.checkPrefix=xu;$r.core.getStyleSaver=qO;(function(t,e,n,r){var s=xr(t+","+e+","+n,function(i){Yi[i]=1});xr(e,function(i){Xr.units[i]="deg",QO[i]=1}),Qs[s[13]]=t+","+e,xr(r,function(i){var o=i.split(":");Qs[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Xr.units[t]="px"});$r.registerPlugin(ZO);var Zp=$r.registerPlugin(ZO)||$r;Zp.core.Tween;const Df=t=>(pf("data-v-a61f5bdb"),t=t(),mf(),t),Yoe={class:"container py-6 transition-all duration-500 md:py-8"},qoe={class:"flex h-[32px] w-full justify-between md:h-[48px]"},Woe=Df(()=>pe("img",{src:fY,alt:"",class:"relative h-full"},null,-1)),Goe={class:"hidden space-x-10 md:flex"},Koe=Df(()=>pe("i",{class:"icon-plus-square"},null,-1)),Qoe=Df(()=>pe("i",{class:"icon-search"},null,-1)),Xoe=Df(()=>pe("i",{class:"icon-sign-in"},null,-1)),Joe=Df(()=>pe("i",{class:"icon-mobile-menu !text-[16px]"},null,-1)),Zoe=[Joe],eae={__name:"header",setup(t){const e=vE({component:Tie,attrs:{}}),n=vE({component:Die,attrs:{clickAddRecord:()=>{n.close(),e.open()},clickLogout:()=>{n.close(),y1()}}}),r=()=>{e.open(),console.log("test open")},s=()=>{n.open()};let i=Zp.timeline();const o=()=>{i.fromTo("#logo",{x:-100,opacity:0},{duration:1,opacity:1,x:0}),i.fromTo(".an-btn",{x:100,opacity:0},{duration:.5,opacity:1,stagger:.2,x:0},"-=0.5")};return Vr(()=>{o()}),(a,l)=>{const u=is("router-link"),c=is("routerLink");return oe(),Se("div",Yoe,[pe("div",qoe,[ye(u,{to:"/",class:"relative h-full",id:"logo"},{default:gt(()=>[Woe]),_:1}),pe("div",Goe,[pe("button",{type:"button",class:"an-btn flex items-center gap-x-2 hover:text-primary",onClick:l[0]||(l[0]=f=>r())},[Koe,$n(" 添加 ")]),ye(c,{to:"/search",class:"an-btn flex items-center gap-x-2 hover:text-primary"},{default:gt(()=>[Qoe,$n(" 搜尋 ")]),_:1}),pe("button",{type:"button",class:"an-btn flex items-center gap-x-[10px] rounded-lg border border-primary px-6 py-2 text-primary",onClick:l[1]||(l[1]=f=>K(y1)())},[Xoe,$n(" 登出 ")])]),pe("button",{class:"flex items-center md:hidden",onClick:l[2]||(l[2]=f=>s())},Zoe)])])}}},tae=If(eae,[["__scopeId","data-v-a61f5bdb"]]);function nae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rae(t,e,n){return e&&nae(t.prototype,e),t}/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var jn,Wd,Wr,Po,Ro,uu,ex,va,ch,tx,Di,Es,nx,rx=function(){return jn||typeof window<"u"&&(jn=window.gsap)&&jn.registerPlugin&&jn},sx=1,Gl=[],it=[],oi=[],hh=Date.now,Gv=function(e,n){return n},sae=function(){var e=ch.core,n=e.bridge||{},r=e._scrollers,s=e._proxies;r.push.apply(r,it),s.push.apply(s,oi),it=r,oi=s,Gv=function(o,a){return n[o](a)}},Lo=function(e,n){return~oi.indexOf(e)&&oi[oi.indexOf(e)+1][n]},fh=function(e){return!!~tx.indexOf(e)},fr=function(e,n,r,s,i){return e.addEventListener(n,r,{passive:s!==!1,capture:!!i})},cr=function(e,n,r,s){return e.removeEventListener(n,r,!!s)},hd="scrollLeft",fd="scrollTop",Kv=function(){return Di&&Di.isPressed||it.cache++},em=function(e,n){var r=function s(i){if(i||i===0){sx&&(Wr.history.scrollRestoration="manual");var o=Di&&Di.isPressed;i=s.v=Math.round(i)||(Di&&Di.iOS?1:0),e(i),s.cacheID=it.cache,o&&Gv("ss",i)}else(n||it.cache!==s.cacheID||Gv("ref"))&&(s.cacheID=it.cache,s.v=e());return s.v+s.offset};return r.offset=0,e&&r},yr={s:hd,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:em(function(t){return arguments.length?Wr.scrollTo(t,In.sc()):Wr.pageXOffset||Po[hd]||Ro[hd]||uu[hd]||0})},In={s:fd,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:yr,sc:em(function(t){return arguments.length?Wr.scrollTo(yr.sc(),t):Wr.pageYOffset||Po[fd]||Ro[fd]||uu[fd]||0})},Ar=function(e,n){return(n&&n._ctx&&n._ctx.selector||jn.utils.toArray)(e)[0]||(typeof e=="string"&&jn.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Go=function(e,n){var r=n.s,s=n.sc;fh(e)&&(e=Po.scrollingElement||Ro);var i=it.indexOf(e),o=s===In.sc?1:2;!~i&&(i=it.push(e)-1),it[i+o]||fr(e,"scroll",Kv);var a=it[i+o],l=a||(it[i+o]=em(Lo(e,r),!0)||(fh(e)?s:em(function(u){return arguments.length?e[r]=u:e[r]})));return l.target=e,a||(l.smooth=jn.getProperty(e,"scrollBehavior")==="smooth"),l},Qv=function(e,n,r){var s=e,i=e,o=hh(),a=o,l=n||50,u=Math.max(500,l*3),c=function(g,_){var A=hh();_||A-o>l?(i=s,s=g,a=o,o=A):r?s+=g:s=i+(g-i)/(A-a)*(o-a)},f=function(){i=s=r?0:s,a=o=0},d=function(g){var _=a,A=i,S=hh();return(g||g===0)&&g!==s&&c(g),o===a||S-a>u?0:(s+(r?A:-A))/((r?S:o)-_)*1e3};return{update:c,reset:f,getVelocity:d}},wc=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},rI=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},ix=function(){ch=jn.core.globals().ScrollTrigger,ch&&ch.core&&sae()},ox=function(e){return jn=e||rx(),!Wd&&jn&&typeof document<"u"&&document.body&&(Wr=window,Po=document,Ro=Po.documentElement,uu=Po.body,tx=[Wr,Po,Ro,uu],jn.utils.clamp,nx=jn.core.context||function(){},va="onpointerenter"in uu?"pointer":"mouse",ex=fn.isTouch=Wr.matchMedia&&Wr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Wr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Es=fn.eventTypes=("ontouchstart"in Ro?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ro?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return sx=0},500),ix(),Wd=1),Wd};yr.op=In;it.cache=0;var fn=function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){Wd||ox(jn)||console.warn("Please gsap.registerPlugin(Observer)"),ch||ix();var s=r.tolerance,i=r.dragMinimum,o=r.type,a=r.target,l=r.lineHeight,u=r.debounce,c=r.preventDefault,f=r.onStop,d=r.onStopDelay,p=r.ignore,g=r.wheelSpeed,_=r.event,A=r.onDragStart,S=r.onDragEnd,M=r.onDrag,k=r.onPress,O=r.onRelease,x=r.onRight,N=r.onLeft,T=r.onUp,b=r.onDown,w=r.onChangeX,I=r.onChangeY,P=r.onChange,y=r.onToggleX,E=r.onToggleY,B=r.onHover,U=r.onHoverEnd,F=r.onMove,j=r.ignoreCheck,H=r.isNormalizer,ee=r.onGestureStart,R=r.onGestureEnd,ce=r.onWheel,te=r.onEnable,ve=r.onDisable,ge=r.onClick,De=r.scrollSpeed,Oe=r.capture,z=r.allowClicks,le=r.lockAxis,W=r.onLockAxis;this.target=a=Ar(a)||Ro,this.vars=r,p&&(p=jn.utils.toArray(p)),s=s||1e-9,i=i||0,g=g||1,De=De||1,o=o||"wheel,touch,pointer",u=u!==!1,l||(l=parseFloat(Wr.getComputedStyle(uu).lineHeight)||22);var ne,me,Ce,D,L,Y,X,$=this,he=0,de=0,ue=r.passive||!c,ae=Go(a,yr),se=Go(a,In),_e=ae(),Re=se(),we=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Es[0]==="pointerdown",Ie=fh(a),Te=a.ownerDocument||Po,Ye=[0,0,0],ze=[0,0,0],st=0,qt=function(){return st=hh()},tt=function(Fe,He){return($.event=Fe)&&p&&~p.indexOf(Fe.target)||He&&we&&Fe.pointerType!=="touch"||j&&j(Fe,He)},lr=function(){$._vx.reset(),$._vy.reset(),me.pause(),f&&f($)},on=function(){var Fe=$.deltaX=rI(Ye),He=$.deltaY=rI(ze),Ee=Math.abs(Fe)>=s,je=Math.abs(He)>=s;P&&(Ee||je)&&P($,Fe,He,Ye,ze),Ee&&(x&&$.deltaX>0&&x($),N&&$.deltaX<0&&N($),w&&w($),y&&$.deltaX<0!=he<0&&y($),he=$.deltaX,Ye[0]=Ye[1]=Ye[2]=0),je&&(b&&$.deltaY>0&&b($),T&&$.deltaY<0&&T($),I&&I($),E&&$.deltaY<0!=de<0&&E($),de=$.deltaY,ze[0]=ze[1]=ze[2]=0),(D||Ce)&&(F&&F($),Ce&&(M($),Ce=!1),D=!1),Y&&!(Y=!1)&&W&&W($),L&&(ce($),L=!1),ne=0},Rn=function(Fe,He,Ee){Ye[Ee]+=Fe,ze[Ee]+=He,$._vx.update(Fe),$._vy.update(He),u?ne||(ne=requestAnimationFrame(on)):on()},Ct=function(Fe,He){le&&!X&&($.axis=X=Math.abs(Fe)>Math.abs(He)?"x":"y",Y=!0),X!=="y"&&(Ye[2]+=Fe,$._vx.update(Fe,!0)),X!=="x"&&(ze[2]+=He,$._vy.update(He,!0)),u?ne||(ne=requestAnimationFrame(on)):on()},re=function(Fe){if(!tt(Fe,1)){Fe=wc(Fe,c);var He=Fe.clientX,Ee=Fe.clientY,je=He-$.x,$e=Ee-$.y,Ge=$.isDragging;$.x=He,$.y=Ee,(Ge||Math.abs($.startX-He)>=i||Math.abs($.startY-Ee)>=i)&&(M&&(Ce=!0),Ge||($.isDragging=!0),Ct(je,$e),Ge||A&&A($))}},V=$.onPress=function(Me){tt(Me,1)||Me&&Me.button||($.axis=X=null,me.pause(),$.isPressed=!0,Me=wc(Me),he=de=0,$.startX=$.x=Me.clientX,$.startY=$.y=Me.clientY,$._vx.reset(),$._vy.reset(),fr(H?a:Te,Es[1],re,ue,!0),$.deltaX=$.deltaY=0,k&&k($))},G=$.onRelease=function(Me){if(!tt(Me,1)){cr(H?a:Te,Es[1],re,!0);var Fe=!isNaN($.y-$.startY),He=$.isDragging,Ee=He&&(Math.abs($.x-$.startX)>3||Math.abs($.y-$.startY)>3),je=wc(Me);!Ee&&Fe&&($._vx.reset(),$._vy.reset(),c&&z&&jn.delayedCall(.08,function(){if(hh()-st>300&&!Me.defaultPrevented){if(Me.target.click)Me.target.click();else if(Te.createEvent){var $e=Te.createEvent("MouseEvents");$e.initMouseEvent("click",!0,!0,Wr,1,je.screenX,je.screenY,je.clientX,je.clientY,!1,!1,!1,!1,0,null),Me.target.dispatchEvent($e)}}})),$.isDragging=$.isGesturing=$.isPressed=!1,f&&He&&!H&&me.restart(!0),S&&He&&S($),O&&O($,Ee)}},be=function(Fe){return Fe.touches&&Fe.touches.length>1&&($.isGesturing=!0)&&ee(Fe,$.isDragging)},Le=function(){return($.isGesturing=!1)||R($)},et=function(Fe){if(!tt(Fe)){var He=ae(),Ee=se();Rn((He-_e)*De,(Ee-Re)*De,1),_e=He,Re=Ee,f&&me.restart(!0)}},wt=function(Fe){if(!tt(Fe)){Fe=wc(Fe,c),ce&&(L=!0);var He=(Fe.deltaMode===1?l:Fe.deltaMode===2?Wr.innerHeight:1)*g;Rn(Fe.deltaX*He,Fe.deltaY*He,0),f&&!H&&me.restart(!0)}},Et=function(Fe){if(!tt(Fe)){var He=Fe.clientX,Ee=Fe.clientY,je=He-$.x,$e=Ee-$.y;$.x=He,$.y=Ee,D=!0,f&&me.restart(!0),(je||$e)&&Ct(je,$e)}},Yn=function(Fe){$.event=Fe,B($)},an=function(Fe){$.event=Fe,U($)},es=function(Fe){return tt(Fe)||wc(Fe,c)&&ge($)};me=$._dc=jn.delayedCall(d||.25,lr).pause(),$.deltaX=$.deltaY=0,$._vx=Qv(0,50,!0),$._vy=Qv(0,50,!0),$.scrollX=ae,$.scrollY=se,$.isDragging=$.isGesturing=$.isPressed=!1,nx(this),$.enable=function(Me){return $.isEnabled||(fr(Ie?Te:a,"scroll",Kv),o.indexOf("scroll")>=0&&fr(Ie?Te:a,"scroll",et,ue,Oe),o.indexOf("wheel")>=0&&fr(a,"wheel",wt,ue,Oe),(o.indexOf("touch")>=0&&ex||o.indexOf("pointer")>=0)&&(fr(a,Es[0],V,ue,Oe),fr(Te,Es[2],G),fr(Te,Es[3],G),z&&fr(a,"click",qt,!0,!0),ge&&fr(a,"click",es),ee&&fr(Te,"gesturestart",be),R&&fr(Te,"gestureend",Le),B&&fr(a,va+"enter",Yn),U&&fr(a,va+"leave",an),F&&fr(a,va+"move",Et)),$.isEnabled=!0,Me&&Me.type&&V(Me),te&&te($)),$},$.disable=function(){$.isEnabled&&(Gl.filter(function(Me){return Me!==$&&fh(Me.target)}).length||cr(Ie?Te:a,"scroll",Kv),$.isPressed&&($._vx.reset(),$._vy.reset(),cr(H?a:Te,Es[1],re,!0)),cr(Ie?Te:a,"scroll",et,Oe),cr(a,"wheel",wt,Oe),cr(a,Es[0],V,Oe),cr(Te,Es[2],G),cr(Te,Es[3],G),cr(a,"click",qt,!0),cr(a,"click",es),cr(Te,"gesturestart",be),cr(Te,"gestureend",Le),cr(a,va+"enter",Yn),cr(a,va+"leave",an),cr(a,va+"move",Et),$.isEnabled=$.isPressed=$.isDragging=!1,ve&&ve($))},$.kill=$.revert=function(){$.disable();var Me=Gl.indexOf($);Me>=0&&Gl.splice(Me,1),Di===$&&(Di=0)},Gl.push($),H&&fh(a)&&(Di=$),$.enable(_)},rae(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();fn.version="3.12.5";fn.create=function(t){return new fn(t)};fn.register=ox;fn.getAll=function(){return Gl.slice()};fn.getById=function(t){return Gl.filter(function(e){return e.vars.id===t})[0]};rx()&&jn.registerPlugin(fn);/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var xe,Bl,ct,Gt,As,Bt,ax,tm,Zh,dh,Nc,dd,Xn,ug,Xv,pr,sI,iI,jl,lx,__,ux,dr,Jv,cx,hx,lo,Zv,Mw,cu,Nw,nm,ey,v_,pd=1,er=Date.now,y_=er(),vs=0,Lc=0,oI=function(e,n,r){var s=zr(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=s,s?e.substr(6,e.length-7):e},aI=function(e,n){return n&&(!zr(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},iae=function t(){return Lc&&requestAnimationFrame(t)},lI=function(){return ug=1},uI=function(){return ug=0},js=function(e){return e},$c=function(e){return Math.round(e*1e5)/1e5||0},fx=function(){return typeof window<"u"},dx=function(){return xe||fx()&&(xe=window.gsap)&&xe.registerPlugin&&xe},ll=function(e){return!!~ax.indexOf(e)},px=function(e){return(e==="Height"?Nw:ct["inner"+e])||As["client"+e]||Bt["client"+e]},mx=function(e){return Lo(e,"getBoundingClientRect")||(ll(e)?function(){return Jd.width=ct.innerWidth,Jd.height=Nw,Jd}:function(){return Ai(e)})},oae=function(e,n,r){var s=r.d,i=r.d2,o=r.a;return(o=Lo(e,"getBoundingClientRect"))?function(){return o()[s]}:function(){return(n?px(i):e["client"+i])||0}},aae=function(e,n){return!n||~oi.indexOf(e)?mx(e):function(){return Jd}},Xs=function(e,n){var r=n.s,s=n.d2,i=n.d,o=n.a;return Math.max(0,(r="scroll"+s)&&(o=Lo(e,r))?o()-mx(e)()[i]:ll(e)?(As[r]||Bt[r])-px(s):e[r]-e["offset"+s])},md=function(e,n){for(var r=0;r<jl.length;r+=3)(!n||~n.indexOf(jl[r+1]))&&e(jl[r],jl[r+1],jl[r+2])},zr=function(e){return typeof e=="string"},wr=function(e){return typeof e=="function"},Vc=function(e){return typeof e=="number"},ya=function(e){return typeof e=="object"},bc=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},w_=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},xl=Math.abs,gx="left",_x="top",Lw="right",$w="bottom",za="width",Ya="height",ph="Right",mh="Left",gh="Top",_h="Bottom",gn="padding",os="margin",Mu="Width",Vw="Height",An="px",as=function(e){return ct.getComputedStyle(e)},lae=function(e){var n=as(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},cI=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Ai=function(e,n){var r=n&&as(e)[Xv]!=="matrix(1, 0, 0, 1, 0, 0)"&&xe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=e.getBoundingClientRect();return r&&r.progress(0).kill(),s},rm=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},vx=function(e){var n=[],r=e.labels,s=e.duration(),i;for(i in r)n.push(r[i]/s);return n},uae=function(e){return function(n){return xe.utils.snap(vx(e),n)}},Fw=function(e){var n=xe.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(s,i){return s-i});return r?function(s,i,o){o===void 0&&(o=.001);var a;if(!i)return n(s);if(i>0){for(s-=o,a=0;a<r.length;a++)if(r[a]>=s)return r[a];return r[a-1]}else for(a=r.length,s+=o;a--;)if(r[a]<=s)return r[a];return r[0]}:function(s,i,o){o===void 0&&(o=.001);var a=n(s);return!i||Math.abs(a-s)<o||a-s<0==i<0?a:n(i<0?s-e:s+e)}},cae=function(e){return function(n,r){return Fw(vx(e))(n,r.direction)}},gd=function(e,n,r,s){return r.split(",").forEach(function(i){return e(n,i,s)})},kn=function(e,n,r,s,i){return e.addEventListener(n,r,{passive:!s,capture:!!i})},Dn=function(e,n,r,s){return e.removeEventListener(n,r,!!s)},_d=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},hI={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},vd={toggleActions:"play",anticipatePin:0},sm={top:0,left:0,center:.5,bottom:1,right:1},Gd=function(e,n){if(zr(e)){var r=e.indexOf("="),s=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(s*=n/100),e=e.substr(0,r-1)),e=s+(e in sm?sm[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},yd=function(e,n,r,s,i,o,a,l){var u=i.startColor,c=i.endColor,f=i.fontSize,d=i.indent,p=i.fontWeight,g=Gt.createElement("div"),_=ll(r)||Lo(r,"pinType")==="fixed",A=e.indexOf("scroller")!==-1,S=_?Bt:r,M=e.indexOf("start")!==-1,k=M?u:c,O="border-color:"+k+";font-size:"+f+";color:"+k+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return O+="position:"+((A||l)&&_?"fixed;":"absolute;"),(A||l||!_)&&(O+=(s===In?Lw:$w)+":"+(o+parseFloat(d))+"px;"),a&&(O+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),g._isStart=M,g.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),g.style.cssText=O,g.innerText=n||n===0?e+"-"+n:e,S.children[0]?S.insertBefore(g,S.children[0]):S.appendChild(g),g._offset=g["offset"+s.op.d2],Kd(g,0,s,M),g},Kd=function(e,n,r,s){var i={display:"block"},o=r[s?"os2":"p2"],a=r[s?"p2":"os2"];e._isFlipped=s,i[r.a+"Percent"]=s?-100:0,i[r.a]=s?"1px":0,i["border"+o+Mu]=1,i["border"+a+Mu]=0,i[r.p]=n+"px",xe.set(e,i)},nt=[],ty={},ef,fI=function(){return er()-vs>34&&(ef||(ef=requestAnimationFrame(Li)))},Ml=function(){(!dr||!dr.isPressed||dr.startX>Bt.clientWidth)&&(it.cache++,dr?ef||(ef=requestAnimationFrame(Li)):Li(),vs||cl("scrollStart"),vs=er())},b_=function(){hx=ct.innerWidth,cx=ct.innerHeight},Fc=function(){it.cache++,!Xn&&!ux&&!Gt.fullscreenElement&&!Gt.webkitFullscreenElement&&(!Jv||hx!==ct.innerWidth||Math.abs(ct.innerHeight-cx)>ct.innerHeight*.25)&&tm.restart(!0)},ul={},hae=[],yx=function t(){return Dn(ut,"scrollEnd",t)||Pa(!0)},cl=function(e){return ul[e]&&ul[e].map(function(n){return n()})||hae},Hr=[],wx=function(e){for(var n=0;n<Hr.length;n+=5)(!e||Hr[n+4]&&Hr[n+4].query===e)&&(Hr[n].style.cssText=Hr[n+1],Hr[n].getBBox&&Hr[n].setAttribute("transform",Hr[n+2]||""),Hr[n+3].uncache=1)},Uw=function(e,n){var r;for(pr=0;pr<nt.length;pr++)r=nt[pr],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));nm=!0,n&&wx(n),n||cl("revert")},bx=function(e,n){it.cache++,(n||!mr)&&it.forEach(function(r){return wr(r)&&r.cacheID++&&(r.rec=0)}),zr(e)&&(ct.history.scrollRestoration=Mw=e)},mr,qa=0,dI,fae=function(){if(dI!==qa){var e=dI=qa;requestAnimationFrame(function(){return e===qa&&Pa(!0)})}},Tx=function(){Bt.appendChild(cu),Nw=!dr&&cu.offsetHeight||ct.innerHeight,Bt.removeChild(cu)},pI=function(e){return Zh(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Pa=function(e,n){if(vs&&!e&&!nm){kn(ut,"scrollEnd",yx);return}Tx(),mr=ut.isRefreshing=!0,it.forEach(function(s){return wr(s)&&++s.cacheID&&(s.rec=s())});var r=cl("refreshInit");lx&&ut.sort(),n||Uw(),it.forEach(function(s){wr(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),nt.slice(0).forEach(function(s){return s.refresh()}),nm=!1,nt.forEach(function(s){if(s._subPinOffset&&s.pin){var i=s.vars.horizontal?"offsetWidth":"offsetHeight",o=s.pin[i];s.revert(!0,1),s.adjustPinSpacing(s.pin[i]-o),s.refresh()}}),ey=1,pI(!0),nt.forEach(function(s){var i=Xs(s.scroller,s._dir),o=s.vars.end==="max"||s._endClamp&&s.end>i,a=s._startClamp&&s.start>=i;(o||a)&&s.setPositions(a?i-1:s.start,o?Math.max(a?i:s.start+1,i):s.end,!0)}),pI(!1),ey=0,r.forEach(function(s){return s&&s.render&&s.render(-1)}),it.forEach(function(s){wr(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),bx(Mw,1),tm.pause(),qa++,mr=2,Li(2),nt.forEach(function(s){return wr(s.vars.onRefresh)&&s.vars.onRefresh(s)}),mr=ut.isRefreshing=!1,cl("refresh")},ny=0,Qd=1,vh,Li=function(e){if(e===2||!mr&&!nm){ut.isUpdating=!0,vh&&vh.update(0);var n=nt.length,r=er(),s=r-y_>=50,i=n&&nt[0].scroll();if(Qd=ny>i?-1:1,mr||(ny=i),s&&(vs&&!ug&&r-vs>200&&(vs=0,cl("scrollEnd")),Nc=y_,y_=r),Qd<0){for(pr=n;pr-- >0;)nt[pr]&&nt[pr].update(0,s);Qd=1}else for(pr=0;pr<n;pr++)nt[pr]&&nt[pr].update(0,s);ut.isUpdating=!1}ef=0},ry=[gx,_x,$w,Lw,os+_h,os+ph,os+gh,os+mh,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Xd=ry.concat([za,Ya,"boxSizing","max"+Mu,"max"+Vw,"position",os,gn,gn+gh,gn+ph,gn+_h,gn+mh]),dae=function(e,n,r){hu(r);var s=e._gsap;if(s.spacerIsNative)hu(s.spacerState);else if(e._gsap.swappedIn){var i=n.parentNode;i&&(i.insertBefore(e,n),i.removeChild(n))}e._gsap.swappedIn=!1},T_=function(e,n,r,s){if(!e._gsap.swappedIn){for(var i=ry.length,o=n.style,a=e.style,l;i--;)l=ry[i],o[l]=r[l];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),a[$w]=a[Lw]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[za]=rm(e,yr)+An,o[Ya]=rm(e,In)+An,o[gn]=a[os]=a[_x]=a[gx]="0",hu(s),a[za]=a["max"+Mu]=r[za],a[Ya]=a["max"+Vw]=r[Ya],a[gn]=r[gn],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},pae=/([A-Z])/g,hu=function(e){if(e){var n=e.t.style,r=e.length,s=0,i,o;for((e.t._gsap||xe.core.getCache(e.t)).uncache=1;s<r;s+=2)o=e[s+1],i=e[s],o?n[i]=o:n[i]&&n.removeProperty(i.replace(pae,"-$1").toLowerCase())}},wd=function(e){for(var n=Xd.length,r=e.style,s=[],i=0;i<n;i++)s.push(Xd[i],r[Xd[i]]);return s.t=e,s},mae=function(e,n,r){for(var s=[],i=e.length,o=r?8:0,a;o<i;o+=2)a=e[o],s.push(a,a in n?n[a]:e[o+1]);return s.t=e.t,s},Jd={left:0,top:0},mI=function(e,n,r,s,i,o,a,l,u,c,f,d,p,g){wr(e)&&(e=e(l)),zr(e)&&e.substr(0,3)==="max"&&(e=d+(e.charAt(4)==="="?Gd("0"+e.substr(3),r):0));var _=p?p.time():0,A,S,M;if(p&&p.seek(0),isNaN(e)||(e=+e),Vc(e))p&&(e=xe.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,d,e)),a&&Kd(a,r,s,!0);else{wr(n)&&(n=n(l));var k=(e||"0").split(" "),O,x,N,T;M=Ar(n,l)||Bt,O=Ai(M)||{},(!O||!O.left&&!O.top)&&as(M).display==="none"&&(T=M.style.display,M.style.display="block",O=Ai(M),T?M.style.display=T:M.style.removeProperty("display")),x=Gd(k[0],O[s.d]),N=Gd(k[1]||"0",r),e=O[s.p]-u[s.p]-c+x+i-N,a&&Kd(a,N,s,r-N<20||a._isStart&&N>20),r-=r-N}if(g&&(l[g]=e||-.001,e<0&&(e=0)),o){var b=e+r,w=o._isStart;A="scroll"+s.d2,Kd(o,b,s,w&&b>20||!w&&(f?Math.max(Bt[A],As[A]):o.parentNode[A])<=b+1),f&&(u=Ai(a),f&&(o.style[s.op.p]=u[s.op.p]-s.op.m-o._offset+An))}return p&&M&&(A=Ai(M),p.seek(d),S=Ai(M),p._caScrollDist=A[s.p]-S[s.p],e=e/p._caScrollDist*d),p&&p.seek(_),p?e:Math.round(e)},gae=/(webkit|moz|length|cssText|inset)/i,gI=function(e,n,r,s){if(e.parentNode!==n){var i=e.style,o,a;if(n===Bt){e._stOrig=i.cssText,a=as(e);for(o in a)!+o&&!gae.test(o)&&a[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=a[o]);i.top=r,i.left=s}else i.cssText=e._stOrig;xe.core.getCache(e).uncache=1,n.appendChild(e)}},Ex=function(e,n,r){var s=n,i=s;return function(o){var a=Math.round(e());return a!==s&&a!==i&&Math.abs(a-s)>3&&Math.abs(a-i)>3&&(o=a,r&&r()),i=s,s=o,o}},bd=function(e,n,r){var s={};s[n.p]="+="+r,xe.set(e,s)},_I=function(e,n){var r=Go(e,n),s="_scroll"+n.p2,i=function o(a,l,u,c,f){var d=o.tween,p=l.onComplete,g={};u=u||r();var _=Ex(r,u,function(){d.kill(),o.tween=0});return f=c&&f||0,c=c||a-u,d&&d.kill(),l[s]=a,l.inherit=!1,l.modifiers=g,g[s]=function(){return _(u+c*d.ratio+f*d.ratio*d.ratio)},l.onUpdate=function(){it.cache++,o.tween&&Li()},l.onComplete=function(){o.tween=0,p&&p.call(d)},d=o.tween=xe.to(e,l),d};return e[s]=r,r.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},kn(e,"wheel",r.wheelHandler),ut.isTouch&&kn(e,"touchmove",r.wheelHandler),i},ut=function(){function t(n,r){Bl||t.register(xe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Zv(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Lc){this.update=this.refresh=this.kill=js;return}r=cI(zr(r)||Vc(r)||r.nodeType?{trigger:r}:r,vd);var i=r,o=i.onUpdate,a=i.toggleClass,l=i.id,u=i.onToggle,c=i.onRefresh,f=i.scrub,d=i.trigger,p=i.pin,g=i.pinSpacing,_=i.invalidateOnRefresh,A=i.anticipatePin,S=i.onScrubComplete,M=i.onSnapComplete,k=i.once,O=i.snap,x=i.pinReparent,N=i.pinSpacer,T=i.containerAnimation,b=i.fastScrollEnd,w=i.preventOverlaps,I=r.horizontal||r.containerAnimation&&r.horizontal!==!1?yr:In,P=!f&&f!==0,y=Ar(r.scroller||ct),E=xe.core.getCache(y),B=ll(y),U=("pinType"in r?r.pinType:Lo(y,"pinType")||B&&"fixed")==="fixed",F=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],j=P&&r.toggleActions.split(" "),H="markers"in r?r.markers:vd.markers,ee=B?0:parseFloat(as(y)["border"+I.p2+Mu])||0,R=this,ce=r.onRefreshInit&&function(){return r.onRefreshInit(R)},te=oae(y,B,I),ve=aae(y,B),ge=0,De=0,Oe=0,z=Go(y,I),le,W,ne,me,Ce,D,L,Y,X,$,he,de,ue,ae,se,_e,Re,we,Ie,Te,Ye,ze,st,qt,tt,lr,on,Rn,Ct,re,V,G,be,Le,et,wt,Et,Yn,an;if(R._startClamp=R._endClamp=!1,R._dir=I,A*=45,R.scroller=y,R.scroll=T?T.time.bind(T):z,me=z(),R.vars=r,s=s||r.animation,"refreshPriority"in r&&(lx=1,r.refreshPriority===-9999&&(vh=R)),E.tweenScroll=E.tweenScroll||{top:_I(y,In),left:_I(y,yr)},R.tweenTo=le=E.tweenScroll[I.p],R.scrubDuration=function(Ee){be=Vc(Ee)&&Ee,be?G?G.duration(Ee):G=xe.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:be,paused:!0,onComplete:function(){return S&&S(R)}}):(G&&G.progress(1).kill(),G=0)},s&&(s.vars.lazy=!1,s._initted&&!R.isReverted||s.vars.immediateRender!==!1&&r.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),R.animation=s.pause(),s.scrollTrigger=R,R.scrubDuration(f),re=0,l||(l=s.vars.id)),O&&((!ya(O)||O.push)&&(O={snapTo:O}),"scrollBehavior"in Bt.style&&xe.set(B?[Bt,As]:y,{scrollBehavior:"auto"}),it.forEach(function(Ee){return wr(Ee)&&Ee.target===(B?Gt.scrollingElement||As:y)&&(Ee.smooth=!1)}),ne=wr(O.snapTo)?O.snapTo:O.snapTo==="labels"?uae(s):O.snapTo==="labelsDirectional"?cae(s):O.directional!==!1?function(Ee,je){return Fw(O.snapTo)(Ee,er()-De<500?0:je.direction)}:xe.utils.snap(O.snapTo),Le=O.duration||{min:.1,max:2},Le=ya(Le)?dh(Le.min,Le.max):dh(Le,Le),et=xe.delayedCall(O.delay||be/2||.1,function(){var Ee=z(),je=er()-De<500,$e=le.tween;if((je||Math.abs(R.getVelocity())<10)&&!$e&&!ug&&ge!==Ee){var Ge=(Ee-D)/ae,pn=s&&!P?s.totalProgress():Ge,Je=je?0:(pn-V)/(er()-Nc)*1e3||0,Wt=xe.utils.clamp(-Ge,1-Ge,xl(Je/2)*Je/.185),Cn=Ge+(O.inertia===!1?0:Wt),Dt,kt,bt=O,qn=bt.onStart,vt=bt.onInterrupt,Wn=bt.onComplete;if(Dt=ne(Cn,R),Vc(Dt)||(Dt=Cn),kt=Math.round(D+Dt*ae),Ee<=L&&Ee>=D&&kt!==Ee){if($e&&!$e._initted&&$e.data<=xl(kt-Ee))return;O.inertia===!1&&(Wt=Dt-Ge),le(kt,{duration:Le(xl(Math.max(xl(Cn-pn),xl(Dt-pn))*.185/Je/.05||0)),ease:O.ease||"power3",data:xl(kt-Ee),onInterrupt:function(){return et.restart(!0)&&vt&&vt(R)},onComplete:function(){R.update(),ge=z(),s&&(G?G.resetTo("totalProgress",Dt,s._tTime/s._tDur):s.progress(Dt)),re=V=s&&!P?s.totalProgress():R.progress,M&&M(R),Wn&&Wn(R)}},Ee,Wt*ae,kt-Ee-Wt*ae),qn&&qn(R,le.tween)}}else R.isActive&&ge!==Ee&&et.restart(!0)}).pause()),l&&(ty[l]=R),d=R.trigger=Ar(d||p!==!0&&p),an=d&&d._gsap&&d._gsap.stRevert,an&&(an=an(R)),p=p===!0?d:Ar(p),zr(a)&&(a={targets:d,className:a}),p&&(g===!1||g===os||(g=!g&&p.parentNode&&p.parentNode.style&&as(p.parentNode).display==="flex"?!1:gn),R.pin=p,W=xe.core.getCache(p),W.spacer?se=W.pinState:(N&&(N=Ar(N),N&&!N.nodeType&&(N=N.current||N.nativeElement),W.spacerIsNative=!!N,N&&(W.spacerState=wd(N))),W.spacer=we=N||Gt.createElement("div"),we.classList.add("pin-spacer"),l&&we.classList.add("pin-spacer-"+l),W.pinState=se=wd(p)),r.force3D!==!1&&xe.set(p,{force3D:!0}),R.spacer=we=W.spacer,Ct=as(p),qt=Ct[g+I.os2],Te=xe.getProperty(p),Ye=xe.quickSetter(p,I.a,An),T_(p,we,Ct),Re=wd(p)),H){de=ya(H)?cI(H,hI):hI,$=yd("scroller-start",l,y,I,de,0),he=yd("scroller-end",l,y,I,de,0,$),Ie=$["offset"+I.op.d2];var es=Ar(Lo(y,"content")||y);Y=this.markerStart=yd("start",l,es,I,de,Ie,0,T),X=this.markerEnd=yd("end",l,es,I,de,Ie,0,T),T&&(Yn=xe.quickSetter([Y,X],I.a,An)),!U&&!(oi.length&&Lo(y,"fixedMarkers")===!0)&&(lae(B?Bt:y),xe.set([$,he],{force3D:!0}),lr=xe.quickSetter($,I.a,An),Rn=xe.quickSetter(he,I.a,An))}if(T){var Me=T.vars.onUpdate,Fe=T.vars.onUpdateParams;T.eventCallback("onUpdate",function(){R.update(0,0,1),Me&&Me.apply(T,Fe||[])})}if(R.previous=function(){return nt[nt.indexOf(R)-1]},R.next=function(){return nt[nt.indexOf(R)+1]},R.revert=function(Ee,je){if(!je)return R.kill(!0);var $e=Ee!==!1||!R.enabled,Ge=Xn;$e!==R.isReverted&&($e&&(wt=Math.max(z(),R.scroll.rec||0),Oe=R.progress,Et=s&&s.progress()),Y&&[Y,X,$,he].forEach(function(pn){return pn.style.display=$e?"none":"block"}),$e&&(Xn=R,R.update($e)),p&&(!x||!R.isActive)&&($e?dae(p,we,se):T_(p,we,as(p),tt)),$e||R.update($e),Xn=Ge,R.isReverted=$e)},R.refresh=function(Ee,je,$e,Ge){if(!((Xn||!R.enabled)&&!je)){if(p&&Ee&&vs){kn(t,"scrollEnd",yx);return}!mr&&ce&&ce(R),Xn=R,le.tween&&!$e&&(le.tween.kill(),le.tween=0),G&&G.pause(),_&&s&&s.revert({kill:!1}).invalidate(),R.isReverted||R.revert(!0,!0),R._subPinOffset=!1;var pn=te(),Je=ve(),Wt=T?T.duration():Xs(y,I),Cn=ae<=.01,Dt=0,kt=Ge||0,bt=ya($e)?$e.end:r.end,qn=r.endTrigger||d,vt=ya($e)?$e.start:r.start||(r.start===0||!d?0:p?"0 0":"0 100%"),Wn=R.pinnedContainer=r.pinnedContainer&&Ar(r.pinnedContainer,R),Fr=d&&Math.max(0,nt.indexOf(R))||0,ln=Fr,un,En,Vs,Al,cn,en,Tr,mi,Fs,gi,ts,Qi,sa;for(H&&ya($e)&&(Qi=xe.getProperty($,I.p),sa=xe.getProperty(he,I.p));ln--;)en=nt[ln],en.end||en.refresh(0,1)||(Xn=R),Tr=en.pin,Tr&&(Tr===d||Tr===p||Tr===Wn)&&!en.isReverted&&(gi||(gi=[]),gi.unshift(en),en.revert(!0,!0)),en!==nt[ln]&&(Fr--,ln--);for(wr(vt)&&(vt=vt(R)),vt=oI(vt,"start",R),D=mI(vt,d,pn,I,z(),Y,$,R,Je,ee,U,Wt,T,R._startClamp&&"_startClamp")||(p?-.001:0),wr(bt)&&(bt=bt(R)),zr(bt)&&!bt.indexOf("+=")&&(~bt.indexOf(" ")?bt=(zr(vt)?vt.split(" ")[0]:"")+bt:(Dt=Gd(bt.substr(2),pn),bt=zr(vt)?vt:(T?xe.utils.mapRange(0,T.duration(),T.scrollTrigger.start,T.scrollTrigger.end,D):D)+Dt,qn=d)),bt=oI(bt,"end",R),L=Math.max(D,mI(bt||(qn?"100% 0":Wt),qn,pn,I,z()+Dt,X,he,R,Je,ee,U,Wt,T,R._endClamp&&"_endClamp"))||-.001,Dt=0,ln=Fr;ln--;)en=nt[ln],Tr=en.pin,Tr&&en.start-en._pinPush<=D&&!T&&en.end>0&&(un=en.end-(R._startClamp?Math.max(0,en.start):en.start),(Tr===d&&en.start-en._pinPush<D||Tr===Wn)&&isNaN(vt)&&(Dt+=un*(1-en.progress)),Tr===p&&(kt+=un));if(D+=Dt,L+=Dt,R._startClamp&&(R._startClamp+=Dt),R._endClamp&&!mr&&(R._endClamp=L||-.001,L=Math.min(L,Xs(y,I))),ae=L-D||(D-=.01)&&.001,Cn&&(Oe=xe.utils.clamp(0,1,xe.utils.normalize(D,L,wt))),R._pinPush=kt,Y&&Dt&&(un={},un[I.a]="+="+Dt,Wn&&(un[I.p]="-="+z()),xe.set([Y,X],un)),p&&!(ey&&R.end>=Xs(y,I)))un=as(p),Al=I===In,Vs=z(),ze=parseFloat(Te(I.a))+kt,!Wt&&L>1&&(ts=(B?Gt.scrollingElement||As:y).style,ts={style:ts,value:ts["overflow"+I.a.toUpperCase()]},B&&as(Bt)["overflow"+I.a.toUpperCase()]!=="scroll"&&(ts.style["overflow"+I.a.toUpperCase()]="scroll")),T_(p,we,un),Re=wd(p),En=Ai(p,!0),mi=U&&Go(y,Al?yr:In)(),g?(tt=[g+I.os2,ae+kt+An],tt.t=we,ln=g===gn?rm(p,I)+ae+kt:0,ln&&(tt.push(I.d,ln+An),we.style.flexBasis!=="auto"&&(we.style.flexBasis=ln+An)),hu(tt),Wn&&nt.forEach(function(Xi){Xi.pin===Wn&&Xi.vars.pinSpacing!==!1&&(Xi._subPinOffset=!0)}),U&&z(wt)):(ln=rm(p,I),ln&&we.style.flexBasis!=="auto"&&(we.style.flexBasis=ln+An)),U&&(cn={top:En.top+(Al?Vs-D:mi)+An,left:En.left+(Al?mi:Vs-D)+An,boxSizing:"border-box",position:"fixed"},cn[za]=cn["max"+Mu]=Math.ceil(En.width)+An,cn[Ya]=cn["max"+Vw]=Math.ceil(En.height)+An,cn[os]=cn[os+gh]=cn[os+ph]=cn[os+_h]=cn[os+mh]="0",cn[gn]=un[gn],cn[gn+gh]=un[gn+gh],cn[gn+ph]=un[gn+ph],cn[gn+_h]=un[gn+_h],cn[gn+mh]=un[gn+mh],_e=mae(se,cn,x),mr&&z(0)),s?(Fs=s._initted,__(1),s.render(s.duration(),!0,!0),st=Te(I.a)-ze+ae+kt,on=Math.abs(ae-st)>1,U&&on&&_e.splice(_e.length-2,2),s.render(0,!0,!0),Fs||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),__(0)):st=ae,ts&&(ts.value?ts.style["overflow"+I.a.toUpperCase()]=ts.value:ts.style.removeProperty("overflow-"+I.a));else if(d&&z()&&!T)for(En=d.parentNode;En&&En!==Bt;)En._pinOffset&&(D-=En._pinOffset,L-=En._pinOffset),En=En.parentNode;gi&&gi.forEach(function(Xi){return Xi.revert(!1,!0)}),R.start=D,R.end=L,me=Ce=mr?wt:z(),!T&&!mr&&(me<wt&&z(wt),R.scroll.rec=0),R.revert(!1,!0),De=er(),et&&(ge=-1,et.restart(!0)),Xn=0,s&&P&&(s._initted||Et)&&s.progress()!==Et&&s.progress(Et||0,!0).render(s.time(),!0,!0),(Cn||Oe!==R.progress||T||_)&&(s&&!P&&s.totalProgress(T&&D<-.001&&!Oe?xe.utils.normalize(D,L,0):Oe,!0),R.progress=Cn||(me-D)/ae===Oe?0:Oe),p&&g&&(we._pinOffset=Math.round(R.progress*st)),G&&G.invalidate(),isNaN(Qi)||(Qi-=xe.getProperty($,I.p),sa-=xe.getProperty(he,I.p),bd($,I,Qi),bd(Y,I,Qi-(Ge||0)),bd(he,I,sa),bd(X,I,sa-(Ge||0))),Cn&&!mr&&R.update(),c&&!mr&&!ue&&(ue=!0,c(R),ue=!1)}},R.getVelocity=function(){return(z()-Ce)/(er()-Nc)*1e3||0},R.endAnimation=function(){bc(R.callbackAnimation),s&&(G?G.progress(1):s.paused()?P||bc(s,R.direction<0,1):bc(s,s.reversed()))},R.labelToScroll=function(Ee){return s&&s.labels&&(D||R.refresh()||D)+s.labels[Ee]/s.duration()*ae||0},R.getTrailing=function(Ee){var je=nt.indexOf(R),$e=R.direction>0?nt.slice(0,je).reverse():nt.slice(je+1);return(zr(Ee)?$e.filter(function(Ge){return Ge.vars.preventOverlaps===Ee}):$e).filter(function(Ge){return R.direction>0?Ge.end<=D:Ge.start>=L})},R.update=function(Ee,je,$e){if(!(T&&!$e&&!Ee)){var Ge=mr===!0?wt:R.scroll(),pn=Ee?0:(Ge-D)/ae,Je=pn<0?0:pn>1?1:pn||0,Wt=R.progress,Cn,Dt,kt,bt,qn,vt,Wn,Fr;if(je&&(Ce=me,me=T?z():Ge,O&&(V=re,re=s&&!P?s.totalProgress():Je)),A&&p&&!Xn&&!pd&&vs&&(!Je&&D<Ge+(Ge-Ce)/(er()-Nc)*A?Je=1e-4:Je===1&&L>Ge+(Ge-Ce)/(er()-Nc)*A&&(Je=.9999)),Je!==Wt&&R.enabled){if(Cn=R.isActive=!!Je&&Je<1,Dt=!!Wt&&Wt<1,vt=Cn!==Dt,qn=vt||!!Je!=!!Wt,R.direction=Je>Wt?1:-1,R.progress=Je,qn&&!Xn&&(kt=Je&&!Wt?0:Je===1?1:Wt===1?2:3,P&&(bt=!vt&&j[kt+1]!=="none"&&j[kt+1]||j[kt],Fr=s&&(bt==="complete"||bt==="reset"||bt in s))),w&&(vt||Fr)&&(Fr||f||!s)&&(wr(w)?w(R):R.getTrailing(w).forEach(function(Vs){return Vs.endAnimation()})),P||(G&&!Xn&&!pd?(G._dp._time-G._start!==G._time&&G.render(G._dp._time-G._start),G.resetTo?G.resetTo("totalProgress",Je,s._tTime/s._tDur):(G.vars.totalProgress=Je,G.invalidate().restart())):s&&s.totalProgress(Je,!!(Xn&&(De||Ee)))),p){if(Ee&&g&&(we.style[g+I.os2]=qt),!U)Ye($c(ze+st*Je));else if(qn){if(Wn=!Ee&&Je>Wt&&L+1>Ge&&Ge+1>=Xs(y,I),x)if(!Ee&&(Cn||Wn)){var ln=Ai(p,!0),un=Ge-D;gI(p,Bt,ln.top+(I===In?un:0)+An,ln.left+(I===In?0:un)+An)}else gI(p,we);hu(Cn||Wn?_e:Re),on&&Je<1&&Cn||Ye(ze+(Je===1&&!Wn?st:0))}}O&&!le.tween&&!Xn&&!pd&&et.restart(!0),a&&(vt||k&&Je&&(Je<1||!v_))&&Zh(a.targets).forEach(function(Vs){return Vs.classList[Cn||k?"add":"remove"](a.className)}),o&&!P&&!Ee&&o(R),qn&&!Xn?(P&&(Fr&&(bt==="complete"?s.pause().totalProgress(1):bt==="reset"?s.restart(!0).pause():bt==="restart"?s.restart(!0):s[bt]()),o&&o(R)),(vt||!v_)&&(u&&vt&&w_(R,u),F[kt]&&w_(R,F[kt]),k&&(Je===1?R.kill(!1,1):F[kt]=0),vt||(kt=Je===1?1:3,F[kt]&&w_(R,F[kt]))),b&&!Cn&&Math.abs(R.getVelocity())>(Vc(b)?b:2500)&&(bc(R.callbackAnimation),G?G.progress(1):bc(s,bt==="reverse"?1:!Je,1))):P&&o&&!Xn&&o(R)}if(Rn){var En=T?Ge/T.duration()*(T._caScrollDist||0):Ge;lr(En+($._isFlipped?1:0)),Rn(En)}Yn&&Yn(-Ge/T.duration()*(T._caScrollDist||0))}},R.enable=function(Ee,je){R.enabled||(R.enabled=!0,kn(y,"resize",Fc),B||kn(y,"scroll",Ml),ce&&kn(t,"refreshInit",ce),Ee!==!1&&(R.progress=Oe=0,me=Ce=ge=z()),je!==!1&&R.refresh())},R.getTween=function(Ee){return Ee&&le?le.tween:G},R.setPositions=function(Ee,je,$e,Ge){if(T){var pn=T.scrollTrigger,Je=T.duration(),Wt=pn.end-pn.start;Ee=pn.start+Wt*Ee/Je,je=pn.start+Wt*je/Je}R.refresh(!1,!1,{start:aI(Ee,$e&&!!R._startClamp),end:aI(je,$e&&!!R._endClamp)},Ge),R.update()},R.adjustPinSpacing=function(Ee){if(tt&&Ee){var je=tt.indexOf(I.d)+1;tt[je]=parseFloat(tt[je])+Ee+An,tt[1]=parseFloat(tt[1])+Ee+An,hu(tt)}},R.disable=function(Ee,je){if(R.enabled&&(Ee!==!1&&R.revert(!0,!0),R.enabled=R.isActive=!1,je||G&&G.pause(),wt=0,W&&(W.uncache=1),ce&&Dn(t,"refreshInit",ce),et&&(et.pause(),le.tween&&le.tween.kill()&&(le.tween=0)),!B)){for(var $e=nt.length;$e--;)if(nt[$e].scroller===y&&nt[$e]!==R)return;Dn(y,"resize",Fc),B||Dn(y,"scroll",Ml)}},R.kill=function(Ee,je){R.disable(Ee,je),G&&!je&&G.kill(),l&&delete ty[l];var $e=nt.indexOf(R);$e>=0&&nt.splice($e,1),$e===pr&&Qd>0&&pr--,$e=0,nt.forEach(function(Ge){return Ge.scroller===R.scroller&&($e=1)}),$e||mr||(R.scroll.rec=0),s&&(s.scrollTrigger=null,Ee&&s.revert({kill:!1}),je||s.kill()),Y&&[Y,X,$,he].forEach(function(Ge){return Ge.parentNode&&Ge.parentNode.removeChild(Ge)}),vh===R&&(vh=0),p&&(W&&(W.uncache=1),$e=0,nt.forEach(function(Ge){return Ge.pin===p&&$e++}),$e||(W.spacer=0)),r.onKill&&r.onKill(R)},nt.push(R),R.enable(!1,!1),an&&an(R),s&&s.add&&!ae){var He=R.update;R.update=function(){R.update=He,D||L||R.refresh()},xe.delayedCall(.01,R.update),ae=.01,D=L=0}else R.refresh();p&&fae()},t.register=function(r){return Bl||(xe=r||dx(),fx()&&window.document&&t.enable(),Bl=Lc),Bl},t.defaults=function(r){if(r)for(var s in r)vd[s]=r[s];return vd},t.disable=function(r,s){Lc=0,nt.forEach(function(o){return o[s?"kill":"disable"](r)}),Dn(ct,"wheel",Ml),Dn(Gt,"scroll",Ml),clearInterval(dd),Dn(Gt,"touchcancel",js),Dn(Bt,"touchstart",js),gd(Dn,Gt,"pointerdown,touchstart,mousedown",lI),gd(Dn,Gt,"pointerup,touchend,mouseup",uI),tm.kill(),md(Dn);for(var i=0;i<it.length;i+=3)_d(Dn,it[i],it[i+1]),_d(Dn,it[i],it[i+2])},t.enable=function(){if(ct=window,Gt=document,As=Gt.documentElement,Bt=Gt.body,xe&&(Zh=xe.utils.toArray,dh=xe.utils.clamp,Zv=xe.core.context||js,__=xe.core.suppressOverwrites||js,Mw=ct.history.scrollRestoration||"auto",ny=ct.pageYOffset,xe.core.globals("ScrollTrigger",t),Bt)){Lc=1,cu=document.createElement("div"),cu.style.height="100vh",cu.style.position="absolute",Tx(),iae(),fn.register(xe),t.isTouch=fn.isTouch,lo=fn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Jv=fn.isTouch===1,kn(ct,"wheel",Ml),ax=[ct,Gt,As,Bt],xe.matchMedia?(t.matchMedia=function(l){var u=xe.matchMedia(),c;for(c in l)u.add(c,l[c]);return u},xe.addEventListener("matchMediaInit",function(){return Uw()}),xe.addEventListener("matchMediaRevert",function(){return wx()}),xe.addEventListener("matchMedia",function(){Pa(0,1),cl("matchMedia")}),xe.matchMedia("(orientation: portrait)",function(){return b_(),b_})):console.warn("Requires GSAP 3.11.0 or later"),b_(),kn(Gt,"scroll",Ml);var r=Bt.style,s=r.borderTopStyle,i=xe.core.Animation.prototype,o,a;for(i.revert||Object.defineProperty(i,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",o=Ai(Bt),In.m=Math.round(o.top+In.sc())||0,yr.m=Math.round(o.left+yr.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),dd=setInterval(fI,250),xe.delayedCall(.5,function(){return pd=0}),kn(Gt,"touchcancel",js),kn(Bt,"touchstart",js),gd(kn,Gt,"pointerdown,touchstart,mousedown",lI),gd(kn,Gt,"pointerup,touchend,mouseup",uI),Xv=xe.utils.checkPrefix("transform"),Xd.push(Xv),Bl=er(),tm=xe.delayedCall(.2,Pa).pause(),jl=[Gt,"visibilitychange",function(){var l=ct.innerWidth,u=ct.innerHeight;Gt.hidden?(sI=l,iI=u):(sI!==l||iI!==u)&&Fc()},Gt,"DOMContentLoaded",Pa,ct,"load",Pa,ct,"resize",Fc],md(kn),nt.forEach(function(l){return l.enable(0,1)}),a=0;a<it.length;a+=3)_d(Dn,it[a],it[a+1]),_d(Dn,it[a],it[a+2])}},t.config=function(r){"limitCallbacks"in r&&(v_=!!r.limitCallbacks);var s=r.syncInterval;s&&clearInterval(dd)||(dd=s)&&setInterval(fI,s),"ignoreMobileResize"in r&&(Jv=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(md(Dn)||md(kn,r.autoRefreshEvents||"none"),ux=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,s){var i=Ar(r),o=it.indexOf(i),a=ll(i);~o&&it.splice(o,a?6:2),s&&(a?oi.unshift(ct,s,Bt,s,As,s):oi.unshift(i,s))},t.clearMatchMedia=function(r){nt.forEach(function(s){return s._ctx&&s._ctx.query===r&&s._ctx.kill(!0,!0)})},t.isInViewport=function(r,s,i){var o=(zr(r)?Ar(r):r).getBoundingClientRect(),a=o[i?za:Ya]*s||0;return i?o.right-a>0&&o.left+a<ct.innerWidth:o.bottom-a>0&&o.top+a<ct.innerHeight},t.positionInViewport=function(r,s,i){zr(r)&&(r=Ar(r));var o=r.getBoundingClientRect(),a=o[i?za:Ya],l=s==null?a/2:s in sm?sm[s]*a:~s.indexOf("%")?parseFloat(s)*a/100:parseFloat(s)||0;return i?(o.left+l)/ct.innerWidth:(o.top+l)/ct.innerHeight},t.killAll=function(r){if(nt.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),r!==!0){var s=ul.killAll||[];ul={},s.forEach(function(i){return i()})}},t}();ut.version="3.12.5";ut.saveStyles=function(t){return t?Zh(t).forEach(function(e){if(e&&e.style){var n=Hr.indexOf(e);n>=0&&Hr.splice(n,5),Hr.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),xe.core.getCache(e),Zv())}}):Hr};ut.revert=function(t,e){return Uw(!t,e)};ut.create=function(t,e){return new ut(t,e)};ut.refresh=function(t){return t?Fc():(Bl||ut.register())&&Pa(!0)};ut.update=function(t){return++it.cache&&Li(t===!0?2:0)};ut.clearScrollMemory=bx;ut.maxScroll=function(t,e){return Xs(t,e?yr:In)};ut.getScrollFunc=function(t,e){return Go(Ar(t),e?yr:In)};ut.getById=function(t){return ty[t]};ut.getAll=function(){return nt.filter(function(t){return t.vars.id!=="ScrollSmoother"})};ut.isScrolling=function(){return!!vs};ut.snapDirectional=Fw;ut.addEventListener=function(t,e){var n=ul[t]||(ul[t]=[]);~n.indexOf(e)||n.push(e)};ut.removeEventListener=function(t,e){var n=ul[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};ut.batch=function(t,e){var n=[],r={},s=e.interval||.016,i=e.batchMax||1e9,o=function(u,c){var f=[],d=[],p=xe.delayedCall(s,function(){c(f,d),f=[],d=[]}).pause();return function(g){f.length||p.restart(!0),f.push(g.trigger),d.push(g),i<=f.length&&p.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&wr(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return wr(i)&&(i=i(),kn(ut,"refresh",function(){return i=e.batchMax()})),Zh(t).forEach(function(l){var u={};for(a in r)u[a]=r[a];u.trigger=l,n.push(ut.create(u))}),n};var vI=function(e,n,r,s){return n>s?e(s):n<0&&e(0),r>s?(s-n)/(r-n):r<0?n/(n-r):1},E_=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(fn.isTouch?" pinch-zoom":""):"none",e===As&&t(Bt,n)},Td={auto:1,scroll:1},_ae=function(e){var n=e.event,r=e.target,s=e.axis,i=(n.changedTouches?n.changedTouches[0]:n).target,o=i._gsap||xe.core.getCache(i),a=er(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;i&&i!==Bt&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(Td[(l=as(i)).overflowY]||Td[l.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==r&&!ll(i)&&(Td[(l=as(i)).overflowY]||Td[l.overflowX]),o._isScrollT=a}(o._isScroll||s==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},Ax=function(e,n,r,s){return fn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:s=s&&_ae,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return r&&kn(Gt,fn.eventTypes[0],wI,!1,!0)},onDisable:function(){return Dn(Gt,fn.eventTypes[0],wI,!0)}})},vae=/(input|label|select|textarea)/i,yI,wI=function(e){var n=vae.test(e.target.tagName);(n||yI)&&(e._gsapAllow=!0,yI=n)},yae=function(e){ya(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,s=n.momentum,i=n.allowNestedScroll,o=n.onRelease,a,l,u=Ar(e.target)||As,c=xe.core.globals().ScrollSmoother,f=c&&c.get(),d=lo&&(e.content&&Ar(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),p=Go(u,In),g=Go(u,yr),_=1,A=(fn.isTouch&&ct.visualViewport?ct.visualViewport.scale*ct.visualViewport.width:ct.outerWidth)/ct.innerWidth,S=0,M=wr(s)?function(){return s(a)}:function(){return s||2.8},k,O,x=Ax(u,e.type,!0,i),N=function(){return O=!1},T=js,b=js,w=function(){l=Xs(u,In),b=dh(lo?1:0,l),r&&(T=dh(0,Xs(u,yr))),k=qa},I=function(){d._gsap.y=$c(parseFloat(d._gsap.y)+p.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},P=function(){if(O){requestAnimationFrame(N);var H=$c(a.deltaY/2),ee=b(p.v-H);if(d&&ee!==p.v+p.offset){p.offset=ee-p.v;var R=$c((parseFloat(d&&d._gsap.y)||0)-p.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+R+", 0, 1)",d._gsap.y=R+"px",p.cacheID=it.cache,Li()}return!0}p.offset&&I(),O=!0},y,E,B,U,F=function(){w(),y.isActive()&&y.vars.scrollY>l&&(p()>l?y.progress(1)&&p(l):y.resetTo("scrollY",l))};return d&&xe.set(d,{y:"+=0"}),e.ignoreCheck=function(j){return lo&&j.type==="touchmove"&&P()||_>1.05&&j.type!=="touchstart"||a.isGesturing||j.touches&&j.touches.length>1},e.onPress=function(){O=!1;var j=_;_=$c((ct.visualViewport&&ct.visualViewport.scale||1)/A),y.pause(),j!==_&&E_(u,_>1.01?!0:r?!1:"x"),E=g(),B=p(),w(),k=qa},e.onRelease=e.onGestureStart=function(j,H){if(p.offset&&I(),!H)U.restart(!0);else{it.cache++;var ee=M(),R,ce;r&&(R=g(),ce=R+ee*.05*-j.velocityX/.227,ee*=vI(g,R,ce,Xs(u,yr)),y.vars.scrollX=T(ce)),R=p(),ce=R+ee*.05*-j.velocityY/.227,ee*=vI(p,R,ce,Xs(u,In)),y.vars.scrollY=b(ce),y.invalidate().duration(ee).play(.01),(lo&&y.vars.scrollY>=l||R>=l-1)&&xe.to({},{onUpdate:F,duration:ee})}o&&o(j)},e.onWheel=function(){y._ts&&y.pause(),er()-S>1e3&&(k=0,S=er())},e.onChange=function(j,H,ee,R,ce){if(qa!==k&&w(),H&&r&&g(T(R[2]===H?E+(j.startX-j.x):g()+H-R[1])),ee){p.offset&&I();var te=ce[2]===ee,ve=te?B+j.startY-j.y:p()+ee-ce[1],ge=b(ve);te&&ve!==ge&&(B+=ge-ve),p(ge)}(ee||H)&&Li()},e.onEnable=function(){E_(u,r?!1:"x"),ut.addEventListener("refresh",F),kn(ct,"resize",F),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=g.smooth=!1),x.enable()},e.onDisable=function(){E_(u,!0),Dn(ct,"resize",F),ut.removeEventListener("refresh",F),x.kill()},e.lockAxis=e.lockAxis!==!1,a=new fn(e),a.iOS=lo,lo&&!p()&&p(1),lo&&xe.ticker.add(js),U=a._dc,y=xe.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Ex(p,p(),function(){return y.pause()})},onUpdate:Li,onComplete:U.vars.onComplete}),a};ut.sort=function(t){return nt.sort(t||function(e,n){return(e.vars.refreshPriority||0)*-1e6+e.start-(n.start+(n.vars.refreshPriority||0)*-1e6)})};ut.observe=function(t){return new fn(t)};ut.normalizeScroll=function(t){if(typeof t>"u")return dr;if(t===!0&&dr)return dr.enable();if(t===!1){dr&&dr.kill(),dr=t;return}var e=t instanceof fn?t:yae(t);return dr&&dr.target===e.target&&dr.kill(),ll(e.target)&&(dr=e),e};ut.core={_getVelocityProp:Qv,_inputObserver:Ax,_scrollers:it,_proxies:oi,bridge:{ss:function(){vs||cl("scrollStart"),vs=er()},ref:function(){return Xn}}};dx()&&xe.registerPlugin(ut);const wae={class:"text-body-s flex-center container min-h-[80px]",id:"footer-text"},bae={__name:"footer",setup(t){Zp.registerPlugin(ut);const e=()=>{Zp.fromTo("#footer-text",{opacity:0,y:100},{duration:.5,opacity:1,delay:.2,y:0,scrollTrigger:"#footer-text"})};return Vr(async()=>{e()}),(n,r)=>(oe(),Se("div",wae," Copyright © 2024 Ning. All rights reserved. "))}},Tae={class:"flex h-dvh flex-col"},Eae={class:"grow"},Aae={__name:"App",setup(t){const e=hY();iY();const n=oY(),r=Xm(),s=ke(null),i=Q(async()=>{if(r.user)return s.value=r.user.email,e.setFilterLists(),n.path;try{s.value=await TD(),e.setFilterLists()}catch(o){s.value=o}return n.path});return(o,a)=>(oe(),Se("div",Tae,[i.value!=="/login"&&i.value!=="/register"&&s.value?(oe(),ot(tae,{key:0})):rt("",!0),pe("div",Eae,[ye(K(bD))]),Sr(ye(bae,null,null,512),[[Is,i.value!=="/login"&&i.value!=="/register"&&s.value]]),ye(K(j4))]))}},kf=TB(Aae),Iae=SB(),Sae=F4();kf.use(Iae);kf.use(_l);kf.use(Sae);kf.use(cj);kf.mount("#app");export{xae as $,br as A,$n as B,iY as C,is as D,UF as E,ft as F,Sr as G,vE as H,kae as I,Is as J,$ae as K,wn as L,Xg as M,mY as N,Nae as O,pf as P,mf as Q,b0 as R,ut as S,fY as T,Lae as U,fR as V,LR as W,rE as X,Br as Y,oY as Z,If as _,oe as a,$a as a0,Yp as a1,oie as a2,a6 as a3,die as a4,IY as a5,w1 as a6,UY as a7,cY as a8,uY as a9,F0 as aa,Mae as ab,Fae as ac,Vae as ad,r6 as ae,Uae as af,pe as b,Se as c,Nn as d,ti as e,zt as f,Zp as g,Na as h,Q as i,ot as j,gt as k,rn as l,Da as m,Pt as n,Vr as o,Oh as p,qc as q,ke as r,TF as s,It as t,Oae as u,hY as v,at as w,ye as x,K as y,rt as z};
