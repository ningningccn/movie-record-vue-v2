import{r as _,o as G,a as c,c as r,b as e,F as h,d as y,n as k,t as S,e as I,f as Q,g as D,h as z,s as U,w as N,i as B,j as $,k as Y,l as J,m as X,p as Z,q as p,u as L,v as M,x as ee,y as te,z as se,A as le}from"./index-QUUsIbzO.js";const ae={class:"border-b border-enable"},ne={class:"container"},oe={class:"flex items-center justify-center pt-6"},ie={class:"relative"},ce=["onClick"],ue={__name:"category",emits:["selected"],setup(a,{emit:t}){const s=t,i=_(0),l=_(0),n=_(""),o=(u,x)=>{n.value=u;const f=document.querySelector(`.btn-${x}`);i.value=f.clientWidth,l.value=f.offsetLeft,s("selected",u)},d=_([{title:"全部",slug:""},{title:"電影",slug:"movie"},{title:"電視劇",slug:"tv"},{title:"綜藝",slug:"show"}]);return G(()=>{const u=document.querySelector(".btn-0");i.value=u.clientWidth}),(u,x)=>(c(),r("div",ae,[e("div",ne,[e("div",oe,[e("div",ie,[(c(!0),r(h,null,y(d.value,(f,b)=>(c(),r("button",{key:f.slug,class:k(["text-body-xl-medium relative px-6 py-4 text-enable md:px-[60px]",[{"text-white":n.value==f.slug},`btn-${b}`]]),onClick:w=>o(f.slug,b)},S(f.title),11,ce))),128)),e("div",{class:"absolute bottom-0 h-[3px] bg-primary transition-all duration-300",style:I({width:`${i.value}px`,left:`${l.value}px`})},null,4)])])])]))}},K="--vc-auto-duration",re=`height var(${K}) cubic-bezier(0.33, 1, 0.68, 1)`,R={padding:0},de=300,ve={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"},pe=()=>typeof navigator<"u"&&navigator.userAgent.includes("Firefox");function V(a){return a.value?parseFloat(getComputedStyle(a.value).height):0}function T(a){var t;return{height:`${((t=a.value)==null?void 0:t.scrollHeight)||0}px`}}function W(a){if(!a.value)return{};const{transition:t}=getComputedStyle(a.value);return t==="all 0s ease 0s"||pe()&&t==="all"?{transition:re}:{transition:t}}function P(a){if(!a.value)return!0;const{transition:t}=getComputedStyle(a.value);return typeof window.requestAnimationFrame>"u"||window.matchMedia("(prefers-reduced-motion: reduce)").matches||t.includes("none")||t.includes("height 0s")}function _e(a=0){if(a===0)return 0;const t=a/36,s=Math.round((4+15*t**.25+t/5)*10);return Number.isFinite(s)?s:0}const j=Q({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(a,{emit:t}){const s=a,i=t,l=D(s,"when"),n=D(s,"baseHeight"),o=z(()=>({overflow:"hidden",height:`${n.value}px`})),d=z(()=>({...R,...n.value===0?{display:"none"}:o.value})),u=_(null),x=_(l.value?"expanded":"collapsed"),f=v=>x.value=v;function b(){return l.value?R:n.value===0?ve:d.value}const w=U(b()),m=v=>w.value=v,g=v=>m({...w.value,...v}),E=_(de),H=v=>E.value=v,F=z(()=>({[K]:`${E.value}ms`}));function C(){m(R),f("expanded"),i("expanded")}function A(){m(d.value),f("collapsed"),i("collapsed")}G(()=>{if(!u.value)return;const v=_e(u.value.scrollHeight-n.value);v>0&&H(v),!l.value&&n.value===0&&m(d.value)}),N(l,v=>{if(u.value)if(v){if(P(u))return C();f("expanding"),i("expand"),m({...R,...o.value,...F.value}),requestAnimationFrame(()=>{if(u.value.scrollHeight===0)return C();g({...T(u),...W(u),willChange:"height"})})}else{if(P(u)||(f("collapsing"),i("collapse"),g({...F.value,...T(u)}),u.value.scrollHeight===0))return A();requestAnimationFrame(()=>{g({...o.value,...W(u),willChange:"height"})})}}),N(n,v=>{l.value||(v>0?g({display:void 0,height:`${v}px`}):g({display:"none"}))});function O(v){v.target&&v.target===u.value&&v.propertyName==="height"&&(l.value?Math.abs(u.value.scrollHeight-V(u))<1&&C():Math.abs(n.value-V(u))<1&&A())}return(v,ot)=>(c(),B(Z(s.as),{ref_key:"collapseRef",ref:u,style:I(w.value),onTransitionend:O,"data-collapse":x.value},{default:$(()=>[Y(v.$slots,"default",J(X({state:x.value})))]),_:3},40,["style","data-collapse"]))}}),fe={class:"cursor-pointer rounded-[8px] bg-card"},xe=e("div",{class:"flex space-x-2"},[e("i",{class:"icon-sort text-[22px]"}),e("p",null,"排序")],-1),he={class:"flex flex-col space-y-6 p-6 pb-4"},me=e("div",null,null,-1),ge={__name:"sort",setup(a){const t=_(!1),s=[{title:"最新加入",slug:"latest"},{title:"最舊加入",slug:"old"}];return(i,l)=>(c(),r("div",fe,[e("div",{class:"flex items-center justify-between px-6 py-2",onClick:l[0]||(l[0]=n=>t.value=!t.value)},[xe,e("i",{class:k(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":t.value}])},null,2)]),p(L(j),{when:t.value},{default:$(()=>[e("div",he,[(c(),r(h,null,y(s,n=>e("button",{type:"button",class:"text-body-m-medium text-left",key:n.slug},S(n.title),1)),64))])]),_:1},8,["when"]),me]))}},ye={key:0,class:"absolute size-full rounded-[4px] bg-primary"},$e=e("i",{class:"icon-check text-[20px] text-second"},null,-1),be=[$e],q={__name:"checkbox",props:{title:String,slug:String},emits:["selected"],setup(a,{emit:t}){const s=a,i=t,l=_(!1),n=()=>{l.value=!l.value,i("selected",{slug:s.slug,status:l.value})};return(o,d)=>(c(),r("div",{onClick:d[0]||(d[0]=u=>n()),class:"flex items-center space-x-2 cursor-pointer"},[e("div",{class:k(["relative size-[20px] rounded-[4px]",{border:!l.value}])},[l.value?(c(),r("div",ye,be)):M("",!0)],2),e("p",null,S(a.title),1)]))}},we=e("p",null,"狀態",-1),ke={class:"flex flex-col space-y-3 pt-3"},Ce={__name:"status",setup(a){const t=[{title:"最愛",slug:"favorite"},{title:"已觀看",slug:"watched"},{title:"待觀看",slug:"to_be_watching"}],s=_(!1),i=l=>{};return(l,n)=>(c(),r("div",null,[e("div",{class:"flex items-center justify-between",onClick:n[0]||(n[0]=o=>s.value=!s.value)},[we,e("i",{class:k(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),p(L(j),{when:s.value},{default:$(()=>[e("div",ke,[(c(),r(h,null,y(t,(o,d)=>e("div",{key:d,class:""},[p(q,{title:o.title,slug:o.slug,onSelected:i},null,8,["title","slug"])])),64))])]),_:1},8,["when"])]))}},Se=e("p",null,"年份",-1),Le={class:"flex flex-col space-y-3 pt-3"},je={__name:"year",setup(a){const t=[{title:"2021",slug:"2021"},{title:"2022",slug:"2022"},{title:"2023",slug:"2023"}],s=_(!1),i=l=>{};return(l,n)=>(c(),r("div",null,[e("div",{class:"flex items-center justify-between",onClick:n[0]||(n[0]=o=>s.value=!s.value)},[Se,e("i",{class:k(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),p(L(j),{when:s.value},{default:$(()=>[e("div",Le,[(c(),r(h,null,y(t,(o,d)=>e("div",{key:d,class:""},[p(q,{title:o.title,slug:o.slug,onSelected:i},null,8,["title","slug"])])),64))])]),_:1},8,["when"])]))}},Ee=e("p",null,"類別",-1),Fe={class:"flex flex-col space-y-3 pt-3"},Ae={__name:"category",setup(a){const t=[{title:"動漫",slug:"favorite"},{title:"犯罪",slug:"watched"},{title:"劇情",slug:"to_be_watching"}],s=_(!1),i=l=>{};return(l,n)=>(c(),r("div",null,[e("div",{class:"flex items-center justify-between",onClick:n[0]||(n[0]=o=>s.value=!s.value)},[Ee,e("i",{class:k(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),p(L(j),{when:s.value},{default:$(()=>[e("div",Fe,[(c(),r(h,null,y(t,(o,d)=>e("div",{key:d,class:""},[p(q,{title:o.title,slug:o.slug,onSelected:i},null,8,["title","slug"])])),64))])]),_:1},8,["when"])]))}},He=e("p",null,"產地",-1),Re={class:"flex flex-col space-y-3 pt-3"},ze={__name:"location",setup(a){const t=[{title:"香港",slug:"hk"},{title:"台灣",slug:"tw"},{title:"內地",slug:"cn"}],s=_(!1),i=l=>{};return(l,n)=>(c(),r("div",null,[e("div",{class:"flex items-center justify-between",onClick:n[0]||(n[0]=o=>s.value=!s.value)},[He,e("i",{class:k(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),p(L(j),{when:s.value},{default:$(()=>[e("div",Re,[(c(),r(h,null,y(t,(o,d)=>e("div",{key:d,class:""},[p(q,{title:o.title,slug:o.slug,onSelected:i},null,8,["title","slug"])])),64))])]),_:1},8,["when"])]))}},Me={class:"bg-card rounded-[8px]"},qe=e("div",{class:"flex space-x-2"},[e("i",{class:"icon-filter text-[22px]"}),e("p",null,"篩選")],-1),Be=e("p",null,"清除",-1),De=[qe,Be],Ne={class:"flex flex-col space-y-6 px-6 pb-4 pt-6"},Ve={__name:"filter",setup(a){const t=_(!1);return(s,i)=>(c(),r("div",Me,[e("div",{class:"flex items-center justify-between px-6 py-2",onClick:i[0]||(i[0]=l=>t.value=!t.value)},De),p(L(j),{when:t.value},{default:$(()=>[e("div",Ne,[p(Ce),p(je),p(Ae),p(ze)])]),_:1},8,["when"])]))}},Te={class:""},We=["src"],Pe={class:"absolute left-0 top-0"},Ge={key:0,class:"text-body-s-medium rounded-[4px] bg-primary px-1 py-[2px] text-second"},Ie={class:"mt-2 flex justify-between"},Ke={class:"text-body-m-medium"},Oe={key:0,class:"icon-heart-fill pt-1"},Qe={key:1,class:"icon-heart pt-1"},Ue={class:"text-body-s-medium mt-1 flex justify-between text-enable"},Ye={class:"flex flex-wrap gap-x-2"},Je={key:0,class:"flex items-center"},Xe={key:0},Ze={__name:"card",props:{data:{type:Object}},setup(a){ee();const t=a,s=z(()=>{var i,l;return(l=(i=t==null?void 0:t.data)==null?void 0:i.movie)==null?void 0:l.year.slice(0,4)});return(i,l)=>{const n=te("RouterLink");return c(),B(n,{to:`/list/${t.data.id}`,class:"relative cursor-pointer"},{default:$(()=>{var o,d,u,x,f,b,w,m,g,E;return[e("div",Te,[e("img",{src:(d=(o=a.data)==null?void 0:o.movie)==null?void 0:d.postImageUrl,alt:"",class:"aspect-[3/4.3] rounded-[8px] object-cover"},null,8,We)]),e("div",Pe,[(x=(u=a.data)==null?void 0:u.movie)!=null&&x.watched?(c(),r("div",Ge," 已觀看 ")):M("",!0)]),e("div",null,[e("div",Ie,[e("div",Ke,S((b=(f=a.data)==null?void 0:f.movie)==null?void 0:b.name),1),(m=(w=a.data)==null?void 0:w.movie)!=null&&m.favorite?(c(),r("i",Oe)):(c(),r("i",Qe))]),e("div",Ue,[e("div",Ye,[(c(!0),r(h,null,y((E=(g=a.data)==null?void 0:g.movie)==null?void 0:E.categoryList,(H,F)=>{var C,A;return c(),r("div",{key:H.slug},[F<3?(c(),r("div",Je,[se(S(H.label)+" ",1),((A=(C=a.data)==null?void 0:C.movie)==null?void 0:A.categoryList.length)>3&&F==2?(c(),r("span",Xe,"...")):M("",!0)])):M("",!0)])}),128))]),e("div",null,S(s.value),1)])])]}),_:1},8,["to"])}}},et={class:"container"},tt=e("div",{class:"text-body-l-semibold mt-[60px]"},"結果顯示: 第1-20個 (總共200個)",-1),st={class:"mt-10 flex md:space-x-5"},lt={class:"hidden min-w-[197px] max-w-[197px] md:block"},at={class:"space-y-4"},nt={class:"grid grid-cols-4 gap-5 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-10"},ct={__name:"index",setup(a){_(new Date);const t=_([]),s=async l=>{(await le(l)).forEach(o=>{t.value.push({id:o.id,movie:o.data()})})},i=l=>{t.value=[],s(l)};return s(""),(l,n)=>(c(),r(h,null,[p(ue,{onSelected:i}),e("div",et,[tt,e("main",st,[e("div",lt,[e("div",at,[p(ge),p(Ve)])]),e("div",nt,[(c(!0),r(h,null,y(t.value,(o,d)=>(c(),B(Ze,{data:o,class:"col-span-2",key:d},null,8,["data"]))),128))])])])],64))}};export{ct as default};
