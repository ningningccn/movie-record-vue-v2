import{r as _,o as P,a as c,c as r,b as e,F as x,d as y,n as w,t as S,e as G,f as Q,g as D,h as A,s as U,w as N,i as I,j as k,k as Y,l as J,m as X,p as Z,q as p,u as j,v as M,x as ee,y as te,z as se}from"./index-C5S37JQg.js";const le={class:"border-b border-enable"},ae={class:"container"},ne={class:"flex items-center justify-center pt-6"},ie={class:"relative"},oe=["onClick"],ce={__name:"category",emits:["selected"],setup(a,{emit:t}){const s=t,o=_(0),l=_(0),n=_(""),i=(u,h)=>{n.value=u;const f=document.querySelector(`.btn-${h}`);o.value=f.clientWidth,l.value=f.offsetLeft,s("selected",u)},d=_([{title:"全部",slug:""},{title:"電影",slug:"movie"},{title:"電視劇",slug:"tv"},{title:"綜藝",slug:"show"}]);return P(()=>{const u=document.querySelector(".btn-0");o.value=u.clientWidth}),(u,h)=>(c(),r("div",le,[e("div",ae,[e("div",ne,[e("div",ie,[(c(!0),r(x,null,y(d.value,(f,$)=>(c(),r("button",{key:f.slug,class:w(["text-body-xl-medium relative px-6 py-4 text-enable md:px-[60px]",[{"text-white":n.value==f.slug},`btn-${$}`]]),onClick:b=>i(f.slug,$)},S(f.title),11,oe))),128)),e("div",{class:"absolute bottom-0 h-[3px] bg-primary transition-all duration-300",style:G({width:`${o.value}px`,left:`${l.value}px`})},null,4)])])])]))}},K="--vc-auto-duration",ue=`height var(${K}) cubic-bezier(0.33, 1, 0.68, 1)`,z={padding:0},re=300,de={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"},ve=()=>typeof navigator<"u"&&navigator.userAgent.includes("Firefox");function R(a){return a.value?parseFloat(getComputedStyle(a.value).height):0}function V(a){var t;return{height:`${((t=a.value)==null?void 0:t.scrollHeight)||0}px`}}function T(a){if(!a.value)return{};const{transition:t}=getComputedStyle(a.value);return t==="all 0s ease 0s"||ve()&&t==="all"?{transition:ue}:{transition:t}}function W(a){if(!a.value)return!0;const{transition:t}=getComputedStyle(a.value);return typeof window.requestAnimationFrame>"u"||window.matchMedia("(prefers-reduced-motion: reduce)").matches||t.includes("none")||t.includes("height 0s")}function pe(a=0){if(a===0)return 0;const t=a/36,s=Math.round((4+15*t**.25+t/5)*10);return Number.isFinite(s)?s:0}const L=Q({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(a,{emit:t}){const s=a,o=t,l=D(s,"when"),n=D(s,"baseHeight"),i=A(()=>({overflow:"hidden",height:`${n.value}px`})),d=A(()=>({...z,...n.value===0?{display:"none"}:i.value})),u=_(null),h=_(l.value?"expanded":"collapsed"),f=v=>h.value=v;function $(){return l.value?z:n.value===0?de:d.value}const b=U($()),m=v=>b.value=v,g=v=>m({...b.value,...v}),E=_(re),H=v=>E.value=v,F=A(()=>({[K]:`${E.value}ms`}));function C(){m(z),f("expanded"),o("expanded")}function B(){m(d.value),f("collapsed"),o("collapsed")}P(()=>{if(!u.value)return;const v=pe(u.value.scrollHeight-n.value);v>0&&H(v),!l.value&&n.value===0&&m(d.value)}),N(l,v=>{if(u.value)if(v){if(W(u))return C();f("expanding"),o("expand"),m({...z,...i.value,...F.value}),requestAnimationFrame(()=>{if(u.value.scrollHeight===0)return C();g({...V(u),...T(u),willChange:"height"})})}else{if(W(u)||(f("collapsing"),o("collapse"),g({...F.value,...V(u)}),u.value.scrollHeight===0))return B();requestAnimationFrame(()=>{g({...i.value,...T(u),willChange:"height"})})}}),N(n,v=>{l.value||(v>0?g({display:void 0,height:`${v}px`}):g({display:"none"}))});function O(v){v.target&&v.target===u.value&&v.propertyName==="height"&&(l.value?Math.abs(u.value.scrollHeight-R(u))<1&&C():Math.abs(n.value-R(u))<1&&B())}return(v,it)=>(c(),I(Z(s.as),{ref_key:"collapseRef",ref:u,style:G(b.value),onTransitionend:O,"data-collapse":h.value},{default:k(()=>[Y(v.$slots,"default",J(X({state:h.value})))]),_:3},40,["style","data-collapse"]))}}),_e={class:"cursor-pointer rounded-[8px] bg-card"},fe=e("div",{class:"flex space-x-2"},[e("i",{class:"icon-sort text-[22px]"}),e("p",null,"排序")],-1),he={class:"flex flex-col space-y-6 p-6 pb-4"},xe=e("div",null,null,-1),me={__name:"sort",setup(a){const t=_(!1),s=[{title:"最新加入",slug:"latest"},{title:"最舊加入",slug:"old"}];return(o,l)=>(c(),r("div",_e,[e("div",{class:"flex items-center justify-between px-6 py-2",onClick:l[0]||(l[0]=n=>t.value=!t.value)},[fe,e("i",{class:w(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":t.value}])},null,2)]),p(j(L),{when:t.value},{default:k(()=>[e("div",he,[(c(),r(x,null,y(s,n=>e("button",{type:"button",class:"text-body-m-medium text-left",key:n.slug},S(n.title),1)),64))])]),_:1},8,["when"]),xe]))}},ge={key:0,class:"absolute size-full rounded-[4px] bg-primary"},ye=e("i",{class:"icon-check text-[20px] text-second"},null,-1),$e=[ye],q={__name:"checkbox",props:{title:String,slug:String},emits:["selected"],setup(a,{emit:t}){const s=a,o=t,l=_(!1),n=()=>{l.value=!l.value,o("selected",{slug:s.slug,status:l.value})};return(i,d)=>(c(),r("div",{onClick:d[0]||(d[0]=u=>n()),class:"flex items-center space-x-2 cursor-pointer"},[e("div",{class:w(["relative size-[20px] rounded-[4px]",{border:!l.value}])},[l.value?(c(),r("div",ge,$e)):M("",!0)],2),e("p",null,S(a.title),1)]))}},be=e("p",null,"狀態",-1),we={class:"flex flex-col space-y-3 pt-3"},ke={__name:"status",setup(a){const t=[{title:"最愛",slug:"favorite"},{title:"已觀看",slug:"watched"},{title:"待觀看",slug:"to_be_watching"}],s=_(!1),o=l=>{};return(l,n)=>(c(),r("div",null,[e("div",{class:"flex items-center justify-between",onClick:n[0]||(n[0]=i=>s.value=!s.value)},[be,e("i",{class:w(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),p(j(L),{when:s.value},{default:k(()=>[e("div",we,[(c(),r(x,null,y(t,(i,d)=>e("div",{key:d,class:""},[p(q,{title:i.title,slug:i.slug,onSelected:o},null,8,["title","slug"])])),64))])]),_:1},8,["when"])]))}},Ce=e("p",null,"年份",-1),Se={class:"flex flex-col space-y-3 pt-3"},je={__name:"year",setup(a){const t=[{title:"2021",slug:"2021"},{title:"2022",slug:"2022"},{title:"2023",slug:"2023"}],s=_(!1),o=l=>{};return(l,n)=>(c(),r("div",null,[e("div",{class:"flex items-center justify-between",onClick:n[0]||(n[0]=i=>s.value=!s.value)},[Ce,e("i",{class:w(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),p(j(L),{when:s.value},{default:k(()=>[e("div",Se,[(c(),r(x,null,y(t,(i,d)=>e("div",{key:d,class:""},[p(q,{title:i.title,slug:i.slug,onSelected:o},null,8,["title","slug"])])),64))])]),_:1},8,["when"])]))}},Le=e("p",null,"類別",-1),Ee={class:"flex flex-col space-y-3 pt-3"},Fe={__name:"category",setup(a){const t=[{title:"動漫",slug:"favorite"},{title:"犯罪",slug:"watched"},{title:"劇情",slug:"to_be_watching"}],s=_(!1),o=l=>{};return(l,n)=>(c(),r("div",null,[e("div",{class:"flex items-center justify-between",onClick:n[0]||(n[0]=i=>s.value=!s.value)},[Le,e("i",{class:w(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),p(j(L),{when:s.value},{default:k(()=>[e("div",Ee,[(c(),r(x,null,y(t,(i,d)=>e("div",{key:d,class:""},[p(q,{title:i.title,slug:i.slug,onSelected:o},null,8,["title","slug"])])),64))])]),_:1},8,["when"])]))}},He=e("p",null,"產地",-1),ze={class:"flex flex-col space-y-3 pt-3"},Ae={__name:"location",setup(a){const t=[{title:"香港",slug:"hk"},{title:"台灣",slug:"tw"},{title:"內地",slug:"cn"}],s=_(!1),o=l=>{};return(l,n)=>(c(),r("div",null,[e("div",{class:"flex items-center justify-between",onClick:n[0]||(n[0]=i=>s.value=!s.value)},[He,e("i",{class:w(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),p(j(L),{when:s.value},{default:k(()=>[e("div",ze,[(c(),r(x,null,y(t,(i,d)=>e("div",{key:d,class:""},[p(q,{title:i.title,slug:i.slug,onSelected:o},null,8,["title","slug"])])),64))])]),_:1},8,["when"])]))}},Me={class:"bg-card rounded-[8px]"},qe=e("div",{class:"flex space-x-2"},[e("i",{class:"icon-filter text-[22px]"}),e("p",null,"篩選")],-1),Be=e("p",null,"清除",-1),De=[qe,Be],Ne={class:"flex flex-col space-y-6 px-6 pb-4 pt-6"},Re={__name:"filter",setup(a){const t=_(!1);return(s,o)=>(c(),r("div",Me,[e("div",{class:"flex items-center justify-between px-6 py-2",onClick:o[0]||(o[0]=l=>t.value=!t.value)},De),p(j(L),{when:t.value},{default:k(()=>[e("div",Ne,[p(ke),p(je),p(Fe),p(Ae)])]),_:1},8,["when"])]))}},Ve=["href"],Te={class:""},We=["src"],Pe={class:"absolute left-0 top-0"},Ge={key:0,class:"text-body-s-medium rounded-[4px] bg-primary px-1 py-[2px] text-second"},Ie={class:"mt-2 flex justify-between"},Ke={class:"text-body-m-medium"},Oe={key:0,class:"icon-heart-fill pt-1"},Qe={key:1,class:"icon-heart pt-1"},Ue={class:"text-body-s-medium mt-1 flex justify-between text-enable"},Ye={class:"flex flex-wrap gap-x-2"},Je={key:0,class:"flex items-center"},Xe={key:0},Ze={__name:"card",props:{data:{type:Object}},setup(a){ee();const t=a,s=A(()=>{var o,l;return(l=(o=t==null?void 0:t.data)==null?void 0:o.movie)==null?void 0:l.year.slice(0,4)});return(o,l)=>{var n,i,d,u,h,f,$,b,m,g;return c(),r("a",{href:`/list/${t.data.id}`,class:"relative cursor-pointer"},[e("div",Te,[e("img",{src:(i=(n=a.data)==null?void 0:n.movie)==null?void 0:i.postImageUrl,alt:"",class:"aspect-[3/4.3] rounded-[8px] object-cover"},null,8,We)]),e("div",Pe,[(u=(d=a.data)==null?void 0:d.movie)!=null&&u.watched?(c(),r("div",Ge," 已觀看 ")):M("",!0)]),e("div",null,[e("div",Ie,[e("div",Ke,S((f=(h=a.data)==null?void 0:h.movie)==null?void 0:f.name),1),(b=($=a.data)==null?void 0:$.movie)!=null&&b.favorite?(c(),r("i",Oe)):(c(),r("i",Qe))]),e("div",Ue,[e("div",Ye,[(c(!0),r(x,null,y((g=(m=a.data)==null?void 0:m.movie)==null?void 0:g.categoryList,(E,H)=>{var F,C;return c(),r("div",{key:E.slug},[H<3?(c(),r("div",Je,[te(S(E.label)+" ",1),((C=(F=a.data)==null?void 0:F.movie)==null?void 0:C.categoryList.length)>3&&H==2?(c(),r("span",Xe,"...")):M("",!0)])):M("",!0)])}),128))]),e("div",null,S(s.value),1)])])],8,Ve)}}},et={class:"container"},tt=e("div",{class:"text-body-l-semibold mt-[60px]"},"結果顯示: 第1-20個 (總共200個)",-1),st={class:"mt-10 flex md:space-x-5"},lt={class:"hidden min-w-[197px] max-w-[197px] md:block"},at={class:"space-y-4"},nt={class:"grid grid-cols-4 gap-5 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-10"},ct={__name:"index",setup(a){_(new Date);const t=_([]),s=async l=>{(await se(l)).forEach(i=>{t.value.push({id:i.id,movie:i.data()})})},o=l=>{t.value=[],s(l)};return s(""),(l,n)=>(c(),r(x,null,[p(ce,{onSelected:o}),e("div",et,[tt,e("main",st,[e("div",lt,[e("div",at,[p(me),p(Re)])]),e("div",nt,[(c(!0),r(x,null,y(t.value,(i,d)=>(c(),I(Ze,{data:i,class:"col-span-2",key:d},null,8,["data"]))),128))])])])],64))}};export{ct as default};
