const __vite__fileDeps=["assets/index-BgbKHwf8.js","assets/index-l8WA_F6a.css","assets/login-Dnqaj8vb.js","assets/login-DLOHvPjq.css","assets/register-D9tb2eIj.js","assets/register-CwJywAkh.css","assets/search-DpcMN1d7.js","assets/search-BhTLayU_.css","assets/search-detail-C6XGHlVK.js","assets/search-detail-g0Xz9AUW.css","assets/movie-detail-1bxNUeow.js","assets/movie-detail-E7-BvF0S.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var eb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new wx;const d=s<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bx=function(t){const e=rI(t);return iI.encodeByteArray(e,!0)},Gd=function(t){return bx(t).replace(/\./g,"")},sI=function(t){try{return iI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=()=>Tx().__FIREBASE_DEFAULTS__,Ax=()=>{if(typeof process>"u"||typeof eb>"u")return;const t=eb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ix=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sI(t[1]);return e&&JSON.parse(e)},Zp=()=>{try{return Ex()||Ax()||Ix()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oI=t=>{var e,n;return(n=(e=Zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aI=t=>{const e=oI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lI=()=>{var t;return(t=Zp())===null||t===void 0?void 0:t.config},uI=t=>{var e;return(e=Zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gd(JSON.stringify(n)),Gd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Px(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function Rx(){var t;const e=(t=Zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Dx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kx(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ox(){return!Rx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xx(){try{return typeof indexedDB=="object"}catch{return!1}}function Mx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="FirebaseError";class fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nx,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qh.prototype.create)}}class Qh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Lx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fs(i,a,r)}}function Lx(t,e){return t.replace($x,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $x=/\{\$([^}]+)}/g;function Vx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(tb(s)&&tb(o)){if(!Kd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Fx(t,e){const n=new Ux(t,e);return n.subscribe.bind(n)}class Ux{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Bx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ig),i.error===void 0&&(i.error=ig),i.complete===void 0&&(i.complete=ig);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zx(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hx(t){return t===pa?void 0:t}function zx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const qx={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},Wx=ct.INFO,Gx={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},Kx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Gx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zv{constructor(e){this.name=e,this._logLevel=Wx,this._logHandler=Kx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const Xx=(t,e)=>e.some(n=>t instanceof n);let nb,rb;function Qx(){return nb||(nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jx(){return rb||(rb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hI=new WeakMap,h_=new WeakMap,fI=new WeakMap,sg=new WeakMap,Yv=new WeakMap;function Zx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ro(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hI.set(n,t)}).catch(()=>{}),Yv.set(e,t),e}function eM(t){if(h_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});h_.set(t,e)}let f_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return h_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tM(t){f_=t(f_)}function nM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(og(this),e,...n);return fI.set(r,e.sort?e.sort():[e]),Ro(r)}:Jx().includes(t)?function(...e){return t.apply(og(this),e),Ro(hI.get(this))}:function(...e){return Ro(t.apply(og(this),e))}}function rM(t){return typeof t=="function"?nM(t):(t instanceof IDBTransaction&&eM(t),Xx(t,Qx())?new Proxy(t,f_):t)}function Ro(t){if(t instanceof IDBRequest)return Zx(t);if(sg.has(t))return sg.get(t);const e=rM(t);return e!==t&&(sg.set(t,e),Yv.set(e,t)),e}const og=t=>Yv.get(t);function iM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ro(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ro(o.result),l.oldVersion,l.newVersion,Ro(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const sM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],ag=new Map;function ib(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ag.set(e,s),s}tM(t=>({...t,get:(e,n,r)=>ib(e,n)||t.get(e,n,r),has:(e,n)=>!!ib(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d_="@firebase/app",sb="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new zv("@firebase/app"),uM="@firebase/app-compat",cM="@firebase/analytics-compat",hM="@firebase/analytics",fM="@firebase/app-check-compat",dM="@firebase/app-check",pM="@firebase/auth",mM="@firebase/auth-compat",gM="@firebase/database",_M="@firebase/database-compat",vM="@firebase/functions",yM="@firebase/functions-compat",wM="@firebase/installations",bM="@firebase/installations-compat",TM="@firebase/messaging",EM="@firebase/messaging-compat",AM="@firebase/performance",IM="@firebase/performance-compat",SM="@firebase/remote-config",PM="@firebase/remote-config-compat",RM="@firebase/storage",CM="@firebase/storage-compat",DM="@firebase/firestore",kM="@firebase/vertexai-preview",OM="@firebase/firestore-compat",xM="firebase",MM="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="[DEFAULT]",NM={[d_]:"fire-core",[uM]:"fire-core-compat",[hM]:"fire-analytics",[cM]:"fire-analytics-compat",[dM]:"fire-app-check",[fM]:"fire-app-check-compat",[pM]:"fire-auth",[mM]:"fire-auth-compat",[gM]:"fire-rtdb",[_M]:"fire-rtdb-compat",[vM]:"fire-fn",[yM]:"fire-fn-compat",[wM]:"fire-iid",[bM]:"fire-iid-compat",[TM]:"fire-fcm",[EM]:"fire-fcm-compat",[AM]:"fire-perf",[IM]:"fire-perf-compat",[SM]:"fire-rc",[PM]:"fire-rc-compat",[RM]:"fire-gcs",[CM]:"fire-gcs-compat",[DM]:"fire-fst",[OM]:"fire-fst-compat",[kM]:"fire-vertex","fire-js":"fire-js",[xM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,LM=new Map,m_=new Map;function ob(t,e){try{t.container.addComponent(e)}catch(n){Ha.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function za(t){const e=t.name;if(m_.has(e))return Ha.debug(`There were multiple attempts to register component ${e}.`),!1;m_.set(e,t);for(const n of Xd.values())ob(n,t);for(const n of LM.values())ob(n,t);return!0}function em(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Qh("app","Firebase",$M);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=MM;function dI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:p_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Co.create("bad-app-name",{appName:String(i)});if(n||(n=lI()),!n)throw Co.create("no-options");const s=Xd.get(i);if(s){if(Kd(n,s.options)&&Kd(r,s.config))return s;throw Co.create("duplicate-app",{appName:i})}const o=new Yx(i);for(const l of m_.values())o.addComponent(l);const a=new VM(n,r,o);return Xd.set(i,a),a}function qv(t=p_){const e=Xd.get(t);if(!e&&t===p_&&lI())return dI();if(!e)throw Co.create("no-app",{appName:t});return e}function Ji(t,e,n){var r;let i=(r=NM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ha.warn(a.join(" "));return}za(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="firebase-heartbeat-database",UM=1,mh="firebase-heartbeat-store";let lg=null;function pI(){return lg||(lg=iM(FM,UM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),lg}async function BM(t){try{const n=(await pI()).transaction(mh),r=await n.objectStore(mh).get(mI(t));return await n.done,r}catch(e){if(e instanceof fs)Ha.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ha.warn(n.message)}}}async function ab(t,e){try{const r=(await pI()).transaction(mh,"readwrite");await r.objectStore(mh).put(e,mI(t)),await r.done}catch(n){if(n instanceof fs)Ha.warn(n.message);else{const r=Co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ha.warn(r.message)}}}function mI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=1024,HM=30*24*60*60*1e3;class zM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=HM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lb(),{heartbeatsToSend:r,unsentEntries:i}=YM(this._heartbeatsCache.heartbeats),s=Gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function lb(){return new Date().toISOString().substring(0,10)}function YM(t,e=jM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ub(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ub(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xx()?Mx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ab(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ub(t){return Gd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){za(new Lo("platform-logger",e=>new aM(e),"PRIVATE")),za(new Lo("heartbeat",e=>new zM(e),"PRIVATE")),Ji(d_,sb,t),Ji(d_,sb,"esm2017"),Ji("fire-js","")}WM("");var GM="firebase",KM="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(GM,KM,"app");var cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,gI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,E){function b(){}b.prototype=E.prototype,w.D=E.prototype,w.prototype=new b,w.prototype.constructor=w,w.C=function(I,P,y){for(var T=Array(arguments.length-2),U=2;U<arguments.length;U++)T[U-2]=arguments[U];return E.prototype[P].apply(I,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,E,b){b||(b=0);var I=Array(16);if(typeof E=="string")for(var P=0;16>P;++P)I[P]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(P=0;16>P;++P)I[P]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=w.g[0],b=w.g[1],P=w.g[2];var y=w.g[3],T=E+(y^b&(P^y))+I[0]+3614090360&4294967295;E=b+(T<<7&4294967295|T>>>25),T=y+(P^E&(b^P))+I[1]+3905402710&4294967295,y=E+(T<<12&4294967295|T>>>20),T=P+(b^y&(E^b))+I[2]+606105819&4294967295,P=y+(T<<17&4294967295|T>>>15),T=b+(E^P&(y^E))+I[3]+3250441966&4294967295,b=P+(T<<22&4294967295|T>>>10),T=E+(y^b&(P^y))+I[4]+4118548399&4294967295,E=b+(T<<7&4294967295|T>>>25),T=y+(P^E&(b^P))+I[5]+1200080426&4294967295,y=E+(T<<12&4294967295|T>>>20),T=P+(b^y&(E^b))+I[6]+2821735955&4294967295,P=y+(T<<17&4294967295|T>>>15),T=b+(E^P&(y^E))+I[7]+4249261313&4294967295,b=P+(T<<22&4294967295|T>>>10),T=E+(y^b&(P^y))+I[8]+1770035416&4294967295,E=b+(T<<7&4294967295|T>>>25),T=y+(P^E&(b^P))+I[9]+2336552879&4294967295,y=E+(T<<12&4294967295|T>>>20),T=P+(b^y&(E^b))+I[10]+4294925233&4294967295,P=y+(T<<17&4294967295|T>>>15),T=b+(E^P&(y^E))+I[11]+2304563134&4294967295,b=P+(T<<22&4294967295|T>>>10),T=E+(y^b&(P^y))+I[12]+1804603682&4294967295,E=b+(T<<7&4294967295|T>>>25),T=y+(P^E&(b^P))+I[13]+4254626195&4294967295,y=E+(T<<12&4294967295|T>>>20),T=P+(b^y&(E^b))+I[14]+2792965006&4294967295,P=y+(T<<17&4294967295|T>>>15),T=b+(E^P&(y^E))+I[15]+1236535329&4294967295,b=P+(T<<22&4294967295|T>>>10),T=E+(P^y&(b^P))+I[1]+4129170786&4294967295,E=b+(T<<5&4294967295|T>>>27),T=y+(b^P&(E^b))+I[6]+3225465664&4294967295,y=E+(T<<9&4294967295|T>>>23),T=P+(E^b&(y^E))+I[11]+643717713&4294967295,P=y+(T<<14&4294967295|T>>>18),T=b+(y^E&(P^y))+I[0]+3921069994&4294967295,b=P+(T<<20&4294967295|T>>>12),T=E+(P^y&(b^P))+I[5]+3593408605&4294967295,E=b+(T<<5&4294967295|T>>>27),T=y+(b^P&(E^b))+I[10]+38016083&4294967295,y=E+(T<<9&4294967295|T>>>23),T=P+(E^b&(y^E))+I[15]+3634488961&4294967295,P=y+(T<<14&4294967295|T>>>18),T=b+(y^E&(P^y))+I[4]+3889429448&4294967295,b=P+(T<<20&4294967295|T>>>12),T=E+(P^y&(b^P))+I[9]+568446438&4294967295,E=b+(T<<5&4294967295|T>>>27),T=y+(b^P&(E^b))+I[14]+3275163606&4294967295,y=E+(T<<9&4294967295|T>>>23),T=P+(E^b&(y^E))+I[3]+4107603335&4294967295,P=y+(T<<14&4294967295|T>>>18),T=b+(y^E&(P^y))+I[8]+1163531501&4294967295,b=P+(T<<20&4294967295|T>>>12),T=E+(P^y&(b^P))+I[13]+2850285829&4294967295,E=b+(T<<5&4294967295|T>>>27),T=y+(b^P&(E^b))+I[2]+4243563512&4294967295,y=E+(T<<9&4294967295|T>>>23),T=P+(E^b&(y^E))+I[7]+1735328473&4294967295,P=y+(T<<14&4294967295|T>>>18),T=b+(y^E&(P^y))+I[12]+2368359562&4294967295,b=P+(T<<20&4294967295|T>>>12),T=E+(b^P^y)+I[5]+4294588738&4294967295,E=b+(T<<4&4294967295|T>>>28),T=y+(E^b^P)+I[8]+2272392833&4294967295,y=E+(T<<11&4294967295|T>>>21),T=P+(y^E^b)+I[11]+1839030562&4294967295,P=y+(T<<16&4294967295|T>>>16),T=b+(P^y^E)+I[14]+4259657740&4294967295,b=P+(T<<23&4294967295|T>>>9),T=E+(b^P^y)+I[1]+2763975236&4294967295,E=b+(T<<4&4294967295|T>>>28),T=y+(E^b^P)+I[4]+1272893353&4294967295,y=E+(T<<11&4294967295|T>>>21),T=P+(y^E^b)+I[7]+4139469664&4294967295,P=y+(T<<16&4294967295|T>>>16),T=b+(P^y^E)+I[10]+3200236656&4294967295,b=P+(T<<23&4294967295|T>>>9),T=E+(b^P^y)+I[13]+681279174&4294967295,E=b+(T<<4&4294967295|T>>>28),T=y+(E^b^P)+I[0]+3936430074&4294967295,y=E+(T<<11&4294967295|T>>>21),T=P+(y^E^b)+I[3]+3572445317&4294967295,P=y+(T<<16&4294967295|T>>>16),T=b+(P^y^E)+I[6]+76029189&4294967295,b=P+(T<<23&4294967295|T>>>9),T=E+(b^P^y)+I[9]+3654602809&4294967295,E=b+(T<<4&4294967295|T>>>28),T=y+(E^b^P)+I[12]+3873151461&4294967295,y=E+(T<<11&4294967295|T>>>21),T=P+(y^E^b)+I[15]+530742520&4294967295,P=y+(T<<16&4294967295|T>>>16),T=b+(P^y^E)+I[2]+3299628645&4294967295,b=P+(T<<23&4294967295|T>>>9),T=E+(P^(b|~y))+I[0]+4096336452&4294967295,E=b+(T<<6&4294967295|T>>>26),T=y+(b^(E|~P))+I[7]+1126891415&4294967295,y=E+(T<<10&4294967295|T>>>22),T=P+(E^(y|~b))+I[14]+2878612391&4294967295,P=y+(T<<15&4294967295|T>>>17),T=b+(y^(P|~E))+I[5]+4237533241&4294967295,b=P+(T<<21&4294967295|T>>>11),T=E+(P^(b|~y))+I[12]+1700485571&4294967295,E=b+(T<<6&4294967295|T>>>26),T=y+(b^(E|~P))+I[3]+2399980690&4294967295,y=E+(T<<10&4294967295|T>>>22),T=P+(E^(y|~b))+I[10]+4293915773&4294967295,P=y+(T<<15&4294967295|T>>>17),T=b+(y^(P|~E))+I[1]+2240044497&4294967295,b=P+(T<<21&4294967295|T>>>11),T=E+(P^(b|~y))+I[8]+1873313359&4294967295,E=b+(T<<6&4294967295|T>>>26),T=y+(b^(E|~P))+I[15]+4264355552&4294967295,y=E+(T<<10&4294967295|T>>>22),T=P+(E^(y|~b))+I[6]+2734768916&4294967295,P=y+(T<<15&4294967295|T>>>17),T=b+(y^(P|~E))+I[13]+1309151649&4294967295,b=P+(T<<21&4294967295|T>>>11),T=E+(P^(b|~y))+I[4]+4149444226&4294967295,E=b+(T<<6&4294967295|T>>>26),T=y+(b^(E|~P))+I[11]+3174756917&4294967295,y=E+(T<<10&4294967295|T>>>22),T=P+(E^(y|~b))+I[2]+718787259&4294967295,P=y+(T<<15&4294967295|T>>>17),T=b+(y^(P|~E))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+E&4294967295,w.g[1]=w.g[1]+(P+(T<<21&4294967295|T>>>11))&4294967295,w.g[2]=w.g[2]+P&4294967295,w.g[3]=w.g[3]+y&4294967295}r.prototype.u=function(w,E){E===void 0&&(E=w.length);for(var b=E-this.blockSize,I=this.B,P=this.h,y=0;y<E;){if(P==0)for(;y<=b;)i(this,w,y),y+=this.blockSize;if(typeof w=="string"){for(;y<E;)if(I[P++]=w.charCodeAt(y++),P==this.blockSize){i(this,I),P=0;break}}else for(;y<E;)if(I[P++]=w[y++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=E},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var E=1;E<w.length-8;++E)w[E]=0;var b=8*this.o;for(E=w.length-8;E<w.length;++E)w[E]=b&255,b/=256;for(this.u(w),w=Array(16),E=b=0;4>E;++E)for(var I=0;32>I;I+=8)w[b++]=this.g[E]>>>I&255;return w};function s(w,E){var b=a;return Object.prototype.hasOwnProperty.call(b,w)?b[w]:b[w]=E(w)}function o(w,E){this.h=E;for(var b=[],I=!0,P=w.length-1;0<=P;P--){var y=w[P]|0;I&&y==E||(b[P]=y,I=!1)}this.g=b}var a={};function l(w){return-128<=w&&128>w?s(w,function(E){return new o([E|0],0>E?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return A(u(-w));for(var E=[],b=1,I=0;w>=b;I++)E[I]=w/b|0,b*=4294967296;return new o(E,0)}function c(w,E){if(w.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(w.charAt(0)=="-")return A(c(w.substring(1),E));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(E,8)),I=f,P=0;P<w.length;P+=8){var y=Math.min(8,w.length-P),T=parseInt(w.substring(P,P+y),E);8>y?(y=u(Math.pow(E,y)),I=I.j(y).add(u(T))):(I=I.j(b),I=I.add(u(T)))}return I}var f=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-A(this).m();for(var w=0,E=1,b=0;b<this.g.length;b++){var I=this.i(b);w+=(0<=I?I:4294967296+I)*E,E*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(g(this))return"0";if(_(this))return"-"+A(this).toString(w);for(var E=u(Math.pow(w,6)),b=this,I="";;){var P=O(b,E).g;b=S(b,P.j(E));var y=((0<b.g.length?b.g[0]:b.h)>>>0).toString(w);if(b=P,g(b))return y+I;for(;6>y.length;)y="0"+y;I=y+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function g(w){if(w.h!=0)return!1;for(var E=0;E<w.g.length;E++)if(w.g[E]!=0)return!1;return!0}function _(w){return w.h==-1}t.l=function(w){return w=S(this,w),_(w)?-1:g(w)?0:1};function A(w){for(var E=w.g.length,b=[],I=0;I<E;I++)b[I]=~w.g[I];return new o(b,~w.h).add(d)}t.abs=function(){return _(this)?A(this):this},t.add=function(w){for(var E=Math.max(this.g.length,w.g.length),b=[],I=0,P=0;P<=E;P++){var y=I+(this.i(P)&65535)+(w.i(P)&65535),T=(y>>>16)+(this.i(P)>>>16)+(w.i(P)>>>16);I=T>>>16,y&=65535,T&=65535,b[P]=T<<16|y}return new o(b,b[b.length-1]&-2147483648?-1:0)};function S(w,E){return w.add(A(E))}t.j=function(w){if(g(this)||g(w))return f;if(_(this))return _(w)?A(this).j(A(w)):A(A(this).j(w));if(_(w))return A(this.j(A(w)));if(0>this.l(p)&&0>w.l(p))return u(this.m()*w.m());for(var E=this.g.length+w.g.length,b=[],I=0;I<2*E;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<w.g.length;P++){var y=this.i(I)>>>16,T=this.i(I)&65535,U=w.i(P)>>>16,F=w.i(P)&65535;b[2*I+2*P]+=T*F,x(b,2*I+2*P),b[2*I+2*P+1]+=y*F,x(b,2*I+2*P+1),b[2*I+2*P+1]+=T*U,x(b,2*I+2*P+1),b[2*I+2*P+2]+=y*U,x(b,2*I+2*P+2)}for(I=0;I<E;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=E;I<2*E;I++)b[I]=0;return new o(b,0)};function x(w,E){for(;(w[E]&65535)!=w[E];)w[E+1]+=w[E]>>>16,w[E]&=65535,E++}function k(w,E){this.g=w,this.h=E}function O(w,E){if(g(E))throw Error("division by zero");if(g(w))return new k(f,f);if(_(w))return E=O(A(w),E),new k(A(E.g),A(E.h));if(_(E))return E=O(w,A(E)),new k(A(E.g),E.h);if(30<w.g.length){if(_(w)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var b=d,I=E;0>=I.l(w);)b=M(b),I=M(I);var P=N(b,1),y=N(I,1);for(I=N(I,2),b=N(b,2);!g(I);){var T=y.add(I);0>=T.l(w)&&(P=P.add(b),y=T),I=N(I,1),b=N(b,1)}return E=S(w,P.j(E)),new k(P,E)}for(P=f;0<=w.l(E);){for(b=Math.max(1,Math.floor(w.m()/E.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),y=u(b),T=y.j(E);_(T)||0<T.l(w);)b-=I,y=u(b),T=y.j(E);g(y)&&(y=d),P=P.add(y),w=S(w,T)}return new k(P,w)}t.A=function(w){return O(this,w).h},t.and=function(w){for(var E=Math.max(this.g.length,w.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)&w.i(I);return new o(b,this.h&w.h)},t.or=function(w){for(var E=Math.max(this.g.length,w.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)|w.i(I);return new o(b,this.h|w.h)},t.xor=function(w){for(var E=Math.max(this.g.length,w.g.length),b=[],I=0;I<E;I++)b[I]=this.i(I)^w.i(I);return new o(b,this.h^w.h)};function M(w){for(var E=w.g.length+1,b=[],I=0;I<E;I++)b[I]=w.i(I)<<1|w.i(I-1)>>>31;return new o(b,w.h)}function N(w,E){var b=E>>5;E%=32;for(var I=w.g.length-b,P=[],y=0;y<I;y++)P[y]=0<E?w.i(y+b)>>>E|w.i(y+b+1)<<32-E:w.i(y+b);return new o(P,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Pa=o}).apply(typeof cb<"u"?cb:typeof self<"u"?self:typeof window<"u"?window:{});var $f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _I,vI,vc,yI,vd,g_,wI,bI,TI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,v){return h==Array.prototype||h==Object.prototype||(h[m]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $f=="object"&&$f];for(var m=0;m<h.length;++m){var v=h[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(h,m){if(m)e:{var v=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in v))break e;v=v[q]}h=h[h.length-1],C=v[h],m=m(C),m!=C&&m!=null&&e(v,h,{configurable:!0,writable:!0,value:m})}}function s(h,m){h instanceof String&&(h+="");var v=0,C=!1,q={next:function(){if(!C&&v<h.length){var J=v++;return{value:m(J,h[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(h){return h||function(){return s(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function u(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function c(h,m,v){return h.call.apply(h.bind,arguments)}function f(h,m,v){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,C),h.apply(m,q)}}return function(){return h.apply(m,arguments)}}function d(h,m,v){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,m){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function g(h,m){function v(){}v.prototype=m.prototype,h.aa=m.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(C,q,J){for(var Ae=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Ae[Ot-2]=arguments[Ot];return m.prototype[q].apply(C,Ae)}}function _(h){const m=h.length;if(0<m){const v=Array(m);for(let C=0;C<m;C++)v[C]=h[C];return v}return[]}function A(h,m){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(l(C)){const q=h.length||0,J=C.length||0;h.length=q+J;for(let Ae=0;Ae<J;Ae++)h[q+Ae]=C[Ae]}else h.push(C)}}class S{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(h){return/^[\s\xa0]*$/.test(h)}function k(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function O(h){return O[" "](h),h}O[" "]=function(){};var M=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function N(h,m,v){for(const C in h)m.call(v,h[C],C,h)}function w(h,m){for(const v in h)m.call(void 0,h[v],v,h)}function E(h){const m={};for(const v in h)m[v]=h[v];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,m){let v,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(v in C)h[v]=C[v];for(let J=0;J<b.length;J++)v=b[J],Object.prototype.hasOwnProperty.call(C,v)&&(h[v]=C[v])}}function P(h){var m=1;h=h.split(":");const v=[];for(;0<m&&h.length;)v.push(h.shift()),m--;return h.length&&v.push(h.join(":")),v}function y(h){a.setTimeout(()=>{throw h},0)}function T(){var h=ee;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class U{constructor(){this.h=this.g=null}add(m,v){const C=F.get();C.set(m,v),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new S(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,ee=new U,R=()=>{const h=a.Promise.resolve(void 0);j=()=>{h.then(ue)}};var ue=()=>{for(var h;h=T();){try{h.h.call(h.g)}catch(v){y(v)}var m=F;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}H=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};a.addEventListener("test",v,m),a.removeEventListener("test",v,m)}catch{}return h}();function Ce(h,m){if(_e.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(M){e:{try{O(m.nodeName);var q=!0;break e}catch{}q=!1}q||(m=null)}}else v=="mouseover"?m=h.fromElement:v=="mouseout"&&(m=h.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:De[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}g(Ce,_e);var De={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),ae=0;function W(h,m,v,C,q){this.listener=h,this.proxy=null,this.src=m,this.type=v,this.capture=!!C,this.ha=q,this.key=++ae,this.da=this.fa=!1}function ne(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h){this.src=h,this.g={},this.h=0}pe.prototype.add=function(h,m,v,C,q){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var Ae=D(h,m,C,q);return-1<Ae?(m=h[Ae],v||(m.fa=!1)):(m=new W(m,this.src,J,!!C,q),m.fa=v,h.push(m)),m};function Re(h,m){var v=m.type;if(v in h.g){var C=h.g[v],q=Array.prototype.indexOf.call(C,m,void 0),J;(J=0<=q)&&Array.prototype.splice.call(C,q,1),J&&(ne(m),h.g[v].length==0&&(delete h.g[v],h.h--))}}function D(h,m,v,C){for(var q=0;q<h.length;++q){var J=h[q];if(!J.da&&J.listener==m&&J.capture==!!v&&J.ha==C)return q}return-1}var L="closure_lm_"+(1e6*Math.random()|0),Y={};function Q(h,m,v,C,q){if(Array.isArray(m)){for(var J=0;J<m.length;J++)Q(h,m[J],v,C,q);return null}return v=ve(v),h&&h[z]?h.K(m,v,u(C)?!!C.capture:!!C,q):$(h,m,v,!1,C,q)}function $(h,m,v,C,q,J){if(!m)throw Error("Invalid event type");var Ae=u(q)?!!q.capture:!!q,Ot=ge(h);if(Ot||(h[L]=Ot=new pe(h)),v=Ot.add(m,v,C,Ae,J),v.proxy)return v;if(C=he(),v.proxy=C,C.src=h,C.listener=v,h.addEventListener)me||(q=Ae),q===void 0&&(q=!1),h.addEventListener(m.toString(),C,q);else if(h.attachEvent)h.attachEvent(oe(m.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function he(){function h(v){return m.call(h.src,h.listener,v)}const m=ie;return h}function de(h,m,v,C,q){if(Array.isArray(m))for(var J=0;J<m.length;J++)de(h,m[J],v,C,q);else C=u(C)?!!C.capture:!!C,v=ve(v),h&&h[z]?(h=h.i,m=String(m).toString(),m in h.g&&(J=h.g[m],v=D(J,v,C,q),-1<v&&(ne(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete h.g[m],h.h--)))):h&&(h=ge(h))&&(m=h.g[m.toString()],h=-1,m&&(h=D(m,v,C,q)),(v=-1<h?m[h]:null)&&le(v))}function le(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[z])Re(m.i,h);else{var v=h.type,C=h.proxy;m.removeEventListener?m.removeEventListener(v,C,h.capture):m.detachEvent?m.detachEvent(oe(v),C):m.addListener&&m.removeListener&&m.removeListener(C),(v=ge(m))?(Re(v,h),v.h==0&&(v.src=null,m[L]=null)):ne(h)}}}function oe(h){return h in Y?Y[h]:Y[h]="on"+h}function ie(h,m){if(h.da)h=!0;else{m=new Ce(m,this);var v=h.listener,C=h.ha||h.src;h.fa&&le(h),h=v.call(C,m)}return h}function ge(h){return h=h[L],h instanceof pe?h:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(h){return typeof h=="function"?h:(h[Pe]||(h[Pe]=function(m){return h.handleEvent(m)}),h[Pe])}function Ie(){te.call(this),this.i=new pe(this),this.M=this,this.F=null}g(Ie,te),Ie.prototype[z]=!0,Ie.prototype.removeEventListener=function(h,m,v,C){de(this,h,m,v,C)};function be(h,m){var v,C=h.F;if(C)for(v=[];C;C=C.F)v.push(C);if(h=h.M,C=m.type||m,typeof m=="string")m=new _e(m,h);else if(m instanceof _e)m.target=m.target||h;else{var q=m;m=new _e(C,h),I(m,q)}if(q=!0,v)for(var J=v.length-1;0<=J;J--){var Ae=m.g=v[J];q=Ye(Ae,C,!0,m)&&q}if(Ae=m.g=h,q=Ye(Ae,C,!0,m)&&q,q=Ye(Ae,C,!1,m)&&q,v)for(J=0;J<v.length;J++)Ae=m.g=v[J],q=Ye(Ae,C,!1,m)&&q}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var v=h.g[m],C=0;C<v.length;C++)ne(v[C]);delete h.g[m],h.h--}}this.F=null},Ie.prototype.K=function(h,m,v,C){return this.i.add(String(h),m,!1,v,C)},Ie.prototype.L=function(h,m,v,C){return this.i.add(String(h),m,!0,v,C)};function Ye(h,m,v,C){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,J=0;J<m.length;++J){var Ae=m[J];if(Ae&&!Ae.da&&Ae.capture==v){var Ot=Ae.listener,Ln=Ae.ha||Ae.src;Ae.fa&&Re(h.i,Ae),q=Ot.call(Ln,C)!==!1&&q}}return q&&!C.defaultPrevented}function ze(h,m,v){if(typeof h=="function")v&&(h=d(h,v));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(h,m||0)}function it(h){h.g=ze(()=>{h.g=null,h.i&&(h.i=!1,it(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class Yt extends te{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(h){te.call(this),this.h=h,this.g={}}g(tt,te);var ar=[];function sn(h){N(h.g,function(m,v){this.g.hasOwnProperty(v)&&le(m)},h),h.g={}}tt.prototype.N=function(){tt.aa.N.call(this),sn(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=a.JSON.stringify,Ct=a.JSON.parse,re=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function V(){}V.prototype.h=null;function G(h){return h.h||(h.h=h.i())}function ye(){}var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function et(){_e.call(this,"d")}g(et,_e);function yt(){_e.call(this,"c")}g(yt,_e);var Et={},zn=null;function on(){return zn=zn||new Ie}Et.La="serverreachability";function ei(h){_e.call(this,Et.La,h)}g(ei,_e);function xe(h){const m=on();be(m,new ei(m))}Et.STAT_EVENT="statevent";function Fe(h,m){_e.call(this,Et.STAT_EVENT,h),this.stat=m}g(Fe,_e);function He(h){const m=on();be(m,new Fe(m,h))}Et.Ma="timingevent";function Ee(h,m){_e.call(this,Et.Ma,h),this.size=m}g(Ee,_e);function Be(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},m)}function $e(){this.g=!0}$e.prototype.xa=function(){this.g=!1};function Ge(h,m,v,C,q,J){h.info(function(){if(h.g)if(J)for(var Ae="",Ot=J.split("&"),Ln=0;Ln<Ot.length;Ln++){var _t=Ot[Ln].split("=");if(1<_t.length){var Wn=_t[0];_t=_t[1];var Gn=Wn.split("_");Ae=2<=Gn.length&&Gn[1]=="type"?Ae+(Wn+"="+_t+"&"):Ae+(Wn+"=redacted&")}}else Ae=null;else Ae=J;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+m+`
`+v+`
`+Ae})}function pn(h,m,v,C,q,J,Ae){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+m+`
`+v+`
`+J+" "+Ae})}function Je(h,m,v,C){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pn(h,v)+(C?" "+C:"")})}function qt(h,m){h.info(function(){return"TIMEOUT: "+m})}$e.prototype.info=function(){};function Pn(h,m){if(!h.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var C=v[h];if(!(2>C.length)){var q=C[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var Ae=1;Ae<q.length;Ae++)q[Ae]=""}}}}return Sn(v)}catch{return m}}var Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wt;function Yn(){}g(Yn,V),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},wt=new Yn;function gt(h,m,v,C){this.j=h,this.i=m,this.l=v,this.R=C||1,this.U=new tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Vr={},an={};function ln(h,m,v){h.L=1,h.v=Cf(_s(m)),h.m=v,h.P=!0,bn(h,null)}function bn(h,m){h.F=Date.now(),un(h),h.A=_s(h.v);var v=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Ow(v.i,"t",C),h.C=0,v=h.j.J,h.h=new qn,h.g=Xw(h.j,v?m:null,!h.m),0<h.O&&(h.M=new Yt(d(h.Y,h,h.g),h.O)),m=h.U,v=h.g,C=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(ar[0]=q.toString()),q=ar);for(var J=0;J<q.length;J++){var Ae=Q(v,q[J],C||m.handleEvent,!1,m.h||m);if(!Ae)break;m.g[Ae.key]=Ae}m=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),xe(),Ge(h.i,h.u,h.A,h.l,h.R,h.m)}gt.prototype.ca=function(h){h=h.target;const m=this.M;m&&vs(h)==3?m.j():this.Y(h)},gt.prototype.Y=function(h){try{if(h==this.g)e:{const Gn=vs(this.g);var m=this.g.Ba();const Tl=this.g.Z();if(!(3>Gn)&&(Gn!=3||this.g&&(this.h.h||this.g.oa()||Fw(this.g)))){this.J||Gn!=4||m==7||(m==8||0>=Tl?xe(3):xe(2)),br(this);var v=this.g.Z();this.X=v;t:if(Vi(this)){var C=Fw(this.g);h="";var q=C.length,J=vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),ms(this);var Ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,h+=this.h.i.decode(C[m],{stream:!(J&&m==q-1)});C.length=0,this.h.g+=h,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=v==200,pn(this.i,this.u,this.A,this.l,this.R,Gn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Ln=this.g;if((Ot=Ln.g?Ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ot)){var _t=Ot;break t}}_t=null}if(v=_t)Je(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,v);else{this.o=!1,this.s=3,He(12),Fi(this),ms(this);break e}}if(this.P){v=!0;let wi;for(;!this.J&&this.C<Ae.length;)if(wi=yl(this,Ae),wi==an){Gn==4&&(this.s=4,He(14),v=!1),Je(this.i,this.l,null,"[Incomplete Response]");break}else if(wi==Vr){this.s=4,He(15),Je(this.i,this.l,Ae,"[Invalid Chunk]"),v=!1;break}else Je(this.i,this.l,wi,null),gs(this,wi);if(Vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gn!=4||Ae.length!=0||this.h.h||(this.s=1,He(16),v=!1),this.o=this.o&&v,!v)Je(this.i,this.l,Ae,"[Invalid Chunked Response]"),Fi(this),ms(this);else if(0<Ae.length&&!this.W){this.W=!0;var Wn=this.j;Wn.g==this&&Wn.ba&&!Wn.M&&(Wn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),ng(Wn),Wn.M=!0,He(11))}}else Je(this.i,this.l,Ae,null),gs(this,Ae);Gn==4&&Fi(this),this.o&&!this.J&&(Gn==4?qw(this.j,this):(this.o=!1,un(this)))}else _x(this.g),v==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),Fi(this),ms(this)}}}catch{}finally{}};function Vi(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function yl(h,m){var v=h.C,C=m.indexOf(`
`,v);return C==-1?an:(v=Number(m.substring(v,C)),isNaN(v)?Vr:(C+=1,C+v>m.length?an:(m=m.slice(C,C+v),h.C=C+v,m)))}gt.prototype.cancel=function(){this.J=!0,Fi(this)};function un(h){h.S=Date.now()+h.I,Zt(h,h.I)}function Zt(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Be(d(h.ba,h),m)}function br(h){h.B&&(a.clearTimeout(h.B),h.B=null)}gt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(qt(this.i,this.A),this.L!=2&&(xe(),He(17)),Fi(this),this.s=2,ms(this)):Zt(this,this.S-h)};function ms(h){h.j.G==0||h.J||qw(h.j,h)}function Fi(h){br(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,sn(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function gs(h,m){try{var v=h.j;if(v.G!=0&&(v.g==h||Qm(v.h,h))){if(!h.K&&Qm(v.h,h)&&v.G==3){try{var C=v.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Mf(v),Of(v);else break e;tg(v),He(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Be(d(v.Za,v),6e3));if(1>=Qs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else sa(v,11)}else if((h.K||v.g==h)&&Mf(v),!x(m))for(q=v.Da.g.parse(m),m=0;m<q.length;m++){let _t=q[m];if(v.T=_t[0],_t=_t[1],v.G==2)if(_t[0]=="c"){v.K=_t[1],v.ia=_t[2];const Wn=_t[3];Wn!=null&&(v.la=Wn,v.j.info("VER="+v.la));const Gn=_t[4];Gn!=null&&(v.Aa=Gn,v.j.info("SVER="+v.Aa));const Tl=_t[5];Tl!=null&&typeof Tl=="number"&&0<Tl&&(C=1.5*Tl,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const wi=h.g;if(wi){const Lf=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lf){var J=C.h;J.g||Lf.indexOf("spdy")==-1&&Lf.indexOf("quic")==-1&&Lf.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Jm(J,J.h),J.h=null))}if(C.D){const rg=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;rg&&(C.ya=rg,Vt(C.I,C.D,rg))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var Ae=h;if(C.qa=Kw(C,C.J?C.ia:null,C.W),Ae.K){Aw(C.h,Ae);var Ot=Ae,Ln=C.L;Ln&&(Ot.I=Ln),Ot.B&&(br(Ot),un(Ot)),C.g=Ae}else zw(C);0<v.i.length&&xf(v)}else _t[0]!="stop"&&_t[0]!="close"||sa(v,7);else v.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?sa(v,7):eg(v):_t[0]!="noop"&&v.l&&v.l.ta(_t),v.v=0)}}xe(4)}catch{}}var ti=class{constructor(h,m){this.g=h,this.map=m}};function Xs(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qs(h){return h.h?1:h.g?h.g.size:0}function Qm(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function Jm(h,m){h.g?h.g.add(m):h.h=m}function Aw(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}Xs.prototype.cancel=function(){if(this.i=Iw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Iw(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const v of h.g.values())m=m.concat(v.D);return m}return _(h.i)}function nx(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var m=[],v=h.length,C=0;C<v;C++)m.push(h[C]);return m}m=[],v=0;for(C in h)m[v++]=h[C];return m}function rx(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var m=[];h=h.length;for(var v=0;v<h;v++)m.push(v);return m}m=[],v=0;for(const C in h)m[v++]=C;return m}}}function Sw(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var v=rx(h),C=nx(h),q=C.length,J=0;J<q;J++)m.call(void 0,C[J],v&&v[J],h)}var Pw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ix(h,m){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var C=h[v].indexOf("="),q=null;if(0<=C){var J=h[v].substring(0,C);q=h[v].substring(C+1)}else J=h[v];m(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ia(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ia){this.h=h.h,Pf(this,h.j),this.o=h.o,this.g=h.g,Rf(this,h.s),this.l=h.l;var m=h.i,v=new Ku;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Rw(this,v),this.m=h.m}else h&&(m=String(h).match(Pw))?(this.h=!1,Pf(this,m[1]||"",!0),this.o=Wu(m[2]||""),this.g=Wu(m[3]||"",!0),Rf(this,m[4]),this.l=Wu(m[5]||"",!0),Rw(this,m[6]||"",!0),this.m=Wu(m[7]||"")):(this.h=!1,this.i=new Ku(null,this.h))}ia.prototype.toString=function(){var h=[],m=this.j;m&&h.push(Gu(m,Cw,!0),":");var v=this.g;return(v||m=="file")&&(h.push("//"),(m=this.o)&&h.push(Gu(m,Cw,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Gu(v,v.charAt(0)=="/"?ax:ox,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Gu(v,ux)),h.join("")};function _s(h){return new ia(h)}function Pf(h,m,v){h.j=v?Wu(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function Rf(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function Rw(h,m,v){m instanceof Ku?(h.i=m,cx(h.i,h.h)):(v||(m=Gu(m,lx)),h.i=new Ku(m,h.h))}function Vt(h,m,v){h.i.set(m,v)}function Cf(h){return Vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Wu(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gu(h,m,v){return typeof h=="string"?(h=encodeURI(h).replace(m,sx),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sx(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Cw=/[#\/\?@]/g,ox=/[#\?:]/g,ax=/[#\?]/g,lx=/[#\?@]/g,ux=/#/g;function Ku(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function Js(h){h.g||(h.g=new Map,h.h=0,h.i&&ix(h.i,function(m,v){h.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=Ku.prototype,t.add=function(h,m){Js(this),this.i=null,h=wl(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(m),this.h+=1,this};function Dw(h,m){Js(h),m=wl(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function kw(h,m){return Js(h),m=wl(h,m),h.g.has(m)}t.forEach=function(h,m){Js(this),this.g.forEach(function(v,C){v.forEach(function(q){h.call(m,q,C,this)},this)},this)},t.na=function(){Js(this);const h=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let C=0;C<m.length;C++){const q=h[C];for(let J=0;J<q.length;J++)v.push(m[C])}return v},t.V=function(h){Js(this);let m=[];if(typeof h=="string")kw(this,h)&&(m=m.concat(this.g.get(wl(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)m=m.concat(h[v])}return m},t.set=function(h,m){return Js(this),this.i=null,h=wl(this,h),kw(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},t.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function Ow(h,m,v){Dw(h,m),0<v.length&&(h.i=null,h.g.set(wl(h,m),_(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var C=m[v];const J=encodeURIComponent(String(C)),Ae=this.V(C);for(C=0;C<Ae.length;C++){var q=J;Ae[C]!==""&&(q+="="+encodeURIComponent(String(Ae[C]))),h.push(q)}}return this.i=h.join("&")};function wl(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function cx(h,m){m&&!h.j&&(Js(h),h.i=null,h.g.forEach(function(v,C){var q=C.toLowerCase();C!=q&&(Dw(this,C),Ow(this,q,v))},h)),h.j=m}function hx(h,m){const v=new $e;if(a.Image){const C=new Image;C.onload=p(Zs,v,"TestLoadImage: loaded",!0,m,C),C.onerror=p(Zs,v,"TestLoadImage: error",!1,m,C),C.onabort=p(Zs,v,"TestLoadImage: abort",!1,m,C),C.ontimeout=p(Zs,v,"TestLoadImage: timeout",!1,m,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else m(!1)}function fx(h,m){const v=new $e,C=new AbortController,q=setTimeout(()=>{C.abort(),Zs(v,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:C.signal}).then(J=>{clearTimeout(q),J.ok?Zs(v,"TestPingServer: ok",!0,m):Zs(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),Zs(v,"TestPingServer: error",!1,m)})}function Zs(h,m,v,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(v)}catch{}}function dx(){this.g=new re}function px(h,m,v){const C=v||"";try{Sw(h,function(q,J){let Ae=q;u(q)&&(Ae=Sn(q)),m.push(C+J+"="+encodeURIComponent(Ae))})}catch(q){throw m.push(C+"type="+encodeURIComponent("_badmap")),q}}function Xu(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Xu,V),Xu.prototype.g=function(){return new Df(this.l,this.j)},Xu.prototype.i=function(h){return function(){return h}}({});function Df(h,m){Ie.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Df,Ie),t=Df.prototype,t.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,Ju(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ju(this)),this.g&&(this.readyState=3,Ju(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xw(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xw(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?Qu(this):Ju(this),this.readyState==3&&xw(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Qu(this))},t.Qa=function(h){this.g&&(this.response=h,Qu(this))},t.ga=function(){this.g&&Qu(this)};function Qu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ju(h)}t.setRequestHeader=function(h,m){this.u.append(h,m)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=m.next();return h.join(`\r
`)};function Ju(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Mw(h){let m="";return N(h,function(v,C){m+=C,m+=":",m+=v,m+=`\r
`}),m}function Zm(h,m,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=Mw(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Vt(h,m,v))}function en(h){Ie.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(en,Ie);var mx=/^https?$/i,gx=["POST","PUT"];t=en.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,m,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wt.g(),this.v=this.o?G(this.o):G(wt),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(J){Nw(this,J);return}if(h=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)v.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())v.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),q=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gx,m,void 0))||C||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,Ae]of v)this.g.setRequestHeader(J,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vw(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Nw(this,J)}};function Nw(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,Lw(h),kf(h)}function Lw(h){h.A||(h.A=!0,be(h,"complete"),be(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,be(this,"complete"),be(this,"abort"),kf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kf(this,!0)),en.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$w(this):this.bb())},t.bb=function(){$w(this)};function $w(h){if(h.h&&typeof o<"u"&&(!h.v[1]||vs(h)!=4||h.Z()!=2)){if(h.u&&vs(h)==4)ze(h.Ea,0,h);else if(be(h,"readystatechange"),vs(h)==4){h.h=!1;try{const Ae=h.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var C;if(C=Ae===0){var q=String(h.D).match(Pw)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),C=!mx.test(q?q.toLowerCase():"")}v=C}if(v)be(h,"complete"),be(h,"success");else{h.m=6;try{var J=2<vs(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",Lw(h)}}finally{kf(h)}}}}function kf(h,m){if(h.g){Vw(h);const v=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||be(h,"ready");try{v.onreadystatechange=C}catch{}}}function Vw(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function vs(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<vs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),Ct(m)}};function Fw(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _x(h){const m={};h=(h.g&&2<=vs(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(x(h[C]))continue;var v=P(h[C]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=m[q]||[];m[q]=J,J.push(v)}w(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zu(h,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||m}function Uw(h){this.Aa=0,this.i=[],this.j=new $e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zu("baseRetryDelayMs",5e3,h),this.cb=Zu("retryDelaySeedMs",1e4,h),this.Wa=Zu("forwardChannelMaxRetries",2,h),this.wa=Zu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(h&&h.concurrentRequestLimit),this.Da=new dx,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uw.prototype,t.la=8,t.G=1,t.connect=function(h,m,v,C){He(0),this.W=h,this.H=m||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=Kw(this,null,this.W),xf(this)};function eg(h){if(Bw(h),h.G==3){var m=h.U++,v=_s(h.I);if(Vt(v,"SID",h.K),Vt(v,"RID",m),Vt(v,"TYPE","terminate"),ec(h,v),m=new gt(h,h.j,m),m.L=2,m.v=Cf(_s(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=m.v,v=!0),v||(m.g=Xw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),un(m)}Gw(h)}function Of(h){h.g&&(ng(h),h.g.cancel(),h.g=null)}function Bw(h){Of(h),h.u&&(a.clearTimeout(h.u),h.u=null),Mf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function xf(h){if(!ra(h.h)&&!h.s){h.s=!0;var m=h.Ga;j||R(),H||(j(),H=!0),ee.add(m,h),h.B=0}}function vx(h,m){return Qs(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Be(d(h.Ga,h,m),Ww(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new gt(this,this.j,h);let J=this.o;if(this.S&&(J?(J=E(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Hw(this,q,m),v=_s(this.I),Vt(v,"RID",h),Vt(v,"CVER",22),this.D&&Vt(v,"X-HTTP-Session-Id",this.D),ec(this,v),J&&(this.O?m="headers="+encodeURIComponent(String(Mw(J)))+"&"+m:this.m&&Zm(v,this.m,J)),Jm(this.h,q),this.Ua&&Vt(v,"TYPE","init"),this.P?(Vt(v,"$req",m),Vt(v,"SID","null"),q.T=!0,ln(q,v,null)):ln(q,v,m),this.G=2}}else this.G==3&&(h?jw(this,h):this.i.length==0||ra(this.h)||jw(this))};function jw(h,m){var v;m?v=m.l:v=h.U++;const C=_s(h.I);Vt(C,"SID",h.K),Vt(C,"RID",v),Vt(C,"AID",h.T),ec(h,C),h.m&&h.o&&Zm(C,h.m,h.o),v=new gt(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),m&&(h.i=m.D.concat(h.i)),m=Hw(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Jm(h.h,v),ln(v,C,m)}function ec(h,m){h.H&&N(h.H,function(v,C){Vt(m,C,v)}),h.l&&Sw({},function(v,C){Vt(m,C,v)})}function Hw(h,m,v){v=Math.min(h.i.length,v);var C=h.l?d(h.l.Na,h.l,h):null;e:{var q=h.i;let J=-1;for(;;){const Ae=["count="+v];J==-1?0<v?(J=q[0].g,Ae.push("ofs="+J)):J=0:Ae.push("ofs="+J);let Ot=!0;for(let Ln=0;Ln<v;Ln++){let _t=q[Ln].g;const Wn=q[Ln].map;if(_t-=J,0>_t)J=Math.max(0,q[Ln].g-100),Ot=!1;else try{px(Wn,Ae,"req"+_t+"_")}catch{C&&C(Wn)}}if(Ot){C=Ae.join("&");break e}}}return h=h.i.splice(0,v),m.D=h,C}function zw(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;j||R(),H||(j(),H=!0),ee.add(m,h),h.v=0}}function tg(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Be(d(h.Fa,h),Ww(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Yw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Be(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),Of(this),Yw(this))};function ng(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Yw(h){h.g=new gt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=_s(h.qa);Vt(m,"RID","rpc"),Vt(m,"SID",h.K),Vt(m,"AID",h.T),Vt(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&Vt(m,"TO",h.ja),Vt(m,"TYPE","xmlhttp"),ec(h,m),h.m&&h.o&&Zm(m,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Cf(_s(m)),v.m=null,v.P=!0,bn(v,h)}t.Za=function(){this.C!=null&&(this.C=null,Of(this),tg(this),He(19))};function Mf(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function qw(h,m){var v=null;if(h.g==m){Mf(h),ng(h),h.g=null;var C=2}else if(Qm(h.h,m))v=m.D,Aw(h.h,m),C=1;else return;if(h.G!=0){if(m.o)if(C==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var q=h.B;C=on(),be(C,new Ee(C,v)),xf(h)}else zw(h);else if(q=m.s,q==3||q==0&&0<m.X||!(C==1&&vx(h,m)||C==2&&tg(h)))switch(v&&0<v.length&&(m=h.h,m.i=m.i.concat(v)),q){case 1:sa(h,5);break;case 4:sa(h,10);break;case 3:sa(h,6);break;default:sa(h,2)}}}function Ww(h,m){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*m}function sa(h,m){if(h.j.info("Error code "+m),m==2){var v=d(h.fb,h),C=h.Xa;const q=!C;C=new ia(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pf(C,"https"),Cf(C),q?hx(C.toString(),v):fx(C.toString(),v)}else He(2);h.G=0,h.l&&h.l.sa(m),Gw(h),Bw(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function Gw(h){if(h.G=0,h.ka=[],h.l){const m=Iw(h.h);(m.length!=0||h.i.length!=0)&&(A(h.ka,m),A(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function Kw(h,m,v){var C=v instanceof ia?_s(v):new ia(v);if(C.g!="")m&&(C.g=m+"."+C.g),Rf(C,C.s);else{var q=a.location;C=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var J=new ia(null);C&&Pf(J,C),m&&(J.g=m),q&&Rf(J,q),v&&(J.l=v),C=J}return v=h.D,m=h.ya,v&&m&&Vt(C,v,m),Vt(C,"VER",h.la),ec(h,C),C}function Xw(h,m,v){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new en(new Xu({eb:v})):new en(h.pa),m.Ha(h.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qw(){}t=Qw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nf(){}Nf.prototype.g=function(h,m){return new Fr(h,m)};function Fr(h,m){Ie.call(this),this.g=new Uw(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!x(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new bl(this)}g(Fr,Ie),Fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fr.prototype.close=function(){eg(this.g)},Fr.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Sn(h),h=v);m.i.push(new ti(m.Ya++,h)),m.G==3&&xf(m)},Fr.prototype.N=function(){this.g.l=null,delete this.j,eg(this.g),delete this.g,Fr.aa.N.call(this)};function Jw(h){et.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(const v in m){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}g(Jw,et);function Zw(){yt.call(this),this.status=1}g(Zw,yt);function bl(h){this.g=h}g(bl,Qw),bl.prototype.ua=function(){be(this.g,"a")},bl.prototype.ta=function(h){be(this.g,new Jw(h))},bl.prototype.sa=function(h){be(this.g,new Zw)},bl.prototype.ra=function(){be(this.g,"b")},Nf.prototype.createWebChannel=Nf.prototype.g,Fr.prototype.send=Fr.prototype.o,Fr.prototype.open=Fr.prototype.m,Fr.prototype.close=Fr.prototype.close,TI=function(){return new Nf},bI=function(){return on()},wI=Et,g_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,vd=Dt,kt.COMPLETE="complete",yI=kt,ye.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,vc=ye,vI=Xu,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,_I=en}).apply(typeof $f<"u"?$f:typeof self<"u"?self:typeof window<"u"?window:{});const hb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new zv("@firebase/firestore");function tc(){return Ya.logLevel}function Ne(t,...e){if(Ya.logLevel<=ct.DEBUG){const n=e.map(Wv);Ya.debug(`Firestore (${Ru}): ${t}`,...n)}}function $s(t,...e){if(Ya.logLevel<=ct.ERROR){const n=e.map(Wv);Ya.error(`Firestore (${Ru}): ${t}`,...n)}}function ou(t,...e){if(Ya.logLevel<=ct.WARN){const n=e.map(Wv);Ya.warn(`Firestore (${Ru}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t="Unexpected state"){const e=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: `+t;throw $s(e),new Error(e)}function $t(t,e){t||We()}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jn.UNAUTHENTICATED))}shutdown(){}}class QM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JM{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new EI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string"),new Jn(e)}}class ZM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new tN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function au(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new An(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new An(0,0))}static max(){return new Ke(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(),r===void 0?r=e.length-n:r>e.length-n&&We(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bt extends gh{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const iN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends gh{construct(e,n,r){return new Vn(e,n,r)}static isValidIdentifier(e){return iN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ke(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ke(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ke(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Bt.fromString(e))}static fromName(e){return new je(Bt.fromString(e).popFirst(5))}static empty(){return new je(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Bt(e.slice()))}}function sN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new An(n+1,0):new An(n,r));return new $o(i,je.empty(),e)}function oN(t){return new $o(t.readTime,t.key,-1)}class $o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $o(Ke.min(),je.empty(),-1)}static max(){return new $o(Ke.max(),je.empty(),-1)}}function aN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==lN)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(i=>i?fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new fe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function cN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ef(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gv.oe=-1;function tm(t){return t==null}function Qd(t){return t===0&&1/t==-1/0}function hN(t){return typeof t=="number"&&Number.isInteger(t)&&!Qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function II(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new Xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vf(this.root,e,this.comparator,!0)}}class Vf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$n.RED,this.left=i??$n.EMPTY,this.right=s??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $n(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,n,r,i,s){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new db(this.data.getIterator())}getIteratorFrom(e){return new db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new Si([])}unionWith(e){let n=new Bn(Vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new SI("Invalid base64 string: "+s):s}}(e);return new sr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const fN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(t){if($t(!!t),typeof t=="string"){let e=0;const n=fN.exec(t);if($t(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qa(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xv(t){const e=t.mapValue.fields.__previous_value__;return Kv(e)?Xv(e):e}function _h(t){const e=Vo(t.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class vh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:pN(t)?9007199254740991:10:We()}function as(t,e){if(t===e)return!0;const n=Wa(t);if(n!==Wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _h(t).isEqual(_h(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vo(i.timestampValue),a=Vo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qa(i.bytesValue).isEqual(qa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _n(i.geoPointValue.latitude)===_n(s.geoPointValue.latitude)&&_n(i.geoPointValue.longitude)===_n(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _n(i.integerValue)===_n(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=_n(i.doubleValue),a=_n(s.doubleValue);return o===a?Qd(o)===Qd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return au(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(fb(o)!==fb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!as(o[l],a[l])))return!1;return!0}(t,e);default:return We()}}function yh(t,e){return(t.values||[]).find(n=>as(n,e))!==void 0}function lu(t,e){if(t===e)return 0;const n=Wa(t),r=Wa(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=_n(s.integerValue||s.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return pb(t.timestampValue,e.timestampValue);case 4:return pb(_h(t),_h(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qa(s),l=qa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=bt(a[u],l[u]);if(c!==0)return c}return bt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=bt(_n(s.latitude),_n(o.latitude));return a!==0?a:bt(_n(s.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=lu(a[u],l[u]);if(c)return c}return bt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ff.mapValue&&o===Ff.mapValue)return 0;if(s===Ff.mapValue)return 1;if(o===Ff.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=bt(l[f],c[f]);if(d!==0)return d;const p=lu(a[l[f]],u[c[f]]);if(p!==0)return p}return bt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw We()}}function pb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=Vo(t),r=Vo(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function uu(t){return __(t)}function __(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=__(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${__(n.fields[o])}`;return i+"}"}(t.mapValue):We()}function mb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function v_(t){return!!t&&"integerValue"in t}function Qv(t){return!!t&&"arrayValue"in t}function gb(t){return!!t&&"nullValue"in t}function _b(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yd(t){return!!t&&"mapValue"in t}function Mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(n)}setAll(e){let n=Vn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Mc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new oi(Mc(this.value))}}function PI(t){const e=[];return Cu(t.fields,(n,r)=>{const i=new Vn([n]);if(yd(r)){const s=PI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new er(e,0,Ke.min(),Ke.min(),Ke.min(),oi.empty(),0)}static newFoundDocument(e,n,r,i){return new er(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new er(e,2,n,Ke.min(),Ke.min(),oi.empty(),0)}static newUnknownDocument(e,n){return new er(e,3,n,Ke.min(),Ke.min(),oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.position=e,this.inclusive=n}}function vb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=je.comparator(je.fromName(o.referenceValue),n.key):r=lu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function mN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{}class yn extends RI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _N(e,n,r):n==="array-contains"?new wN(e,r):n==="in"?new bN(e,r):n==="not-in"?new TN(e,r):n==="array-contains-any"?new EN(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vN(e,r):new yN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lu(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends RI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Di(e,n)}matches(e){return CI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function CI(t){return t.op==="and"}function DI(t){return gN(t)&&CI(t)}function gN(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function y_(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(DI(t))return t.filters.map(e=>y_(e)).join(",");{const e=t.filters.map(n=>y_(n)).join(",");return`${t.op}(${e})`}}function kI(t,e){return t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.field.isEqual(i.field)&&as(r.value,i.value)}(t,e):t instanceof Di?function(r,i){return i instanceof Di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kI(o,i.filters[a]),!0):!1}(t,e):void We()}function OI(t){return t instanceof yn?function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`}(t):t instanceof Di?function(n){return n.op.toString()+" {"+n.getFilters().map(OI).join(" ,")+"}"}(t):"Filter"}class _N extends yn{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class vN extends yn{constructor(e,n){super(e,"in",n),this.keys=xI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yN extends yn{constructor(e,n){super(e,"not-in",n),this.keys=xI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class wN extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qv(n)&&yh(n.arrayValue,this.value)}}class bN extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yh(this.value.arrayValue,n)}}class TN extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yh(this.value.arrayValue,n)}}class EN extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function wb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new AN(t,e,n,r,i,s,o)}function Jv(t){const e=Qe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),e.ue=n}return e.ue}function Zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yb(t.startAt,e.startAt)&&yb(t.endAt,e.endAt)}function w_(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IN(t,e,n,r,i,s,o,a){return new Du(t,e,n,r,i,s,o,a)}function ey(t){return new Du(t)}function bb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MI(t){return t.collectionGroup!==null}function Nc(t){const e=Qe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bn(Vn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new wh(s,r))}),n.has(Vn.keyField().canonicalString())||e.ce.push(new wh(Vn.keyField(),r))}return e.ce}function Zi(t){const e=Qe(t);return e.le||(e.le=SN(e,Nc(t))),e.le}function SN(t,e){if(t.limitType==="F")return wb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new wh(i.field,s)});const n=t.endAt?new Jd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jd(t.startAt.position,t.startAt.inclusive):null;return wb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function b_(t,e){const n=t.filters.concat([e]);return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function T_(t,e,n){return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return Zv(Zi(t),Zi(e))&&t.limitType===e.limitType}function NI(t){return`${Jv(Zi(t))}|lt:${t.limitType}`}function Cl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OI(i)).join(", ")}]`),tm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uu(i)).join(",")),`Target(${r})`}(Zi(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):je.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=vb(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Nc(r),i)||r.endAt&&!function(o,a,l){const u=vb(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Nc(r),i))}(t,e)}function PN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LI(t){return(e,n)=>{let r=!1;for(const i of Nc(t)){const s=RN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RN(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?lu(l,u):We()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return II(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new Xt(je.comparator);function Vs(){return CN}const $I=new Xt(je.comparator);function yc(...t){let e=$I;for(const n of t)e=e.insert(n.key,n);return e}function VI(t){let e=$I;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ea(){return Lc()}function FI(){return Lc()}function Lc(){return new ku(t=>t.toString(),(t,e)=>t.isEqual(e))}const DN=new Xt(je.comparator),kN=new Bn(je.comparator);function at(...t){let e=kN;for(const n of t)e=e.add(n);return e}const ON=new Bn(bt);function xN(){return ON}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function BI(t){return{integerValue:""+t}}function MN(t,e){return hN(e)?BI(e):UI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function NN(t,e,n){return t instanceof Zd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kv(s)&&(s=Xv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bh?HI(t,e):t instanceof Th?zI(t,e):function(i,s){const o=jI(i,s),a=Tb(o)+Tb(i.Pe);return v_(o)&&v_(i.Pe)?BI(a):UI(i.serializer,a)}(t,e)}function LN(t,e,n){return t instanceof bh?HI(t,e):t instanceof Th?zI(t,e):n}function jI(t,e){return t instanceof ep?function(r){return v_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Zd extends im{}class bh extends im{constructor(e){super(),this.elements=e}}function HI(t,e){const n=YI(e);for(const r of t.elements)n.some(i=>as(i,r))||n.push(r);return{arrayValue:{values:n}}}class Th extends im{constructor(e){super(),this.elements=e}}function zI(t,e){let n=YI(e);for(const r of t.elements)n=n.filter(i=>!as(i,r));return{arrayValue:{values:n}}}class ep extends im{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Tb(t){return _n(t.integerValue||t.doubleValue)}function YI(t){return Qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $N(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bh&&i instanceof bh||r instanceof Th&&i instanceof Th?au(r.elements,i.elements,as):r instanceof ep&&i instanceof ep?as(r.Pe,i.Pe):r instanceof Zd&&i instanceof Zd}(t.transform,e.transform)}class VN{constructor(e,n){this.version=e,this.transformResults=n}}class Ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function qI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ty(t.key,Ri.none()):new tf(t.key,t.data,Ri.none());{const n=t.data,r=oi.empty();let i=new Bn(Vn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ll(t.key,r,new Si(i.toArray()),Ri.none())}}function FN(t,e,n){t instanceof tf?function(i,s,o){const a=i.value.clone(),l=Ab(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ll?function(i,s,o){if(!wd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Ab(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(WI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $c(t,e,n,r){return t instanceof tf?function(s,o,a,l){if(!wd(s.precondition,o))return a;const u=s.value.clone(),c=Ib(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ll?function(s,o,a,l){if(!wd(s.precondition,o))return a;const u=Ib(s.fieldTransforms,l,o),c=o.data;return c.setAll(WI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return wd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function UN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jI(r.transform,i||null);s!=null&&(n===null&&(n=oi.empty()),n.set(r.field,s))}return n||null}function Eb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&au(r,i,(s,o)=>$N(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tf extends sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ll extends sm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ab(t,e,n){const r=new Map;$t(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,LN(o,a,n[i]))}return r}function Ib(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,NN(s,o,e))}return r}class ty extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BN extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&FN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,(n,r)=>Eb(n,r))&&au(this.baseMutations,e.baseMutations,(n,r)=>Eb(n,r))}}class ny{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length);let i=function(){return DN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ny(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,pt;function YN(t){switch(t){default:return We();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function GI(t){if(t===void 0)return $s("GRPC error has no .code"),ce.UNKNOWN;switch(t){case mn.OK:return ce.OK;case mn.CANCELLED:return ce.CANCELLED;case mn.UNKNOWN:return ce.UNKNOWN;case mn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case mn.INTERNAL:return ce.INTERNAL;case mn.UNAVAILABLE:return ce.UNAVAILABLE;case mn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case mn.NOT_FOUND:return ce.NOT_FOUND;case mn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case mn.ABORTED:return ce.ABORTED;case mn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case mn.DATA_LOSS:return ce.DATA_LOSS;default:return We()}}(pt=mn||(mn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Pa([4294967295,4294967295],0);function Sb(t){const e=qN().encode(t),n=new gI;return n.update(e),new Uint8Array(n.digest())}function Pb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([i,s],0)]}class ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wc(`Invalid padding: ${n}`);if(r<0)throw new wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Pa.fromNumber(r)));return i.compare(WN)===1&&(i=new Pa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Sb(e),[r,i]=Pb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ry(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Sb(e),[r,i]=Pb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new om(Ke.min(),i,new Xt(bt),Vs(),at())}}class nf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nf(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class KI{constructor(e,n){this.targetId=e,this.me=n}}class XI{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Rb{constructor(){this.fe=0,this.ge=Db(),this.pe=sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=at(),n=at(),r=at();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:We()}}),new nf(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Db()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vs(),this.qe=Cb(),this.Qe=new Xt(bt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:We()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(w_(s))if(r===0){const o=new je(s.path);this.Ue(n,o,er.newNoDocument(o,Ke.min()))}else $t(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qa(r).toUint8Array()}catch(l){if(l instanceof SI)return ou("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ry(o,i,s)}catch(l){return ou(l instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&w_(a.target)){const l=new je(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,er.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=at();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new om(e,n,this.Qe,this.ke,r);return this.ke=Vs(),this.qe=Cb(),this.Qe=new Xt(bt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Rb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bn(bt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Rb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Cb(){return new Xt(je.comparator)}function Db(){return new Xt(je.comparator)}const KN={asc:"ASCENDING",desc:"DESCENDING"},XN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QN={and:"AND",or:"OR"};class JN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function E_(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZN(t,e){return tp(t,e.toTimestamp())}function es(t){return $t(!!t),Ke.fromTimestamp(function(n){const r=Vo(n);return new An(r.seconds,r.nanos)}(t))}function iy(t,e){return A_(t,e).canonicalString()}function A_(t,e){const n=function(i){return new Bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JI(t){const e=Bt.fromString(t);return $t(rS(e)),e}function I_(t,e){return iy(t.databaseId,e.path)}function ug(t,e){const n=JI(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(eS(n))}function ZI(t,e){return iy(t.databaseId,e)}function eL(t){const e=JI(t);return e.length===4?Bt.emptyPath():eS(e)}function S_(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eS(t){return $t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kb(t,e,n){return{name:I_(t,e),fields:n.value.mapValue.fields}}function tL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?($t(c===void 0||typeof c=="string"),sr.fromBase64String(c||"")):($t(c===void 0||c instanceof Buffer||c instanceof Uint8Array),sr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ce.UNKNOWN:GI(u.code);return new ke(c,u.message||"")}(o);n=new XI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ug(t,r.document.name),s=es(r.document.updateTime),o=r.document.createTime?es(r.document.createTime):Ke.min(),a=new oi({mapValue:{fields:r.document.fields}}),l=er.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new bd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ug(t,r.document),s=r.readTime?es(r.readTime):Ke.min(),o=er.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ug(t,r.document),s=r.removedTargetIds||[];n=new bd([],s,i,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zN(i,s),a=r.targetId;n=new KI(a,o)}}return n}function nL(t,e){let n;if(e instanceof tf)n={update:kb(t,e.key,e.value)};else if(e instanceof ty)n={delete:I_(t,e.key)};else if(e instanceof ll)n={update:kb(t,e.key,e.data),updateMask:hL(e.fieldMask)};else{if(!(e instanceof BN))return We();n={verify:I_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Zd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Th)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ep)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw We()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:We()}(t,e.precondition)),n}function rL(t,e){return t&&t.length>0?($t(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?es(i.updateTime):es(s);return o.isEqual(Ke.min())&&(o=es(s)),new VN(o,i.transformResults||[])}(n,e))):[]}function iL(t,e){return{documents:[ZI(t,e.path)]}}function sL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZI(t,i);const s=function(u){if(u.length!==0)return nS(Di.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Dl(d.field),direction:lL(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=E_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function oL(t){let e=eL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const d=tS(f);return d instanceof Di&&DI(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(g){return new wh(kl(g.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,tm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Jd(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Jd(p,d)}(n.endAt)),IN(e,i,o,s,a,"F",l,u)}function aL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=kl(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kl(n.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=kl(n.unaryFilter.field);return yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=kl(n.unaryFilter.field);return yn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(t):t.fieldFilter!==void 0?function(n){return yn.create(kl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Di.create(n.compositeFilter.filters.map(r=>tS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We()}}(n.compositeFilter.op))}(t):We()}function lL(t){return KN[t]}function uL(t){return XN[t]}function cL(t){return QN[t]}function Dl(t){return{fieldPath:t.canonicalString()}}function kl(t){return Vn.fromServerFormat(t.fieldPath)}function nS(t){return t instanceof yn?function(n){if(n.op==="=="){if(_b(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NAN"}};if(gb(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_b(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NAN"}};if(gb(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(n.field),op:uL(n.op),value:n.value}}}(t):t instanceof Di?function(n){const r=n.getFilters().map(i=>nS(i));return r.length===1?r[0]:{compositeFilter:{op:cL(n.op),filters:r}}}(t):We()}function hL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,i,s=Ke.min(),o=Ke.min(),a=sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.ct=e}}function dL(t){const e=oL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?T_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this._n=new mL}addToCollectionParentIndex(e,n){return this._n.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve($o.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class mL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bn(Bt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new cu(0)}static Ln(){return new cu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.changes=new ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$c(r.mutation,i,Si.empty(),An.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){const i=Ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vs();const o=Lc(),a=function(){return Lc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ll)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),$c(c.mutation,u,c.mutation.getFieldMask(),An.now())):o.set(u.key,Si.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new _L(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Lc();let i=new Xt((o,a)=>o-a),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Si.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||at()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=FI();c.forEach(d=>{if(!s.has(d)){const p=qI(n.get(d),r.get(d));p!==null&&f.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return fe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):fe.resolve(Ea());let a=-1,l=s;return o.next(u=>fe.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?fe.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,at())).next(c=>({batchId:a,changes:VI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let i=yc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=yc();return this.indexManager.getCollectionParents(e,s).next(a=>fe.forEach(a,l=>{const u=function(f,d){return new Du(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,er.newInvalidDocument(c)))});let a=yc();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&$c(c.mutation,u,Si.empty(),An.now()),rm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return fe.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:es(i.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:dL(i.bundledQuery),readTime:es(i.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.overlays=new Xt(je.comparator),this.hr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ea();return fe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=Ea(),s=n.length+1,o=new je(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Xt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ea(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ea(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return fe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HN(n,r));let s=this.hr.get(n);s===void 0&&(s=at(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.Pr=new Bn(Dn.Ir),this.Tr=new Bn(Dn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Dn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Dn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new je(new Bt([])),r=new Dn(n,e),i=new Dn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new je(new Bt([])),r=new Dn(n,e),i=new Dn(n,e+1);let s=at();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return je.comparator(e.key,n.key)||bt(e.pr,n.pr)}static Er(e,n){return bt(e.pr,n.pr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bn(Dn.Ir)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Dn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dn(n,0),i=new Dn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(bt);return n.forEach(i=>{const s=new Dn(i,0),o=new Dn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),fe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;je.isDocumentKey(s)||(s=s.child(""));const o=new Dn(new je(s),0);let a=new Bn(bt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),fe.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$t(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return fe.forEach(n.mutations,i=>{const s=new Dn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Dn(n,0),i=this.wr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.vr=e,this.docs=function(){return new Xt(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():er.newInvalidDocument(n))}getEntries(e,n){let r=Vs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():er.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vs();const o=n.path,a=new je(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aN(oN(c),r)<=0||(i.has(c.key)||rm(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){We()}Fr(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EL(this)}getSize(e){return fe.resolve(this.size)}}class EL extends gL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.persistence=e,this.Mr=new ku(n=>Jv(n),Zv),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new sy,this.targetCount=0,this.Lr=cu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),fe.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new cu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.qn(n),fe.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),fe.waitFor(s).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.Br={},this.overlays={},this.kr=new Gv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new AL(this),this.indexManager=new pL,this.remoteDocumentCache=function(i){return new TL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new fL(n),this.$r=new yL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new bL(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new SL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return fe.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class SL extends uN{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.zr=new sy,this.jr=null}static Hr(e){return new oy(e)}get Jr(){if(this.jr)return this.jr;throw We()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),fe.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Jr,r=>{const i=je.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return fe.or([()=>fe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=at(),i=at();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ay(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Ox()?8:cN(Hn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new PL;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(tc()<=ct.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),fe.resolve()):(tc()<=ct.DEBUG&&Ne("QueryEngine","Query:",Cl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(tc()<=ct.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):fe.resolve())}ji(e,n){if(bb(n))return fe.resolve(null);let r=Zi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=T_(n,null,"F"),r=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=at(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,T_(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return bb(n)||i.isEqual(Ke.min())?fe.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?fe.resolve(null):(tc()<=ct.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cl(n)),this.es(e,o,n,sN(i,-1)).next(a=>a))})}Zi(e,n){let r=new Bn(LI(e));return n.forEach((i,s)=>{rm(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return tc()<=ct.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Cl(n)),this.zi.getDocumentsMatchingQuery(e,n,$o.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Xt(bt),this.rs=new ku(s=>Jv(s),Zv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function DL(t,e,n,r){return new CL(t,e,n,r)}async function iS(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=at();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function kL(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=fe.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const A=u.docVersions.get(g);$t(A!==null),_.version.compareTo(A)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=at();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sS(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function OL(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(sr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(_,A,S){return _.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(s,p))});let l=Vs(),u=at();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(xL(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Ke.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return fe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function xL(t,e,n){let r=at(),i=at();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vs();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function ML(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NL(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,fe.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new bo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function P_(t,e,n){const r=Qe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ef(o))throw o;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Ob(t,e,n){const r=Qe(t);let i=Ke.min(),s=at();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Qe(l),d=f.rs.get(c);return d!==void 0?fe.resolve(f.ns.get(d)):f.Qr.getTargetData(u,c)}(r,o,Zi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Ke.min(),n?s:at())).next(a=>(LL(r,PN(e),a),{documents:a,hs:s})))}function LL(t,e,n){let r=t.ss.get(e)||Ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class xb{constructor(){this.activeTargetIds=xN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $L{constructor(){this.no=new xb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new xb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf=null;function cg(){return Uf===null?Uf=function(){return 268435456+Math.round(2147483648*Math.random())}():Uf++,"0x"+Uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class BL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=cg(),l=this.vo(n,r.toUriEncodedString());Ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,i).then(c=>(Ne("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ou("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ru}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=FL[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=cg();return new Promise((o,a)=>{const l=new _I;l.setWithCredentials(!0),l.listenOnce(yI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vd.NO_ERROR:const c=l.getResponseJson();Ne(Kn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case vd.TIMEOUT:Ne(Kn,`RPC '${e}' ${s} timed out`),a(new ke(ce.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const f=l.getStatus();if(Ne(Kn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(A){const S=A.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(S)>=0?S:ce.UNKNOWN}(p.status);a(new ke(g,p.message))}else a(new ke(ce.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ke(ce.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Ne(Kn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ne(Kn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=cg(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TI(),a=bI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new vI({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ne(Kn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let d=!1,p=!1;const g=new UL({lo:A=>{p?Ne(Kn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(d||(Ne(Kn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),Ne(Kn,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},ho:()=>f.close()}),_=(A,S,x)=>{A.listen(S,k=>{try{x(k)}catch(O){setTimeout(()=>{throw O},0)}})};return _(f,vc.EventType.OPEN,()=>{p||(Ne(Kn,`RPC '${e}' stream ${i} transport opened.`),g.mo())}),_(f,vc.EventType.CLOSE,()=>{p||(p=!0,Ne(Kn,`RPC '${e}' stream ${i} transport closed`),g.po())}),_(f,vc.EventType.ERROR,A=>{p||(p=!0,ou(Kn,`RPC '${e}' stream ${i} transport errored:`,A),g.po(new ke(ce.UNAVAILABLE,"The operation could not be completed")))}),_(f,vc.EventType.MESSAGE,A=>{var S;if(!p){const x=A.data[0];$t(!!x);const k=x,O=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(O){Ne(Kn,`RPC '${e}' stream ${i} received error:`,O);const M=O.status;let N=function(b){const I=mn[b];if(I!==void 0)return GI(I)}(M),w=O.message;N===void 0&&(N=ce.INTERNAL,w="Unknown error status: "+M+" with message "+O.message),p=!0,g.po(new ke(N,w)),f.close()}else Ne(Kn,`RPC '${e}' stream ${i} received:`,x),g.yo(x)}}),_(a,wI.STAT_EVENT,A=>{A.stat===g_.PROXY?Ne(Kn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===g_.NOPROXY&&Ne(Kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return new JN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new oS(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?($s(n.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ke(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jL extends aS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=tL(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?es(o.readTime):Ke.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=S_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=w_(l)?{documents:iL(s,l)}:{query:sL(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QI(s,o.resumeToken);const u=E_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=tp(s,o.snapshotVersion.toTimestamp());const u=E_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=aL(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=S_(this.serializer),n.removeTarget=e,this.i_(n)}}class HL extends aS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=rL(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.A_(r,n)}return $t(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=S_(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nL(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,A_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ce.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,A_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ce.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class YL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?($s(n),this.y_=!1):Ne("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{ul(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Qe(l);u.M_.add(4),await rf(u),u.N_.set("Unknown"),u.M_.delete(4),await lm(u)}(this))})}),this.N_=new YL(r,i)}}async function lm(t){if(ul(t))for(const e of t.x_)await e(!0)}async function rf(t){for(const e of t.x_)await e(!1)}function lS(t,e){const n=Qe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),hy(n)?cy(n):Ou(n).Xo()&&uy(n,e))}function ly(t,e){const n=Qe(t),r=Ou(n);n.F_.delete(e),r.Xo()&&uS(n,e),n.F_.size===0&&(r.Xo()?r.n_():ul(n)&&n.N_.set("Unknown"))}function uy(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).P_(e)}function uS(t,e){t.L_.xe(e),Ou(t).I_(e)}function cy(t){t.L_=new GN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.N_.w_()}function hy(t){return ul(t)&&!Ou(t).Zo()&&t.F_.size>0}function ul(t){return Qe(t).M_.size===0}function cS(t){t.L_=void 0}async function WL(t){t.N_.set("Online")}async function GL(t){t.F_.forEach((e,n)=>{uy(t,e)})}async function KL(t,e){cS(t),hy(t)?(t.N_.D_(e),cy(t)):t.N_.set("Unknown")}async function XL(t,e,n){if(t.N_.set("Online"),e instanceof XI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await np(t,r)}else if(e instanceof bd?t.L_.Ke(e):e instanceof KI?t.L_.He(e):t.L_.We(e),!n.isEqual(Ke.min()))try{const r=await sS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.F_.get(u);c&&s.F_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.F_.get(l);if(!c)return;s.F_.set(l,c.withResumeToken(sr.EMPTY_BYTE_STRING,c.snapshotVersion)),uS(s,l);const f=new bo(c.target,l,u,c.sequenceNumber);uy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await np(t,r)}}async function np(t,e,n){if(!ef(e))throw e;t.M_.add(1),await rf(t),t.N_.set("Offline"),n||(n=()=>sS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await lm(t)})}function hS(t,e){return e().catch(n=>np(t,n,e))}async function um(t){const e=Qe(t),n=Fo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;QL(e);)try{const i=await ML(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,JL(e,i)}catch(i){await np(e,i)}fS(e)&&dS(e)}function QL(t){return ul(t)&&t.v_.length<10}function JL(t,e){t.v_.push(e);const n=Fo(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function fS(t){return ul(t)&&!Fo(t).Zo()&&t.v_.length>0}function dS(t){Fo(t).start()}async function ZL(t){Fo(t).V_()}async function e$(t){const e=Fo(t);for(const n of t.v_)e.d_(n.mutations)}async function t$(t,e,n){const r=t.v_.shift(),i=ny.from(r,e,n);await hS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await um(t)}async function n$(t,e){e&&Fo(t).E_&&await async function(r,i){if(function(o){return YN(o)&&o!==ce.ABORTED}(i.code)){const s=r.v_.shift();Fo(r).t_(),await hS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await um(r)}}(t,e),fS(t)&&dS(t)}async function Nb(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=ul(n);n.M_.add(3),await rf(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await lm(n)}async function r$(t,e){const n=Qe(t);e?(n.M_.delete(2),await lm(n)):e||(n.M_.add(2),await rf(n),n.N_.set("Unknown"))}function Ou(t){return t.B_||(t.B_=function(n,r,i){const s=Qe(n);return s.f_(),new jL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:WL.bind(null,t),To:GL.bind(null,t),Ao:KL.bind(null,t),h_:XL.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),hy(t)?cy(t):t.N_.set("Unknown")):(await t.B_.stop(),cS(t))})),t.B_}function Fo(t){return t.k_||(t.k_=function(n,r,i){const s=Qe(n);return s.f_(),new HL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:ZL.bind(null,t),Ao:n$.bind(null,t),R_:e$.bind(null,t),A_:t$.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await um(t)):(await t.k_.stop(),t.v_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if($s("AsyncQueue",`${e}: ${t}`),ef(t))return new ke(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=yc(),this.sortedSet=new Xt(this.comparator)}static emptySet(e){return new Hl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.q_=new Xt(je.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):We():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hu(e,n,Hl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class s${constructor(){this.queries=new ku(e=>NI(e),nm),this.onlineState="Unknown",this.z_=new Set}}async function pS(t,e){const n=Qe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new i$,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=dy(o,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&py(n)}async function mS(t,e){const n=Qe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function o$(t,e){const n=Qe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&py(n)}function a$(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function py(t){t.z_.forEach(e=>{e.next()})}var R_,$b;($b=R_||(R_={})).J_="default",$b.Cache="cache";class gS{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==R_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.key=e}}class vS{constructor(e){this.key=e}}class l${constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=at(),this.mutatedKeys=at(),this.Ia=LI(e),this.Ta=new Hl(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Lb,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=rm(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let A=!1;d&&p?d.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),A=!0):this.Ra(d,p)||(r.track({type:2,doc:p}),A=!0,(l&&this.Ia(p,l)>0||u&&this.Ia(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),A=!0):d&&!p&&(r.track({type:1,doc:d}),A=!0,(l||u)&&(a=!0)),A&&(p?(o=o.add(p),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((c,f)=>function(p,g){const _=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return _(p)-_(g)}(c.type,f.type)||this.Ia(c.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new hu(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Lb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=at(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new vS(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new _S(r))}),n}pa(e){this.la=e.hs,this.Pa=at();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return hu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class u${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class c${constructor(e){this.key=e,this.wa=!1}}class h${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ku(a=>NI(a),nm),this.Da=new Map,this.Ca=new Set,this.va=new Xt(je.comparator),this.Fa=new Map,this.Ma=new sy,this.xa={},this.Oa=new Map,this.Na=cu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function f$(t,e,n=!0){const r=AS(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await yS(r,e,n,!0),i}async function d$(t,e){const n=AS(t);await yS(n,e,!0,!1)}async function yS(t,e,n,r){const i=await NL(t.localStore,Zi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await p$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lS(t.remoteStore,i),a}async function p$(t,e,n,r,i){t.Ba=(f,d,p)=>async function(_,A,S,x){let k=A.view.da(S);k.Xi&&(k=await Ob(_.localStore,A.query,!1).then(({documents:w})=>A.view.da(w,k)));const O=x&&x.targetChanges.get(A.targetId),M=x&&x.targetMismatches.get(A.targetId)!=null,N=A.view.applyChanges(k,_.isPrimaryClient,O,M);return Fb(_,A.targetId,N.fa),N.snapshot}(t,f,d,p);const s=await Ob(t.localStore,e,!0),o=new l$(e,s.hs),a=o.da(s.documents),l=nf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Fb(t,n,u.fa);const c=new u$(e,n,o);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function m$(t,e,n){const r=Qe(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!nm(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await P_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ly(r.remoteStore,i.targetId),C_(r,i.targetId)}).catch(Zh)):(C_(r,i.targetId),await P_(r.localStore,i.targetId,!0))}async function g$(t,e){const n=Qe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ly(n.remoteStore,r.targetId))}async function _$(t,e,n){const r=A$(t);try{const i=await function(o,a){const l=Qe(o),u=An.now(),c=a.reduce((p,g)=>p.add(g.key),at());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Vs(),_=at();return l.os.getEntries(p,c).next(A=>{g=A,g.forEach((S,x)=>{x.isValidDocument()||(_=_.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(A=>{f=A;const S=[];for(const x of a){const k=UN(x,f.get(x.key).overlayedDocument);k!=null&&S.push(new ll(x.key,k,PI(k.value.mapValue),Ri.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,S,a)}).next(A=>{d=A;const S=A.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,A.batchId,S)})}).then(()=>({batchId:d.batchId,changes:VI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Xt(bt)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await sf(r,i.changes),await um(r.remoteStore)}catch(i){const s=dy(i,"Failed to persist write");n.reject(s)}}async function wS(t,e){const n=Qe(t);try{const r=await OL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?$t(o.wa):i.removedDocuments.size>0&&($t(o.wa),o.wa=!1))}),await sf(n,r,e)}catch(r){await Zh(r)}}function Vb(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Qe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.U_)d.j_(a)&&(u=!0)}),u&&py(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function v$(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Xt(je.comparator);o=o.insert(s,er.newNoDocument(s,Ke.min()));const a=at().add(s),l=new om(Ke.min(),new Map,new Xt(bt),o,a);await wS(r,l),r.va=r.va.remove(s),r.Fa.delete(e),my(r)}else await P_(r.localStore,e,!1).then(()=>C_(r,e,n)).catch(Zh)}async function y$(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await kL(n.localStore,e);TS(n,r,null),bS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sf(n,i)}catch(i){await Zh(i)}}async function w$(t,e,n){const r=Qe(t);try{const i=await function(o,a){const l=Qe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>($t(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);TS(r,e,n),bS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sf(r,i)}catch(i){await Zh(i)}}function bS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function TS(t,e,n){const r=Qe(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function C_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||ES(t,r)})}function ES(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(ly(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),my(t))}function Fb(t,e,n){for(const r of n)r instanceof _S?(t.Ma.addReference(r.key,e),b$(t,r)):r instanceof vS?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||ES(t,r.key)):We()}function b$(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.Ca.add(r),my(t))}function my(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new je(Bt.fromString(e)),r=t.Na.next();t.Fa.set(r,new c$(n)),t.va=t.va.insert(n,r),lS(t.remoteStore,new bo(Zi(ey(n.path)),r,"TargetPurposeLimboResolution",Gv.oe))}}async function sf(t,e,n){const r=Qe(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const c=u&&!u.fromCache;r.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){i.push(u);const c=ay.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,u){const c=Qe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>fe.forEach(u,d=>fe.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>fe.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!ef(f))throw f;Ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.ns.get(d),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(d,_)}}}(r.localStore,s))}async function T$(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await iS(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ke(ce.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sf(n,r.us)}}function E$(t,e){const n=Qe(t),r=n.Fa.get(e);if(r&&r.wa)return at().add(r.key);{let i=at();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function AS(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v$.bind(null,e),e.Sa.h_=o$.bind(null,e.eventManager),e.Sa.ka=a$.bind(null,e.eventManager),e}function A$(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w$.bind(null,e),e}class Ub{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return DL(this.persistence,new RL,e.initialUser,this.serializer)}createPersistence(e){return new IL(oy.Hr,this.serializer)}createSharedClientState(e){return new $L}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class I${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T$.bind(null,this.syncEngine),await r$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s$}()}createDatastore(e){const n=am(e.databaseInfo.databaseId),r=function(s){return new BL(s)}(e.databaseInfo);return function(s,o,a,l){return new zL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new qL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Vb(this.syncEngine,n,0),function(){return Mb.D()?new Mb:new VL}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const f=new h$(i,s,o,a,l,u);return c&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Qe(r);Ne("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await rf(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=AI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fg(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Bb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R$(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Nb(e.remoteStore,i)),t._onlineComponents=e}function P$(t){return t.name==="FirebaseError"?t.code===ce.FAILED_PRECONDITION||t.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function R$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!P$(n))throw n;ou("Error using user provided cache. Falling back to memory cache: "+n),await fg(t,new Ub)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await fg(t,new Ub);return t._offlineComponents}async function SS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await Bb(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await Bb(t,new I$))),t._onlineComponents}function C$(t){return SS(t).then(e=>e.syncEngine)}async function PS(t){const e=await SS(t),n=e.eventManager;return n.onListen=f$.bind(null,e.syncEngine),n.onUnlisten=m$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g$.bind(null,e.syncEngine),n}function D$(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new IS({next:d=>{o.enqueueAndForget(()=>mS(s,f));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new ke(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ke(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new gS(ey(a.path),c,{includeMetadataChanges:!0,ra:!0});return pS(s,f)}(await PS(t),t.asyncQueue,e,n,r)),r.promise}function k$(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new IS({next:d=>{o.enqueueAndForget(()=>mS(s,f)),d.fromCache&&l.source==="server"?u.reject(new ke(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new gS(a,c,{includeMetadataChanges:!0,ra:!0});return pS(s,f)}(await PS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e,n){if(!n)throw new ke(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O$(t,e,n,r){if(e===!0&&r===!0)throw new ke(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hb(t){if(!je.isDocumentKey(t))throw new ke(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zb(t){if(je.isDocumentKey(t))throw new ke(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We()}function Fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(t);throw new ke(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ke(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XM;switch(r.type){case"firstParty":return new eN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jb.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),jb.delete(n),r.terminate())}(this),Promise.resolve()}}function x$(t,e,n,r={}){var i;const s=(t=Fs(t,hm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Jn.MOCK_USER;else{a=cI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ke(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Jn(u)}t._authCredentials=new QM(new EI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cl(this.firestore,e,this._query)}}class Pr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pr(this.firestore,e,this._key)}}class Do extends cl{constructor(e,n,r){super(e,n,ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pr(this.firestore,null,new je(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function gy(t,e,...n){if(t=In(t),CS("collection","path",e),t instanceof hm){const r=Bt.fromString(e,...n);return zb(r),new Do(t,null,r)}{if(!(t instanceof Pr||t instanceof Do))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return zb(r),new Do(t.firestore,null,r)}}function of(t,e,...n){if(t=In(t),arguments.length===1&&(e=AI.newId()),CS("doc","path",e),t instanceof hm){const r=Bt.fromString(e,...n);return Hb(r),new Pr(t,null,new je(r))}{if(!(t instanceof Pr||t instanceof Do))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return Hb(r),new Pr(t.firestore,t instanceof Do?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new oS(this,"async_queue_retry"),this.hu=()=>{const n=hg();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=hg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ks;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ef(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $s("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=fy.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&We()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class xu extends hm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new M$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||DS(this),this._firestoreClient.terminate()}}function N$(t,e){const n=qv(),r="(default)",i=em(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aI("firestore");s&&x$(i,...s)}return i}function _y(t){return t._firestoreClient||DS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DS(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new dN(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,RS(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new S$(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(sr.fromBase64String(e))}catch(n){throw new ke(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=/^__.*__$/;class $${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ll(e,this.data,this.fieldMask,n,this.fieldTransforms):new tf(e,this.data,n,this.fieldTransforms)}}function OS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class wy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return rp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(OS(this.fu)&&L$.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class V${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||am(e)}Fu(e,n,r,i=!1){return new wy({fu:e,methodName:n,vu:r,path:Vn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function by(t){const e=t._freezeSettings(),n=am(t._databaseId);return new V$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xS(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);LS("Data must be an object, but it was:",o,r);const a=MS(r,o);let l,u;if(s.merge)l=new Si(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=U$(e,f,n);if(!o.contains(d))throw new ke(ce.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);j$(c,d)||c.push(d)}l=new Si(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new $$(new oi(a),l,u)}function F$(t,e,n,r=!1){return Ty(n,t.Fu(r?4:3,e))}function Ty(t,e){if(NS(t=In(t)))return LS("Unsupported field value:",e,t),MS(t,e);if(t instanceof kS)return function(r,i){if(!OS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ty(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=An.fromDate(r);return{timestampValue:tp(i.serializer,s)}}if(r instanceof An){const s=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tp(i.serializer,s)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:QI(i.serializer,r._byteString)};if(r instanceof Pr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${cm(r)}`)}(t,e)}function MS(t,e){const n={};return II(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cu(t,(r,i)=>{const s=Ty(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof yy||t instanceof fu||t instanceof Pr||t instanceof kS)}function LS(t,e,n){if(!NS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cm(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function U$(t,e,n){if((e=In(e))instanceof vy)return e._internalPath;if(typeof e=="string")return $S(t,e);throw rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const B$=new RegExp("[~\\*/\\[\\]]");function $S(t,e,n){if(e.search(B$)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vy(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ke(ce.INVALID_ARGUMENT,a+t+l)}function j$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H$ extends VS{data(){return super.data()}}function fm(t,e){return typeof e=="string"?$S(t,e):e instanceof vy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ey{}class FS extends Ey{}function US(t,e,...n){let r=[];e instanceof Ey&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ay).length,a=s.filter(l=>l instanceof dm).length;if(o>1||o>0&&a>0)throw new ke(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dm extends FS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dm(e,n,r)}_apply(e){const n=this._parse(e);return jS(e._query,n),new cl(e.firestore,e.converter,b_(e._query,n))}_parse(e){const n=by(e.firestore);return function(s,o,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Wb(f,c);const p=[];for(const g of f)p.push(qb(l,s,g));d={arrayValue:{values:p}}}else d=qb(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Wb(f,c),d=F$(a,o,f,c==="in"||c==="not-in");return yn.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oa(t,e,n){const r=e,i=fm("where",t);return dm._create(i,r,n)}class Ay extends Ey{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ay(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)jS(o,l),o=b_(o,l)}(e._query,n),new cl(e.firestore,e.converter,b_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iy extends FS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Iy(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(s,o)}(e._query,this._field,this._direction);return new cl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Du(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function BS(t,e="asc"){const n=e,r=fm("orderBy",t);return Iy._create(r,n)}function qb(t,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new ke(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MI(e)&&n.indexOf("/")!==-1)throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bt.fromString(n));if(!je.isDocumentKey(r))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mb(t,new je(r))}if(n instanceof Pr)return mb(t,n._key);throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(n)}.`)}function Wb(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y${convertValue(e,n="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw We()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new yy(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_h(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);$t(rS(r));const i=new vh(r.get(1),r.get(3)),s=new je(r.popFirst(5));return i.isEqual(n)||$s(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zS extends VS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Td extends zS{data(e={}){return super.data(e)}}class q${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Td(this._firestore,this._userDataWriter,r.key,r,new bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:W$(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function W$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){t=Fs(t,Pr);const e=Fs(t.firestore,xu);return D$(_y(e),t._key).then(n=>Q$(e,t,n))}class YS extends Y${constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,n)}}function qS(t){t=Fs(t,cl);const e=Fs(t.firestore,xu),n=_y(e),r=new YS(e);return z$(t._query),k$(n,t._query).then(i=>new q$(e,r,t,i))}function WS(t,e,n){t=Fs(t,Pr);const r=Fs(t.firestore,xu),i=HS(t.converter,e,n);return Sy(r,[xS(by(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ri.none())])}function K$(t){return Sy(Fs(t.firestore,xu),[new ty(t._key,Ri.none())])}function X$(t,e){const n=Fs(t.firestore,xu),r=of(t),i=HS(t.converter,e);return Sy(n,[xS(by(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ri.exists(!1))]).then(()=>r)}function Sy(t,e){return function(r,i){const s=new ks;return r.asyncQueue.enqueueAndForget(async()=>_$(await C$(r),i,s)),s.promise}(_y(t),e)}function Q$(t,e,n){const r=n.docs.get(e._key),i=new YS(t);return new zS(t,i,e._key,r,new bc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ru=i})(al),za(new Lo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xu(new JM(r.getProvider("auth-internal")),new nN(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ke(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ji(hb,"4.6.3",e),Ji(hb,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="firebasestorage.googleapis.com",KS="storageBucket",J$=2*60*1e3,Z$=10*60*1e3,e2=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends fs{constructor(e,n,r=0){super(dg(e),`Firebase Storage: ${n} (${dg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function dg(t){return"storage/"+t}function Py(){const t="An unknown error occurred, please check the error payload for server response.";return new Jt(jt.UNKNOWN,t)}function t2(t){return new Jt(jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function n2(t){return new Jt(jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function r2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Jt(jt.UNAUTHENTICATED,t)}function i2(){return new Jt(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s2(t){return new Jt(jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function XS(){return new Jt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QS(){return new Jt(jt.CANCELED,"User canceled the upload/download.")}function o2(t){return new Jt(jt.INVALID_URL,"Invalid URL '"+t+"'.")}function a2(t){return new Jt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function l2(){return new Jt(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KS+"' property when initializing the app?")}function JS(){return new Jt(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u2(){return new Jt(jt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function c2(){return new Jt(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function h2(t){return new Jt(jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function D_(t){return new Jt(jt.INVALID_ARGUMENT,t)}function ZS(){return new Jt(jt.APP_DELETED,"The Firebase app was deleted.")}function f2(t){return new Jt(jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vc(t,e){return new Jt(jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nc(t){throw new Jt(jt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wr.makeFromUrl(e,n)}catch{return new Wr(e,"")}if(r.path==="")return r;throw a2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},_=n===GS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",S=new RegExp(`^https?://${_}/${i}/${A}`,"i"),k=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<k.length;O++){const M=k[O],N=M.regex.exec(e);if(N){const w=N[M.indices.bucket];let E=N[M.indices.path];E||(E=""),r=new Wr(w,E),M.postModify(r);break}}if(r==null)throw o2(e);return r}}class d2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...A){u||(u=!0,e.apply(null,A))}function f(A){i=setTimeout(()=>{i=null,t(p,l())},A)}function d(){s&&clearTimeout(s)}function p(A,...S){if(u){d();return}if(A){d(),c.call(null,A,...S);return}if(l()||o){d(),c.call(null,A,...S);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,f(k)}let g=!1;function _(A){g||(g=!0,d(),!u&&(i!==null?(A||(a=2),clearTimeout(i),f(0)):A||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function m2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){return t!==void 0}function _2(t){return typeof t=="function"}function v2(t){return typeof t=="object"&&!Array.isArray(t)}function pm(t){return typeof t=="string"||t instanceof String}function Gb(t){return Ry()&&t instanceof Blob}function Ry(){return typeof Blob<"u"}function Kb(t,e,n,r){if(r<e)throw D_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw D_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ra||(Ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,i,s,o,a,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Bf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ra.NO_ERROR,l=s.getStatus();if(!a||tP(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ra.ABORT;r(!1,new Bf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Bf(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());g2(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Py();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?ZS():QS();o(l)}else{const l=XS();o(l)}};this.canceled_?n(!1,new Bf(!1,null,!0)):this.backoffId_=p2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function w2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function b2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function T2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function E2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function A2(t,e,n,r,i,s,o=!0){const a=eP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return T2(u,e),w2(u,n),b2(u,s),E2(u,r),new y2(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function S2(...t){const e=I2();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ry())return new Blob(t);throw new Jt(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function P2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){if(typeof atob>"u")throw h2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pg{constructor(e,n){this.data=e,this.contentType=n||null}}function C2(t,e){switch(t){case Wi.RAW:return new pg(nP(e));case Wi.BASE64:case Wi.BASE64URL:return new pg(rP(t,e));case Wi.DATA_URL:return new pg(k2(e),O2(e))}throw Py()}function nP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function D2(t){let e;try{e=decodeURIComponent(t)}catch{throw Vc(Wi.DATA_URL,"Malformed data URL.")}return nP(e)}function rP(t,e){switch(t){case Wi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Vc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Vc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=R2(e)}catch(i){throw i.message.includes("polyfill")?i:Vc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class iP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vc(Wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=x2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function k2(t){const e=new iP(t);return e.base64?rP(Wi.BASE64,e.rest):D2(e.rest)}function O2(t){return new iP(t).contentType}function x2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){let r=0,i="";Gb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Gb(this.data_)){const r=this.data_,i=P2(r,e,n);return i===null?null:new fo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fo(r,!0)}}static getBlob(...e){if(Ry()){const n=e.map(r=>r instanceof fo?r.data_:r);return new fo(S2.apply(null,n))}else{const n=e.map(o=>pm(o)?C2(Wi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new fo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){let e;try{e=JSON.parse(t)}catch{return null}return v2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function N2(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){return e}class lr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||L2}}let jf=null;function $2(t){return!pm(t)||t.length<2?t:oP(t)}function aP(){if(jf)return jf;const t=[];t.push(new lr("bucket")),t.push(new lr("generation")),t.push(new lr("metageneration")),t.push(new lr("name","fullPath",!0));function e(s,o){return $2(o)}const n=new lr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new lr("size");return i.xform=r,t.push(i),t.push(new lr("timeCreated")),t.push(new lr("updated")),t.push(new lr("md5Hash",null,!0)),t.push(new lr("cacheControl",null,!0)),t.push(new lr("contentDisposition",null,!0)),t.push(new lr("contentEncoding",null,!0)),t.push(new lr("contentLanguage",null,!0)),t.push(new lr("contentType",null,!0)),t.push(new lr("metadata","customMetadata",!0)),jf=t,jf}function V2(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Wr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function F2(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return V2(r,t),r}function lP(t,e,n){const r=sP(e);return r===null?null:F2(t,r,n)}function U2(t,e,n,r){const i=sP(e);if(i===null||!pm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,f=t.fullPath,d="/b/"+o(c)+"/o/"+o(f),p=af(d,n,r),g=eP({alt:"media",token:u});return p+g})[0]}function uP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Mu{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t){if(!t)throw Py()}function Cy(t,e){function n(r,i){const s=lP(t,i,e);return Os(s!==null),s}return n}function B2(t,e){function n(r,i){const s=lP(t,i,e);return Os(s!==null),U2(s,i,t.host,t._protocol)}return n}function lf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=i2():i=r2():n.getStatus()===402?i=n2(t.bucket):n.getStatus()===403?i=s2(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function cP(t){const e=lf(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=t2(t.path)),s.serverResponse=i.serverResponse,s}return n}function j2(t,e,n){const r=e.fullServerUrl(),i=af(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Mu(i,s,Cy(t,n),o);return a.errorHandler=cP(e),a}function H2(t,e,n){const r=e.fullServerUrl(),i=af(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Mu(i,s,B2(t,n),o);return a.errorHandler=cP(e),a}function z2(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=z2(null,e)),r}function Y2(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let O=0;O<2;O++)k=k+Math.random().toString().slice(2);return k}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=hP(e,r,i),c=uP(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=fo.getBlob(f,r,d);if(p===null)throw JS();const g={name:u.fullPath},_=af(s,t.host,t._protocol),A="POST",S=t.maxUploadRetryTime,x=new Mu(_,A,Cy(t,n),S);return x.urlParams=g,x.headers=o,x.body=p.uploadData(),x.errorHandler=lf(e),x}class ip{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Dy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Os(!1)}return Os(!!n&&(e||["active"]).indexOf(n)!==-1),n}function q2(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=hP(e,r,i),a={name:o.fullPath},l=af(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=uP(o,n),d=t.maxUploadRetryTime;function p(_){Dy(_);let A;try{A=_.getResponseHeader("X-Goog-Upload-URL")}catch{Os(!1)}return Os(pm(A)),A}const g=new Mu(l,u,p,d);return g.urlParams=a,g.headers=c,g.body=f,g.errorHandler=lf(e),g}function W2(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=Dy(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Os(!1)}f||Os(!1);const d=Number(f);return Os(!isNaN(d)),new ip(d,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Mu(n,o,s,a);return l.headers=i,l.errorHandler=lf(e),l}const Xb=256*1024;function G2(t,e,n,r,i,s,o,a){const l=new ip(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw u2();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const f=l.current,d=f+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(f,d);if(_===null)throw JS();function A(O,M){const N=Dy(O,["active","final"]),w=l.current+c,E=r.size();let b;return N==="final"?b=Cy(e,s)(O,M):b=null,new ip(w,E,N==="final",b)}const S="POST",x=e.maxUploadRetryTime,k=new Mu(n,S,A,x);return k.headers=g,k.body=_.uploadData(),k.progressCallback=a||null,k.errorHandler=lf(t),k}const Ar={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mg(t){switch(t){case"running":case"pausing":case"canceling":return Ar.RUNNING;case"paused":return Ar.PAUSED;case"success":return Ar.SUCCESS;case"canceled":return Ar.CANCELED;case"error":return Ar.ERROR;default:return Ar.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K2=class{constructor(e,n,r){if(_2(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class X2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw nc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Q2 extends X2{initXhr(){this.xhr_.responseType="text"}}function Ol(){return new Q2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=aP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(jt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(tP(i.status,[]))if(s)i=XS();else{this.sleepTime=Math.max(this.sleepTime*2,e2),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(jt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=q2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ol,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=W2(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ol,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Xb*this._chunkMultiplier,n=new ip(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=G2(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Ol,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Xb*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=j2(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ol,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Y2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ol,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=QS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=mg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new K2(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(mg(this._state)){case Ar.SUCCESS:El(this._resolve.bind(null,this.snapshot))();break;case Ar.CANCELED:case Ar.ERROR:const n=this._reject;El(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(mg(this._state)){case Ar.RUNNING:case Ar.PAUSED:e.next&&El(e.next.bind(e,this.snapshot))();break;case Ar.SUCCESS:e.complete&&El(e.complete.bind(e))();break;case Ar.CANCELED:case Ar.ERROR:e.error&&El(e.error.bind(e,this._error))();break;default:e.error&&El(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this._service=e,n instanceof Wr?this._location=n:this._location=Wr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ga(e,n)}get root(){const e=new Wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oP(this._location.path)}get storage(){return this._service}get parent(){const e=M2(this._location.path);if(e===null)return null;const n=new Wr(this._location.bucket,e);return new Ga(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw f2(e)}}function Z2(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new J2(t,new fo(e),n)}function eV(t){t._throwIfRoot("getDownloadURL");const e=H2(t.storage,t._location,aP());return t.storage.makeRequestWithTokens(e,Ol).then(n=>{if(n===null)throw c2();return n})}function tV(t,e){const n=N2(t._location.path,e),r=new Wr(t._location.bucket,n);return new Ga(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){return/^[A-Za-z]+:\/\//.test(t)}function rV(t,e){return new Ga(t,e)}function fP(t,e){if(t instanceof ky){const n=t;if(n._bucket==null)throw l2();const r=new Ga(n,n._bucket);return e!=null?fP(r,e):r}else return e!==void 0?tV(t,e):t}function iV(t,e){if(e&&nV(e)){if(t instanceof ky)return rV(t,e);throw D_("To use ref(service, url), the first argument must be a Storage instance.")}else return fP(t,e)}function Qb(t,e){const n=e==null?void 0:e[KS];return n==null?null:Wr.makeFromBucketSpec(n,t)}function sV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:cI(i,t.app.options.projectId))}class ky{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=GS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J$,this._maxUploadRetryTime=Z$,this._requests=new Set,i!=null?this._bucket=Wr.makeFromBucketSpec(i,this._host):this._bucket=Qb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wr.makeFromBucketSpec(this._url,e):this._bucket=Qb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ga(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new d2(ZS());{const o=A2(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Jb="@firebase/storage",Zb="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="storage";function oV(t,e,n){return t=In(t),Z2(t,e,n)}function aV(t){return t=In(t),eV(t)}function lV(t,e){return t=In(t),iV(t,e)}function uV(t=qv(),e){t=In(t);const r=em(t,dP).getImmediate({identifier:e}),i=aI("storage");return i&&cV(r,...i),r}function cV(t,e,n,r={}){sV(t,e,n,r)}function hV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ky(n,r,i,e,al)}function fV(){za(new Lo(dP,hV,"PUBLIC").setMultipleInstances(!0)),Ji(Jb,Zb,""),Ji(Jb,Zb,"esm2017")}fV();const dV={apiKey:"AIzaSyAnJCuyJXSp7mXu4J2KNOaUVppSbqyAPqU",authDomain:"movie-record-v2.firebaseapp.com",projectId:"movie-record-v2",storageBucket:"movie-record-v2.appspot.com",messagingSenderId:"271614748566",appId:"1:271614748566:web:b01f4f5af80234b3625fb7",measurementId:"G-WM0VMXG3K2"},pV=dI(dV),mV=uV(pV);/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Oy(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Nt={},zl=[],ai=()=>{},gV=()=>!1,mm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xy=t=>t.startsWith("onUpdate:"),dn=Object.assign,My=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_V=Object.prototype.hasOwnProperty,mt=(t,e)=>_V.call(t,e),Ve=Array.isArray,Yl=t=>uf(t)==="[object Map]",Nu=t=>uf(t)==="[object Set]",eT=t=>uf(t)==="[object Date]",Xe=t=>typeof t=="function",Qt=t=>typeof t=="string",ls=t=>typeof t=="symbol",Rt=t=>t!==null&&typeof t=="object",pP=t=>(Rt(t)||Xe(t))&&Xe(t.then)&&Xe(t.catch),mP=Object.prototype.toString,uf=t=>mP.call(t),vV=t=>uf(t).slice(8,-1),gP=t=>uf(t)==="[object Object]",Ny=t=>Qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fc=Oy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},yV=/-(\w)/g,ki=gm(t=>t.replace(yV,(e,n)=>n?n.toUpperCase():"")),wV=/\B([A-Z])/g,Go=gm(t=>t.replace(wV,"-$1").toLowerCase()),_m=gm(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ed=gm(t=>t?`on${_m(t)}`:""),us=(t,e)=>!Object.is(t,e),Ad=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},_P=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},sp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},bV=t=>{const e=Qt(t)?Number(t):NaN;return isNaN(e)?t:e};let tT;const vP=()=>tT||(tT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ts(t){if(Ve(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Qt(r)?IV(r):ts(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Qt(t)||Rt(t))return t}const TV=/;(?![^(]*\))/g,EV=/:([^]+)/,AV=/\/\*[^]*?\*\//g;function IV(t){const e={};return t.replace(AV,"").split(TV).forEach(n=>{if(n){const r=n.split(EV);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Pt(t){let e="";if(Qt(t))e=t;else if(Ve(t))for(let n=0;n<t.length;n++){const r=Pt(t[n]);r&&(e+=r+" ")}else if(Rt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Ca(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Qt(e)&&(t.class=Pt(e)),n&&(t.style=ts(n)),t}const SV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",PV=Oy(SV);function yP(t){return!!t||t===""}function RV(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Ka(t[r],e[r]);return n}function Ka(t,e){if(t===e)return!0;let n=eT(t),r=eT(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ls(t),r=ls(e),n||r)return t===e;if(n=Ve(t),r=Ve(e),n||r)return n&&r?RV(t,e):!1;if(n=Rt(t),r=Rt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ka(t[o],e[o]))return!1}}return String(t)===String(e)}function Ly(t,e){return t.findIndex(n=>Ka(n,e))}const wP=t=>!!(t&&t.__v_isRef===!0),It=t=>Qt(t)?t:t==null?"":Ve(t)||Rt(t)&&(t.toString===mP||!Xe(t.toString))?wP(t)?It(t.value):JSON.stringify(t,bP,2):String(t),bP=(t,e)=>wP(e)?bP(t,e.value):Yl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[gg(r,s)+" =>"]=i,n),{})}:Nu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>gg(n))}:ls(e)?gg(e):Rt(e)&&!Ve(e)&&!gP(e)?String(e):e,gg=(t,e="")=>{var n;return ls(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Br;class TP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Br,!e&&Br&&(this.index=(Br.scopes||(Br.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Br;try{return Br=this,e()}finally{Br=n}}}on(){Br=this}off(){Br=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function CV(t){return new TP(t)}function DV(t,e=Br){e&&e.active&&e.effects.push(t)}function EP(){return Br}function kV(t){Br&&Br.cleanups.push(t)}let Da;class $y{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,DV(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ko();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(OV(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Xo()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ko,n=Da;try{return ko=!0,Da=this,this._runnings++,nT(this),this.fn()}finally{rT(this),this._runnings--,Da=n,ko=e}}stop(){this.active&&(nT(this),rT(this),this.onStop&&this.onStop(),this.active=!1)}}function OV(t){return t.value}function nT(t){t._trackId++,t._depsLength=0}function rT(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)AP(t.deps[e],t);t.deps.length=t._depsLength}}function AP(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ko=!0,k_=0;const IP=[];function Ko(){IP.push(ko),ko=!1}function Xo(){const t=IP.pop();ko=t===void 0?!0:t}function Vy(){k_++}function Fy(){for(k_--;!k_&&O_.length;)O_.shift()()}function SP(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&AP(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const O_=[];function PP(t,e,n){Vy();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&O_.push(r.scheduler)))}Fy()}const RP=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},op=new WeakMap,ka=Symbol(""),x_=Symbol("");function Nr(t,e,n){if(ko&&Da){let r=op.get(t);r||op.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=RP(()=>r.delete(n))),SP(Da,i)}}function xs(t,e,n,r,i,s){const o=op.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ve(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!ls(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ve(t)?Ny(n)&&a.push(o.get("length")):(a.push(o.get(ka)),Yl(t)&&a.push(o.get(x_)));break;case"delete":Ve(t)||(a.push(o.get(ka)),Yl(t)&&a.push(o.get(x_)));break;case"set":Yl(t)&&a.push(o.get(ka));break}Vy();for(const l of a)l&&PP(l,4);Fy()}function xV(t,e){const n=op.get(t);return n&&n.get(e)}const MV=Oy("__proto__,__v_isRef,__isVue"),CP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ls)),iT=NV();function NV(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=vt(this);for(let s=0,o=this.length;s<o;s++)Nr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(vt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ko(),Vy();const r=vt(this)[e].apply(this,n);return Fy(),Xo(),r}}),t}function LV(t){ls(t)||(t=String(t));const e=vt(this);return Nr(e,"has",t),e.hasOwnProperty(t)}class DP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?KV:MP:s?xP:OP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ve(e);if(!i){if(o&&mt(iT,n))return Reflect.get(iT,n,r);if(n==="hasOwnProperty")return LV}const a=Reflect.get(e,n,r);return(ls(n)?CP.has(n):MV(n))||(i||Nr(e,"get",n),s)?a:hn(a)?o&&Ny(n)?a:a.value:Rt(a)?i?NP(a):Lr(a):a}}class kP extends DP{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Eh(s);if(!ap(r)&&!Eh(r)&&(s=vt(s),r=vt(r)),!Ve(e)&&hn(s)&&!hn(r))return l?!1:(s.value=r,!0)}const o=Ve(e)&&Ny(n)?Number(n)<e.length:mt(e,n),a=Reflect.set(e,n,r,i);return e===vt(i)&&(o?us(r,s)&&xs(e,"set",n,r):xs(e,"add",n,r)),a}deleteProperty(e,n){const r=mt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&xs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ls(n)||!CP.has(n))&&Nr(e,"has",n),r}ownKeys(e){return Nr(e,"iterate",Ve(e)?"length":ka),Reflect.ownKeys(e)}}class $V extends DP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const VV=new kP,FV=new $V,UV=new kP(!0);const Uy=t=>t,vm=t=>Reflect.getPrototypeOf(t);function Hf(t,e,n=!1,r=!1){t=t.__v_raw;const i=vt(t),s=vt(e);n||(us(e,s)&&Nr(i,"get",e),Nr(i,"get",s));const{has:o}=vm(i),a=r?Uy:n?Hy:Ah;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function zf(t,e=!1){const n=this.__v_raw,r=vt(n),i=vt(t);return e||(us(t,i)&&Nr(r,"has",t),Nr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Yf(t,e=!1){return t=t.__v_raw,!e&&Nr(vt(t),"iterate",ka),Reflect.get(t,"size",t)}function sT(t){t=vt(t);const e=vt(this);return vm(e).has.call(e,t)||(e.add(t),xs(e,"add",t,t)),this}function oT(t,e){e=vt(e);const n=vt(this),{has:r,get:i}=vm(n);let s=r.call(n,t);s||(t=vt(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?us(e,o)&&xs(n,"set",t,e):xs(n,"add",t,e),this}function aT(t){const e=vt(this),{has:n,get:r}=vm(e);let i=n.call(e,t);i||(t=vt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&xs(e,"delete",t,void 0),s}function lT(){const t=vt(this),e=t.size!==0,n=t.clear();return e&&xs(t,"clear",void 0,void 0),n}function qf(t,e){return function(r,i){const s=this,o=s.__v_raw,a=vt(o),l=e?Uy:t?Hy:Ah;return!t&&Nr(a,"iterate",ka),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Wf(t,e,n){return function(...r){const i=this.__v_raw,s=vt(i),o=Yl(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?Uy:e?Hy:Ah;return!e&&Nr(s,"iterate",l?x_:ka),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function eo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function BV(){const t={get(s){return Hf(this,s)},get size(){return Yf(this)},has:zf,add:sT,set:oT,delete:aT,clear:lT,forEach:qf(!1,!1)},e={get(s){return Hf(this,s,!1,!0)},get size(){return Yf(this)},has:zf,add:sT,set:oT,delete:aT,clear:lT,forEach:qf(!1,!0)},n={get(s){return Hf(this,s,!0)},get size(){return Yf(this,!0)},has(s){return zf.call(this,s,!0)},add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear"),forEach:qf(!0,!1)},r={get(s){return Hf(this,s,!0,!0)},get size(){return Yf(this,!0)},has(s){return zf.call(this,s,!0)},add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear"),forEach:qf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Wf(s,!1,!1),n[s]=Wf(s,!0,!1),e[s]=Wf(s,!1,!0),r[s]=Wf(s,!0,!0)}),[t,n,e,r]}const[jV,HV,zV,YV]=BV();function By(t,e){const n=e?t?YV:zV:t?HV:jV;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(mt(n,i)&&i in r?n:r,i,s)}const qV={get:By(!1,!1)},WV={get:By(!1,!0)},GV={get:By(!0,!1)};const OP=new WeakMap,xP=new WeakMap,MP=new WeakMap,KV=new WeakMap;function XV(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function QV(t){return t.__v_skip||!Object.isExtensible(t)?0:XV(vV(t))}function Lr(t){return Eh(t)?t:jy(t,!1,VV,qV,OP)}function $l(t){return jy(t,!1,UV,WV,xP)}function NP(t){return jy(t,!0,FV,GV,MP)}function jy(t,e,n,r,i){if(!Rt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=QV(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Uc(t){return Eh(t)?Uc(t.__v_raw):!!(t&&t.__v_isReactive)}function Eh(t){return!!(t&&t.__v_isReadonly)}function ap(t){return!!(t&&t.__v_isShallow)}function LP(t){return t?!!t.__v_raw:!1}function vt(t){const e=t&&t.__v_raw;return e?vt(e):t}function ql(t){return Object.isExtensible(t)&&_P(t,"__v_skip",!0),t}const Ah=t=>Rt(t)?Lr(t):t,Hy=t=>Rt(t)?NP(t):t;class $P{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new $y(()=>e(this._value),()=>Bc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=vt(this);return(!e._cacheable||e.effect.dirty)&&us(e._value,e._value=e.effect.run())&&Bc(e,4),zy(e),e.effect._dirtyLevel>=2&&Bc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function JV(t,e,n=!1){let r,i;const s=Xe(t);return s?(r=t,i=ai):(r=t.get,i=t.set),new $P(r,i,s||!i,n)}function zy(t){var e;ko&&Da&&(t=vt(t),SP(Da,(e=t.dep)!=null?e:t.dep=RP(()=>t.dep=void 0,t instanceof $P?t:void 0)))}function Bc(t,e=4,n,r){t=vt(t);const i=t.dep;i&&PP(i,e)}function hn(t){return!!(t&&t.__v_isRef===!0)}function Me(t){return VP(t,!1)}function ZV(t){return VP(t,!0)}function VP(t,e){return hn(t)?t:new eF(t,e)}class eF{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:vt(e),this._value=n?e:Ah(e)}get value(){return zy(this),this._value}set value(e){const n=this.__v_isShallow||ap(e)||Eh(e);e=n?e:vt(e),us(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:Ah(e),Bc(this,4))}}function K(t){return hn(t)?t.value:t}const tF={get:(t,e,n)=>K(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return hn(i)&&!hn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function FP(t){return Uc(t)?t:new Proxy(t,tF)}class nF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>zy(this),()=>Bc(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function rF(t){return new nF(t)}function iF(t){const e=Ve(t)?new Array(t.length):{};for(const n in t)e[n]=UP(t,n);return e}class sF{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return xV(vt(this._object),this._key)}}class oF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Oa(t,e,n){return hn(t)?t:Xe(t)?new oF(t):Rt(t)&&arguments.length>1?UP(t,e,n):Me(t)}function UP(t,e,n){const r=t[e];return hn(r)?r:new sF(t,e,n)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oo(t,e,n,r){try{return r?t(...r):t()}catch(i){ym(i,e,n)}}function hi(t,e,n,r){if(Xe(t)){const i=Oo(t,e,n,r);return i&&pP(i)&&i.catch(s=>{ym(s,e,n)}),i}if(Ve(t)){const i=[];for(let s=0;s<t.length;s++)i.push(hi(t[s],e,n,r));return i}}function ym(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Ko(),Oo(l,null,10,[t,o,a]),Xo();return}}aF(t,n,i,r)}function aF(t,e,n,r=!0){console.error(t)}let Ih=!1,M_=!1;const tr=[];let zi=0;const Wl=[];let lo=null,ya=0;const BP=Promise.resolve();let Yy=null;function On(t){const e=Yy||BP;return t?e.then(this?t.bind(this):t):e}function lF(t){let e=zi+1,n=tr.length;for(;e<n;){const r=e+n>>>1,i=tr[r],s=Sh(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function qy(t){(!tr.length||!tr.includes(t,Ih&&t.allowRecurse?zi+1:zi))&&(t.id==null?tr.push(t):tr.splice(lF(t.id),0,t),jP())}function jP(){!Ih&&!M_&&(M_=!0,Yy=BP.then(zP))}function uF(t){const e=tr.indexOf(t);e>zi&&tr.splice(e,1)}function cF(t){Ve(t)?Wl.push(...t):(!lo||!lo.includes(t,t.allowRecurse?ya+1:ya))&&Wl.push(t),jP()}function uT(t,e,n=Ih?zi+1:0){for(;n<tr.length;n++){const r=tr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;tr.splice(n,1),n--,r()}}}function HP(t){if(Wl.length){const e=[...new Set(Wl)].sort((n,r)=>Sh(n)-Sh(r));if(Wl.length=0,lo){lo.push(...e);return}for(lo=e,ya=0;ya<lo.length;ya++){const n=lo[ya];n.active!==!1&&n()}lo=null,ya=0}}const Sh=t=>t.id==null?1/0:t.id,hF=(t,e)=>{const n=Sh(t)-Sh(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function zP(t){M_=!1,Ih=!0,tr.sort(hF);try{for(zi=0;zi<tr.length;zi++){const e=tr[zi];e&&e.active!==!1&&Oo(e,null,14)}}finally{zi=0,tr.length=0,HP(),Ih=!1,Yy=null,(tr.length||Wl.length)&&zP()}}function fF(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Nt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=r[c]||Nt;d&&(i=n.map(p=>Qt(p)?p.trim():p)),f&&(i=n.map(sp))}let a,l=r[a=Ed(e)]||r[a=Ed(ki(e))];!l&&s&&(l=r[a=Ed(Go(e))]),l&&hi(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,hi(u,t,6,i)}}function YP(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Xe(t)){const l=u=>{const c=YP(u,e,!0);c&&(a=!0,dn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Rt(t)&&r.set(t,null),null):(Ve(s)?s.forEach(l=>o[l]=null):dn(o,s),Rt(t)&&r.set(t,o),o)}function wm(t,e){return!t||!mm(e)?!1:(e=e.slice(2).replace(/Once$/,""),mt(t,e[0].toLowerCase()+e.slice(1))||mt(t,Go(e))||mt(t,e))}let xn=null,bm=null;function lp(t){const e=xn;return xn=t,bm=t&&t.type.__scopeId||null,e}function cf(t){bm=t}function hf(){bm=null}function Tt(t,e=xn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&ET(-1);const s=lp(e);let o;try{o=t(...i)}finally{lp(s),r._d&&ET(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function _g(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:d,setupState:p,ctx:g,inheritAttrs:_}=t,A=lp(t);let S,x;try{if(n.shapeFlag&4){const O=i||r,M=O;S=Hi(u.call(M,O,c,f,p,d,g)),x=a}else{const O=e;S=Hi(O.length>1?O(f,{attrs:a,slots:o,emit:l}):O(f,null)),x=e.props?a:dF(a)}}catch(O){Wc.length=0,ym(O,t,1),S=we(Sr)}let k=S;if(x&&_!==!1){const O=Object.keys(x),{shapeFlag:M}=k;O.length&&M&7&&(s&&O.some(xy)&&(x=pF(x,s)),k=Uo(k,x,!1,!0))}return n.dirs&&(k=Uo(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),S=k,lp(A),S}const dF=t=>{let e;for(const n in t)(n==="class"||n==="style"||mm(n))&&((e||(e={}))[n]=t[n]);return e},pF=(t,e)=>{const n={};for(const r in t)(!xy(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function mF(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?cT(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!wm(u,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?cT(r,o,u):!0:!!o;return!1}function cT(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!wm(n,s))return!0}return!1}function gF({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Wy="components",_F="directives";function Ei(t,e){return Gy(Wy,t,!0,e)||t}const qP=Symbol.for("v-ndc");function jc(t){return Qt(t)?Gy(Wy,t,!1)||t:t||qP}function vF(t){return Gy(_F,t)}function Gy(t,e,n=!0,r=!1){const i=xn||Fn;if(i){const s=i.type;if(t===Wy){const a=gU(s,!1);if(a&&(a===e||a===ki(e)||a===_m(ki(e))))return s}const o=hT(i[t]||s[t],e)||hT(i.appContext[t],e);return!o&&r?s:o}}function hT(t,e){return t&&(t[e]||t[ki(e)]||t[_m(ki(e))])}const yF=t=>t.__isSuspense;function wF(t,e){e&&e.pendingBranch?Ve(t)?e.effects.push(...t):e.effects.push(t):cF(t)}function Tm(t,e,n=Fn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ko();const a=df(n),l=hi(e,n,t,o);return a(),Xo(),l});return r?i.unshift(s):i.push(s),s}}const qs=t=>(e,n=Fn)=>{(!Sm||t==="sp")&&Tm(t,(...r)=>e(...r),n)},bF=qs("bm"),Zr=qs("m"),TF=qs("bu"),EF=qs("u"),ff=qs("bum"),Qo=qs("um"),AF=qs("sp"),IF=qs("rtg"),SF=qs("rtc");function PF(t,e=Fn){Tm("ec",t,e)}function Ir(t,e){if(xn===null)return t;const n=Pm(xn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Nt]=e[i];s&&(Xe(s)&&(s={mounted:s,updated:s}),s.deep&&po(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function aa(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Ko(),hi(l,n,8,[t.el,a,t,e]),Xo())}}function Mn(t,e,n,r){let i;const s=n;if(Ve(t)||Qt(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s)}else if(Rt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s)}}else i=[];return i}function RF(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Ve(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function zt(t,e){return Xe(t)?dn({name:t.name},e,{setup:t}):t}const Hc=t=>!!t.type.__asyncLoader;function nn(t,e,n={},r,i){if(xn.isCE||xn.parent&&Hc(xn.parent)&&xn.parent.isCE)return e!=="default"&&(n.name=e),we("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),se();const o=s&&WP(s(n)),a=ot(ft,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function WP(t){return t.some(e=>fp(e)?!(e.type===Sr||e.type===ft&&!WP(e.children)):!0)?t:null}function N_(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Ed(r)]=t[r];return n}const L_=t=>t?gR(t)?Pm(t):L_(t.parent):null,zc=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>L_(t.parent),$root:t=>L_(t.root),$emit:t=>t.emit,$options:t=>Ky(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,qy(t.update)}),$nextTick:t=>t.n||(t.n=On.bind(t.proxy)),$watch:t=>QF.bind(t)}),vg=(t,e)=>t!==Nt&&!t.__isScriptSetup&&mt(t,e),CF={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(vg(r,e))return o[e]=1,r[e];if(i!==Nt&&mt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&mt(u,e))return o[e]=3,s[e];if(n!==Nt&&mt(n,e))return o[e]=4,n[e];$_&&(o[e]=0)}}const c=zc[e];let f,d;if(c)return e==="$attrs"&&Nr(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Nt&&mt(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,mt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return vg(i,e)?(i[e]=n,!0):r!==Nt&&mt(r,e)?(r[e]=n,!0):mt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Nt&&mt(t,o)||vg(e,o)||(a=s[0])&&mt(a,o)||mt(r,o)||mt(zc,o)||mt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:mt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function DF(){return kF().attrs}function kF(){const t=hl();return t.setupContext||(t.setupContext=vR(t))}function up(t){return Ve(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function GP(t,e){return!t||!e?t||e:Ve(t)&&Ve(e)?t.concat(e):dn({},up(t),up(e))}let $_=!0;function OF(t){const e=Ky(t),n=t.proxy,r=t.ctx;$_=!1,e.beforeCreate&&fT(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:g,activated:_,deactivated:A,beforeDestroy:S,beforeUnmount:x,destroyed:k,unmounted:O,render:M,renderTracked:N,renderTriggered:w,errorCaptured:E,serverPrefetch:b,expose:I,inheritAttrs:P,components:y,directives:T,filters:U}=e;if(u&&xF(u,r,null),o)for(const j in o){const H=o[j];Xe(H)&&(r[j]=H.bind(n))}if(i){const j=i.call(n,n);Rt(j)&&(t.data=Lr(j))}if($_=!0,s)for(const j in s){const H=s[j],ee=Xe(H)?H.bind(n,n):Xe(H.get)?H.get.bind(n,n):ai,R=!Xe(H)&&Xe(H.set)?H.set.bind(n):ai,ue=X({get:ee,set:R});Object.defineProperty(r,j,{enumerable:!0,configurable:!0,get:()=>ue.value,set:te=>ue.value=te})}if(a)for(const j in a)KP(a[j],r,n,j);if(l){const j=Xe(l)?l.call(n):l;Reflect.ownKeys(j).forEach(H=>{Ms(H,j[H])})}c&&fT(c,t,"c");function B(j,H){Ve(H)?H.forEach(ee=>j(ee.bind(n))):H&&j(H.bind(n))}if(B(bF,f),B(Zr,d),B(TF,p),B(EF,g),B(JF,_),B(ZF,A),B(PF,E),B(SF,N),B(IF,w),B(ff,x),B(Qo,O),B(AF,b),Ve(I))if(I.length){const j=t.exposed||(t.exposed={});I.forEach(H=>{Object.defineProperty(j,H,{get:()=>n[H],set:ee=>n[H]=ee})})}else t.exposed||(t.exposed={});M&&t.render===ai&&(t.render=M),P!=null&&(t.inheritAttrs=P),y&&(t.components=y),T&&(t.directives=T)}function xF(t,e,n=ai){Ve(t)&&(t=V_(t));for(const r in t){const i=t[r];let s;Rt(i)?"default"in i?s=jn(i.from||r,i.default,!0):s=jn(i.from||r):s=jn(i),hn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function fT(t,e,n){hi(Ve(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function KP(t,e,n,r){const i=r.includes(".")?aR(n,r):()=>n[r];if(Qt(t)){const s=e[t];Xe(s)&&ht(i,s)}else if(Xe(t))ht(i,t.bind(n));else if(Rt(t))if(Ve(t))t.forEach(s=>KP(s,e,n,r));else{const s=Xe(t.handler)?t.handler.bind(n):e[t.handler];Xe(s)&&ht(i,s,t)}}function Ky(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>cp(l,u,o,!0)),cp(l,e,o)),Rt(e)&&s.set(e,l),l}function cp(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&cp(t,s,n,!0),i&&i.forEach(o=>cp(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=MF[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const MF={data:dT,props:pT,emits:pT,methods:Tc,computed:Tc,beforeCreate:cr,created:cr,beforeMount:cr,mounted:cr,beforeUpdate:cr,updated:cr,beforeDestroy:cr,beforeUnmount:cr,destroyed:cr,unmounted:cr,activated:cr,deactivated:cr,errorCaptured:cr,serverPrefetch:cr,components:Tc,directives:Tc,watch:LF,provide:dT,inject:NF};function dT(t,e){return e?t?function(){return dn(Xe(t)?t.call(this,this):t,Xe(e)?e.call(this,this):e)}:e:t}function NF(t,e){return Tc(V_(t),V_(e))}function V_(t){if(Ve(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function cr(t,e){return t?[...new Set([].concat(t,e))]:e}function Tc(t,e){return t?dn(Object.create(null),t,e):e}function pT(t,e){return t?Ve(t)&&Ve(e)?[...new Set([...t,...e])]:dn(Object.create(null),up(t),up(e??{})):e}function LF(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const r in e)n[r]=cr(t[r],e[r]);return n}function XP(){return{app:null,config:{isNativeTag:gV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $F=0;function VF(t,e){return function(r,i=null){Xe(r)||(r=dn({},r)),i!=null&&!Rt(i)&&(i=null);const s=XP(),o=new WeakSet;let a=!1;const l=s.app={_uid:$F++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:vU,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&Xe(u.install)?(o.add(u),u.install(l,...c)):Xe(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,f){if(!a){const d=we(r,i);return d.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),c&&e?e(d,u):t(d,u,f),a=!0,l._container=u,u.__vue_app__=l,Pm(d.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Yc;Yc=l;try{return u()}finally{Yc=c}}};return l}}let Yc=null;function Ms(t,e){if(Fn){let n=Fn.provides;const r=Fn.parent&&Fn.parent.provides;r===n&&(n=Fn.provides=Object.create(r)),n[t]=e}}function jn(t,e,n=!1){const r=Fn||xn;if(r||Yc){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Yc._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Xe(e)?e.call(r&&r.proxy):e}}const QP={},JP=()=>Object.create(QP),ZP=t=>Object.getPrototypeOf(t)===QP;function FF(t,e,n,r=!1){const i={},s=JP();t.propsDefaults=Object.create(null),eR(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:$l(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function UF(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=vt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(wm(t.emitsOptions,d))continue;const p=e[d];if(l)if(mt(s,d))p!==s[d]&&(s[d]=p,u=!0);else{const g=ki(d);i[g]=F_(l,a,g,p,t,!1)}else p!==s[d]&&(s[d]=p,u=!0)}}}else{eR(t,e,i,s)&&(u=!0);let c;for(const f in a)(!e||!mt(e,f)&&((c=Go(f))===f||!mt(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=F_(l,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!mt(e,f))&&(delete s[f],u=!0)}u&&xs(t.attrs,"set","")}function eR(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Fc(l))continue;const u=e[l];let c;i&&mt(i,c=ki(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:wm(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=vt(n),u=a||Nt;for(let c=0;c<s.length;c++){const f=s[c];n[f]=F_(i,l,f,u[f],t,!mt(u,f))}}return o}function F_(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=mt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Xe(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=df(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Go(n))&&(r=!0))}return r}function tR(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Xe(t)){const c=f=>{l=!0;const[d,p]=tR(f,e,!0);dn(o,d),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Rt(t)&&r.set(t,zl),zl;if(Ve(s))for(let c=0;c<s.length;c++){const f=ki(s[c]);mT(f)&&(o[f]=Nt)}else if(s)for(const c in s){const f=ki(c);if(mT(f)){const d=s[c],p=o[f]=Ve(d)||Xe(d)?{type:d}:dn({},d);if(p){const g=vT(Boolean,p.type),_=vT(String,p.type);p[0]=g>-1,p[1]=_<0||g<_,(g>-1||mt(p,"default"))&&a.push(f)}}}const u=[o,a];return Rt(t)&&r.set(t,u),u}function mT(t){return t[0]!=="$"&&!Fc(t)}function gT(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function _T(t,e){return gT(t)===gT(e)}function vT(t,e){return Ve(e)?e.findIndex(n=>_T(n,t)):Xe(e)&&_T(e,t)?0:-1}const nR=t=>t[0]==="_"||t==="$stable",Xy=t=>Ve(t)?t.map(Hi):[Hi(t)],BF=(t,e,n)=>{if(e._n)return e;const r=Tt((...i)=>Xy(e(...i)),n);return r._c=!1,r},rR=(t,e,n)=>{const r=t._ctx;for(const i in t){if(nR(i))continue;const s=t[i];if(Xe(s))e[i]=BF(i,s,r);else if(s!=null){const o=Xy(s);e[i]=()=>o}}},iR=(t,e)=>{const n=Xy(e);t.slots.default=()=>n},jF=(t,e)=>{const n=t.slots=JP();if(t.vnode.shapeFlag&32){const r=e._;r?(dn(n,e),_P(n,"_",r,!0)):rR(e,n)}else e&&iR(t,e)},HF=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Nt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(dn(i,e),!n&&a===1&&delete i._):(s=!e.$stable,rR(e,i)),o=e}else e&&(iR(t,e),o={default:1});if(s)for(const a in i)!nR(a)&&o[a]==null&&delete i[a]};function U_(t,e,n,r,i=!1){if(Ve(t)){t.forEach((d,p)=>U_(d,e&&(Ve(e)?e[p]:e),n,r,i));return}if(Hc(r)&&!i)return;const s=r.shapeFlag&4?Pm(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Nt?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(Qt(u)?(c[u]=null,mt(f,u)&&(f[u]=null)):hn(u)&&(u.value=null)),Xe(l))Oo(l,a,12,[o,c]);else{const d=Qt(l),p=hn(l);if(d||p){const g=()=>{if(t.f){const _=d?mt(f,l)?f[l]:c[l]:l.value;i?Ve(_)&&My(_,s):Ve(_)?_.includes(s)||_.push(s):d?(c[l]=[s],mt(f,l)&&(f[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else d?(c[l]=o,mt(f,l)&&(f[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};o?(g.id=-1,Tr(g,n)):g()}}}const Tr=wF;function zF(t){return YF(t)}function YF(t,e){const n=vP();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=ai,insertStaticContent:g}=t,_=(D,L,Y,Q=null,$=null,he=null,de=void 0,le=null,oe=!!L.dynamicChildren)=>{if(D===L)return;D&&!wa(D,L)&&(Q=z(D),te(D,$,he,!0),D=null),L.patchFlag===-2&&(oe=!1,L.dynamicChildren=null);const{type:ie,ref:ge,shapeFlag:Pe}=L;switch(ie){case Im:A(D,L,Y,Q);break;case Sr:S(D,L,Y,Q);break;case bg:D==null&&x(L,Y,Q,de);break;case ft:y(D,L,Y,Q,$,he,de,le,oe);break;default:Pe&1?M(D,L,Y,Q,$,he,de,le,oe):Pe&6?T(D,L,Y,Q,$,he,de,le,oe):(Pe&64||Pe&128)&&ie.process(D,L,Y,Q,$,he,de,le,oe,ne)}ge!=null&&$&&U_(ge,D&&D.ref,he,L||D,!L)},A=(D,L,Y,Q)=>{if(D==null)r(L.el=a(L.children),Y,Q);else{const $=L.el=D.el;L.children!==D.children&&u($,L.children)}},S=(D,L,Y,Q)=>{D==null?r(L.el=l(L.children||""),Y,Q):L.el=D.el},x=(D,L,Y,Q)=>{[D.el,D.anchor]=g(D.children,L,Y,Q,D.el,D.anchor)},k=({el:D,anchor:L},Y,Q)=>{let $;for(;D&&D!==L;)$=d(D),r(D,Y,Q),D=$;r(L,Y,Q)},O=({el:D,anchor:L})=>{let Y;for(;D&&D!==L;)Y=d(D),i(D),D=Y;i(L)},M=(D,L,Y,Q,$,he,de,le,oe)=>{L.type==="svg"?de="svg":L.type==="math"&&(de="mathml"),D==null?N(L,Y,Q,$,he,de,le,oe):b(D,L,$,he,de,le,oe)},N=(D,L,Y,Q,$,he,de,le)=>{let oe,ie;const{props:ge,shapeFlag:Pe,transition:ve,dirs:Ie}=D;if(oe=D.el=o(D.type,he,ge&&ge.is,ge),Pe&8?c(oe,D.children):Pe&16&&E(D.children,oe,null,Q,$,yg(D,he),de,le),Ie&&aa(D,null,Q,"created"),w(oe,D,D.scopeId,de,Q),ge){for(const Ye in ge)Ye!=="value"&&!Fc(Ye)&&s(oe,Ye,null,ge[Ye],he,D.children,Q,$,De);"value"in ge&&s(oe,"value",null,ge.value,he),(ie=ge.onVnodeBeforeMount)&&Ui(ie,Q,D)}Ie&&aa(D,null,Q,"beforeMount");const be=qF($,ve);be&&ve.beforeEnter(oe),r(oe,L,Y),((ie=ge&&ge.onVnodeMounted)||be||Ie)&&Tr(()=>{ie&&Ui(ie,Q,D),be&&ve.enter(oe),Ie&&aa(D,null,Q,"mounted")},$)},w=(D,L,Y,Q,$)=>{if(Y&&p(D,Y),Q)for(let he=0;he<Q.length;he++)p(D,Q[he]);if($){let he=$.subTree;if(L===he){const de=$.vnode;w(D,de,de.scopeId,de.slotScopeIds,$.parent)}}},E=(D,L,Y,Q,$,he,de,le,oe=0)=>{for(let ie=oe;ie<D.length;ie++){const ge=D[ie]=le?co(D[ie]):Hi(D[ie]);_(null,ge,L,Y,Q,$,he,de,le)}},b=(D,L,Y,Q,$,he,de)=>{const le=L.el=D.el;let{patchFlag:oe,dynamicChildren:ie,dirs:ge}=L;oe|=D.patchFlag&16;const Pe=D.props||Nt,ve=L.props||Nt;let Ie;if(Y&&la(Y,!1),(Ie=ve.onVnodeBeforeUpdate)&&Ui(Ie,Y,L,D),ge&&aa(L,D,Y,"beforeUpdate"),Y&&la(Y,!0),ie?I(D.dynamicChildren,ie,le,Y,Q,yg(L,$),he):de||H(D,L,le,null,Y,Q,yg(L,$),he,!1),oe>0){if(oe&16)P(le,L,Pe,ve,Y,Q,$);else if(oe&2&&Pe.class!==ve.class&&s(le,"class",null,ve.class,$),oe&4&&s(le,"style",Pe.style,ve.style,$),oe&8){const be=L.dynamicProps;for(let Ye=0;Ye<be.length;Ye++){const ze=be[Ye],it=Pe[ze],Yt=ve[ze];(Yt!==it||ze==="value")&&s(le,ze,it,Yt,$,D.children,Y,Q,De)}}oe&1&&D.children!==L.children&&c(le,L.children)}else!de&&ie==null&&P(le,L,Pe,ve,Y,Q,$);((Ie=ve.onVnodeUpdated)||ge)&&Tr(()=>{Ie&&Ui(Ie,Y,L,D),ge&&aa(L,D,Y,"updated")},Q)},I=(D,L,Y,Q,$,he,de)=>{for(let le=0;le<L.length;le++){const oe=D[le],ie=L[le],ge=oe.el&&(oe.type===ft||!wa(oe,ie)||oe.shapeFlag&70)?f(oe.el):Y;_(oe,ie,ge,null,Q,$,he,de,!0)}},P=(D,L,Y,Q,$,he,de)=>{if(Y!==Q){if(Y!==Nt)for(const le in Y)!Fc(le)&&!(le in Q)&&s(D,le,Y[le],null,de,L.children,$,he,De);for(const le in Q){if(Fc(le))continue;const oe=Q[le],ie=Y[le];oe!==ie&&le!=="value"&&s(D,le,ie,oe,de,L.children,$,he,De)}"value"in Q&&s(D,"value",Y.value,Q.value,de)}},y=(D,L,Y,Q,$,he,de,le,oe)=>{const ie=L.el=D?D.el:a(""),ge=L.anchor=D?D.anchor:a("");let{patchFlag:Pe,dynamicChildren:ve,slotScopeIds:Ie}=L;Ie&&(le=le?le.concat(Ie):Ie),D==null?(r(ie,Y,Q),r(ge,Y,Q),E(L.children||[],Y,ge,$,he,de,le,oe)):Pe>0&&Pe&64&&ve&&D.dynamicChildren?(I(D.dynamicChildren,ve,Y,$,he,de,le),(L.key!=null||$&&L===$.subTree)&&Qy(D,L,!0)):H(D,L,Y,ge,$,he,de,le,oe)},T=(D,L,Y,Q,$,he,de,le,oe)=>{L.slotScopeIds=le,D==null?L.shapeFlag&512?$.ctx.activate(L,Y,Q,de,oe):U(L,Y,Q,$,he,de,oe):F(D,L,oe)},U=(D,L,Y,Q,$,he,de)=>{const le=D.component=fU(D,Q,$);if(Am(D)&&(le.ctx.renderer=ne),dU(le),le.asyncDep){if($&&$.registerDep(le,B,de),!D.el){const oe=le.subTree=we(Sr);S(null,oe,L,Y)}}else B(le,D,L,Y,$,he,de)},F=(D,L,Y)=>{const Q=L.component=D.component;if(mF(D,L,Y))if(Q.asyncDep&&!Q.asyncResolved){j(Q,L,Y);return}else Q.next=L,uF(Q.update),Q.effect.dirty=!0,Q.update();else L.el=D.el,Q.vnode=L},B=(D,L,Y,Q,$,he,de)=>{const le=()=>{if(D.isMounted){let{next:ge,bu:Pe,u:ve,parent:Ie,vnode:be}=D;{const tt=sR(D);if(tt){ge&&(ge.el=be.el,j(D,ge,de)),tt.asyncDep.then(()=>{D.isUnmounted||le()});return}}let Ye=ge,ze;la(D,!1),ge?(ge.el=be.el,j(D,ge,de)):ge=be,Pe&&Ad(Pe),(ze=ge.props&&ge.props.onVnodeBeforeUpdate)&&Ui(ze,Ie,ge,be),la(D,!0);const it=_g(D),Yt=D.subTree;D.subTree=it,_(Yt,it,f(Yt.el),z(Yt),D,$,he),ge.el=it.el,Ye===null&&gF(D,it.el),ve&&Tr(ve,$),(ze=ge.props&&ge.props.onVnodeUpdated)&&Tr(()=>Ui(ze,Ie,ge,be),$)}else{let ge;const{el:Pe,props:ve}=L,{bm:Ie,m:be,parent:Ye}=D,ze=Hc(L);if(la(D,!1),Ie&&Ad(Ie),!ze&&(ge=ve&&ve.onVnodeBeforeMount)&&Ui(ge,Ye,L),la(D,!0),Pe&&Re){const it=()=>{D.subTree=_g(D),Re(Pe,D.subTree,D,$,null)};ze?L.type.__asyncLoader().then(()=>!D.isUnmounted&&it()):it()}else{const it=D.subTree=_g(D);_(null,it,Y,Q,D,$,he),L.el=it.el}if(be&&Tr(be,$),!ze&&(ge=ve&&ve.onVnodeMounted)){const it=L;Tr(()=>Ui(ge,Ye,it),$)}(L.shapeFlag&256||Ye&&Hc(Ye.vnode)&&Ye.vnode.shapeFlag&256)&&D.a&&Tr(D.a,$),D.isMounted=!0,L=Y=Q=null}},oe=D.effect=new $y(le,ai,()=>qy(ie),D.scope),ie=D.update=()=>{oe.dirty&&oe.run()};ie.id=D.uid,la(D,!0),ie()},j=(D,L,Y)=>{L.component=D;const Q=D.vnode.props;D.vnode=L,D.next=null,UF(D,L.props,Q,Y),HF(D,L.children,Y),Ko(),uT(D),Xo()},H=(D,L,Y,Q,$,he,de,le,oe=!1)=>{const ie=D&&D.children,ge=D?D.shapeFlag:0,Pe=L.children,{patchFlag:ve,shapeFlag:Ie}=L;if(ve>0){if(ve&128){R(ie,Pe,Y,Q,$,he,de,le,oe);return}else if(ve&256){ee(ie,Pe,Y,Q,$,he,de,le,oe);return}}Ie&8?(ge&16&&De(ie,$,he),Pe!==ie&&c(Y,Pe)):ge&16?Ie&16?R(ie,Pe,Y,Q,$,he,de,le,oe):De(ie,$,he,!0):(ge&8&&c(Y,""),Ie&16&&E(Pe,Y,Q,$,he,de,le,oe))},ee=(D,L,Y,Q,$,he,de,le,oe)=>{D=D||zl,L=L||zl;const ie=D.length,ge=L.length,Pe=Math.min(ie,ge);let ve;for(ve=0;ve<Pe;ve++){const Ie=L[ve]=oe?co(L[ve]):Hi(L[ve]);_(D[ve],Ie,Y,null,$,he,de,le,oe)}ie>ge?De(D,$,he,!0,!1,Pe):E(L,Y,Q,$,he,de,le,oe,Pe)},R=(D,L,Y,Q,$,he,de,le,oe)=>{let ie=0;const ge=L.length;let Pe=D.length-1,ve=ge-1;for(;ie<=Pe&&ie<=ve;){const Ie=D[ie],be=L[ie]=oe?co(L[ie]):Hi(L[ie]);if(wa(Ie,be))_(Ie,be,Y,null,$,he,de,le,oe);else break;ie++}for(;ie<=Pe&&ie<=ve;){const Ie=D[Pe],be=L[ve]=oe?co(L[ve]):Hi(L[ve]);if(wa(Ie,be))_(Ie,be,Y,null,$,he,de,le,oe);else break;Pe--,ve--}if(ie>Pe){if(ie<=ve){const Ie=ve+1,be=Ie<ge?L[Ie].el:Q;for(;ie<=ve;)_(null,L[ie]=oe?co(L[ie]):Hi(L[ie]),Y,be,$,he,de,le,oe),ie++}}else if(ie>ve)for(;ie<=Pe;)te(D[ie],$,he,!0),ie++;else{const Ie=ie,be=ie,Ye=new Map;for(ie=be;ie<=ve;ie++){const Ct=L[ie]=oe?co(L[ie]):Hi(L[ie]);Ct.key!=null&&Ye.set(Ct.key,ie)}let ze,it=0;const Yt=ve-be+1;let tt=!1,ar=0;const sn=new Array(Yt);for(ie=0;ie<Yt;ie++)sn[ie]=0;for(ie=Ie;ie<=Pe;ie++){const Ct=D[ie];if(it>=Yt){te(Ct,$,he,!0);continue}let re;if(Ct.key!=null)re=Ye.get(Ct.key);else for(ze=be;ze<=ve;ze++)if(sn[ze-be]===0&&wa(Ct,L[ze])){re=ze;break}re===void 0?te(Ct,$,he,!0):(sn[re-be]=ie+1,re>=ar?ar=re:tt=!0,_(Ct,L[re],Y,null,$,he,de,le,oe),it++)}const Sn=tt?WF(sn):zl;for(ze=Sn.length-1,ie=Yt-1;ie>=0;ie--){const Ct=be+ie,re=L[Ct],V=Ct+1<ge?L[Ct+1].el:Q;sn[ie]===0?_(null,re,Y,V,$,he,de,le,oe):tt&&(ze<0||ie!==Sn[ze]?ue(re,Y,V,2):ze--)}}},ue=(D,L,Y,Q,$=null)=>{const{el:he,type:de,transition:le,children:oe,shapeFlag:ie}=D;if(ie&6){ue(D.component.subTree,L,Y,Q);return}if(ie&128){D.suspense.move(L,Y,Q);return}if(ie&64){de.move(D,L,Y,ne);return}if(de===ft){r(he,L,Y);for(let Pe=0;Pe<oe.length;Pe++)ue(oe[Pe],L,Y,Q);r(D.anchor,L,Y);return}if(de===bg){k(D,L,Y);return}if(Q!==2&&ie&1&&le)if(Q===0)le.beforeEnter(he),r(he,L,Y),Tr(()=>le.enter(he),$);else{const{leave:Pe,delayLeave:ve,afterLeave:Ie}=le,be=()=>r(he,L,Y),Ye=()=>{Pe(he,()=>{be(),Ie&&Ie()})};ve?ve(he,be,Ye):Ye()}else r(he,L,Y)},te=(D,L,Y,Q=!1,$=!1)=>{const{type:he,props:de,ref:le,children:oe,dynamicChildren:ie,shapeFlag:ge,patchFlag:Pe,dirs:ve,memoIndex:Ie}=D;if(Pe===-2&&($=!1),le!=null&&U_(le,null,Y,D,!0),Ie!=null&&(L.renderCache[Ie]=void 0),ge&256){L.ctx.deactivate(D);return}const be=ge&1&&ve,Ye=!Hc(D);let ze;if(Ye&&(ze=de&&de.onVnodeBeforeUnmount)&&Ui(ze,L,D),ge&6)Ce(D.component,Y,Q);else{if(ge&128){D.suspense.unmount(Y,Q);return}be&&aa(D,null,L,"beforeUnmount"),ge&64?D.type.remove(D,L,Y,ne,Q):ie&&(he!==ft||Pe>0&&Pe&64)?De(ie,L,Y,!1,!0):(he===ft&&Pe&384||!$&&ge&16)&&De(oe,L,Y),Q&&_e(D)}(Ye&&(ze=de&&de.onVnodeUnmounted)||be)&&Tr(()=>{ze&&Ui(ze,L,D),be&&aa(D,null,L,"unmounted")},Y)},_e=D=>{const{type:L,el:Y,anchor:Q,transition:$}=D;if(L===ft){me(Y,Q);return}if(L===bg){O(D);return}const he=()=>{i(Y),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(D.shapeFlag&1&&$&&!$.persisted){const{leave:de,delayLeave:le}=$,oe=()=>de(Y,he);le?le(D.el,he,oe):oe()}else he()},me=(D,L)=>{let Y;for(;D!==L;)Y=d(D),i(D),D=Y;i(L)},Ce=(D,L,Y)=>{const{bum:Q,scope:$,update:he,subTree:de,um:le,m:oe,a:ie}=D;yT(oe),yT(ie),Q&&Ad(Q),$.stop(),he&&(he.active=!1,te(de,D,L,Y)),le&&Tr(le,L),Tr(()=>{D.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},De=(D,L,Y,Q=!1,$=!1,he=0)=>{for(let de=he;de<D.length;de++)te(D[de],L,Y,Q,$)},z=D=>D.shapeFlag&6?z(D.component.subTree):D.shapeFlag&128?D.suspense.next():d(D.anchor||D.el);let ae=!1;const W=(D,L,Y)=>{D==null?L._vnode&&te(L._vnode,null,null,!0):_(L._vnode||null,D,L,null,null,null,Y),ae||(ae=!0,uT(),HP(),ae=!1),L._vnode=D},ne={p:_,um:te,m:ue,r:_e,mt:U,mc:E,pc:H,pbc:I,n:z,o:t};let pe,Re;return{render:W,hydrate:pe,createApp:VF(W,pe)}}function yg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function la({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function qF(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Qy(t,e,n=!1){const r=t.children,i=e.children;if(Ve(r)&&Ve(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=co(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Qy(o,a)),a.type===Im&&(a.el=o.el)}}function WF(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function sR(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:sR(e)}function yT(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const GF=Symbol.for("v-scx"),KF=()=>jn(GF);function oR(t,e){return Em(t,null,e)}function XF(t,e){return Em(t,null,{flush:"sync"})}const Gf={};function ht(t,e,n){return Em(t,e,n)}function Em(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=Nt){if(e&&s){const N=e;e=(...w)=>{N(...w),M()}}const l=Fn,u=N=>r===!0?N:po(N,r===!1?1:void 0);let c,f=!1,d=!1;if(hn(t)?(c=()=>t.value,f=ap(t)):Uc(t)?(c=()=>u(t),f=!0):Ve(t)?(d=!0,f=t.some(N=>Uc(N)||ap(N)),c=()=>t.map(N=>{if(hn(N))return N.value;if(Uc(N))return u(N);if(Xe(N))return Oo(N,l,2)})):Xe(t)?e?c=()=>Oo(t,l,2):c=()=>(p&&p(),hi(t,l,3,[g])):c=ai,e&&r){const N=c;c=()=>po(N())}let p,g=N=>{p=k.onStop=()=>{Oo(N,l,4),p=k.onStop=void 0}},_;if(Sm)if(g=ai,e?n&&hi(e,l,3,[c(),d?[]:void 0,g]):c(),i==="sync"){const N=KF();_=N.__watcherHandles||(N.__watcherHandles=[])}else return ai;let A=d?new Array(t.length).fill(Gf):Gf;const S=()=>{if(!(!k.active||!k.dirty))if(e){const N=k.run();(r||f||(d?N.some((w,E)=>us(w,A[E])):us(N,A)))&&(p&&p(),hi(e,l,3,[N,A===Gf?void 0:d&&A[0]===Gf?[]:A,g]),A=N)}else k.run()};S.allowRecurse=!!e;let x;i==="sync"?x=S:i==="post"?x=()=>Tr(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),x=()=>qy(S));const k=new $y(c,ai,x),O=EP(),M=()=>{k.stop(),O&&My(O.effects,k)};return e?n?S():A=k.run():i==="post"?Tr(k.run.bind(k),l&&l.suspense):k.run(),_&&_.push(M),M}function QF(t,e,n){const r=this.proxy,i=Qt(t)?t.includes(".")?aR(r,t):()=>r[t]:t.bind(r,r);let s;Xe(e)?s=e:(s=e.handler,n=e);const o=df(this),a=Em(i,s.bind(r),n);return o(),a}function aR(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function po(t,e=1/0,n){if(e<=0||!Rt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,hn(t))po(t.value,e,n);else if(Ve(t))for(let r=0;r<t.length;r++)po(t[r],e,n);else if(Nu(t)||Yl(t))t.forEach(r=>{po(r,e,n)});else if(gP(t)){for(const r in t)po(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&po(t[r],e,n)}return t}const Am=t=>t.type.__isKeepAlive;function JF(t,e){lR(t,"a",e)}function ZF(t,e){lR(t,"da",e)}function lR(t,e,n=Fn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Tm(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Am(i.parent.vnode)&&eU(r,e,n,i),i=i.parent}}function eU(t,e,n,r){const i=Tm(e,t,r,!0);Qo(()=>{My(r[e],i)},n)}const uo=Symbol("_leaveCb"),Kf=Symbol("_enterCb");function tU(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zr(()=>{t.isMounted=!0}),ff(()=>{t.isUnmounting=!0}),t}const ni=[Function,Array],uR={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ni,onEnter:ni,onAfterEnter:ni,onEnterCancelled:ni,onBeforeLeave:ni,onLeave:ni,onAfterLeave:ni,onLeaveCancelled:ni,onBeforeAppear:ni,onAppear:ni,onAfterAppear:ni,onAppearCancelled:ni},cR=t=>{const e=t.subTree;return e.component?cR(e.component):e},nU={name:"BaseTransition",props:uR,setup(t,{slots:e}){const n=hl(),r=tU();return()=>{const i=e.default&&fR(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const d of i)if(d.type!==Sr){s=d;break}}const o=vt(t),{mode:a}=o;if(r.isLeaving)return wg(s);const l=wT(s);if(!l)return wg(s);let u=B_(l,o,r,n,d=>u=d);hp(l,u);const c=n.subTree,f=c&&wT(c);if(f&&f.type!==Sr&&!wa(l,f)&&cR(n).type!==Sr){const d=B_(f,o,r,n);if(hp(f,d),a==="out-in"&&l.type!==Sr)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},wg(s);a==="in-out"&&l.type!==Sr&&(d.delayLeave=(p,g,_)=>{const A=hR(r,f);A[String(f.key)]=f,p[uo]=()=>{g(),p[uo]=void 0,delete u.delayedLeave},u.delayedLeave=_})}return s}}},rU=nU;function hR(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function B_(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:_,onBeforeAppear:A,onAppear:S,onAfterAppear:x,onAppearCancelled:k}=e,O=String(t.key),M=hR(n,t),N=(b,I)=>{b&&hi(b,r,9,I)},w=(b,I)=>{const P=I[1];N(b,I),Ve(b)?b.every(y=>y.length<=1)&&P():b.length<=1&&P()},E={mode:o,persisted:a,beforeEnter(b){let I=l;if(!n.isMounted)if(s)I=A||l;else return;b[uo]&&b[uo](!0);const P=M[O];P&&wa(t,P)&&P.el[uo]&&P.el[uo](),N(I,[b])},enter(b){let I=u,P=c,y=f;if(!n.isMounted)if(s)I=S||u,P=x||c,y=k||f;else return;let T=!1;const U=b[Kf]=F=>{T||(T=!0,F?N(y,[b]):N(P,[b]),E.delayedLeave&&E.delayedLeave(),b[Kf]=void 0)};I?w(I,[b,U]):U()},leave(b,I){const P=String(t.key);if(b[Kf]&&b[Kf](!0),n.isUnmounting)return I();N(d,[b]);let y=!1;const T=b[uo]=U=>{y||(y=!0,I(),U?N(_,[b]):N(g,[b]),b[uo]=void 0,M[P]===t&&delete M[P])};M[P]=t,p?w(p,[b,T]):T()},clone(b){const I=B_(b,e,n,r,i);return i&&i(I),I}};return E}function wg(t){if(Am(t))return t=Uo(t),t.children=null,t}function wT(t){if(!Am(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Xe(n.default))return n.default()}}function hp(t,e){t.shapeFlag&6&&t.component?hp(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fR(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===ft?(o.patchFlag&128&&i++,r=r.concat(fR(o.children,e,a))):(e||o.type!==Sr)&&r.push(a!=null?Uo(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}const iU=t=>t.__isTeleport,qc=t=>t&&(t.disabled||t.disabled===""),bT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,TT=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,j_=(t,e)=>{const n=t&&t.to;return Qt(n)?e?e(n):null:n},sU={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:g,createText:_,createComment:A}}=u,S=qc(e.props);let{shapeFlag:x,children:k,dynamicChildren:O}=e;if(t==null){const M=e.el=_(""),N=e.anchor=_("");p(M,n,r),p(N,n,r);const w=e.target=j_(e.props,g),E=e.targetAnchor=_("");w&&(p(E,w),o==="svg"||bT(w)?o="svg":(o==="mathml"||TT(w))&&(o="mathml"));const b=(I,P)=>{x&16&&c(k,I,P,i,s,o,a,l)};S?b(n,N):w&&b(w,E)}else{e.el=t.el;const M=e.anchor=t.anchor,N=e.target=t.target,w=e.targetAnchor=t.targetAnchor,E=qc(t.props),b=E?n:N,I=E?M:w;if(o==="svg"||bT(N)?o="svg":(o==="mathml"||TT(N))&&(o="mathml"),O?(d(t.dynamicChildren,O,b,i,s,o,a),Qy(t,e,!0)):l||f(t,e,b,I,i,s,o,a,!1),S)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Xf(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=j_(e.props,g);P&&Xf(e,P,null,u,0)}else E&&Xf(e,N,w,u,1)}dR(e)},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetAnchor:u,target:c,props:f}=t;if(c&&i(u),s&&i(l),o&16){const d=s||!qc(f);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,d,!!g.dynamicChildren)}}},move:Xf,hydrate:oU};function Xf(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,f=s===2;if(f&&r(o,e,n),(!f||qc(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],e,n,2);f&&r(a,e,n)}function oU(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=j_(e.props,l);if(c){const f=c._lpa||c.firstChild;if(e.shapeFlag&16)if(qc(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=f;else{e.anchor=o(t);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(f,e,c,n,r,i,s)}dR(e)}return e.anchor&&o(e.anchor)}const aU=sU;function dR(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const ft=Symbol.for("v-fgt"),Im=Symbol.for("v-txt"),Sr=Symbol.for("v-cmt"),bg=Symbol.for("v-stc"),Wc=[];let Pi=null;function se(t=!1){Wc.push(Pi=t?null:[])}function lU(){Wc.pop(),Pi=Wc[Wc.length-1]||null}let Ph=1;function ET(t){Ph+=t}function pR(t){return t.dynamicChildren=Ph>0?Pi||zl:null,lU(),Ph>0&&Pi&&Pi.push(t),t}function Se(t,e,n,r,i,s){return pR(Te(t,e,n,r,i,s,!0))}function ot(t,e,n,r,i){return pR(we(t,e,n,r,i,!0))}function fp(t){return t?t.__v_isVNode===!0:!1}function wa(t,e){return t.type===e.type&&t.key===e.key}const mR=({key:t})=>t??null,Id=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qt(t)||hn(t)||Xe(t)?{i:xn,r:t,k:e,f:!!n}:t:null);function Te(t,e=null,n=null,r=0,i=null,s=t===ft?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mR(e),ref:e&&Id(e),scopeId:bm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:xn};return a?(Jy(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Qt(n)?8:16),Ph>0&&!o&&Pi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Pi.push(l),l}const we=uU;function uU(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===qP)&&(t=Sr),fp(t)){const a=Uo(t,e,!0);return n&&Jy(a,n),Ph>0&&!s&&Pi&&(a.shapeFlag&6?Pi[Pi.indexOf(t)]=a:Pi.push(a)),a.patchFlag=-2,a}if(_U(t)&&(t=t.__vccOpts),e){e=Rh(e);let{class:a,style:l}=e;a&&!Qt(a)&&(e.class=Pt(a)),Rt(l)&&(LP(l)&&!Ve(l)&&(l=dn({},l)),e.style=ts(l))}const o=Qt(t)?1:yF(t)?128:iU(t)?64:Rt(t)?4:Xe(t)?2:0;return Te(t,e,n,r,i,o,s,!0)}function Rh(t){return t?LP(t)||ZP(t)?dn({},t):t:null}function Uo(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?Gr(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&mR(u),ref:e&&e.ref?n&&s?Ve(s)?s.concat(Id(e)):[s,Id(e)]:Id(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Uo(t.ssContent),ssFallback:t.ssFallback&&Uo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&hp(c,l.clone(c)),c}function wr(t=" ",e=0){return we(Im,null,t,e)}function rt(t="",e=!1){return e?(se(),ot(Sr,null,t)):we(Sr,null,t)}function Hi(t){return t==null||typeof t=="boolean"?we(Sr):Ve(t)?we(ft,null,t.slice()):typeof t=="object"?co(t):we(Im,null,String(t))}function co(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Uo(t)}function Jy(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ve(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Jy(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!ZP(e)?e._ctx=xn:i===3&&xn&&(xn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Xe(e)?(e={default:e,_ctx:xn},n=32):(e=String(e),r&64?(n=16,e=[wr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Pt([e.class,r.class]));else if(i==="style")e.style=ts([e.style,r.style]);else if(mm(i)){const s=e[i],o=r[i];o&&s!==o&&!(Ve(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ui(t,e,n,r=null){hi(t,e,7,[n,r])}const cU=XP();let hU=0;function fU(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||cU,s={uid:hU++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new TP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tR(r,i),emitsOptions:YP(r,i),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=fF.bind(null,s),t.ce&&t.ce(s),s}let Fn=null;const hl=()=>Fn||xn;let dp,H_;{const t=vP(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};dp=e("__VUE_INSTANCE_SETTERS__",n=>Fn=n),H_=e("__VUE_SSR_SETTERS__",n=>Sm=n)}const df=t=>{const e=Fn;return dp(t),t.scope.on(),()=>{t.scope.off(),dp(e)}},AT=()=>{Fn&&Fn.scope.off(),dp(null)};function gR(t){return t.vnode.shapeFlag&4}let Sm=!1;function dU(t,e=!1){e&&H_(e);const{props:n,children:r}=t.vnode,i=gR(t);FF(t,n,i,e),jF(t,r);const s=i?pU(t,e):void 0;return e&&H_(!1),s}function pU(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,CF);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?vR(t):null,s=df(t);Ko();const o=Oo(r,t,0,[t.props,i]);if(Xo(),s(),pP(o)){if(o.then(AT,AT),e)return o.then(a=>{IT(t,a,e)}).catch(a=>{ym(a,t,0)});t.asyncDep=o}else IT(t,o,e)}else _R(t,e)}function IT(t,e,n){Xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Rt(e)&&(t.setupState=FP(e)),_R(t,n)}let ST;function _R(t,e,n){const r=t.type;if(!t.render){if(!e&&ST&&!r.render){const i=r.template||Ky(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=dn(dn({isCustomElement:s,delimiters:a},o),l);r.render=ST(i,u)}}t.render=r.render||ai}{const i=df(t);Ko();try{OF(t)}finally{Xo(),i()}}}const mU={get(t,e){return Nr(t,"get",""),t[e]}};function vR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,mU),slots:t.slots,emit:t.emit,expose:e}}function Pm(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(FP(ql(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in zc)return zc[n](t)},has(e,n){return n in e||n in zc}})):t.proxy}function gU(t,e=!0){return Xe(t)?t.displayName||t.name:t.name||e&&t.__name}function _U(t){return Xe(t)&&"__vccOpts"in t}const X=(t,e)=>JV(t,e,Sm);function yR(t,e,n=Nt){const r=hl(),i=ki(e),s=Go(e),o=rF((l,u)=>{let c;return XF(()=>{const f=t[e];us(c,f)&&(c=f,u())}),{get(){return l(),n.get?n.get(c):c},set(f){const d=r.vnode.props;!(d&&(e in d||i in d||s in d)&&(`onUpdate:${e}`in d||`onUpdate:${i}`in d||`onUpdate:${s}`in d))&&us(f,c)&&(c=f,u()),r.emit(`update:${e}`,n.set?n.set(f):f)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function Zy(t,e,n){const r=arguments.length;return r===2?Rt(e)&&!Ve(e)?fp(e)?we(t,null,[e]):we(t,e):we(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&fp(n)&&(n=[n]),we(t,e,n))}const vU="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yU="http://www.w3.org/2000/svg",wU="http://www.w3.org/1998/Math/MathML",ws=typeof document<"u"?document:null,PT=ws&&ws.createElement("template"),bU={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ws.createElementNS(yU,t):e==="mathml"?ws.createElementNS(wU,t):n?ws.createElement(t,{is:n}):ws.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ws.createTextNode(t),createComment:t=>ws.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ws.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{PT.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=PT.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},to="transition",rc="animation",Ch=Symbol("_vtc"),Bo=(t,{slots:e})=>Zy(rU,TU(t),e);Bo.displayName="Transition";const wR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Bo.props=dn({},uR,wR);const ua=(t,e=[])=>{Ve(t)?t.forEach(n=>n(...e)):t&&t(...e)},RT=t=>t?Ve(t)?t.some(e=>e.length>1):t.length>1:!1;function TU(t){const e={};for(const y in t)y in wR||(e[y]=t[y]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=EU(i),_=g&&g[0],A=g&&g[1],{onBeforeEnter:S,onEnter:x,onEnterCancelled:k,onLeave:O,onLeaveCancelled:M,onBeforeAppear:N=S,onAppear:w=x,onAppearCancelled:E=k}=e,b=(y,T,U)=>{ca(y,T?c:a),ca(y,T?u:o),U&&U()},I=(y,T)=>{y._isLeaving=!1,ca(y,f),ca(y,p),ca(y,d),T&&T()},P=y=>(T,U)=>{const F=y?w:x,B=()=>b(T,y,U);ua(F,[T,B]),CT(()=>{ca(T,y?l:s),no(T,y?c:a),RT(F)||DT(T,r,_,B)})};return dn(e,{onBeforeEnter(y){ua(S,[y]),no(y,s),no(y,o)},onBeforeAppear(y){ua(N,[y]),no(y,l),no(y,u)},onEnter:P(!1),onAppear:P(!0),onLeave(y,T){y._isLeaving=!0;const U=()=>I(y,T);no(y,f),no(y,d),SU(),CT(()=>{y._isLeaving&&(ca(y,f),no(y,p),RT(O)||DT(y,r,A,U))}),ua(O,[y,U])},onEnterCancelled(y){b(y,!1),ua(k,[y])},onAppearCancelled(y){b(y,!0),ua(E,[y])},onLeaveCancelled(y){I(y),ua(M,[y])}})}function EU(t){if(t==null)return null;if(Rt(t))return[Tg(t.enter),Tg(t.leave)];{const e=Tg(t);return[e,e]}}function Tg(t){return bV(t)}function no(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ch]||(t[Ch]=new Set)).add(e)}function ca(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ch];n&&(n.delete(e),n.size||(t[Ch]=void 0))}function CT(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let AU=0;function DT(t,e,n,r){const i=t._endId=++AU,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=IU(t,e);if(!o)return r();const u=o+"end";let c=0;const f=()=>{t.removeEventListener(u,d),s()},d=p=>{p.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),t.addEventListener(u,d)}function IU(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${to}Delay`),s=r(`${to}Duration`),o=kT(i,s),a=r(`${rc}Delay`),l=r(`${rc}Duration`),u=kT(a,l);let c=null,f=0,d=0;e===to?o>0&&(c=to,f=o,d=s.length):e===rc?u>0&&(c=rc,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?to:rc:null,d=c?c===to?s.length:l.length:0);const p=c===to&&/\b(transform|all)(,|$)/.test(r(`${to}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:p}}function kT(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>OT(n)+OT(t[r])))}function OT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function SU(){return document.body.offsetHeight}function PU(t,e,n){const r=t[Ch];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const pp=Symbol("_vod"),bR=Symbol("_vsh"),Ii={beforeMount(t,{value:e},{transition:n}){t[pp]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ic(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ic(t,!0),r.enter(t)):r.leave(t,()=>{ic(t,!1)}):ic(t,e))},beforeUnmount(t,{value:e}){ic(t,e)}};function ic(t,e){t.style.display=e?t[pp]:"none",t[bR]=!e}const RU=Symbol(""),CU=/(^|;)\s*display\s*:/;function DU(t,e,n){const r=t.style,i=Qt(n);let s=!1;if(n&&!i){if(e)if(Qt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Sd(r,a,"")}else for(const o in e)n[o]==null&&Sd(r,o,"");for(const o in n)o==="display"&&(s=!0),Sd(r,o,n[o])}else if(i){if(e!==n){const o=r[RU];o&&(n+=";"+o),r.cssText=n,s=CU.test(n)}}else e&&t.removeAttribute("style");pp in t&&(t[pp]=s?r.display:"",t[bR]&&(r.display="none"))}const xT=/\s*!important$/;function Sd(t,e,n){if(Ve(n))n.forEach(r=>Sd(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=kU(t,e);xT.test(n)?t.setProperty(Go(r),n.replace(xT,""),"important"):t[r]=n}}const MT=["Webkit","Moz","ms"],Eg={};function kU(t,e){const n=Eg[e];if(n)return n;let r=ki(e);if(r!=="filter"&&r in t)return Eg[e]=r;r=_m(r);for(let i=0;i<MT.length;i++){const s=MT[i]+r;if(s in t)return Eg[e]=s}return e}const NT="http://www.w3.org/1999/xlink";function LT(t,e,n,r,i,s=PV(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(NT,e.slice(6,e.length)):t.setAttributeNS(NT,e,n):n==null||s&&!yP(n)?t.removeAttribute(e):t.setAttribute(e,s?"":ls(n)?String(n):n)}function OU(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?"":String(n);(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=yP(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Es(t,e,n,r){t.addEventListener(e,n,r)}function xU(t,e,n,r){t.removeEventListener(e,n,r)}const $T=Symbol("_vei");function MU(t,e,n,r,i=null){const s=t[$T]||(t[$T]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=NU(e);if(r){const u=s[e]=VU(r,i);Es(t,a,u,l)}else o&&(xU(t,a,o,l),s[e]=void 0)}}const VT=/(?:Once|Passive|Capture)$/;function NU(t){let e;if(VT.test(t)){e={};let r;for(;r=t.match(VT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Go(t.slice(2)),e]}let Ag=0;const LU=Promise.resolve(),$U=()=>Ag||(LU.then(()=>Ag=0),Ag=Date.now());function VU(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hi(FU(r,n.value),e,5,[r])};return n.value=t,n.attached=$U(),n}function FU(t,e){if(Ve(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const FT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,UU=(t,e,n,r,i,s,o,a,l)=>{const u=i==="svg";e==="class"?PU(t,r,u):e==="style"?DU(t,n,r):mm(e)?xy(e)||MU(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):BU(t,e,r,u))?(OU(t,e,r,s,o,a,l),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&LT(t,e,r,u,o,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),LT(t,e,r,u))};function BU(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&FT(e)&&Xe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return FT(e)&&Qt(n)?!1:e in t}const jo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ve(e)?n=>Ad(e,n):e};function jU(t){t.target.composing=!0}function UT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fi=Symbol("_assign"),BT={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[fi]=jo(i);const s=r||i.props&&i.props.type==="number";Es(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=sp(a)),t[fi](a)}),n&&Es(t,"change",()=>{t.value=t.value.trim()}),e||(Es(t,"compositionstart",jU),Es(t,"compositionend",UT),Es(t,"change",UT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[fi]=jo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?sp(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},HU={deep:!0,created(t,e,n){t[fi]=jo(n),Es(t,"change",()=>{const r=t._modelValue,i=du(t),s=t.checked,o=t[fi];if(Ve(r)){const a=Ly(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Nu(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(TR(t,s))})},mounted:jT,beforeUpdate(t,e,n){t[fi]=jo(n),jT(t,e,n)}};function jT(t,{value:e,oldValue:n},r){t._modelValue=e,Ve(e)?t.checked=Ly(e,r.props.value)>-1:Nu(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Ka(e,TR(t,!0)))}const zU={created(t,{value:e},n){t.checked=Ka(e,n.props.value),t[fi]=jo(n),Es(t,"change",()=>{t[fi](du(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[fi]=jo(r),e!==n&&(t.checked=Ka(e,r.props.value))}},YU={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Nu(e);Es(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?sp(du(o)):du(o));t[fi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,On(()=>{t._assigning=!1})}),t[fi]=jo(r)},mounted(t,{value:e,modifiers:{number:n}}){HT(t,e)},beforeUpdate(t,e,n){t[fi]=jo(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||HT(t,e)}};function HT(t,e,n){const r=t.multiple,i=Ve(e);if(!(r&&!i&&!Nu(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=du(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=Ly(e,l)>-1}else a.selected=e.has(l);else if(Ka(du(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function du(t){return"_value"in t?t._value:t.value}function TR(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const qU={created(t,e,n){Qf(t,e,n,null,"created")},mounted(t,e,n){Qf(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Qf(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Qf(t,e,n,r,"updated")}};function WU(t,e){switch(t){case"SELECT":return YU;case"TEXTAREA":return BT;default:switch(e){case"checkbox":return HU;case"radio":return zU;default:return BT}}}function Qf(t,e,n,r,i){const o=WU(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}const GU=["ctrl","shift","alt","meta"],KU={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>GU.some(n=>t[`${n}Key`]&&!e.includes(n))},tn=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=KU[e[o]];if(a&&a(i,e))return}return t(i,...s)})},XU={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ur=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Go(i.key);if(e.some(o=>o===s||XU[o]===s))return t(i)})},QU=dn({patchProp:UU},bU);let zT;function JU(){return zT||(zT=zF(QU))}const ZU=(...t)=>{const e=JU().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=tB(r);if(!i)return;const s=e._component;!Xe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,eB(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function eB(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function tB(t){return Qt(t)?document.querySelector(t):t}var nB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const rB=Symbol();var YT;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(YT||(YT={}));function iB(){const t=CV(!0),e=t.run(()=>Me({}));let n=[],r=[];const i=ql({install(s){i._a=s,s.provide(rB,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!nB?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}function e0(t){return EP()?(kV(t),!0):!1}function t0(t){return typeof t=="function"?t():K(t)}const ER=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const sB=t=>t!=null,oB=Object.prototype.toString,aB=t=>oB.call(t)==="[object Object]",xa=()=>{},lB=uB();function uB(){var t,e;return ER&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function cB(t){return hl()}function hB(t,e){cB()&&Qo(t,e)}function Is(t){var e;const n=t0(t);return(e=n==null?void 0:n.$el)!=null?e:n}const n0=ER?window:void 0;function Ti(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=n0):[e,n,r,i]=t,!e)return xa;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(c=>c()),s.length=0},a=(c,f,d,p)=>(c.addEventListener(f,d,p),()=>c.removeEventListener(f,d,p)),l=ht(()=>[Is(e),t0(i)],([c,f])=>{if(o(),!c)return;const d=aB(f)?{...f}:f;s.push(...n.flatMap(p=>r.map(g=>a(c,p,g,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return e0(u),u}let qT=!1;function fB(t,e,n={}){const{window:r=n0,ignore:i=[],capture:s=!0,detectIframe:o=!1}=n;if(!r)return xa;lB&&!qT&&(qT=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",xa)),r.document.documentElement.addEventListener("click",xa));let a=!0;const l=d=>i.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(g=>g===d.target||d.composedPath().includes(g));{const g=Is(p);return g&&(d.target===g||d.composedPath().includes(g))}}),c=[Ti(r,"click",d=>{const p=Is(t);if(!(!p||p===d.target||d.composedPath().includes(p))){if(d.detail===0&&(a=!l(d)),!a){a=!0;return}e(d)}},{passive:!0,capture:s}),Ti(r,"pointerdown",d=>{const p=Is(t);a=!l(d)&&!!(p&&!d.composedPath().includes(p))},{passive:!0}),o&&Ti(r,"blur",d=>{setTimeout(()=>{var p;const g=Is(t);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(g!=null&&g.contains(r.document.activeElement))&&e(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}function dB(){const t=Me(!1),e=hl();return e&&Zr(()=>{t.value=!0},e),t}function pB(t){const e=dB();return X(()=>(e.value,!!t()))}function Woe(t,e,n={}){const{root:r,rootMargin:i="0px",threshold:s=.1,window:o=n0,immediate:a=!0}=n,l=pB(()=>o&&"IntersectionObserver"in o),u=X(()=>{const g=t0(t);return(Array.isArray(g)?g:[g]).map(Is).filter(sB)});let c=xa;const f=Me(a),d=l.value?ht(()=>[u.value,Is(r),f.value],([g,_])=>{if(c(),!f.value||!g.length)return;const A=new IntersectionObserver(e,{root:Is(_),rootMargin:i,threshold:s});g.forEach(S=>S&&A.observe(S)),c=()=>{A.disconnect(),c=xa}},{immediate:a,flush:"post"}):xa,p=()=>{c(),d(),f.value=!1};return e0(p),{isSupported:l,isActive:f,pause(){c(),f.value=!1},resume(){f.value=!0},stop:p}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var AR=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],mp=AR.join(","),IR=typeof Element>"u",Xa=IR?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gp=!IR&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},_p=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},mB=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},SR=function(e,n,r){if(_p(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(mp));return n&&Xa.call(e,mp)&&i.unshift(e),i=i.filter(r),i},PR=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!_p(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=t(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{var c=Xa.call(o,mp);c&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var f=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),d=!_p(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(f&&d){var p=t(f===!0?o.children:f.children,!0,r);r.flatten?i.push.apply(i,p):i.push({scopeParent:o,candidates:p})}else s.unshift.apply(s,o.children)}}return i},RR=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ba=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||mB(e))&&!RR(e)?0:e.tabIndex},gB=function(e,n){var r=ba(e);return r<0&&n&&!RR(e)?0:r},_B=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},CR=function(e){return e.tagName==="INPUT"},vB=function(e){return CR(e)&&e.type==="hidden"},yB=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},wB=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},bB=function(e){if(!e.name)return!0;var n=e.form||gp(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=wB(i,e.form);return!s||s===e},TB=function(e){return CR(e)&&e.type==="radio"},EB=function(e){return TB(e)&&!bB(e)},AB=function(e){var n,r=e&&gp(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var u,c,f;r=gp(i),i=(u=r)===null||u===void 0?void 0:u.host,s=!!((c=i)!==null&&c!==void 0&&(f=c.ownerDocument)!==null&&f!==void 0&&f.contains(i))}}return s},WT=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},IB=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Xa.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Xa.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,u=gp(e);if(l&&!l.shadowRoot&&i(l)===!0)return WT(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(AB(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return WT(e);return!1},SB=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Xa.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},vp=function(e,n){return!(n.disabled||_p(n)||vB(n)||IB(n,e)||yB(n)||SB(n))},z_=function(e,n){return!(EB(n)||ba(n)<0||!vp(e,n))},PB=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},RB=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=gB(a,o),u=o?t(i.candidates):a;l===0?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:u})}),r.sort(_B).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},CB=function(e,n){n=n||{};var r;return n.getShadowRoot?r=PR([e],n.includeContainer,{filter:z_.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:PB}):r=SR(e,n.includeContainer,z_.bind(null,n)),RB(r)},DB=function(e,n){n=n||{};var r;return n.getShadowRoot?r=PR([e],n.includeContainer,{filter:vp.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=SR(e,n.includeContainer,vp.bind(null,n)),r},Al=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Xa.call(e,mp)===!1?!1:z_(n,e)},kB=AR.concat("iframe").join(","),Ig=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Xa.call(e,kB)===!1?!1:vp(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function GT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(n),!0).forEach(function(r){OB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OB(t,e,n){return e=MB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xB(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MB(t){var e=xB(t,"string");return typeof e=="symbol"?e:String(e)}var XT={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},NB=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},LB=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Gc=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},$B=function(e){return Gc(e)&&!e.shiftKey},VB=function(e){return Gc(e)&&e.shiftKey},QT=function(e){return setTimeout(e,0)},JT=function(e,n){var r=-1;return e.every(function(i,s){return n(i)?(r=s,!1):!0}),r},sc=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,r):e},Jf=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},FB=[],UB=function(e,n){var r=(n==null?void 0:n.document)||document,i=(n==null?void 0:n.trapStack)||FB,s=KT({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:$B,isKeyBackward:VB},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(y,T,U){return y&&y[T]!==void 0?y[T]:s[U||T]},u=function(y,T){var U=typeof(T==null?void 0:T.composedPath)=="function"?T.composedPath():void 0;return o.containerGroups.findIndex(function(F){var B=F.container,j=F.tabbableNodes;return B.contains(y)||(U==null?void 0:U.includes(B))||j.find(function(H){return H===y})})},c=function(y){var T=s[y];if(typeof T=="function"){for(var U=arguments.length,F=new Array(U>1?U-1:0),B=1;B<U;B++)F[B-1]=arguments[B];T=T.apply(void 0,F)}if(T===!0&&(T=void 0),!T){if(T===void 0||T===!1)return T;throw new Error("`".concat(y,"` was specified but was not a node, or did not return a node"))}var j=T;if(typeof T=="string"&&(j=r.querySelector(T),!j))throw new Error("`".concat(y,"` as selector refers to no known node"));return j},f=function(){var y=c("initialFocus");if(y===!1)return!1;if(y===void 0||!Ig(y,s.tabbableOptions))if(u(r.activeElement)>=0)y=r.activeElement;else{var T=o.tabbableGroups[0],U=T&&T.firstTabbableNode;y=U||c("fallbackFocus")}if(!y)throw new Error("Your focus-trap needs to have at least one focusable element");return y},d=function(){if(o.containerGroups=o.containers.map(function(y){var T=CB(y,s.tabbableOptions),U=DB(y,s.tabbableOptions),F=T.length>0?T[0]:void 0,B=T.length>0?T[T.length-1]:void 0,j=U.find(function(R){return Al(R)}),H=U.slice().reverse().find(function(R){return Al(R)}),ee=!!T.find(function(R){return ba(R)>0});return{container:y,tabbableNodes:T,focusableNodes:U,posTabIndexesFound:ee,firstTabbableNode:F,lastTabbableNode:B,firstDomTabbableNode:j,lastDomTabbableNode:H,nextTabbableNode:function(ue){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_e=T.indexOf(ue);return _e<0?te?U.slice(U.indexOf(ue)+1).find(function(me){return Al(me)}):U.slice(0,U.indexOf(ue)).reverse().find(function(me){return Al(me)}):T[_e+(te?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(y){return y.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(y){return y.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function P(y){var T=y.activeElement;if(T)return T.shadowRoot&&T.shadowRoot.activeElement!==null?P(T.shadowRoot):T},g=function P(y){if(y!==!1&&y!==p(document)){if(!y||!y.focus){P(f());return}y.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=y,NB(y)&&y.select()}},_=function(y){var T=c("setReturnFocus",y);return T||(T===!1?!1:y)},A=function(y){var T=y.target,U=y.event,F=y.isBackward,B=F===void 0?!1:F;T=T||Jf(U),d();var j=null;if(o.tabbableGroups.length>0){var H=u(T,U),ee=H>=0?o.containerGroups[H]:void 0;if(H<0)B?j=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:j=o.tabbableGroups[0].firstTabbableNode;else if(B){var R=JT(o.tabbableGroups,function(De){var z=De.firstTabbableNode;return T===z});if(R<0&&(ee.container===T||Ig(T,s.tabbableOptions)&&!Al(T,s.tabbableOptions)&&!ee.nextTabbableNode(T,!1))&&(R=H),R>=0){var ue=R===0?o.tabbableGroups.length-1:R-1,te=o.tabbableGroups[ue];j=ba(T)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else Gc(U)||(j=ee.nextTabbableNode(T,!1))}else{var _e=JT(o.tabbableGroups,function(De){var z=De.lastTabbableNode;return T===z});if(_e<0&&(ee.container===T||Ig(T,s.tabbableOptions)&&!Al(T,s.tabbableOptions)&&!ee.nextTabbableNode(T))&&(_e=H),_e>=0){var me=_e===o.tabbableGroups.length-1?0:_e+1,Ce=o.tabbableGroups[me];j=ba(T)>=0?Ce.firstTabbableNode:Ce.firstDomTabbableNode}else Gc(U)||(j=ee.nextTabbableNode(T))}}else j=c("fallbackFocus");return j},S=function(y){var T=Jf(y);if(!(u(T,y)>=0)){if(sc(s.clickOutsideDeactivates,y)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}sc(s.allowOutsideClick,y)||y.preventDefault()}},x=function(y){var T=Jf(y),U=u(T,y)>=0;if(U||T instanceof Document)U&&(o.mostRecentlyFocusedNode=T);else{y.stopImmediatePropagation();var F,B=!0;if(o.mostRecentlyFocusedNode)if(ba(o.mostRecentlyFocusedNode)>0){var j=u(o.mostRecentlyFocusedNode),H=o.containerGroups[j].tabbableNodes;if(H.length>0){var ee=H.findIndex(function(R){return R===o.mostRecentlyFocusedNode});ee>=0&&(s.isKeyForward(o.recentNavEvent)?ee+1<H.length&&(F=H[ee+1],B=!1):ee-1>=0&&(F=H[ee-1],B=!1))}}else o.containerGroups.some(function(R){return R.tabbableNodes.some(function(ue){return ba(ue)>0})})||(B=!1);else B=!1;B&&(F=A({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),g(F||o.mostRecentlyFocusedNode||f())}o.recentNavEvent=void 0},k=function(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=y;var U=A({event:y,isBackward:T});U&&(Gc(y)&&y.preventDefault(),g(U))},O=function(y){if(LB(y)&&sc(s.escapeDeactivates,y)!==!1){y.preventDefault(),a.deactivate();return}(s.isKeyForward(y)||s.isKeyBackward(y))&&k(y,s.isKeyBackward(y))},M=function(y){var T=Jf(y);u(T,y)>=0||sc(s.clickOutsideDeactivates,y)||sc(s.allowOutsideClick,y)||(y.preventDefault(),y.stopImmediatePropagation())},N=function(){if(o.active)return XT.activateTrap(i,a),o.delayInitialFocusTimer=s.delayInitialFocus?QT(function(){g(f())}):g(f()),r.addEventListener("focusin",x,!0),r.addEventListener("mousedown",S,{capture:!0,passive:!1}),r.addEventListener("touchstart",S,{capture:!0,passive:!1}),r.addEventListener("click",M,{capture:!0,passive:!1}),r.addEventListener("keydown",O,{capture:!0,passive:!1}),a},w=function(){if(o.active)return r.removeEventListener("focusin",x,!0),r.removeEventListener("mousedown",S,!0),r.removeEventListener("touchstart",S,!0),r.removeEventListener("click",M,!0),r.removeEventListener("keydown",O,!0),a},E=function(y){var T=y.some(function(U){var F=Array.from(U.removedNodes);return F.some(function(B){return B===o.mostRecentlyFocusedNode})});T&&g(f())},b=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(E):void 0,I=function(){b&&(b.disconnect(),o.active&&!o.paused&&o.containers.map(function(y){b.observe(y,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(y){if(o.active)return this;var T=l(y,"onActivate"),U=l(y,"onPostActivate"),F=l(y,"checkCanFocusTrap");F||d(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,T==null||T();var B=function(){F&&d(),N(),I(),U==null||U()};return F?(F(o.containers.concat()).then(B,B),this):(B(),this)},deactivate:function(y){if(!o.active)return this;var T=KT({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},y);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,w(),o.active=!1,o.paused=!1,I(),XT.deactivateTrap(i,a);var U=l(T,"onDeactivate"),F=l(T,"onPostDeactivate"),B=l(T,"checkCanReturnFocus"),j=l(T,"returnFocus","returnFocusOnDeactivate");U==null||U();var H=function(){QT(function(){j&&g(_(o.nodeFocusedBeforeActivation)),F==null||F()})};return j&&B?(B(_(o.nodeFocusedBeforeActivation)).then(H,H),this):(H(),this)},pause:function(y){if(o.paused||!o.active)return this;var T=l(y,"onPause"),U=l(y,"onPostPause");return o.paused=!0,T==null||T(),w(),I(),U==null||U(),this},unpause:function(y){if(!o.paused||!o.active)return this;var T=l(y,"onUnpause"),U=l(y,"onPostUnpause");return o.paused=!1,T==null||T(),d(),N(),I(),U==null||U(),this},updateContainerElements:function(y){var T=[].concat(y).filter(Boolean);return o.containers=T.map(function(U){return typeof U=="string"?r.querySelector(U):U}),o.active&&d(),I(),this}},a.updateContainerElements(e),a};function BB(t,e={}){let n;const{immediate:r,...i}=e,s=Me(!1),o=Me(!1),a=f=>n&&n.activate(f),l=f=>n&&n.deactivate(f),u=()=>{n&&(n.pause(),o.value=!0)},c=()=>{n&&(n.unpause(),o.value=!1)};return ht(()=>Is(t),f=>{f&&(n=UB(f,{...i,onActivate(){s.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){s.value=!1,e.onDeactivate&&e.onDeactivate()}}),r&&a())},{flush:"post"}),e0(()=>l()),{hasFocus:s,isPaused:o,activate:a,deactivate:l,pause:u,unpause:c}}const jB=t=>(...e)=>{t&&(t==null||t(...e),t=null)},Dh=()=>{};function Zf(t,e,n){return t>n?n:t<e?e:t}const r0=t=>typeof t=="string";function Sg(t,e){var n;const r=((n=Ec(t,e))==null?void 0:n[0])||e;t.push(r)}function Ec(t,e){const n=t.indexOf(e);if(n!==-1)return t.splice(n,1)}function DR(t){return Object.entries(t)}const HB={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:t=>["auto","persist"].includes(t)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function ZT(t=!1){const e=Me(t),n=Me(e.value?0:void 0);return[e,n,{beforeEnter(){n.value=1},afterEnter(){n.value=0},beforeLeave(){n.value=3},afterLeave(){n.value=2}}]}function zB(t,e){const{modelValueLocal:n,onEntering:r,onEnter:i,onLeaving:s,onLeave:o}=e,a=Me(n.value),[l,u,c]=ZT(a.value),[f,d,p]=ZT(a.value),g=X(()=>typeof t.contentTransition=="string"?{name:t.contentTransition,appear:!0}:{appear:!0,...t.contentTransition}),_=X(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition,appear:!0}:{appear:!0,...t.overlayTransition}),A=X(()=>(t.hideOverlay||d.value===2)&&u.value===2);ht(A,k=>{k&&(a.value=!1)}),ht(u,k=>{if(k===1){if(!a.value)return;r==null||r()}else if(k===0){if(!a.value)return;i==null||i()}else k===3?s==null||s():k===2&&(o==null||o())});async function S(){a.value=!0,await On(),l.value=!0,f.value=!0}function x(){l.value=!1,f.value=!1}return{visible:a,contentVisible:l,contentListeners:c,contentTransition:g,overlayVisible:f,overlayListeners:p,overlayTransition:_,enterTransition:S,leaveTransition:x}}function YB(t,e,n){const{vfmRootEl:r,vfmContentEl:i,visible:s,modelValueLocal:o}=n,a=Me();function l(){s.value&&t.escToClose&&(o.value=!1)}function u(f){a.value=f==null?void 0:f.target}function c(){var f;a.value===r.value&&(t.clickToClose?o.value=!1:((f=i.value)==null||f.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:c,onMousedown:u}}function qB(t,e,n){let r=!1;const{open:i,close:s}=n,o=Me(!1),a={get value(){return o.value},set value(u){l(u)}};function l(u){(u?i():s())?(o.value=u,u!==t.modelValue&&e("update:modelValue",u)):(r=!0,e("update:modelValue",!u),On(()=>{r=!1}))}return ht(()=>t.modelValue,u=>{r||(a.value=!!u)}),{modelValueLocal:a}}function WB(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:n}=e,{hasFocus:r,activate:i,deactivate:s}=BB(n,t.focusTrap);function o(){requestAnimationFrame(()=>{i()})}function a(){r.value&&s()}return{focus:o,blur:a}}let i0=!1;if(typeof window<"u"){const t={get passive(){i0=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const kR=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let To=[],yp=!1,Pd=0,OR=-1,Kc,Xc;const GB=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},KB=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),XB=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},QB=(t,e)=>{let n=!1;return XB(t).forEach(r=>{GB(r)&&KB(r,e)&&(n=!0)}),n},xR=t=>To.some(()=>QB(t,-Pd)),s0=t=>{const e=t||window.event;return xR(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},JB=t=>{if(Xc===void 0){const e=!!t&&t.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(e&&n>0){const r=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Xc=document.body.style.paddingRight,document.body.style.paddingRight=`${r+n}px`}}Kc===void 0&&(Kc=document.body.style.overflow,document.body.style.overflow="hidden")},ZB=()=>{Xc!==void 0&&(document.body.style.paddingRight=Xc,Xc=void 0),Kc!==void 0&&(document.body.style.overflow=Kc,Kc=void 0)},e4=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,t4=(t,e)=>(Pd=t.targetTouches[0].clientY-OR,xR(t.target)?!1:e&&e.scrollTop===0&&Pd>0||e4(e)&&Pd<0?s0(t):(t.stopPropagation(),!0)),n4=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(To.some(r=>r.targetElement===t))return;const n={targetElement:t,options:e||{}};To=[...To,n],kR?(t.ontouchstart=r=>{r.targetTouches.length===1&&(OR=r.targetTouches[0].clientY)},t.ontouchmove=r=>{r.targetTouches.length===1&&t4(r,t)},yp||(document.addEventListener("touchmove",s0,i0?{passive:!1}:void 0),yp=!0)):JB(e)},r4=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}To=To.filter(e=>e.targetElement!==t),kR?(t.ontouchstart=null,t.ontouchmove=null,yp&&To.length===0&&(document.removeEventListener("touchmove",s0,i0?{passive:!1}:void 0),yp=!1)):To.length||ZB()};function i4(t,e){const{lockScrollEl:n,modelValueLocal:r}=e;let i;ht(n,a=>{a&&(i=a)},{immediate:!0}),ht(()=>t.lockScroll,a=>{a?o():s()}),ff(()=>{s()});function s(){i&&r4(i)}function o(){r.value&&t.lockScroll&&i&&n4(i,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:a=>{for(;a&&a!==document.body;){if(a.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;a=a.parentElement}return!1}})}return{enableBodyScroll:s,disableBodyScroll:o}}function s4(t){const e=Me();function n(i){var s;e.value=(s=t.zIndexFn)==null?void 0:s.call(t,{index:i<=-1?0:i})}function r(){e.value=void 0}return{zIndex:e,refreshZIndex:n,resetZIndex:r}}const Pg={beforeMount(t,{value:e},{transition:n}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,n&&e?n.beforeEnter(t):oc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),oc(t,!0),r.enter(t)):r.leave(t,()=>{oc(t,!1)}):oc(t,e))},beforeUnmount(t,{value:e}){oc(t,e)}};function oc(t,e){t.style.visibility=e?t._vov:"hidden"}const eE=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:n}=t;return{x:e,y:n}}else{const{clientX:e,clientY:n}=t.targetTouches[0];return{x:e,y:n}}};function o4(t){if(!t)return!1;let e=!1;const n={get passive(){return e=!0,!1}};return t.addEventListener("x",Dh,n),t.removeEventListener("x",Dh),e}function a4(t,{threshold:e=0,onSwipeStart:n,onSwipe:r,onSwipeEnd:i,passive:s=!0}){const o=Lr({x:0,y:0}),a=Lr({x:0,y:0}),l=X(()=>o.x-a.x),u=X(()=>o.y-a.y),{max:c,abs:f}=Math,d=X(()=>c(f(l.value),f(u.value))>=e),p=Me(!1),g=X(()=>d.value?f(l.value)>f(u.value)?l.value>0?"left":"right":u.value>0?"up":"down":"none"),_=(w,E)=>{o.x=w,o.y=E},A=(w,E)=>{a.x=w,a.y=E};let S,x;function k(w){S.capture&&!S.passive&&w.preventDefault();const{x:E,y:b}=eE(w);_(E,b),A(E,b),n==null||n(w),x=[Ti(t,"mousemove",O,S),Ti(t,"touchmove",O,S),Ti(t,"mouseup",M,S),Ti(t,"touchend",M,S),Ti(t,"touchcancel",M,S)]}function O(w){const{x:E,y:b}=eE(w);A(E,b),!p.value&&d.value&&(p.value=!0),p.value&&(r==null||r(w))}function M(w){p.value&&(i==null||i(w,g.value)),p.value=!1,x.forEach(E=>E())}let N=[];return Zr(()=>{const w=o4(window==null?void 0:window.document);s?S=w?{passive:!0}:{capture:!1}:S=w?{passive:!1,capture:!0}:{capture:!0},N=[Ti(t,"mousedown",k,S),Ti(t,"touchstart",k,S)]}),{isSwiping:p,direction:g,coordsStart:o,coordsEnd:a,lengthX:l,lengthY:u,stop:()=>{N.forEach(w=>w()),x.forEach(w=>w())}}}function l4(t,e){const{vfmContentEl:n,modelValueLocal:r}=e,i=.1,s=300,o=Me(),a=X(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?o.value:n.value}),l=Me(0),u=Me(!0);let c=Dh,f=!0,d,p=!1;const{lengthX:g,lengthY:_,direction:A,isSwiping:S}=a4(a,{threshold:t.threshold,onSwipeStart(M){c=Ti(document,"selectionchange",()=>{var N;u.value=(N=window.getSelection())==null?void 0:N.isCollapsed}),d=new Date().getTime(),p=O(M==null?void 0:M.target)},onSwipe(){var M,N,w,E;if(p&&u.value&&A.value===t.swipeToClose){if(A.value==="up"){const b=Zf(Math.abs(_.value||0),0,((M=a.value)==null?void 0:M.offsetHeight)||0)-(t.threshold||0);l.value=b}else if(A.value==="down"){const b=Zf(Math.abs(_.value||0),0,((N=a.value)==null?void 0:N.offsetHeight)||0)-(t.threshold||0);l.value=-b}else if(A.value==="right"){const b=Zf(Math.abs(g.value||0),0,((w=a.value)==null?void 0:w.offsetWidth)||0)-(t.threshold||0);l.value=-b}else if(A.value==="left"){const b=Zf(Math.abs(g.value||0),0,((E=a.value)==null?void 0:E.offsetWidth)||0)-(t.threshold||0);l.value=b}}},onSwipeEnd(M,N){if(c(),!u.value){u.value=!0;return}const w=new Date().getTime(),E=N===t.swipeToClose,b=(()=>{var P,y;if(N==="up"||N==="down")return Math.abs((_==null?void 0:_.value)||0)>i*(((P=a.value)==null?void 0:P.offsetHeight)||0);if(N==="left"||N==="right")return Math.abs((g==null?void 0:g.value)||0)>i*(((y=a.value)==null?void 0:y.offsetWidth)||0)})(),I=w-d<=s;if(f&&p&&E&&(b||I)){r.value=!1;return}l.value=0}}),x=X(()=>{if(t.swipeToClose==="none")return;const M=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!S.value},style:{transform:`${M}(${-l.value}px)`}}});ht(()=>u.value,M=>{M||(l.value=0)}),ht(()=>r.value,M=>{M&&(l.value=0)}),ht(()=>l.value,(M,N)=>{switch(t.swipeToClose){case"down":case"right":f=M<N;break;case"up":case"left":f=M>N;break}});function k(M){t.preventNavigationGestures&&M.preventDefault()}function O(M){const N=M==null?void 0:M.tagName;if(!N||["INPUT","TEXTAREA"].includes(N))return!1;const w=(()=>{switch(t.swipeToClose){case"up":return(M==null?void 0:M.scrollTop)+(M==null?void 0:M.clientHeight)===(M==null?void 0:M.scrollHeight);case"left":return(M==null?void 0:M.scrollLeft)+(M==null?void 0:M.clientWidth)===(M==null?void 0:M.scrollWidth);case"down":return(M==null?void 0:M.scrollTop)===0;case"right":return(M==null?void 0:M.scrollLeft)===0;default:return!1}})();return M===a.value?w:w&&O(M==null?void 0:M.parentElement)}return{vfmContentEl:n,swipeBannerEl:o,bindSwipe:x,onTouchStartSwipeBanner:k}}const MR=Symbol("vfm");let Ta;const u4=t=>Ta=t,c4={install:Dh,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:Me([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},h4=()=>hl()&&jn(MR,c4)||Ta;function f4(){const t=$l([]),e=$l([]),n=$l([]),r=$l([]),i=Me([]),s=ql({install(o){o.provide(MR,s),o.config.globalProperties.$vfm=s},modals:t,openedModals:e,openedModalOverlays:n,dynamicModals:r,modalsContainers:i,get(o){return t.find(a=>{var l,u;return((u=(l=Qc(a))==null?void 0:l.value.modalId)==null?void 0:u.value)===o})},toggle(o,a){var l;const u=s.get(o);return(l=Qc(u))==null?void 0:l.value.toggle(a)},open(o){return s.toggle(o,!0)},close(o){return s.toggle(o,!1)},closeAll(){return Promise.allSettled(e.reduce((o,a)=>{const l=Qc(a),u=l==null?void 0:l.value.toggle(!1);return u&&o.push(u),o},[]))}});return u4(s),s}function Qc(t){var e;return(e=t==null?void 0:t.exposed)==null?void 0:e.modalExposed}const d4=zt({inheritAttrs:!1}),NR=zt({...d4,__name:"VueFinalModal",props:HB,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=DF(),o=hl(),{modals:a,openedModals:l,openedModalOverlays:u}=Gl(),c=Me(),f=Me(),{focus:d,blur:p}=WB(r,{focusEl:c}),{zIndex:g,refreshZIndex:_,resetZIndex:A}=s4(r),{modelValueLocal:S}=qB(r,i,{open:ue,close:te}),{enableBodyScroll:x,disableBodyScroll:k}=i4(r,{lockScrollEl:c,modelValueLocal:S});let O=Dh;const{visible:M,contentVisible:N,contentListeners:w,contentTransition:E,overlayVisible:b,overlayListeners:I,overlayTransition:P,enterTransition:y,leaveTransition:T}=zB(r,{modelValueLocal:S,onEntering(){On(()=>{k(),d()})},onEnter(){i("opened"),O("opened")},onLeave(){Ec(l,o),A(),x(),i("closed"),O("closed")}}),{onEsc:U,onMouseupRoot:F,onMousedown:B}=YB(r,i,{vfmRootEl:c,vfmContentEl:f,visible:M,modelValueLocal:S}),{swipeBannerEl:j,bindSwipe:H,onTouchStartSwipeBanner:ee}=l4(r,{vfmContentEl:f,modelValueLocal:S}),R=X(()=>o?l.indexOf(o):-1);ht([()=>r.zIndexFn,R],()=>{M.value&&_(R.value)}),Zr(()=>{Sg(a,o)}),r.modelValue&&(S.value=!0);function ue(){let W=!1;return i("beforeOpen",{stop:()=>W=!0}),W?!1:(Sg(l,o),Sg(u,o),me(),y(),!0)}function te(){let W=!1;return i("beforeClose",{stop:()=>W=!0}),W?!1:(Ec(u,o),me(),p(),T(),!0)}function _e(){S.value=!1}ff(()=>{x(),Ec(a,o),Ec(l,o),p(),me()});async function me(){await On();const W=u.filter(ne=>{var pe;const Re=Qc(ne);return(Re==null?void 0:Re.value.overlayBehavior.value)==="auto"&&!((pe=Re==null?void 0:Re.value.hideOverlay)!=null&&pe.value)});W.forEach((ne,pe)=>{const Re=Qc(ne);Re!=null&&Re.value&&(Re.value.overlayVisible.value=pe===W.length-1)})}const Ce=Oa(()=>r.modalId),De=Oa(()=>r.hideOverlay),z=Oa(()=>r.overlayBehavior),ae=X(()=>({modalId:Ce,hideOverlay:De,overlayBehavior:z,overlayVisible:b,toggle(W){return new Promise(ne=>{O=jB(Re=>ne(Re));const pe=typeof W=="boolean"?W:!S.value;S.value=pe})}}));return e({modalExposed:ae}),(W,ne)=>(se(),ot(aU,{to:W.teleportTo?W.teleportTo:void 0,disabled:!W.teleportTo},[W.displayDirective!=="if"||K(M)?Ir((se(),Se("div",Gr({key:0},K(s),{ref_key:"vfmRootEl",ref:c,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":W.background==="interactive"}],style:{zIndex:K(g)},role:"dialog","aria-modal":"true",onKeydown:ne[7]||(ne[7]=Ur(()=>K(U)(),["esc"])),onMouseup:ne[8]||(ne[8]=tn(()=>K(F)(),["self"])),onMousedown:ne[9]||(ne[9]=tn(pe=>K(B)(pe),["self"]))}),[De.value?rt("",!0):(se(),ot(Bo,Gr({key:0},K(P),N_(K(I))),{default:Tt(()=>[W.displayDirective!=="if"||K(b)?Ir((se(),Se("div",{key:0,class:Pt(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",W.overlayClass]),style:ts(W.overlayStyle),"aria-hidden":"true"},null,6)),[[Ii,W.displayDirective!=="show"||K(b)],[K(Pg),W.displayDirective!=="visible"||K(b)]]):rt("",!0)]),_:1},16)),we(Bo,Gr(K(E),N_(K(w))),{default:Tt(()=>[W.displayDirective!=="if"||K(N)?Ir((se(),Se("div",Gr({key:0,ref_key:"vfmContentEl",ref:f,class:["vfm__content vfm--outline-none",[W.contentClass,{"vfm--prevent-auto":W.background==="interactive"}]],style:W.contentStyle,tabindex:"0"},K(H),{onMousedown:ne[6]||(ne[6]=()=>K(B)())}),[nn(W.$slots,"default",Ca(Rh({close:_e}))),W.showSwipeBanner?(se(),Se("div",{key:0,ref_key:"swipeBannerEl",ref:j,class:"vfm-swipe-banner-container",onTouchstart:ne[2]||(ne[2]=pe=>K(ee)(pe))},[nn(W.$slots,"swipe-banner",{},()=>[Te("div",{class:"vfm-swipe-banner-back",onTouchstart:ne[0]||(ne[0]=pe=>W.swipeToClose==="left"&&pe.preventDefault())},null,32),Te("div",{class:"vfm-swipe-banner-forward",onTouchstart:ne[1]||(ne[1]=pe=>W.swipeToClose==="right"&&pe.preventDefault())},null,32)])],544)):!W.showSwipeBanner&&W.preventNavigationGestures?(se(),Se("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:ne[5]||(ne[5]=pe=>K(ee)(pe))},[Te("div",{class:"vfm-swipe-banner-back",onTouchstart:ne[3]||(ne[3]=pe=>W.swipeToClose==="left"&&pe.preventDefault())},null,32),Te("div",{class:"vfm-swipe-banner-forward",onTouchstart:ne[4]||(ne[4]=pe=>W.swipeToClose==="right"&&pe.preventDefault())},null,32)],32)):rt("",!0)],16)),[[Ii,W.displayDirective!=="show"||K(N)],[K(Pg),W.displayDirective!=="visible"||K(N)]]):rt("",!0)]),_:3},16)],16)),[[Ii,W.displayDirective!=="show"||K(M)],[K(Pg),W.displayDirective!=="visible"||K(M)]]):rt("",!0)],8,["to","disabled"]))}});function Gl(){const t=h4();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function tE(t,e=NR){const{component:n,slots:r,...i}=t,s=typeof r>"u"?{}:Object.fromEntries(DR(r).map(([o,a])=>r0(a)?[o,a]:wp(a)?[o,{...a,component:ql(a.component)}]:[o,ql(a)]));return{...i,component:ql(n||e),slots:s}}function p4(t){const e=Lr({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...tE(t)});hB(()=>{e!=null&&e.keepAlive||a()}),e.modelValue===!0&&(Ta?Ta==null||Ta.dynamicModals.push(e):On(()=>{const l=Gl();l==null||l.dynamicModals.push(e)}));async function n(){let l;return Ta?l=Ta:(await On(),l=Gl()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(a(),e.modelValue=!0,l.dynamicModals.push(e),new Promise(u=>{e.resolveOpened=()=>u("opened")}))}function r(){return e.modelValue?(e.modelValue=!1,new Promise(l=>{e.resolveClosed=()=>l("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function i(l){const{slots:u,...c}=tE(l,e.component);l.defaultModelValue!==void 0&&(e.defaultModelValue=l.defaultModelValue),(l==null?void 0:l.keepAlive)!==void 0&&(e.keepAlive=l==null?void 0:l.keepAlive),s(e,c),u&&DR(u).forEach(([f,d])=>{const p=e.slots[f];r0(p)?e.slots[f]=d:wp(p)&&wp(d)?s(p,d):e.slots[f]=d})}function s(l,u){u.component&&(l.component=u.component),u.attrs&&o(l.attrs,u.attrs)}function o(l,u){return Object.entries(u).forEach(([c,f])=>{l[c]=f}),l}function a(){const l=Gl(),u=l.dynamicModals.indexOf(e);u!==-1&&l.dynamicModals.splice(u,1)}return{options:e,open:n,close:r,patchOptions:i,destroy:a}}function wp(t){return typeof t=="object"&&t!==null?"component"in t:!1}const m4=["innerHTML"],g4=zt({__name:"ModalsContainer",setup(t){const{modalsContainers:e,dynamicModals:n}=Gl(),r=Symbol("ModalsContainer"),i=X(()=>{var a;return r===((a=e.value)==null?void 0:a[0])});e.value.push(r),ff(()=>{e.value=e.value.filter(a=>a!==r)});function s(a){var l,u,c;(u=(l=n[a])==null?void 0:l.resolveClosed)==null||u.call(l),(c=n[a])!=null&&c.keepAlive||n.splice(a,1)}function o(a){var l,u;(u=(l=n[a])==null?void 0:l.resolveOpened)==null||u.call(l)}return(a,l)=>i.value?(se(!0),Se(ft,{key:0},Mn(K(n),(u,c)=>(se(),ot(jc(u.component),Gr({key:u.id},{displayDirective:u!=null&&u.keepAlive?"show":void 0,...typeof u.attrs=="object"?u.attrs:{}},{modelValue:u.modelValue,"onUpdate:modelValue":f=>u.modelValue=f,onClosed:()=>s(c),onOpened:()=>o(c)}),RF({_:2},[Mn(u.slots,(f,d)=>({name:d,fn:Tt(()=>[K(r0)(f)?(se(),Se("div",{key:0,innerHTML:f},null,8,m4)):K(wp)(f)?(se(),ot(jc(f.component),Ca(Gr({key:1},f.attrs)),null,16)):(se(),ot(jc(f),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):rt("",!0)}});/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function LR(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Y_=LR(function(t){const e=Object.prototype.toString,n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;t.exports=(s,...o)=>{if(!i(s))throw new TypeError("expected the first argument to be an object");if(o.length===0||typeof Symbol!="function"||typeof r!="function")return s;for(let a of o){let l=r(a);for(let u of l)n.call(a,u)&&(s[u]=a[u])}return s};function i(s){return typeof s=="function"||e.call(s)==="[object Object]"||Array.isArray(s)}}),nE=Object.freeze({__proto__:null,default:Y_,__moduleExports:Y_}),_4=nE&&Y_||nE,rE=LR(function(t){const e=Object.prototype.toString,n=o=>o!=="__proto__"&&o!=="constructor"&&o!=="prototype",r=t.exports=(o,...a)=>{let l=0;for(s(o)&&(o=a[l++]),o||(o={});l<a.length;l++)if(i(a[l])){for(const u of Object.keys(a[l]))n(u)&&(i(o[u])&&i(a[l][u])?r(o[u],a[l][u]):o[u]=a[l][u]);_4(o,a[l])}return o};function i(o){return typeof o=="function"||e.call(o)==="[object Object]"}function s(o){return typeof o=="object"?o===null:typeof o!="function"}});const Ho=typeof window<"u"&&window!==null,iE=v4();function v4(){return Ho&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const ha={event:"event",observer:"observer"};function Ac(t,e){if(!t.length)return;const n=t.indexOf(e);if(n>-1)return t.splice(n,1)}function sE(t,e){if(t.tagName!=="IMG"||!t.getAttribute("data-srcset"))return"";let n=t.getAttribute("data-srcset").trim().split(",");const r=[],s=t.parentNode.offsetWidth*e;let o,a,l;n.forEach(f=>{f=f.trim(),o=f.lastIndexOf(" "),o===-1?(a=f,l=99999):(a=f.substr(0,o),l=parseInt(f.substr(o+1,f.length-o-2),10)),r.push([l,a])}),r.sort((f,d)=>{if(f[0]<d[0])return 1;if(f[0]>d[0])return-1;if(f[0]===d[0]){if(d[1].indexOf(".webp",d[1].length-5)!==-1)return 1;if(f[1].indexOf(".webp",f[1].length-5)!==-1)return-1}return 0});let u="",c;for(let f=0;f<r.length;f++){c=r[f],u=c[1];const d=r[f+1];if(d&&d[0]<s){u=c[1];break}else if(!d){u=c[1];break}}return u}const y4=(t=1)=>Ho&&window.devicePixelRatio||t;function w4(){if(!Ho)return!1;let t=!0;function e(n,r){const i={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},s=new Image;s.onload=function(){const o=s.width>0&&s.height>0;r(o)},s.onerror=function(){r(!1)},s.src="data:image/webp;base64,"+i[n]}return e("lossy",n=>{t=n}),e("lossless",n=>{t=n}),e("alpha",n=>{t=n}),e("animation",n=>{t=n}),t}function b4(t,e){let n=null,r=0;return function(){if(n)return;const i=Date.now()-r,s=this,o=arguments,a=function(){r=Date.now(),n=!1,t.apply(s,o)};i>=e?a():n=setTimeout(a,e)}}function T4(){if(!Ho)return!1;let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",o0,e)}catch{}return t}const E4=T4(),A4={on(t,e,n,r=!1){E4?t.addEventListener(e,n,{capture:r,passive:!0}):t.addEventListener(e,n,r)},off(t,e,n,r=!1){t.removeEventListener(e,n,r)}},q_=(t,e,n)=>{let r=new Image;if(!t||!t.src){const i=new Error("image src is required");return n(i)}t.cors&&(r.crossOrigin=t.cors),r.src=t.src,r.onload=function(){e({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src}),r=null},r.onerror=function(i){n(i)}},Rg=(t,e)=>typeof getComputedStyle<"u"?getComputedStyle(t,null).getPropertyValue(e):t.style[e],I4=t=>Rg(t,"overflow")+Rg(t,"overflowY")+Rg(t,"overflowX"),S4=t=>{if(!Ho)return;if(!(t instanceof Element))return window;let e=t;for(;e&&!(e===document.body||e===document.documentElement||!e.parentNode);){if(/(scroll|auto)/.test(I4(e)))return e;e=e.parentNode}return window};function P4(t){return t!==null&&typeof t=="object"}function o0(){}class R4{constructor(e){this.max=e||100,this._caches=[]}has(e){return this._caches.indexOf(e)>-1}add(e){this.has(e)||(this._caches.push(e),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class C4{constructor(e,n,r,i,s,o,a,l,u,c){this.el=e,this.src=n,this.error=r,this.loading=i,this.bindType=s,this.attempt=0,this.cors=l,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=o,this.elRenderer=u,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update(e){const n=this.src;this.src=e.src,this.loading=e.loading,this.error=e.error,this.filter(),n!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const e in this.options.filter)this.options.filter[e](this,this.options)}renderLoading(e){this.state.loading=!0,q_({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,e()},()=>{e(),this.state.loading=!1,this.options.silent||console.warn(`VueLazyload log: load failed with loading image(${this.loading})`)})}load(e=o0){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`),e();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),q_({src:this.src,cors:this.cors},n=>{this.naturalHeight=n.naturalHeight,this.naturalWidth=n.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),e()},n=>{!this.options.silent&&console.error(n),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(e,n){this.elRenderer(this,e,n)}performance(){let e="loading",n=0;return this.state.loaded&&(e="loaded",n=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:n}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const oE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",D4=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],k4={rootMargin:"0px",threshold:0};class O4{constructor({preLoad:e,error:n,throttleWait:r,preLoadTop:i,dispatchEvent:s,loading:o,attempt:a,silent:l=!0,scale:u,listenEvents:c,filter:f,adapter:d,observer:p,observerOptions:g}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=ha.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:l,dispatchEvent:!!s,throttleWait:r||200,preLoad:e||1.3,preLoadTop:i||0,error:n||oE,loading:o||oE,attempt:a||3,scale:u||y4(u),listenEvents:c||D4,supportWebp:w4(),filter:f||{},adapter:d||{},observer:!!p,observerOptions:g||k4},this._initEvent(),this._imageCache=new R4(200),this.lazyLoadHandler=b4(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?ha.observer:ha.event)}performance(){const e=[];return this.ListenerQueue.map(n=>e.push(n.performance())),e}addLazyBox(e){this.ListenerQueue.push(e),Ho&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}add(e,n,r){if(this.ListenerQueue.some(l=>l.el===e))return this.update(e,n),On(this.lazyLoadHandler);let{src:i,loading:s,error:o,cors:a}=this._valueFormatter(n.value);On(()=>{i=sE(e,this.options.scale)||i,this._observer&&this._observer.observe(e);const l=Object.keys(n.modifiers)[0];let u;l&&(u=n.instance.$refs[l],u=u?u.el||u:document.getElementById(l)),u||(u=S4(e));const c=new C4(e,i,o,s,n.arg,u,this.options,a,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(c),Ho&&(this._addListenerTarget(window),this._addListenerTarget(u)),On(this.lazyLoadHandler)})}update(e,n,r){let{src:i,loading:s,error:o}=this._valueFormatter(n.value);i=sE(e,this.options.scale)||i;const a=this.ListenerQueue.find(l=>l.el===e);a?a.update({src:i,loading:s,error:o}):(e.getAttribute("lazy")!=="loaded"||e.dataset.src!==i)&&this.add(e,n,r),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),On(this.lazyLoadHandler)}remove(e){if(!e)return;this._observer&&this._observer.unobserve(e);const n=this.ListenerQueue.find(r=>r.el===e);n&&(this._removeListenerTarget(n.$parent),this._removeListenerTarget(window),Ac(this.ListenerQueue,n),n.$destroy&&n.$destroy())}removeComponent(e){e&&(Ac(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}setMode(e){!iE&&e===ha.observer&&(e=ha.event),this.mode=e,e===ha.event?(this._observer&&(this.ListenerQueue.forEach(n=>{this._observer.unobserve(n.el)}),this._observer=null),this.TargetQueue.forEach(n=>{this._initListen(n.el,!0)})):(this.TargetQueue.forEach(n=>{this._initListen(n.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(e){if(!e)return;let n=this.TargetQueue.find(r=>r.el===e);return n?n.childrenCount++:(n={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===ha.event&&this._initListen(n.el,!0),this.TargetQueue.push(n)),this.TargetIndex}_removeListenerTarget(e){this.TargetQueue.forEach((n,r)=>{n.el===e&&(n.childrenCount--,n.childrenCount||(this._initListen(n.el,!1),this.TargetQueue.splice(r,1),n=null))})}_initListen(e,n){this.options.listenEvents.forEach(r=>A4[n?"on":"off"](e,r,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,n)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(n)},this.$once=(e,n)=>{const r=this;function i(){r.$off(e,i),n.apply(r,arguments)}this.$on(e,i)},this.$off=(e,n)=>{if(!n){if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0;return}Ac(this.Event.listeners[e],n)},this.$emit=(e,n,r)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach(i=>i(n,r))}}_lazyLoadHandler(){const e=[];this.ListenerQueue.forEach((n,r)=>{(!n.el||!n.el.parentNode||n.state.loaded)&&e.push(n),n.checkInView()&&(n.state.loaded||n.load())}),e.forEach(n=>{Ac(this.ListenerQueue,n),n.$destroy&&n.$destroy()})}_initIntersectionObserver(){iE&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(e=>{this._observer.observe(e.el)}))}_observerHandler(e){e.forEach(n=>{n.isIntersecting&&this.ListenerQueue.forEach(r=>{if(r.el===n.target){if(r.state.loaded)return this._observer.unobserve(r.el);r.load()}})})}_elRenderer(e,n,r){if(!e.el)return;const{el:i,bindType:s}=e;let o;switch(n){case"loading":o=e.loading;break;case"error":o=e.error;break;default:o=e.src;break}if(s?i.style[s]='url("'+o+'")':i.getAttribute("src")!==o&&i.setAttribute("src",o),i.setAttribute("lazy",n),this.$emit(n,e,r),this.options.adapter[n]&&this.options.adapter[n](e,this.options),this.options.dispatchEvent){const a=new CustomEvent(n,{detail:e});i.dispatchEvent(a)}}_valueFormatter(e){return P4(e)?(!e.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+e),{src:e.src,loading:e.loading||this.options.loading,error:e.error||this.options.error,cors:this.options.cors}):{src:e,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const $R=(t,e)=>{let n=Lr({});const r=()=>{n=t.value.getBoundingClientRect()};return{rect:n,checkInView:()=>(r(),Ho&&n.top<window.innerHeight*e&&n.bottom>0&&n.left<window.innerWidth*e&&n.right>0)}};var x4=t=>zt({props:{tag:{type:String,default:"div"}},emits:["show"],setup(e,{emit:n,slots:r}){const i=Me(),s=Lr({loaded:!1,error:!1,attempt:0}),o=Me(!1),{rect:a,checkInView:l}=$R(i,t.options.preLoad),u=()=>{o.value=!0,s.loaded=!0,n("show",o.value)},c=X(()=>({el:i.value,rect:a,checkInView:l,load:u,state:s}));return Zr(()=>{t.addLazyBox(c.value),t.lazyLoadHandler()}),Qo(()=>{t.removeComponent(c.value)}),()=>{var f;return we(e.tag,{ref:i},[o.value&&((f=r.default)===null||f===void 0?void 0:f.call(r))])}}});class M4{constructor(e){this.lazy=e,e.lazyContainerMananger=this,this._queue=[]}bind(e,n,r){const i=new L4(e,n,r,this.lazy);this._queue.push(i)}update(e,n,r){const i=this._queue.find(s=>s.el===e);i&&i.update(e,n)}unbind(e,n,r){const i=this._queue.find(s=>s.el===e);i&&(i.clear(),Ac(this._queue,i))}}const N4={selector:"img",error:"",loading:""};class L4{constructor(e,n,r,i){this.el=e,this.vnode=r,this.binding=n,this.options={},this.lazy=i,this._queue=[],this.update(e,n)}update(e,n){this.el=e,this.options=rE({},N4,n.value),this.getImgs().forEach(i=>{this.lazy.add(i,rE({},this.binding,{value:{src:i.getAttribute("data-src")||i.dataset.src,error:i.getAttribute("data-error")||i.dataset.error||this.options.error,loading:i.getAttribute("data-loading")||i.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(n=>this.lazy.remove(n)),this.vnode=null,this.binding=null,this.lazy=null}}var $4=t=>zt({setup(e,{slots:n}){const r=Me(),i=Lr({src:"",error:"",loading:"",attempt:t.options.attempt}),s=Lr({loaded:!1,error:!1,attempt:0}),{rect:o,checkInView:a}=$R(r,t.options.preLoad),l=Me(""),u=(d=o0)=>{if(s.attempt>i.attempt-1&&s.error)return t.options.silent||console.log(`VueLazyload log: ${i.src} tried too more than ${i.attempt} times`),d();const p=i.src;q_({src:p},({src:g})=>{l.value=g,s.loaded=!0},()=>{s.attempt++,l.value=i.error,s.error=!0})},c=X(()=>({el:r.value,rect:o,checkInView:a,load:u,state:s}));Zr(()=>{t.addLazyBox(c.value),t.lazyLoadHandler()}),Qo(()=>{t.removeComponent(c.value)});const f=()=>{const{src:d,loading:p,error:g}=t._valueFormatter(e.src);s.loaded=!1,i.src=d,i.error=g,i.loading=p,l.value=i.loading};return ht(()=>e.src,()=>{f(),t.addLazyBox(c.value),t.lazyLoadHandler()},{immediate:!0}),()=>{var d;return we(e.tag||"img",{src:l.value,ref:r},[(d=n.default)===null||d===void 0?void 0:d.call(n)])}}}),V4={install(t,e={}){const n=new O4(e),r=new M4(n);if(Number(t.version.split(".")[0])<3)return new Error("Vue version at least 3.0");t.config.globalProperties.$Lazyload=n,t.provide("Lazyload",n),e.lazyComponent&&t.component("lazy-component",x4(n)),e.lazyImage&&t.component("lazy-image",$4(n)),t.directive("lazy",{beforeMount:n.add.bind(n),beforeUpdate:n.update.bind(n),updated:n.lazyLoadHandler.bind(n),unmounted:n.remove.bind(n)}),t.directive("lazy-container",{beforeMount:r.bind.bind(r),updated:r.update.bind(r),unmounted:r.unbind.bind(r)})}};/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const xl=typeof document<"u";function F4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const At=Object.assign;function Cg(t,e){const n={};for(const r in e){const i=e[r];n[r]=Oi(i)?i.map(t):t(i)}return n}const Jc=()=>{},Oi=Array.isArray,VR=/#/g,U4=/&/g,B4=/\//g,j4=/=/g,H4=/\?/g,FR=/\+/g,z4=/%5B/g,Y4=/%5D/g,UR=/%5E/g,q4=/%60/g,BR=/%7B/g,W4=/%7C/g,jR=/%7D/g,G4=/%20/g;function a0(t){return encodeURI(""+t).replace(W4,"|").replace(z4,"[").replace(Y4,"]")}function K4(t){return a0(t).replace(BR,"{").replace(jR,"}").replace(UR,"^")}function W_(t){return a0(t).replace(FR,"%2B").replace(G4,"+").replace(VR,"%23").replace(U4,"%26").replace(q4,"`").replace(BR,"{").replace(jR,"}").replace(UR,"^")}function X4(t){return W_(t).replace(j4,"%3D")}function Q4(t){return a0(t).replace(VR,"%23").replace(H4,"%3F")}function J4(t){return t==null?"":Q4(t).replace(B4,"%2F")}function kh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Z4=/\/$/,ej=t=>t.replace(Z4,"");function Dg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=ij(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:kh(o)}}function tj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function aE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function nj(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&pu(e.matched[r],n.matched[i])&&HR(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function pu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function HR(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!rj(t[n],e[n]))return!1;return!0}function rj(t,e){return Oi(t)?lE(t,e):Oi(e)?lE(e,t):t===e}function lE(t,e){return Oi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ij(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const ro={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Oh;(function(t){t.pop="pop",t.push="push"})(Oh||(Oh={}));var Zc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Zc||(Zc={}));function sj(t){if(!t)if(xl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ej(t)}const oj=/^[^#]+#/;function aj(t,e){return t.replace(oj,"#")+e}function lj(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Rm=()=>({left:window.scrollX,top:window.scrollY});function uj(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=lj(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function uE(t,e){return(history.state?history.state.position-e:-1)+t}const G_=new Map;function cj(t,e){G_.set(t,e)}function hj(t){const e=G_.get(t);return G_.delete(t),e}let fj=()=>location.protocol+"//"+location.host;function zR(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),aE(l,"")}return aE(n,t)+r+i}function dj(t,e,n,r){let i=[],s=[],o=null;const a=({state:d})=>{const p=zR(t,location),g=n.value,_=e.value;let A=0;if(d){if(n.value=p,e.value=d,o&&o===g){o=null;return}A=_?d.position-_.position:0}else r(p);i.forEach(S=>{S(n.value,g,{delta:A,type:Oh.pop,direction:A?A>0?Zc.forward:Zc.back:Zc.unknown})})};function l(){o=n.value}function u(d){i.push(d);const p=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:d}=window;d.state&&d.replaceState(At({},d.state,{scroll:Rm()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function cE(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Rm():null}}function pj(t){const{history:e,location:n}=window,r={value:zR(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:fj()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](d)}}function o(l,u){const c=At({},e.state,cE(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=At({},i.value,e.state,{forward:l,scroll:Rm()});s(c.current,c,!0);const f=At({},cE(r.value,l,null),{position:c.position+1},u);s(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function mj(t){t=sj(t);const e=pj(t),n=dj(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=At({location:"",base:t,go:r,createHref:aj.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function gj(t){return typeof t=="string"||t&&typeof t=="object"}function YR(t){return typeof t=="string"||typeof t=="symbol"}const qR=Symbol("");var hE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(hE||(hE={}));function mu(t,e){return At(new Error,{type:t,[qR]:!0},e)}function ys(t,e){return t instanceof Error&&qR in t&&(e==null||!!(t.type&e))}const fE="[^/]+?",_j={sensitive:!1,strict:!1,start:!0,end:!0},vj=/[.+*?^${}()[\]/\\]/g;function yj(t,e){const n=At({},_j,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(vj,"\\$&"),p+=40;else if(d.type===1){const{value:g,repeatable:_,optional:A,regexp:S}=d;s.push({name:g,repeatable:_,optional:A});const x=S||fE;if(x!==fE){p+=10;try{new RegExp(`(${x})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${g}" (${x}): `+O.message)}}let k=_?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(k=A&&u.length<2?`(?:/${k})`:"/"+k),A&&(k+="?"),i+=k,p+=20,A&&(p+=-8),_&&(p+=-20),x===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",g=s[d-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:_,optional:A}=p,S=g in u?u[g]:"";if(Oi(S)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const x=Oi(S)?S.join("/"):S;if(!x)if(A)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);c+=x}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function wj(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function WR(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=wj(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(dE(r))return 1;if(dE(i))return-1}return i.length-r.length}function dE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bj={type:0,value:""},Tj=/[a-zA-Z0-9_]/;function Ej(t){if(!t)return[[]];if(t==="/")return[[bj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function f(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Tj.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function Aj(t,e,n){const r=yj(Ej(t.path),n),i=At(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Ij(t,e){const n=[],r=new Map;e=gE({strict:!1,end:!0,sensitive:!1},e);function i(f){return r.get(f)}function s(f,d,p){const g=!p,_=Sj(f);_.aliasOf=p&&p.record;const A=gE(e,f),S=[_];if("alias"in f){const O=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of O)S.push(At({},_,{components:p?p.record.components:_.components,path:M,aliasOf:p?p.record:_}))}let x,k;for(const O of S){const{path:M}=O;if(d&&M[0]!=="/"){const N=d.record.path,w=N[N.length-1]==="/"?"":"/";O.path=d.record.path+(M&&w+M)}if(x=Aj(O,d,A),p?p.alias.push(x):(k=k||x,k!==x&&k.alias.push(x),g&&f.name&&!mE(x)&&o(f.name)),GR(x)&&l(x),_.children){const N=_.children;for(let w=0;w<N.length;w++)s(N[w],x,p&&p.children[w])}p=p||x}return k?()=>{o(k)}:Jc}function o(f){if(YR(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=Cj(f,n);n.splice(d,0,f),f.record.name&&!mE(f)&&r.set(f.record.name,f)}function u(f,d){let p,g={},_,A;if("name"in f&&f.name){if(p=r.get(f.name),!p)throw mu(1,{location:f});A=p.record.name,g=At(pE(d.params,p.keys.filter(k=>!k.optional).concat(p.parent?p.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),f.params&&pE(f.params,p.keys.map(k=>k.name))),_=p.stringify(g)}else if(f.path!=null)_=f.path,p=n.find(k=>k.re.test(_)),p&&(g=p.parse(_),A=p.record.name);else{if(p=d.name?r.get(d.name):n.find(k=>k.re.test(d.path)),!p)throw mu(1,{location:f,currentLocation:d});A=p.record.name,g=At({},d.params,f.params),_=p.stringify(g)}const S=[];let x=p;for(;x;)S.unshift(x.record),x=x.parent;return{name:A,path:_,params:g,matched:S,meta:Rj(S)}}t.forEach(f=>s(f));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function pE(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Sj(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Pj(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Pj(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function mE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Rj(t){return t.reduce((e,n)=>At(e,n.meta),{})}function gE(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Cj(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;WR(t,e[s])<0?r=s:n=s+1}const i=Dj(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function Dj(t){let e=t;for(;e=e.parent;)if(GR(e)&&WR(t,e)===0)return e}function GR({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function kj(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(FR," "),o=s.indexOf("="),a=kh(o<0?s:s.slice(0,o)),l=o<0?null:kh(s.slice(o+1));if(a in e){let u=e[a];Oi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function _E(t){let e="";for(let n in t){const r=t[n];if(n=X4(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Oi(r)?r.map(s=>s&&W_(s)):[r&&W_(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Oj(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Oi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const xj=Symbol(""),vE=Symbol(""),Cm=Symbol(""),l0=Symbol(""),K_=Symbol("");function ac(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ho(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(mu(4,{from:n,to:e})):d instanceof Error?l(d):gj(d)?l(mu(2,{from:e,to:d})):(o&&r.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function kg(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Mj(l)){const c=(l.__vccOpts||l)[e];c&&s.push(ho(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=F4(c)?c.default:c;o.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&ho(p,n,r,o,a,i)()}))}}return s}function Mj(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function yE(t){const e=jn(Cm),n=jn(l0),r=X(()=>{const l=K(t.to);return e.resolve(l)}),i=X(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(pu.bind(null,c));if(d>-1)return d;const p=wE(l[u-2]);return u>1&&wE(c)===p&&f[f.length-1].path!==p?f.findIndex(pu.bind(null,l[u-2])):d}),s=X(()=>i.value>-1&&Vj(n.params,r.value.params)),o=X(()=>i.value>-1&&i.value===n.matched.length-1&&HR(n.params,r.value.params));function a(l={}){return $j(l)?e[K(t.replace)?"replace":"push"](K(t.to)).catch(Jc):Promise.resolve()}return{route:r,href:X(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const Nj=zt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yE,setup(t,{slots:e}){const n=Lr(yE(t)),{options:r}=jn(Cm),i=X(()=>({[bE(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[bE(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Zy("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Lj=Nj;function $j(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Vj(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Oi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function wE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const bE=(t,e,n)=>t??e??n,Fj=zt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=jn(K_),i=X(()=>t.route||r.value),s=jn(vE,0),o=X(()=>{let u=K(s);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=X(()=>i.value.matched[o.value]);Ms(vE,X(()=>o.value+1)),Ms(xj,a),Ms(K_,i);const l=Me();return ht(()=>[l.value,a.value,t.name],([u,c,f],[d,p,g])=>{c&&(c.instances[f]=u,p&&p!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!pu(c,p)||!d)&&(c.enterCallbacks[f]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,f=a.value,d=f&&f.components[c];if(!d)return TE(n.default,{Component:d,route:u});const p=f.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=Zy(d,At({},g,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return TE(n.default,{Component:A,route:u})||A}}});function TE(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const KR=Fj;function Uj(t){const e=Ij(t.routes,t),n=t.parseQuery||kj,r=t.stringifyQuery||_E,i=t.history,s=ac(),o=ac(),a=ac(),l=ZV(ro);let u=ro;xl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Cg.bind(null,z=>""+z),f=Cg.bind(null,J4),d=Cg.bind(null,kh);function p(z,ae){let W,ne;return YR(z)?(W=e.getRecordMatcher(z),ne=ae):ne=z,e.addRoute(ne,W)}function g(z){const ae=e.getRecordMatcher(z);ae&&e.removeRoute(ae)}function _(){return e.getRoutes().map(z=>z.record)}function A(z){return!!e.getRecordMatcher(z)}function S(z,ae){if(ae=At({},ae||l.value),typeof z=="string"){const L=Dg(n,z,ae.path),Y=e.resolve({path:L.path},ae),Q=i.createHref(L.fullPath);return At(L,Y,{params:d(Y.params),hash:kh(L.hash),redirectedFrom:void 0,href:Q})}let W;if(z.path!=null)W=At({},z,{path:Dg(n,z.path,ae.path).path});else{const L=At({},z.params);for(const Y in L)L[Y]==null&&delete L[Y];W=At({},z,{params:f(L)}),ae.params=f(ae.params)}const ne=e.resolve(W,ae),pe=z.hash||"";ne.params=c(d(ne.params));const Re=tj(r,At({},z,{hash:K4(pe),path:ne.path})),D=i.createHref(Re);return At({fullPath:Re,hash:pe,query:r===_E?Oj(z.query):z.query||{}},ne,{redirectedFrom:void 0,href:D})}function x(z){return typeof z=="string"?Dg(n,z,l.value.path):At({},z)}function k(z,ae){if(u!==z)return mu(8,{from:ae,to:z})}function O(z){return w(z)}function M(z){return O(At(x(z),{replace:!0}))}function N(z){const ae=z.matched[z.matched.length-1];if(ae&&ae.redirect){const{redirect:W}=ae;let ne=typeof W=="function"?W(z):W;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=x(ne):{path:ne},ne.params={}),At({query:z.query,hash:z.hash,params:ne.path!=null?{}:z.params},ne)}}function w(z,ae){const W=u=S(z),ne=l.value,pe=z.state,Re=z.force,D=z.replace===!0,L=N(W);if(L)return w(At(x(L),{state:typeof L=="object"?At({},pe,L.state):pe,force:Re,replace:D}),ae||W);const Y=W;Y.redirectedFrom=ae;let Q;return!Re&&nj(r,ne,W)&&(Q=mu(16,{to:Y,from:ne}),ue(ne,ne,!0,!1)),(Q?Promise.resolve(Q):I(Y,ne)).catch($=>ys($)?ys($,2)?$:R($):H($,Y,ne)).then($=>{if($){if(ys($,2))return w(At({replace:D},x($.to),{state:typeof $.to=="object"?At({},pe,$.to.state):pe,force:Re}),ae||Y)}else $=y(Y,ne,!0,D,pe);return P(Y,ne,$),$})}function E(z,ae){const W=k(z,ae);return W?Promise.reject(W):Promise.resolve()}function b(z){const ae=me.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(z):z()}function I(z,ae){let W;const[ne,pe,Re]=Bj(z,ae);W=kg(ne.reverse(),"beforeRouteLeave",z,ae);for(const L of ne)L.leaveGuards.forEach(Y=>{W.push(ho(Y,z,ae))});const D=E.bind(null,z,ae);return W.push(D),De(W).then(()=>{W=[];for(const L of s.list())W.push(ho(L,z,ae));return W.push(D),De(W)}).then(()=>{W=kg(pe,"beforeRouteUpdate",z,ae);for(const L of pe)L.updateGuards.forEach(Y=>{W.push(ho(Y,z,ae))});return W.push(D),De(W)}).then(()=>{W=[];for(const L of Re)if(L.beforeEnter)if(Oi(L.beforeEnter))for(const Y of L.beforeEnter)W.push(ho(Y,z,ae));else W.push(ho(L.beforeEnter,z,ae));return W.push(D),De(W)}).then(()=>(z.matched.forEach(L=>L.enterCallbacks={}),W=kg(Re,"beforeRouteEnter",z,ae,b),W.push(D),De(W))).then(()=>{W=[];for(const L of o.list())W.push(ho(L,z,ae));return W.push(D),De(W)}).catch(L=>ys(L,8)?L:Promise.reject(L))}function P(z,ae,W){a.list().forEach(ne=>b(()=>ne(z,ae,W)))}function y(z,ae,W,ne,pe){const Re=k(z,ae);if(Re)return Re;const D=ae===ro,L=xl?history.state:{};W&&(ne||D?i.replace(z.fullPath,At({scroll:D&&L&&L.scroll},pe)):i.push(z.fullPath,pe)),l.value=z,ue(z,ae,W,D),R()}let T;function U(){T||(T=i.listen((z,ae,W)=>{if(!Ce.listening)return;const ne=S(z),pe=N(ne);if(pe){w(At(pe,{replace:!0}),ne).catch(Jc);return}u=ne;const Re=l.value;xl&&cj(uE(Re.fullPath,W.delta),Rm()),I(ne,Re).catch(D=>ys(D,12)?D:ys(D,2)?(w(D.to,ne).then(L=>{ys(L,20)&&!W.delta&&W.type===Oh.pop&&i.go(-1,!1)}).catch(Jc),Promise.reject()):(W.delta&&i.go(-W.delta,!1),H(D,ne,Re))).then(D=>{D=D||y(ne,Re,!1),D&&(W.delta&&!ys(D,8)?i.go(-W.delta,!1):W.type===Oh.pop&&ys(D,20)&&i.go(-1,!1)),P(ne,Re,D)}).catch(Jc)}))}let F=ac(),B=ac(),j;function H(z,ae,W){R(z);const ne=B.list();return ne.length?ne.forEach(pe=>pe(z,ae,W)):console.error(z),Promise.reject(z)}function ee(){return j&&l.value!==ro?Promise.resolve():new Promise((z,ae)=>{F.add([z,ae])})}function R(z){return j||(j=!z,U(),F.list().forEach(([ae,W])=>z?W(z):ae()),F.reset()),z}function ue(z,ae,W,ne){const{scrollBehavior:pe}=t;if(!xl||!pe)return Promise.resolve();const Re=!W&&hj(uE(z.fullPath,0))||(ne||!W)&&history.state&&history.state.scroll||null;return On().then(()=>pe(z,ae,Re)).then(D=>D&&uj(D)).catch(D=>H(D,z,ae))}const te=z=>i.go(z);let _e;const me=new Set,Ce={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:_,resolve:S,options:t,push:O,replace:M,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:B.add,isReady:ee,install(z){const ae=this;z.component("RouterLink",Lj),z.component("RouterView",KR),z.config.globalProperties.$router=ae,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>K(l)}),xl&&!_e&&l.value===ro&&(_e=!0,O(i.location).catch(pe=>{}));const W={};for(const pe in ro)Object.defineProperty(W,pe,{get:()=>l.value[pe],enumerable:!0});z.provide(Cm,ae),z.provide(l0,$l(W)),z.provide(K_,l);const ne=z.unmount;me.add(z),z.unmount=function(){me.delete(z),me.size<1&&(u=ro,T&&T(),T=null,l.value=ro,_e=!1,j=!1),ne()}}};function De(z){return z.reduce((ae,W)=>ae.then(()=>b(W)),Promise.resolve())}return Ce}function Bj(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>pu(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>pu(u,l))||i.push(l))}return[n,r,i]}function jj(){return jn(Cm)}function Hj(t){return jn(l0)}const zj="/movie-record-vue-v2/images/register-logo.png",Yj=["type","placeholder"],Og={__name:"input",props:GP({placeholder:{type:String},type:{type:String,default:"text"}},{text:{},textModifiers:{}}),emits:["update:text"],setup(t){const e=yR(t,"text");return(n,r)=>Ir((se(),Se("input",{type:t.type,class:"w-full border-b bg-transparent px-1 py-2 text-white placeholder:text-placeholder focus:outline-none",placeholder:t.placeholder,"onUpdate:modelValue":r[0]||(r[0]=i=>e.value=i)},null,8,Yj)),[[qU,e.value]])}},qj=["disabled"],Wj={__name:"button",props:{text:{type:String},disable:{type:Boolean,default:!1}},setup(t){return(e,n)=>(se(),Se("button",{class:"text-body-l-semibold w-full rounded-[8px] border border-primary py-2 text-center text-primary disabled:border-disable disabled:text-disable md:max-w-[329px]",disabled:!t.disable},It(t.text),9,qj))}},Gj={class:"relative"},Kj={class:"group flex items-center"},Xj=Te("i",{class:"icon-file-arrow-ip text-[24px]"},null,-1),Qj={class:"dropdown-image group ml-2 flex-1 px-2"},Jj={class:"absolute left-0 top-[-395px] z-10 hidden size-[80%] group-hover:block"},Zj=["src"],eH={class:"cursor-pointer"},tH={key:0,class:"text-primary"},nH={key:1,class:"text-primary"},rH={__name:"upload-image",props:{imgUrl:{type:String},movieName:{type:String}},emits:["imageData"],setup(t,{emit:e}){const n=e,r=t,i=Me(null),s=Me("上傳海報"),o=Me("");Me(!1),r.movieName&&r.imgUrl&&(s.value=r.movieName,o.value=r.imgUrl);const a=l=>{i.value=l.target.files[0],s.value=l.target.files[0].name;const u=new FileReader;u.readAsDataURL(i.value),u.onload=c=>{o.value=c.target.result;let f=new Image;f.src=c.target.result,f.onload=()=>{const d=f.width,p=f.height;if(d>p){alert("圖片比例不對"),o.value="";return}d<420&&p<500&&(o.value="",alert("圖片尺寸沒有420 * 500 "))}},n("imageData",i.value)};return(l,u)=>(se(),Se("div",Gj,[Te("div",Kj,[Xj,Te("div",Qj,[Te("p",null,It(s.value),1),Te("div",Jj,[Te("img",{src:o.value,alt:""},null,8,Zj)])]),Te("label",eH,[o.value?(se(),Se("p",nH,"更換圖片")):(se(),Se("p",tH,"選擇圖片")),Te("input",{type:"file",accept:"image/*",class:"hidden",onChange:a},null,32)])])]))}},iH={key:0,class:"absolute size-full rounded-[4px] bg-primary"},sH=Te("i",{class:"icon-check text-[20px] text-second"},null,-1),oH=[sH],EE={__name:"checkbox",props:{title:{type:String},current:{type:Boolean,default:()=>!1}},emits:["selected"],setup(t,{emit:e}){const n=t,r=e,i=Me(n.current),s=()=>{i.value=!i.value,r("selected",i.value)};return(o,a)=>(se(),Se("div",{onClick:a[0]||(a[0]=l=>s()),class:"flex cursor-pointer items-center justify-between"},[Te("p",null,It(t.title),1),Te("div",{class:Pt(["relative size-[20px] rounded-[4px]",{border:!i.value}])},[i.value?(se(),Se("div",iH,oH)):rt("",!0)],2)]))}},aH={class:"flex justify-between"},lH=Te("p",null,"評分",-1),uH={class:"flex"},cH=["onMouseenter","onClick"],hH={class:"flex"},fH={key:0},dH=Te("i",{class:"icon-star text-[24px]"},null,-1),pH=[dH],mH={key:1},gH=Te("i",{class:"icon-star-fill text-[24px]"},null,-1),_H=[gH],vH={__name:"star",props:{current:{type:Number}},emits:["selected"],setup(t,{emit:e}){const n=t,r=e,i=Me(!1),s=Me(0);n.current&&(s.value=n.current,i.value=!0);const o=u=>{i.value=!i.value,s.value=u,i.value?r("selected",s.value):r("selected",0)},a=u=>{i.value||(s.value=u)},l=()=>{i.value||(s.value=-1)};return(u,c)=>(se(),Se("div",aH,[lH,Te("div",uH,[(se(),Se(ft,null,Mn(5,f=>Te("div",{key:f,onMouseenter:d=>a(f),onMouseleave:l,onClick:d=>o(f)},[Te("div",hH,[s.value<f?(se(),Se("div",fH,pH)):rt("",!0),s.value>=f?(se(),Se("div",mH,_H)):rt("",!0)])],40,cH)),64))])]))}};function xg(t){return t===0?!1:Array.isArray(t)&&t.length===0?!0:!t}function yH(t){return(...e)=>!t(...e)}function wH(t,e){return t===void 0&&(t="undefined"),t===null&&(t="null"),t===!1&&(t="false"),t.toString().toLowerCase().indexOf(e.trim())!==-1}function XR(t,e,n,r){return e?t.filter(i=>wH(r(i,n),e)).sort((i,s)=>r(i,n).length-r(s,n).length):t}function bH(t){return t.filter(e=>!e.$isLabel)}function Mg(t,e){return n=>n.reduce((r,i)=>i[t]&&i[t].length?(r.push({$groupLabel:i[e],$isLabel:!0}),r.concat(i[t])):r,[])}function TH(t,e,n,r,i){return s=>s.map(o=>{if(!o[n])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const a=XR(o[n],t,e,i);return a.length?{[r]:o[r],[n]:a}:[]})}const AE=(...t)=>e=>t.reduce((n,r)=>r(n),e);var EH={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(t,e){return xg(t)?"":e?t[e]:t}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const t=this.search||"",e=t.toLowerCase().trim();let n=this.options.concat();return this.internalSearch?n=this.groupValues?this.filterAndFlat(n,e,this.label):XR(n,e,this.label,this.customLabel):n=this.groupValues?Mg(this.groupValues,this.groupLabel)(n):n,n=this.hideSelected?n.filter(yH(this.isSelected)):n,this.taggable&&e.length&&!this.isExistingOption(e)&&(this.tagPosition==="bottom"?n.push({isTag:!0,label:t}):n.unshift({isTag:!0,label:t})),n.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(t=>t[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(e=>this.customLabel(e,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(t,e,n){return AE(TH(e,n,this.groupValues,this.groupLabel,this.customLabel),Mg(this.groupValues,this.groupLabel))(t)},flatAndStrip(t){return AE(Mg(this.groupValues,this.groupLabel),bH)(t)},updateSearch(t){this.search=t},isExistingOption(t){return this.options?this.optionKeys.indexOf(t)>-1:!1},isSelected(t){const e=this.trackBy?t[this.trackBy]:t;return this.valueKeys.indexOf(e)>-1},isOptionDisabled(t){return!!t.$isDisabled},getOptionLabel(t){if(xg(t))return"";if(t.isTag)return t.label;if(t.$isLabel)return t.$groupLabel;const e=this.customLabel(t,this.label);return xg(e)?"":e},select(t,e){if(t.$isLabel&&this.groupSelect){this.selectGroup(t);return}if(!(this.blockKeys.indexOf(e)!==-1||this.disabled||t.$isDisabled||t.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(e==="Tab"&&!this.pointerDirty)){if(t.isTag)this.$emit("tag",t.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(t)){e!=="Tab"&&this.removeElement(t);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([t])):this.$emit("update:modelValue",t),this.$emit("select",t,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(t){const e=this.options.find(n=>n[this.groupLabel]===t.$groupLabel);if(e){if(this.wholeGroupSelected(e)){this.$emit("remove",e[this.groupValues],this.id);const n=this.trackBy?e[this.groupValues].map(i=>i[this.trackBy]):e[this.groupValues],r=this.internalValue.filter(i=>n.indexOf(this.trackBy?i[this.trackBy]:i)===-1);this.$emit("update:modelValue",r)}else{let n=e[this.groupValues].filter(r=>!(this.isOptionDisabled(r)||this.isSelected(r)));this.max&&n.splice(this.max-this.internalValue.length),this.$emit("select",n,this.id),this.$emit("update:modelValue",this.internalValue.concat(n))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(t){return t[this.groupValues].every(e=>this.isSelected(e)||this.isOptionDisabled(e))},wholeGroupDisabled(t){return t[this.groupValues].every(this.isOptionDisabled)},removeElement(t,e=!0){if(this.disabled||t.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const n=typeof t=="object"?this.valueKeys.indexOf(t[this.trackBy]):this.valueKeys.indexOf(t);if(this.multiple){const r=this.internalValue.slice(0,n).concat(this.internalValue.slice(n+1));this.$emit("update:modelValue",r)}else this.$emit("update:modelValue",null);this.$emit("remove",t,this.id),this.closeOnSelect&&e&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const t=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>t||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(t-40,this.maxHeight))}}},AH={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(t,e){return{"multiselect__option--highlight":t===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight(t,e){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":e.$isLabel}];const n=this.options.find(r=>r[this.groupLabel]===e.$groupLabel);return n&&!this.wholeGroupDisabled(n)?["multiselect__option--group",{"multiselect__option--highlight":t===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(n)}]:"multiselect__option--disabled"},addPointerElement({key:t}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(t){this.pointer=t,this.pointerDirty=!0}}},u0={name:"vue-multiselect",mixins:[EH,AH],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:t=>`and ${t} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}};const IH={ref:"tags",class:"multiselect__tags"},SH={class:"multiselect__tags-wrap"},PH={class:"multiselect__spinner"},RH={key:0},CH={class:"multiselect__option"},DH={class:"multiselect__option"},kH=wr("No elements found. Consider changing the search query."),OH={class:"multiselect__option"},xH=wr("List is empty.");function MH(t,e,n,r,i,s){return se(),ot("div",{tabindex:t.searchable?-1:n.tabindex,class:[{"multiselect--active":t.isOpen,"multiselect--disabled":n.disabled,"multiselect--above":s.isAbove,"multiselect--has-options-group":s.hasOptionGroup},"multiselect"],onFocus:e[14]||(e[14]=o=>t.activate()),onBlur:e[15]||(e[15]=o=>t.searchable?!1:t.deactivate()),onKeydown:[e[16]||(e[16]=Ur(tn(o=>t.pointerForward(),["self","prevent"]),["down"])),e[17]||(e[17]=Ur(tn(o=>t.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:e[18]||(e[18]=Ur(tn(o=>t.addPointerElement(o),["stop","self"]),["enter","tab"])),onKeyup:e[19]||(e[19]=Ur(o=>t.deactivate(),["esc"])),role:"combobox","aria-owns":"listbox-"+t.id},[nn(t.$slots,"caret",{toggle:t.toggle},()=>[we("div",{onMousedown:e[1]||(e[1]=tn(o=>t.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),nn(t.$slots,"clear",{search:t.search}),we("div",IH,[nn(t.$slots,"selection",{search:t.search,remove:t.removeElement,values:s.visibleValues,isOpen:t.isOpen},()=>[Ir(we("div",SH,[(se(!0),ot(ft,null,Mn(s.visibleValues,(o,a)=>nn(t.$slots,"tag",{option:o,search:t.search,remove:t.removeElement},()=>[(se(),ot("span",{class:"multiselect__tag",key:a},[we("span",{textContent:It(t.getOptionLabel(o))},null,8,["textContent"]),we("i",{tabindex:"1",onKeypress:Ur(tn(l=>t.removeElement(o),["prevent"]),["enter"]),onMousedown:tn(l=>t.removeElement(o),["prevent"]),class:"multiselect__tag-icon"},null,40,["onKeypress","onMousedown"])]))])),256))],512),[[Ii,s.visibleValues.length>0]]),t.internalValue&&t.internalValue.length>n.limit?nn(t.$slots,"limit",{key:0},()=>[we("strong",{class:"multiselect__strong",textContent:It(n.limitText(t.internalValue.length-n.limit))},null,8,["textContent"])]):rt("v-if",!0)]),we(Bo,{name:"multiselect__loading"},{default:Tt(()=>[nn(t.$slots,"loading",{},()=>[Ir(we("div",PH,null,512),[[Ii,n.loading]])])]),_:3}),t.searchable?(se(),ot("input",{key:0,ref:"search",name:n.name,id:t.id,type:"text",autocomplete:"off",spellcheck:!1,placeholder:t.placeholder,style:s.inputStyle,value:t.search,disabled:n.disabled,tabindex:n.tabindex,onInput:e[2]||(e[2]=o=>t.updateSearch(o.target.value)),onFocus:e[3]||(e[3]=tn(o=>t.activate(),["prevent"])),onBlur:e[4]||(e[4]=tn(o=>t.deactivate(),["prevent"])),onKeyup:e[5]||(e[5]=Ur(o=>t.deactivate(),["esc"])),onKeydown:[e[6]||(e[6]=Ur(tn(o=>t.pointerForward(),["prevent"]),["down"])),e[7]||(e[7]=Ur(tn(o=>t.pointerBackward(),["prevent"]),["up"])),e[9]||(e[9]=Ur(tn(o=>t.removeLastElement(),["stop"]),["delete"]))],onKeypress:e[8]||(e[8]=Ur(tn(o=>t.addPointerElement(o),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+t.id},null,44,["name","id","placeholder","value","disabled","tabindex","aria-controls"])):rt("v-if",!0),s.isSingleLabelVisible?(se(),ot("span",{key:1,class:"multiselect__single",onMousedown:e[10]||(e[10]=tn((...o)=>t.toggle&&t.toggle(...o),["prevent"]))},[nn(t.$slots,"singleLabel",{option:s.singleValue},()=>[wr(It(t.currentOptionLabel),1)])],32)):rt("v-if",!0),s.isPlaceholderVisible?(se(),ot("span",{key:2,class:"multiselect__placeholder",onMousedown:e[11]||(e[11]=tn((...o)=>t.toggle&&t.toggle(...o),["prevent"]))},[nn(t.$slots,"placeholder",{},()=>[wr(It(t.placeholder),1)])],32)):rt("v-if",!0)],512),we(Bo,{name:"multiselect"},{default:Tt(()=>[Ir(we("div",{class:"multiselect__content-wrapper",onFocus:e[12]||(e[12]=(...o)=>t.activate&&t.activate(...o)),tabindex:"-1",onMousedown:e[13]||(e[13]=tn(()=>{},["prevent"])),style:{maxHeight:t.optimizedHeight+"px"},ref:"list"},[we("ul",{class:"multiselect__content",style:s.contentStyle,role:"listbox",id:"listbox-"+t.id},[nn(t.$slots,"beforeList"),t.multiple&&t.max===t.internalValue.length?(se(),ot("li",RH,[we("span",CH,[nn(t.$slots,"maxElements",{},()=>[wr("Maximum of "+It(t.max)+" options selected. First remove a selected option to select another.",1)])])])):rt("v-if",!0),!t.max||t.internalValue.length<t.max?(se(!0),ot(ft,{key:1},Mn(t.filteredOptions,(o,a)=>(se(),ot("li",{class:"multiselect__element",key:a,id:t.id+"-"+a,role:o&&(o.$isLabel||o.$isDisabled)?null:"option"},[o&&(o.$isLabel||o.$isDisabled)?rt("v-if",!0):(se(),ot("span",{key:0,class:[t.optionHighlight(a,o),"multiselect__option"],onClick:tn(l=>t.select(o),["stop"]),onMouseenter:tn(l=>t.pointerSet(a),["self"]),"data-select":o&&o.isTag?t.tagPlaceholder:s.selectLabelText,"data-selected":s.selectedLabelText,"data-deselect":s.deselectLabelText},[nn(t.$slots,"option",{option:o,search:t.search,index:a},()=>[we("span",null,It(t.getOptionLabel(o)),1)])],42,["onClick","onMouseenter","data-select","data-selected","data-deselect"])),o&&(o.$isLabel||o.$isDisabled)?(se(),ot("span",{key:1,"data-select":t.groupSelect&&s.selectGroupLabelText,"data-deselect":t.groupSelect&&s.deselectGroupLabelText,class:[t.groupHighlight(a,o),"multiselect__option"],onMouseenter:tn(l=>t.groupSelect&&t.pointerSet(a),["self"]),onMousedown:tn(l=>t.selectGroup(o),["prevent"])},[nn(t.$slots,"option",{option:o,search:t.search,index:a},()=>[we("span",null,It(t.getOptionLabel(o)),1)])],42,["data-select","data-deselect","onMouseenter","onMousedown"])):rt("v-if",!0)],8,["id","role"]))),128)):rt("v-if",!0),Ir(we("li",null,[we("span",DH,[nn(t.$slots,"noResult",{search:t.search},()=>[kH])])],512),[[Ii,n.showNoResults&&t.filteredOptions.length===0&&t.search&&!n.loading]]),Ir(we("li",null,[we("span",OH,[nn(t.$slots,"noOptions",{},()=>[xH])])],512),[[Ii,n.showNoOptions&&(t.options.length===0||s.hasOptionGroup===!0&&t.filteredOptions.length===0)&&!t.search&&!n.loading]]),nn(t.$slots,"afterList")],12,["id"])],36),[[Ii,t.isOpen]])]),_:3})],42,["tabindex","aria-owns"])}u0.render=MH;const pf=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},NH=t=>(cf("data-v-934e9ee5"),t=t(),hf(),t),LH=NH(()=>Te("template",{slot:"caret","slot-scope":"{ option }"},[wr(" 123 ")],-1)),$H={__name:"select",props:{attrSelected:{type:String}},emits:["selected"],setup(t,{emit:e}){const n=e,r=t,i=Me(""),s=[{title:"電影",slug:"movie"},{title:"電視劇",slug:"tv"},{title:"綜藝",slug:"show"}],o=s.find(a=>a.slug===r.attrSelected);return i.value=o,console.log(i.value),ht(i,a=>{console.log(a),n("selected",a.slug)}),(a,l)=>(se(),ot(K(u0),{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=u=>i.value=u),options:s,"show-labels":!1,searchable:!1,placeholder:"種類","track-by":"title",label:"title"},{default:Tt(()=>[LH]),_:1},8,["modelValue"]))}},VH=pf($H,[["__scopeId","data-v-934e9ee5"]]);var Rr="top",_i="bottom",vi="right",Cr="left",c0="auto",mf=[Rr,_i,vi,Cr],gu="start",xh="end",FH="clippingParents",QR="viewport",lc="popper",UH="reference",IE=mf.reduce(function(t,e){return t.concat([e+"-"+gu,e+"-"+xh])},[]),JR=[].concat(mf,[c0]).reduce(function(t,e){return t.concat([e,e+"-"+gu,e+"-"+xh])},[]),BH="beforeRead",jH="read",HH="afterRead",zH="beforeMain",YH="main",qH="afterMain",WH="beforeWrite",GH="write",KH="afterWrite",XH=[BH,jH,HH,zH,YH,qH,WH,GH,KH];function cs(t){return t?(t.nodeName||"").toLowerCase():null}function Qr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qa(t){var e=Qr(t).Element;return t instanceof e||t instanceof Element}function di(t){var e=Qr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function h0(t){if(typeof ShadowRoot>"u")return!1;var e=Qr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function QH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!di(s)||!cs(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function JH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!di(i)||!cs(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const ZH={name:"applyStyles",enabled:!0,phase:"write",fn:QH,effect:JH,requires:["computeStyles"]};function ns(t){return t.split("-")[0]}var Ma=Math.max,bp=Math.min,_u=Math.round;function X_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ZR(){return!/^((?!chrome|android).)*safari/i.test(X_())}function vu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&di(t)&&(i=t.offsetWidth>0&&_u(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&_u(r.height)/t.offsetHeight||1);var o=Qa(t)?Qr(t):window,a=o.visualViewport,l=!ZR()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,d=r.height/s;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function f0(t){var e=vu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function eC(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&h0(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Us(t){return Qr(t).getComputedStyle(t)}function e3(t){return["table","td","th"].indexOf(cs(t))>=0}function Jo(t){return((Qa(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dm(t){return cs(t)==="html"?t:t.assignedSlot||t.parentNode||(h0(t)?t.host:null)||Jo(t)}function SE(t){return!di(t)||Us(t).position==="fixed"?null:t.offsetParent}function t3(t){var e=/firefox/i.test(X_()),n=/Trident/i.test(X_());if(n&&di(t)){var r=Us(t);if(r.position==="fixed")return null}var i=Dm(t);for(h0(i)&&(i=i.host);di(i)&&["html","body"].indexOf(cs(i))<0;){var s=Us(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function gf(t){for(var e=Qr(t),n=SE(t);n&&e3(n)&&Us(n).position==="static";)n=SE(n);return n&&(cs(n)==="html"||cs(n)==="body"&&Us(n).position==="static")?e:n||t3(t)||e}function d0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function eh(t,e,n){return Ma(t,bp(e,n))}function n3(t,e,n){var r=eh(t,e,n);return r>n?n:r}function tC(){return{top:0,right:0,bottom:0,left:0}}function nC(t){return Object.assign({},tC(),t)}function rC(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var r3=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,nC(typeof e!="number"?e:rC(e,mf))};function i3(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ns(n.placement),l=d0(a),u=[Cr,vi].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var f=r3(i.padding,n),d=f0(s),p=l==="y"?Rr:Cr,g=l==="y"?_i:vi,_=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],A=o[l]-n.rects.reference[l],S=gf(s),x=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,k=_/2-A/2,O=f[p],M=x-d[c]-f[g],N=x/2-d[c]/2+k,w=eh(O,N,M),E=l;n.modifiersData[r]=(e={},e[E]=w,e.centerOffset=w-N,e)}}function s3(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||eC(e.elements.popper,i)&&(e.elements.arrow=i))}const o3={name:"arrow",enabled:!0,phase:"main",fn:i3,effect:s3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yu(t){return t.split("-")[1]}var a3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function l3(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:_u(n*i)/i||0,y:_u(r*i)/i||0}}function PE(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=o.x,p=d===void 0?0:d,g=o.y,_=g===void 0?0:g,A=typeof c=="function"?c({x:p,y:_}):{x:p,y:_};p=A.x,_=A.y;var S=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),k=Cr,O=Rr,M=window;if(u){var N=gf(n),w="clientHeight",E="clientWidth";if(N===Qr(n)&&(N=Jo(n),Us(N).position!=="static"&&a==="absolute"&&(w="scrollHeight",E="scrollWidth")),N=N,i===Rr||(i===Cr||i===vi)&&s===xh){O=_i;var b=f&&N===M&&M.visualViewport?M.visualViewport.height:N[w];_-=b-r.height,_*=l?1:-1}if(i===Cr||(i===Rr||i===_i)&&s===xh){k=vi;var I=f&&N===M&&M.visualViewport?M.visualViewport.width:N[E];p-=I-r.width,p*=l?1:-1}}var P=Object.assign({position:a},u&&a3),y=c===!0?l3({x:p,y:_},Qr(n)):{x:p,y:_};if(p=y.x,_=y.y,l){var T;return Object.assign({},P,(T={},T[O]=x?"0":"",T[k]=S?"0":"",T.transform=(M.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",T))}return Object.assign({},P,(e={},e[O]=x?_+"px":"",e[k]=S?p+"px":"",e.transform="",e))}function u3(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:ns(e.placement),variation:yu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,PE(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,PE(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const c3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:u3,data:{}};var ed={passive:!0};function h3(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Qr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,ed)}),a&&l.addEventListener("resize",n.update,ed),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,ed)}),a&&l.removeEventListener("resize",n.update,ed)}}const f3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:h3,data:{}};var d3={left:"right",right:"left",bottom:"top",top:"bottom"};function Rd(t){return t.replace(/left|right|bottom|top/g,function(e){return d3[e]})}var p3={start:"end",end:"start"};function RE(t){return t.replace(/start|end/g,function(e){return p3[e]})}function p0(t){var e=Qr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function m0(t){return vu(Jo(t)).left+p0(t).scrollLeft}function m3(t,e){var n=Qr(t),r=Jo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=ZR();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+m0(t),y:l}}function g3(t){var e,n=Jo(t),r=p0(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ma(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ma(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+m0(t),l=-r.scrollTop;return Us(i||n).direction==="rtl"&&(a+=Ma(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function g0(t){var e=Us(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function iC(t){return["html","body","#document"].indexOf(cs(t))>=0?t.ownerDocument.body:di(t)&&g0(t)?t:iC(Dm(t))}function th(t,e){var n;e===void 0&&(e=[]);var r=iC(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Qr(r),o=i?[s].concat(s.visualViewport||[],g0(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(th(Dm(o)))}function Q_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function _3(t,e){var n=vu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function CE(t,e,n){return e===QR?Q_(m3(t,n)):Qa(e)?_3(e,n):Q_(g3(Jo(t)))}function v3(t){var e=th(Dm(t)),n=["absolute","fixed"].indexOf(Us(t).position)>=0,r=n&&di(t)?gf(t):t;return Qa(r)?e.filter(function(i){return Qa(i)&&eC(i,r)&&cs(i)!=="body"}):[]}function y3(t,e,n,r){var i=e==="clippingParents"?v3(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=CE(t,u,r);return l.top=Ma(c.top,l.top),l.right=bp(c.right,l.right),l.bottom=bp(c.bottom,l.bottom),l.left=Ma(c.left,l.left),l},CE(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function sC(t){var e=t.reference,n=t.element,r=t.placement,i=r?ns(r):null,s=r?yu(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Rr:l={x:o,y:e.y-n.height};break;case _i:l={x:o,y:e.y+e.height};break;case vi:l={x:e.x+e.width,y:a};break;case Cr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?d0(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case gu:l[u]=l[u]-(e[c]/2-n[c]/2);break;case xh:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Mh(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?FH:a,u=n.rootBoundary,c=u===void 0?QR:u,f=n.elementContext,d=f===void 0?lc:f,p=n.altBoundary,g=p===void 0?!1:p,_=n.padding,A=_===void 0?0:_,S=nC(typeof A!="number"?A:rC(A,mf)),x=d===lc?UH:lc,k=t.rects.popper,O=t.elements[g?x:d],M=y3(Qa(O)?O:O.contextElement||Jo(t.elements.popper),l,c,o),N=vu(t.elements.reference),w=sC({reference:N,element:k,strategy:"absolute",placement:i}),E=Q_(Object.assign({},k,w)),b=d===lc?E:N,I={top:M.top-b.top+S.top,bottom:b.bottom-M.bottom+S.bottom,left:M.left-b.left+S.left,right:b.right-M.right+S.right},P=t.modifiersData.offset;if(d===lc&&P){var y=P[i];Object.keys(I).forEach(function(T){var U=[vi,_i].indexOf(T)>=0?1:-1,F=[Rr,_i].indexOf(T)>=0?"y":"x";I[T]+=y[F]*U})}return I}function w3(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?JR:l,c=yu(r),f=c?a?IE:IE.filter(function(g){return yu(g)===c}):mf,d=f.filter(function(g){return u.indexOf(g)>=0});d.length===0&&(d=f);var p=d.reduce(function(g,_){return g[_]=Mh(t,{placement:_,boundary:i,rootBoundary:s,padding:o})[ns(_)],g},{});return Object.keys(p).sort(function(g,_){return p[g]-p[_]})}function b3(t){if(ns(t)===c0)return[];var e=Rd(t);return[RE(t),e,RE(e)]}function T3(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,_=n.allowedAutoPlacements,A=e.options.placement,S=ns(A),x=S===A,k=l||(x||!g?[Rd(A)]:b3(A)),O=[A].concat(k).reduce(function(me,Ce){return me.concat(ns(Ce)===c0?w3(e,{placement:Ce,boundary:c,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:_}):Ce)},[]),M=e.rects.reference,N=e.rects.popper,w=new Map,E=!0,b=O[0],I=0;I<O.length;I++){var P=O[I],y=ns(P),T=yu(P)===gu,U=[Rr,_i].indexOf(y)>=0,F=U?"width":"height",B=Mh(e,{placement:P,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),j=U?T?vi:Cr:T?_i:Rr;M[F]>N[F]&&(j=Rd(j));var H=Rd(j),ee=[];if(s&&ee.push(B[y]<=0),a&&ee.push(B[j]<=0,B[H]<=0),ee.every(function(me){return me})){b=P,E=!1;break}w.set(P,ee)}if(E)for(var R=g?3:1,ue=function(Ce){var De=O.find(function(z){var ae=w.get(z);if(ae)return ae.slice(0,Ce).every(function(W){return W})});if(De)return b=De,"break"},te=R;te>0;te--){var _e=ue(te);if(_e==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const E3={name:"flip",enabled:!0,phase:"main",fn:T3,requiresIfExists:["offset"],data:{_skip:!1}};function DE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function kE(t){return[Rr,vi,_i,Cr].some(function(e){return t[e]>=0})}function A3(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Mh(e,{elementContext:"reference"}),a=Mh(e,{altBoundary:!0}),l=DE(o,r),u=DE(a,i,s),c=kE(l),f=kE(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const I3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:A3};function S3(t,e,n){var r=ns(t),i=[Cr,Rr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Cr,vi].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function P3(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=JR.reduce(function(c,f){return c[f]=S3(f,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const R3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:P3};function C3(t){var e=t.state,n=t.name;e.modifiersData[n]=sC({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const D3={name:"popperOffsets",enabled:!0,phase:"read",fn:C3,data:{}};function k3(t){return t==="x"?"y":"x"}function O3(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,g=n.tetherOffset,_=g===void 0?0:g,A=Mh(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),S=ns(e.placement),x=yu(e.placement),k=!x,O=d0(S),M=k3(O),N=e.modifiersData.popperOffsets,w=e.rects.reference,E=e.rects.popper,b=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,I=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,y={x:0,y:0};if(N){if(s){var T,U=O==="y"?Rr:Cr,F=O==="y"?_i:vi,B=O==="y"?"height":"width",j=N[O],H=j+A[U],ee=j-A[F],R=p?-E[B]/2:0,ue=x===gu?w[B]:E[B],te=x===gu?-E[B]:-w[B],_e=e.elements.arrow,me=p&&_e?f0(_e):{width:0,height:0},Ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:tC(),De=Ce[U],z=Ce[F],ae=eh(0,w[B],me[B]),W=k?w[B]/2-R-ae-De-I.mainAxis:ue-ae-De-I.mainAxis,ne=k?-w[B]/2+R+ae+z+I.mainAxis:te+ae+z+I.mainAxis,pe=e.elements.arrow&&gf(e.elements.arrow),Re=pe?O==="y"?pe.clientTop||0:pe.clientLeft||0:0,D=(T=P==null?void 0:P[O])!=null?T:0,L=j+W-D-Re,Y=j+ne-D,Q=eh(p?bp(H,L):H,j,p?Ma(ee,Y):ee);N[O]=Q,y[O]=Q-j}if(a){var $,he=O==="x"?Rr:Cr,de=O==="x"?_i:vi,le=N[M],oe=M==="y"?"height":"width",ie=le+A[he],ge=le-A[de],Pe=[Rr,Cr].indexOf(S)!==-1,ve=($=P==null?void 0:P[M])!=null?$:0,Ie=Pe?ie:le-w[oe]-E[oe]-ve+I.altAxis,be=Pe?le+w[oe]+E[oe]-ve-I.altAxis:ge,Ye=p&&Pe?n3(Ie,le,be):eh(p?Ie:ie,le,p?be:ge);N[M]=Ye,y[M]=Ye-le}e.modifiersData[r]=y}}const x3={name:"preventOverflow",enabled:!0,phase:"main",fn:O3,requiresIfExists:["offset"]};function M3(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function N3(t){return t===Qr(t)||!di(t)?p0(t):M3(t)}function L3(t){var e=t.getBoundingClientRect(),n=_u(e.width)/t.offsetWidth||1,r=_u(e.height)/t.offsetHeight||1;return n!==1||r!==1}function $3(t,e,n){n===void 0&&(n=!1);var r=di(e),i=di(e)&&L3(e),s=Jo(e),o=vu(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((cs(e)!=="body"||g0(s))&&(a=N3(e)),di(e)?(l=vu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=m0(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function V3(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function F3(t){var e=V3(t);return XH.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function U3(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function B3(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var OE={placement:"bottom",modifiers:[],strategy:"absolute"};function xE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function j3(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?OE:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},OE,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(S){var x=typeof S=="function"?S(c.options):S;_(),c.options=Object.assign({},s,c.options,x),c.scrollParents={reference:Qa(a)?th(a):a.contextElement?th(a.contextElement):[],popper:th(l)};var k=F3(B3([].concat(r,c.options.modifiers)));return c.orderedModifiers=k.filter(function(O){return O.enabled}),g(),p.update()},forceUpdate:function(){if(!d){var S=c.elements,x=S.reference,k=S.popper;if(xE(x,k)){c.rects={reference:$3(x,gf(k),c.options.strategy==="fixed"),popper:f0(k)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var O=0;O<c.orderedModifiers.length;O++){if(c.reset===!0){c.reset=!1,O=-1;continue}var M=c.orderedModifiers[O],N=M.fn,w=M.options,E=w===void 0?{}:w,b=M.name;typeof N=="function"&&(c=N({state:c,options:E,name:b,instance:p})||c)}}}},update:U3(function(){return new Promise(function(A){p.forceUpdate(),A(c)})}),destroy:function(){_(),d=!0}};if(!xE(a,l))return p;p.setOptions(u).then(function(A){!d&&u.onFirstUpdate&&u.onFirstUpdate(A)});function g(){c.orderedModifiers.forEach(function(A){var S=A.name,x=A.options,k=x===void 0?{}:x,O=A.effect;if(typeof O=="function"){var M=O({state:c,name:S,instance:p,options:k}),N=function(){};f.push(M||N)}})}function _(){f.forEach(function(A){return A()}),f=[]}return p}}var H3=[f3,D3,c3,ZH,R3,E3,x3,o3,I3],z3=j3({defaultModifiers:H3}),Y3=Object.defineProperty,q3=(t,e,n)=>e in t?Y3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ue=(t,e,n)=>(q3(t,typeof e!="symbol"?e+"":e,n),n),td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W3=Object.prototype,G3=W3.hasOwnProperty;function K3(t,e){return t!=null&&G3.call(t,e)}var X3=K3,Q3=Array.isArray,Ni=Q3,J3=typeof td=="object"&&td&&td.Object===Object&&td,aC=J3,Z3=aC,ez=typeof self=="object"&&self&&self.Object===Object&&self,tz=Z3||ez||Function("return this")(),ds=tz,nz=ds,rz=nz.Symbol,km=rz,ME=km,lC=Object.prototype,iz=lC.hasOwnProperty,sz=lC.toString,uc=ME?ME.toStringTag:void 0;function oz(t){var e=iz.call(t,uc),n=t[uc];try{t[uc]=void 0;var r=!0}catch{}var i=sz.call(t);return r&&(e?t[uc]=n:delete t[uc]),i}var az=oz,lz=Object.prototype,uz=lz.toString;function cz(t){return uz.call(t)}var hz=cz,NE=km,fz=az,dz=hz,pz="[object Null]",mz="[object Undefined]",LE=NE?NE.toStringTag:void 0;function gz(t){return t==null?t===void 0?mz:pz:LE&&LE in Object(t)?fz(t):dz(t)}var ps=gz;function _z(t){return t!=null&&typeof t=="object"}var Li=_z,vz=ps,yz=Li,wz="[object Symbol]";function bz(t){return typeof t=="symbol"||yz(t)&&vz(t)==wz}var _0=bz,Tz=Ni,Ez=_0,Az=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iz=/^\w*$/;function Sz(t,e){if(Tz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ez(t)?!0:Iz.test(t)||!Az.test(t)||e!=null&&t in Object(e)}var v0=Sz;function Pz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ws=Pz,Rz=ps,Cz=Ws,Dz="[object AsyncFunction]",kz="[object Function]",Oz="[object GeneratorFunction]",xz="[object Proxy]";function Mz(t){if(!Cz(t))return!1;var e=Rz(t);return e==kz||e==Oz||e==Dz||e==xz}var fl=Mz,Nz=ds,Lz=Nz["__core-js_shared__"],$z=Lz,Ng=$z,$E=function(){var t=/[^.]+$/.exec(Ng&&Ng.keys&&Ng.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Vz(t){return!!$E&&$E in t}var Fz=Vz,Uz=Function.prototype,Bz=Uz.toString;function jz(t){if(t!=null){try{return Bz.call(t)}catch{}try{return t+""}catch{}}return""}var uC=jz,Hz=fl,zz=Fz,Yz=Ws,qz=uC,Wz=/[\\^$.*+?()[\]{}|]/g,Gz=/^\[object .+?Constructor\]$/,Kz=Function.prototype,Xz=Object.prototype,Qz=Kz.toString,Jz=Xz.hasOwnProperty,Zz=RegExp("^"+Qz.call(Jz).replace(Wz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e9(t){if(!Yz(t)||zz(t))return!1;var e=Hz(t)?Zz:Gz;return e.test(qz(t))}var t9=e9;function n9(t,e){return t==null?void 0:t[e]}var r9=n9,i9=t9,s9=r9;function o9(t,e){var n=s9(t,e);return i9(n)?n:void 0}var dl=o9,a9=dl,l9=a9(Object,"create"),Om=l9,VE=Om;function u9(){this.__data__=VE?VE(null):{},this.size=0}var c9=u9;function h9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var f9=h9,d9=Om,p9="__lodash_hash_undefined__",m9=Object.prototype,g9=m9.hasOwnProperty;function _9(t){var e=this.__data__;if(d9){var n=e[t];return n===p9?void 0:n}return g9.call(e,t)?e[t]:void 0}var v9=_9,y9=Om,w9=Object.prototype,b9=w9.hasOwnProperty;function T9(t){var e=this.__data__;return y9?e[t]!==void 0:b9.call(e,t)}var E9=T9,A9=Om,I9="__lodash_hash_undefined__";function S9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=A9&&e===void 0?I9:e,this}var P9=S9,R9=c9,C9=f9,D9=v9,k9=E9,O9=P9;function Lu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lu.prototype.clear=R9;Lu.prototype.delete=C9;Lu.prototype.get=D9;Lu.prototype.has=k9;Lu.prototype.set=O9;var x9=Lu;function M9(){this.__data__=[],this.size=0}var N9=M9;function L9(t,e){return t===e||t!==t&&e!==e}var $u=L9,$9=$u;function V9(t,e){for(var n=t.length;n--;)if($9(t[n][0],e))return n;return-1}var xm=V9,F9=xm,U9=Array.prototype,B9=U9.splice;function j9(t){var e=this.__data__,n=F9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():B9.call(e,n,1),--this.size,!0}var H9=j9,z9=xm;function Y9(t){var e=this.__data__,n=z9(e,t);return n<0?void 0:e[n][1]}var q9=Y9,W9=xm;function G9(t){return W9(this.__data__,t)>-1}var K9=G9,X9=xm;function Q9(t,e){var n=this.__data__,r=X9(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var J9=Q9,Z9=N9,eY=H9,tY=q9,nY=K9,rY=J9;function Vu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vu.prototype.clear=Z9;Vu.prototype.delete=eY;Vu.prototype.get=tY;Vu.prototype.has=nY;Vu.prototype.set=rY;var Mm=Vu,iY=dl,sY=ds,oY=iY(sY,"Map"),y0=oY,FE=x9,aY=Mm,lY=y0;function uY(){this.size=0,this.__data__={hash:new FE,map:new(lY||aY),string:new FE}}var cY=uY;function hY(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var fY=hY,dY=fY;function pY(t,e){var n=t.__data__;return dY(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Nm=pY,mY=Nm;function gY(t){var e=mY(this,t).delete(t);return this.size-=e?1:0,e}var _Y=gY,vY=Nm;function yY(t){return vY(this,t).get(t)}var wY=yY,bY=Nm;function TY(t){return bY(this,t).has(t)}var EY=TY,AY=Nm;function IY(t,e){var n=AY(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var SY=IY,PY=cY,RY=_Y,CY=wY,DY=EY,kY=SY;function Fu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fu.prototype.clear=PY;Fu.prototype.delete=RY;Fu.prototype.get=CY;Fu.prototype.has=DY;Fu.prototype.set=kY;var w0=Fu,cC=w0,OY="Expected a function";function b0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(OY);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(b0.Cache||cC),n}b0.Cache=cC;var xY=b0,MY=xY,NY=500;function LY(t){var e=MY(t,function(r){return n.size===NY&&n.clear(),r}),n=e.cache;return e}var $Y=LY,VY=$Y,FY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UY=/\\(\\)?/g,BY=VY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(FY,function(n,r,i,s){e.push(i?s.replace(UY,"$1"):r||n)}),e}),jY=BY;function HY(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var zY=HY,UE=km,YY=zY,qY=Ni,WY=_0,GY=1/0,BE=UE?UE.prototype:void 0,jE=BE?BE.toString:void 0;function hC(t){if(typeof t=="string")return t;if(qY(t))return YY(t,hC)+"";if(WY(t))return jE?jE.call(t):"";var e=t+"";return e=="0"&&1/t==-GY?"-0":e}var KY=hC,XY=KY;function QY(t){return t==null?"":XY(t)}var JY=QY,ZY=Ni,e6=v0,t6=jY,n6=JY;function r6(t,e){return ZY(t)?t:e6(t,e)?[t]:t6(n6(t))}var fC=r6,i6=ps,s6=Li,o6="[object Arguments]";function a6(t){return s6(t)&&i6(t)==o6}var l6=a6,HE=l6,u6=Li,dC=Object.prototype,c6=dC.hasOwnProperty,h6=dC.propertyIsEnumerable,f6=HE(function(){return arguments}())?HE:function(t){return u6(t)&&c6.call(t,"callee")&&!h6.call(t,"callee")},T0=f6,d6=9007199254740991,p6=/^(?:0|[1-9]\d*)$/;function m6(t,e){var n=typeof t;return e=e??d6,!!e&&(n=="number"||n!="symbol"&&p6.test(t))&&t>-1&&t%1==0&&t<e}var E0=m6,g6=9007199254740991;function _6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=g6}var A0=_6,v6=_0,y6=1/0;function w6(t){if(typeof t=="string"||v6(t))return t;var e=t+"";return e=="0"&&1/t==-y6?"-0":e}var Lm=w6,b6=fC,T6=T0,E6=Ni,A6=E0,I6=A0,S6=Lm;function P6(t,e,n){e=b6(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=S6(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&I6(i)&&A6(o,i)&&(E6(t)||T6(t)))}var pC=P6,R6=X3,C6=pC;function D6(t,e){return t!=null&&C6(t,e,R6)}var mC=D6,k6=ps,O6=Li,x6="[object Date]";function M6(t){return O6(t)&&k6(t)==x6}var N6=M6;function L6(t){return function(e){return t(e)}}var gC=L6,Nh={},$6={get exports(){return Nh},set exports(t){Nh=t}};(function(t,e){var n=aC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})($6,Nh);var V6=N6,F6=gC,zE=Nh,YE=zE&&zE.isDate,U6=YE?F6(YE):V6,B6=U6,j6=ps,H6=Ni,z6=Li,Y6="[object String]";function q6(t){return typeof t=="string"||!H6(t)&&z6(t)&&j6(t)==Y6}var Gi=q6;function W6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var _C=W6,G6=Mm;function K6(){this.__data__=new G6,this.size=0}var X6=K6;function Q6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var J6=Q6;function Z6(t){return this.__data__.get(t)}var eq=Z6;function tq(t){return this.__data__.has(t)}var nq=tq,rq=Mm,iq=y0,sq=w0,oq=200;function aq(t,e){var n=this.__data__;if(n instanceof rq){var r=n.__data__;if(!iq||r.length<oq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sq(r)}return n.set(t,e),this.size=n.size,this}var lq=aq,uq=Mm,cq=X6,hq=J6,fq=eq,dq=nq,pq=lq;function Uu(t){var e=this.__data__=new uq(t);this.size=e.size}Uu.prototype.clear=cq;Uu.prototype.delete=hq;Uu.prototype.get=fq;Uu.prototype.has=dq;Uu.prototype.set=pq;var I0=Uu,mq="__lodash_hash_undefined__";function gq(t){return this.__data__.set(t,mq),this}var _q=gq;function vq(t){return this.__data__.has(t)}var yq=vq,wq=w0,bq=_q,Tq=yq;function Tp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wq;++e<n;)this.add(t[e])}Tp.prototype.add=Tp.prototype.push=bq;Tp.prototype.has=Tq;var Eq=Tp;function Aq(t,e){return t.has(e)}var Iq=Aq,Sq=Eq,Pq=_C,Rq=Iq,Cq=1,Dq=2;function kq(t,e,n,r,i,s){var o=n&Cq,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&Dq?new Sq:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var g=t[f],_=e[f];if(r)var A=o?r(_,g,f,e,t,s):r(g,_,f,t,e,s);if(A!==void 0){if(A)continue;d=!1;break}if(p){if(!Pq(e,function(S,x){if(!Rq(p,x)&&(g===S||i(g,S,n,r,s)))return p.push(x)})){d=!1;break}}else if(!(g===_||i(g,_,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var vC=kq,Oq=ds,xq=Oq.Uint8Array,yC=xq;function Mq(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Nq=Mq;function Lq(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $q=Lq,qE=km,WE=yC,Vq=$u,Fq=vC,Uq=Nq,Bq=$q,jq=1,Hq=2,zq="[object Boolean]",Yq="[object Date]",qq="[object Error]",Wq="[object Map]",Gq="[object Number]",Kq="[object RegExp]",Xq="[object Set]",Qq="[object String]",Jq="[object Symbol]",Zq="[object ArrayBuffer]",eW="[object DataView]",GE=qE?qE.prototype:void 0,Lg=GE?GE.valueOf:void 0;function tW(t,e,n,r,i,s,o){switch(n){case eW:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Zq:return!(t.byteLength!=e.byteLength||!s(new WE(t),new WE(e)));case zq:case Yq:case Gq:return Vq(+t,+e);case qq:return t.name==e.name&&t.message==e.message;case Kq:case Qq:return t==e+"";case Wq:var a=Uq;case Xq:var l=r&jq;if(a||(a=Bq),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Hq,o.set(t,e);var c=Fq(a(t),a(e),r,i,s,o);return o.delete(t),c;case Jq:if(Lg)return Lg.call(t)==Lg.call(e)}return!1}var nW=tW;function rW(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var iW=rW,sW=iW,oW=Ni;function aW(t,e,n){var r=e(t);return oW(t)?r:sW(r,n(t))}var lW=aW;function uW(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var cW=uW;function hW(){return[]}var fW=hW,dW=cW,pW=fW,mW=Object.prototype,gW=mW.propertyIsEnumerable,KE=Object.getOwnPropertySymbols,_W=KE?function(t){return t==null?[]:(t=Object(t),dW(KE(t),function(e){return gW.call(t,e)}))}:pW,vW=_W;function yW(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var wW=yW,wu={},bW={get exports(){return wu},set exports(t){wu=t}};function TW(){return!1}var EW=TW;(function(t,e){var n=ds,r=EW,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(bW,wu);var AW=ps,IW=A0,SW=Li,PW="[object Arguments]",RW="[object Array]",CW="[object Boolean]",DW="[object Date]",kW="[object Error]",OW="[object Function]",xW="[object Map]",MW="[object Number]",NW="[object Object]",LW="[object RegExp]",$W="[object Set]",VW="[object String]",FW="[object WeakMap]",UW="[object ArrayBuffer]",BW="[object DataView]",jW="[object Float32Array]",HW="[object Float64Array]",zW="[object Int8Array]",YW="[object Int16Array]",qW="[object Int32Array]",WW="[object Uint8Array]",GW="[object Uint8ClampedArray]",KW="[object Uint16Array]",XW="[object Uint32Array]",Ft={};Ft[jW]=Ft[HW]=Ft[zW]=Ft[YW]=Ft[qW]=Ft[WW]=Ft[GW]=Ft[KW]=Ft[XW]=!0;Ft[PW]=Ft[RW]=Ft[UW]=Ft[CW]=Ft[BW]=Ft[DW]=Ft[kW]=Ft[OW]=Ft[xW]=Ft[MW]=Ft[NW]=Ft[LW]=Ft[$W]=Ft[VW]=Ft[FW]=!1;function QW(t){return SW(t)&&IW(t.length)&&!!Ft[AW(t)]}var JW=QW,ZW=JW,e5=gC,XE=Nh,QE=XE&&XE.isTypedArray,t5=QE?e5(QE):ZW,S0=t5,n5=wW,r5=T0,i5=Ni,s5=wu,o5=E0,a5=S0,l5=Object.prototype,u5=l5.hasOwnProperty;function c5(t,e){var n=i5(t),r=!n&&r5(t),i=!n&&!r&&s5(t),s=!n&&!r&&!i&&a5(t),o=n||r||i||s,a=o?n5(t.length,String):[],l=a.length;for(var u in t)(e||u5.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||o5(u,l)))&&a.push(u);return a}var wC=c5,h5=Object.prototype;function f5(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||h5;return t===n}var P0=f5;function d5(t,e){return function(n){return t(e(n))}}var bC=d5,p5=bC,m5=p5(Object.keys,Object),g5=m5,_5=P0,v5=g5,y5=Object.prototype,w5=y5.hasOwnProperty;function b5(t){if(!_5(t))return v5(t);var e=[];for(var n in Object(t))w5.call(t,n)&&n!="constructor"&&e.push(n);return e}var T5=b5,E5=fl,A5=A0;function I5(t){return t!=null&&A5(t.length)&&!E5(t)}var _f=I5,S5=wC,P5=T5,R5=_f;function C5(t){return R5(t)?S5(t):P5(t)}var R0=C5,D5=lW,k5=vW,O5=R0;function x5(t){return D5(t,O5,k5)}var M5=x5,JE=M5,N5=1,L5=Object.prototype,$5=L5.hasOwnProperty;function V5(t,e,n,r,i,s){var o=n&N5,a=JE(t),l=a.length,u=JE(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=a[f];if(!(o?d in e:$5.call(e,d)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var _=!0;s.set(t,e),s.set(e,t);for(var A=o;++f<l;){d=a[f];var S=t[d],x=e[d];if(r)var k=o?r(x,S,d,e,t,s):r(S,x,d,t,e,s);if(!(k===void 0?S===x||i(S,x,n,r,s):k)){_=!1;break}A||(A=d=="constructor")}if(_&&!A){var O=t.constructor,M=e.constructor;O!=M&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof M=="function"&&M instanceof M)&&(_=!1)}return s.delete(t),s.delete(e),_}var F5=V5,U5=dl,B5=ds,j5=U5(B5,"DataView"),H5=j5,z5=dl,Y5=ds,q5=z5(Y5,"Promise"),W5=q5,G5=dl,K5=ds,X5=G5(K5,"Set"),Q5=X5,J5=dl,Z5=ds,eG=J5(Z5,"WeakMap"),tG=eG,J_=H5,Z_=y0,ev=W5,tv=Q5,nv=tG,TC=ps,Bu=uC,ZE="[object Map]",nG="[object Object]",e1="[object Promise]",t1="[object Set]",n1="[object WeakMap]",r1="[object DataView]",rG=Bu(J_),iG=Bu(Z_),sG=Bu(ev),oG=Bu(tv),aG=Bu(nv),ma=TC;(J_&&ma(new J_(new ArrayBuffer(1)))!=r1||Z_&&ma(new Z_)!=ZE||ev&&ma(ev.resolve())!=e1||tv&&ma(new tv)!=t1||nv&&ma(new nv)!=n1)&&(ma=function(t){var e=TC(t),n=e==nG?t.constructor:void 0,r=n?Bu(n):"";if(r)switch(r){case rG:return r1;case iG:return ZE;case sG:return e1;case oG:return t1;case aG:return n1}return e});var lG=ma,$g=I0,uG=vC,cG=nW,hG=F5,i1=lG,s1=Ni,o1=wu,fG=S0,dG=1,a1="[object Arguments]",l1="[object Array]",nd="[object Object]",pG=Object.prototype,u1=pG.hasOwnProperty;function mG(t,e,n,r,i,s){var o=s1(t),a=s1(e),l=o?l1:i1(t),u=a?l1:i1(e);l=l==a1?nd:l,u=u==a1?nd:u;var c=l==nd,f=u==nd,d=l==u;if(d&&o1(t)){if(!o1(e))return!1;o=!0,c=!1}if(d&&!c)return s||(s=new $g),o||fG(t)?uG(t,e,n,r,i,s):cG(t,e,l,n,r,i,s);if(!(n&dG)){var p=c&&u1.call(t,"__wrapped__"),g=f&&u1.call(e,"__wrapped__");if(p||g){var _=p?t.value():t,A=g?e.value():e;return s||(s=new $g),i(_,A,n,r,s)}}return d?(s||(s=new $g),hG(t,e,n,r,i,s)):!1}var gG=mG,_G=gG,c1=Li;function EC(t,e,n,r,i){return t===e?!0:t==null||e==null||!c1(t)&&!c1(e)?t!==t&&e!==e:_G(t,e,n,r,EC,i)}var AC=EC,vG=I0,yG=AC,wG=1,bG=2;function TG(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new vG;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?yG(c,u,wG|bG,r,f):d))return!1}}return!0}var EG=TG,AG=Ws;function IG(t){return t===t&&!AG(t)}var IC=IG,SG=IC,PG=R0;function RG(t){for(var e=PG(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,SG(i)]}return e}var CG=RG;function DG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var SC=DG,kG=EG,OG=CG,xG=SC;function MG(t){var e=OG(t);return e.length==1&&e[0][2]?xG(e[0][0],e[0][1]):function(n){return n===t||kG(n,t,e)}}var NG=MG,LG=fC,$G=Lm;function VG(t,e){e=LG(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[$G(e[n++])];return n&&n==r?t:void 0}var PC=VG,FG=PC;function UG(t,e,n){var r=t==null?void 0:FG(t,e);return r===void 0?n:r}var Aa=UG;function BG(t,e){return t!=null&&e in Object(t)}var jG=BG,HG=jG,zG=pC;function YG(t,e){return t!=null&&zG(t,e,HG)}var qG=YG,WG=AC,GG=Aa,KG=qG,XG=v0,QG=IC,JG=SC,ZG=Lm,eK=1,tK=2;function nK(t,e){return XG(t)&&QG(e)?JG(ZG(t),e):function(n){var r=GG(n,t);return r===void 0&&r===e?KG(n,t):WG(e,r,eK|tK)}}var rK=nK;function iK(t){return t}var C0=iK;function sK(t){return function(e){return e==null?void 0:e[t]}}var oK=sK,aK=PC;function lK(t){return function(e){return aK(e,t)}}var uK=lK,cK=oK,hK=uK,fK=v0,dK=Lm;function pK(t){return fK(t)?cK(dK(t)):hK(t)}var mK=pK,gK=NG,_K=rK,vK=C0,yK=Ni,wK=mK;function bK(t){return typeof t=="function"?t:t==null?vK:typeof t=="object"?yK(t)?_K(t[0],t[1]):gK(t):wK(t)}var RC=bK;function TK(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var EK=TK,AK=EK,IK=AK(),CC=IK,SK=CC,PK=R0;function RK(t,e){return t&&SK(t,e,PK)}var DC=RK,CK=_f;function DK(t,e){return function(n,r){if(n==null)return n;if(!CK(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var kK=DK,OK=DC,xK=kK,MK=xK(OK),NK=MK,LK=NK;function $K(t,e){var n;return LK(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var VK=$K,FK=$u,UK=_f,BK=E0,jK=Ws;function HK(t,e,n){if(!jK(n))return!1;var r=typeof e;return(r=="number"?UK(n)&&BK(e,n.length):r=="string"&&e in n)?FK(n[e],t):!1}var D0=HK,zK=_C,YK=RC,qK=VK,WK=Ni,GK=D0;function KK(t,e,n){var r=WK(t)?zK:qK;return n&&GK(t,e,n)&&(e=void 0),r(t,YK(e))}var XK=KK,QK=ps,JK=Li,ZK="[object Boolean]";function e8(t){return t===!0||t===!1||JK(t)&&QK(t)==ZK}var t8=e8,n8=ps,r8=Li,i8="[object Number]";function s8(t){return typeof t=="number"||r8(t)&&n8(t)==i8}var xi=s8,o8=dl,a8=function(){try{var t=o8(Object,"defineProperty");return t({},"",{}),t}catch{}}(),kC=a8,h1=kC;function l8(t,e,n){e=="__proto__"&&h1?h1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var $m=l8,u8=$m,c8=$u,h8=Object.prototype,f8=h8.hasOwnProperty;function d8(t,e,n){var r=t[e];(!(f8.call(t,e)&&c8(r,n))||n===void 0&&!(e in t))&&u8(t,e,n)}var p8=d8,m8=$m,g8=DC,_8=RC;function v8(t,e){var n={};return e=_8(e),g8(t,function(r,i,s){m8(n,i,e(r,i,s))}),n}var y8=v8;function w8(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var OC=w8,b8=OC,f1=Math.max;function T8(t,e,n){return e=f1(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=f1(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),b8(t,this,a)}}var E8=T8;function A8(t){return function(){return t}}var I8=A8,S8=I8,d1=kC,P8=C0,R8=d1?function(t,e){return d1(t,"toString",{configurable:!0,enumerable:!1,value:S8(e),writable:!0})}:P8,C8=R8,D8=800,k8=16,O8=Date.now;function x8(t){var e=0,n=0;return function(){var r=O8(),i=k8-(r-n);if(n=r,i>0){if(++e>=D8)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var M8=x8,N8=C8,L8=M8,$8=L8(N8),V8=$8,F8=C0,U8=E8,B8=V8;function j8(t,e){return B8(U8(t,e,F8),t+"")}var k0=j8;function H8(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var z8=H8,Y8=Ws,q8=P0,W8=z8,G8=Object.prototype,K8=G8.hasOwnProperty;function X8(t){if(!Y8(t))return W8(t);var e=q8(t),n=[];for(var r in t)r=="constructor"&&(e||!K8.call(t,r))||n.push(r);return n}var Q8=X8,J8=wC,Z8=Q8,e7=_f;function t7(t){return e7(t)?J8(t,!0):Z8(t)}var O0=t7,n7=k0,r7=$u,i7=D0,s7=O0,xC=Object.prototype,o7=xC.hasOwnProperty,a7=n7(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&i7(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=s7(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||r7(c,xC[u])&&!o7.call(t,u))&&(t[u]=s[u])}return t}),p1=a7,l7=$m,u7=$u;function c7(t,e,n){(n!==void 0&&!u7(t[e],n)||n===void 0&&!(e in t))&&l7(t,e,n)}var MC=c7,Ep={},h7={get exports(){return Ep},set exports(t){Ep=t}};(function(t,e){var n=ds,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=a?a(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(h7,Ep);var m1=yC;function f7(t){var e=new t.constructor(t.byteLength);return new m1(e).set(new m1(t)),e}var d7=f7,p7=d7;function m7(t,e){var n=e?p7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var g7=m7;function _7(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var v7=_7,y7=Ws,g1=Object.create,w7=function(){function t(){}return function(e){if(!y7(e))return{};if(g1)return g1(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),b7=w7,T7=bC,E7=T7(Object.getPrototypeOf,Object),NC=E7,A7=b7,I7=NC,S7=P0;function P7(t){return typeof t.constructor=="function"&&!S7(t)?A7(I7(t)):{}}var R7=P7,C7=_f,D7=Li;function k7(t){return D7(t)&&C7(t)}var O7=k7,x7=ps,M7=NC,N7=Li,L7="[object Object]",$7=Function.prototype,V7=Object.prototype,LC=$7.toString,F7=V7.hasOwnProperty,U7=LC.call(Object);function B7(t){if(!N7(t)||x7(t)!=L7)return!1;var e=M7(t);if(e===null)return!0;var n=F7.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&LC.call(n)==U7}var j7=B7;function H7(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var $C=H7,z7=p8,Y7=$m;function q7(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Y7(n,a,l):z7(n,a,l)}return n}var W7=q7,G7=W7,K7=O0;function X7(t){return G7(t,K7(t))}var Q7=X7,_1=MC,J7=Ep,Z7=g7,eX=v7,tX=R7,v1=T0,y1=Ni,nX=O7,rX=wu,iX=fl,sX=Ws,oX=j7,aX=S0,w1=$C,lX=Q7;function uX(t,e,n,r,i,s,o){var a=w1(t,n),l=w1(e,n),u=o.get(l);if(u){_1(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,f=c===void 0;if(f){var d=y1(l),p=!d&&rX(l),g=!d&&!p&&aX(l);c=l,d||p||g?y1(a)?c=a:nX(a)?c=eX(a):p?(f=!1,c=J7(l,!0)):g?(f=!1,c=Z7(l,!0)):c=[]:oX(l)||v1(l)?(c=a,v1(a)?c=lX(a):(!sX(a)||iX(a))&&(c=tX(l))):f=!1}f&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),_1(t,n,c)}var cX=uX,hX=I0,fX=MC,dX=CC,pX=cX,mX=Ws,gX=O0,_X=$C;function VC(t,e,n,r,i){t!==e&&dX(e,function(s,o){if(i||(i=new hX),mX(s))pX(t,e,o,n,VC,r,i);else{var a=r?r(_X(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),fX(t,o,a)}},gX)}var FC=VC,vX=FC,b1=Ws;function UC(t,e,n,r,i,s){return b1(t)&&b1(e)&&(s.set(e,t),vX(t,e,void 0,UC,s),s.delete(e)),t}var yX=UC,wX=k0,bX=D0;function TX(t){return wX(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&bX(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var EX=TX,AX=FC,IX=EX,SX=IX(function(t,e,n,r){AX(t,e,n,r)}),PX=SX,RX=OC,CX=k0,DX=yX,kX=PX,OX=CX(function(t){return t.push(void 0,DX),RX(kX,void 0,t)}),Lh=OX;function xX(t){return t&&t.length?t[0]:void 0}var BC=xX;function MX(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Vl=MX;const NX=t=>Object.prototype.toString.call(t).slice(8,-1),Kl=t=>B6(t)&&!isNaN(t.getTime()),Bs=t=>NX(t)==="Object",jC=mC,T1=(t,e)=>XK(e,n=>mC(t,n)),St=(t,e,n="0")=>{for(t=t!=null?String(t):"",e=e||2;t.length<e;)t=`${n}${t}`;return t},pi=t=>Array.isArray(t),Ss=t=>pi(t)&&t.length>0,Ap=t=>t==null?null:document&&Gi(t)?document.querySelector(t):t.$el??t,mo=(t,e,n,r=void 0)=>{t.removeEventListener(e,n,r)},go=(t,e,n,r=void 0)=>(t.addEventListener(e,n,r),()=>mo(t,e,n,r)),Cd=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),rd=(t,e)=>{(t.key===" "||t.key==="Enter")&&(e(t),t.preventDefault())},HC=(t,...e)=>{const n={};let r;for(r in t)e.includes(r)||(n[r]=t[r]);return n},zC=(t,e)=>{const n={};return e.forEach(r=>{r in t&&(n[r]=t[r])}),n};function LX(t,e,n){return Math.min(Math.max(t,e),n)}var Ip={},$X={get exports(){return Ip},set exports(t){Ip=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})($X,Ip);const VX=oC(Ip);var Sp={},FX={get exports(){return Sp},set exports(t){Sp=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(FX,Sp);const E1=oC(Sp);function UX(t,e){var n=zX(e);return n.formatToParts?jX(n,t):HX(n,t)}var BX={year:0,month:1,day:2,hour:3,minute:4,second:5};function jX(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=BX[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function HX(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Vg={};function zX(t){if(!Vg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Vg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Vg[t]}function YC(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var A1=36e5,YX=6e4,Fg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function qX(t,e,n){var r,i;if(!t||(r=Fg.timezoneZ.exec(t),r))return 0;var s;if(r=Fg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),I1(s)?-(s*A1):NaN;if(r=Fg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return I1(s,o)?(i=Math.abs(s)*A1+o*YX,s>0?-i:i):NaN}if(KX(t)){e=new Date(e||Date.now());var a=WX(e),l=rv(a,t),u=GX(e,l,t);return-u}return NaN}function WX(t){return YC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function rv(t,e){var n=UX(t,e),r=YC(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function GX(t,e,n){var r=t.getTime(),i=r-e,s=rv(new Date(i),n);if(e===s)return e;i-=s-e;var o=rv(new Date(i),n);return s===o?s:Math.max(s,o)}function I1(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var S1={};function KX(t){if(S1[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),S1[t]=!0,!0}catch{return!1}}var XX=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const QX=XX;var Ug=36e5,P1=6e4,JX=2,gr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:QX};function ZX(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?JX:VX(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=eQ(t),s=tQ(i.date,r),o=s.year,a=s.restDateString,l=nQ(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,f;if(i.time&&(c=rQ(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(f=qX(i.timeZone||n.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=E1(new Date(u+c)),f=E1(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function eQ(t){var e={},n=gr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=gr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=gr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function tQ(t,e){var n=gr.YYY[e],r=gr.YYYYY[e],i;if(i=gr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=gr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function nQ(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=gr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,C1(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=gr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return oQ(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=gr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return C1(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=gr.Www.exec(t),n)return s=parseInt(n[1],10)-1,D1(e,s)?R1(e,s):new Date(NaN);if(n=gr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return D1(e,s,l)?R1(e,s,l):new Date(NaN)}return null}function rQ(t){var e,n,r;if(e=gr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Bg(n)?n%24*Ug:NaN;if(e=gr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Bg(n,r)?n%24*Ug+r*P1:NaN;if(e=gr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return Bg(n,r,i)?n%24*Ug+r*P1+i*1e3:NaN}return null}function R1(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var iQ=[31,28,31,30,31,30,31,31,30,31,30,31],sQ=[31,29,31,30,31,30,31,31,30,31,30,31];function qC(t){return t%400===0||t%4===0&&t%100!==0}function C1(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=qC(t);if(r&&n>sQ[e]||!r&&n>iQ[e])return!1}return!0}function oQ(t,e){if(e<1)return!1;var n=qC(t);return!(n&&e>366||!n&&e>365)}function D1(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Bg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function or(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Dd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dd=function(n){return typeof n}:Dd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dd(t)}function Gs(t){or(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Dd(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ju(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var aQ={};function x0(){return aQ}function Ja(t,e){var n,r,i,s,o,a,l,u;or(1,arguments);var c=x0(),f=ju((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Gs(t),p=d.getDay(),g=(p<f?7:0)+p-f;return d.setDate(d.getDate()-g),d.setHours(0,0,0,0),d}function k1(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var lQ=6048e5;function uQ(t,e,n){or(2,arguments);var r=Ja(t,n),i=Ja(e,n),s=r.getTime()-k1(r),o=i.getTime()-k1(i);return Math.round((s-o)/lQ)}function cQ(t){or(1,arguments);var e=Gs(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function hQ(t){or(1,arguments);var e=Gs(t);return e.setDate(1),e.setHours(0,0,0,0),e}function fQ(t,e){return or(1,arguments),uQ(cQ(t),hQ(t),e)+1}function dQ(t,e){var n,r,i,s,o,a,l,u;or(1,arguments);var c=Gs(t),f=c.getFullYear(),d=x0(),p=ju((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,p),g.setHours(0,0,0,0);var _=Ja(g,e),A=new Date(0);A.setFullYear(f,0,p),A.setHours(0,0,0,0);var S=Ja(A,e);return c.getTime()>=_.getTime()?f+1:c.getTime()>=S.getTime()?f:f-1}function pQ(t,e){var n,r,i,s,o,a,l,u;or(1,arguments);var c=x0(),f=ju((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=dQ(t,e),p=new Date(0);p.setFullYear(d,0,f),p.setHours(0,0,0,0);var g=Ja(p,e);return g}var mQ=6048e5;function gQ(t,e){or(1,arguments);var n=Gs(t),r=Ja(n,e).getTime()-pQ(n,e).getTime();return Math.round(r/mQ)+1}function Pp(t){return or(1,arguments),Ja(t,{weekStartsOn:1})}function _Q(t){or(1,arguments);var e=Gs(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Pp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=Pp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function vQ(t){or(1,arguments);var e=_Q(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Pp(n);return r}var yQ=6048e5;function wQ(t){or(1,arguments);var e=Gs(t),n=Pp(e).getTime()-vQ(e).getTime();return Math.round(n/yQ)+1}function mr(t,e){or(2,arguments);var n=Gs(t),r=ju(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Rp(t,e){or(2,arguments);var n=Gs(t),r=ju(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function O1(t,e){or(2,arguments);var n=ju(e);return Rp(t,n*12)}const bQ={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function TQ({monthComps:t,prevMonthComps:e,nextMonthComps:n},r){const i=[],{firstDayOfWeek:s,firstWeekday:o,isoWeeknumbers:a,weeknumbers:l,numDays:u,numWeeks:c}=t,f=o+(o<s?Qn:0)-s;let d=!0,p=!1,g=!1,_=0;const A=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let S=e.numDays-f+1,x=e.numDays-S+1,k=Math.floor((S-1)/Qn+1),O=1,M=e.numWeeks,N=1,w=e.month,E=e.year;const b=new Date,I=b.getDate(),P=b.getMonth()+1,y=b.getFullYear();for(let T=1;T<=pJ;T++){for(let U=1,F=s;U<=Qn;U++,F+=F===Qn?1-Qn:1){d&&F===o&&(S=1,x=t.numDays,k=Math.floor((S-1)/Qn+1),O=Math.floor((u-S)/Qn+1),M=1,N=c,w=t.month,E=t.year,d=!1,p=!0);const B=r.getDateFromParams(E,w,S,0,0,0,0),j=r.getDateFromParams(E,w,S,12,0,0,0),H=r.getDateFromParams(E,w,S,23,59,59,999),ee=B,R=`${St(E,4)}-${St(w,2)}-${St(S,2)}`,ue=U,te=Qn-U,_e=l[T-1],me=a[T-1],Ce=S===I&&w===P&&E===y,De=p&&S===1,z=p&&S===u,ae=T===1,W=T===c,ne=U===1,pe=U===Qn,Re=iD(E,w,S);i.push({locale:r,id:R,position:++_,label:S.toString(),ariaLabel:A.format(new Date(E,w-1,S)),day:S,dayFromEnd:x,weekday:F,weekdayPosition:ue,weekdayPositionFromEnd:te,weekdayOrdinal:k,weekdayOrdinalFromEnd:O,week:M,weekFromEnd:N,weekPosition:T,weeknumber:_e,isoWeeknumber:me,month:w,year:E,date:ee,startDate:B,endDate:H,noonDate:j,dayIndex:Re,isToday:Ce,isFirstDay:De,isLastDay:z,isDisabled:!p,isFocusable:!p,isFocused:!1,inMonth:p,inPrevMonth:d,inNextMonth:g,onTop:ae,onBottom:W,onLeft:ne,onRight:pe,classes:[`id-${R}`,`day-${S}`,`day-from-end-${x}`,`weekday-${F}`,`weekday-position-${ue}`,`weekday-ordinal-${k}`,`weekday-ordinal-from-end-${O}`,`week-${M}`,`week-from-end-${N}`,{"is-today":Ce,"is-first-day":De,"is-last-day":z,"in-month":p,"in-prev-month":d,"in-next-month":g,"on-top":ae,"on-bottom":W,"on-left":ne,"on-right":pe}]}),p&&z?(p=!1,g=!0,S=1,x=u,k=1,O=Math.floor((u-S)/Qn+1),M=1,N=n.numWeeks,w=n.month,E=n.year):(S++,x--,k=Math.floor((S-1)/Qn+1),O=Math.floor((u-S)/Qn+1))}M++,N--}return i}function EQ(t,e,n,r){const i=t.reduce((s,o,a)=>{const l=Math.floor(a/7);let u=s[l];return u||(u={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:e?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},s[l]=u),u.days.push(o),s},Array(t.length/Qn));return i.forEach(s=>{const o=s.days[0],a=s.days[s.days.length-1];o.month===a.month?s.title=`${r.formatDate(o.date,"MMMM YYYY")}`:o.year===a.year?s.title=`${r.formatDate(o.date,"MMM")} - ${r.formatDate(a.date,"MMM YYYY")}`:s.title=`${r.formatDate(o.date,"MMM YYYY")} - ${r.formatDate(a.date,"MMM YYYY")}`}),i}function AQ(t,e){return t.days.map(n=>({label:e.formatDate(n.date,e.masks.weekdays),weekday:n.weekday}))}function IQ(t,e){return`${e}.${St(t,2)}`}function WC(t,e,n){return zC(n.getDateParts(n.toDate(t)),bQ[e])}function GC({day:t,week:e,month:n,year:r},i,s,o){if(s==="daily"&&t){const a=new Date(r,n-1,t),l=mr(a,i);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(s==="weekly"&&e){const l=o.getMonthParts(n,r).firstDayOfMonth,u=mr(l,(e-1+i)*7),c=o.getDateParts(u);return{week:c.week,month:c.month,year:c.year}}else{const a=new Date(r,n-1,1),l=Rp(a,i);return{month:l.getMonth()+1,year:l.getFullYear()}}}function Ki(t){return t!=null&&t.month!=null&&t.year!=null}function iv(t,e){return!Ki(t)||!Ki(e)?!1:(t=t,e=e,t.year!==e.year?t.year<e.year:t.month&&e.month&&t.month!==e.month?t.month<e.month:t.week&&e.week&&t.week!==e.week?t.week<e.week:t.day&&e.day&&t.day!==e.day?t.day<e.day:!1)}function Cp(t,e){return!Ki(t)||!Ki(e)?!1:(t=t,e=e,t.year!==e.year?t.year>e.year:t.month&&e.month&&t.month!==e.month?t.month>e.month:t.week&&e.week&&t.week!==e.week?t.week>e.week:t.day&&e.day&&t.day!==e.day?t.day>e.day:!1)}function SQ(t,e,n){return(t||!1)&&!iv(t,e)&&!Cp(t,n)}function PQ(t,e){return!t&&e||t&&!e?!1:!t&&!e?!0:(t=t,e=e,t.year===e.year&&t.month===e.month&&t.week===e.week&&t.day===e.day)}function RQ(t,e,n,r){if(!Ki(t)||!Ki(e))return[];const i=[];for(;!Cp(t,e);)i.push(t),t=GC(t,1,n,r);return i}function KC(t){const{day:e,week:n,month:r,year:i}=t;let s=`${i}-${St(r,2)}`;return n&&(s=`${s}-w${n}`),e&&(s=`${s}-${St(e,2)}`),s}function CQ(t,e){const{month:n,year:r,showWeeknumbers:i,showIsoWeeknumbers:s}=t,o=new Date(r,n-1,15),a=e.getMonthParts(n,r),l=e.getPrevMonthParts(n,r),u=e.getNextMonthParts(n,r),c=TQ({monthComps:a,prevMonthComps:l,nextMonthComps:u},e),f=EQ(c,i,s,e),d=AQ(f[0],e);return{id:KC(t),month:n,year:r,monthTitle:e.formatDate(o,e.masks.title),shortMonthLabel:e.formatDate(o,"MMM"),monthLabel:e.formatDate(o,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:u,days:c,weeks:f,weekdays:d}}function DQ(t,e){const{day:n,week:r,view:i,trimWeeks:s}=t,o={...e,...t,title:"",viewDays:[],viewWeeks:[]};switch(i){case"daily":{let a=o.days.find(u=>u.inMonth);n?a=o.days.find(u=>u.day===n&&u.inMonth)||a:r&&(a=o.days.find(u=>u.week===r&&u.inMonth));const l=o.weeks[a.week-1];o.viewWeeks=[l],o.viewDays=[a],o.week=a.week,o.weekTitle=l.title,o.day=a.day,o.dayTitle=a.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=r||1;const a=o.weeks[o.week-1];o.viewWeeks=[a],o.viewDays=a.days,o.weekTitle=a.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,s?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class x1{constructor(e,n,r){Ue(this,"keys",[]),Ue(this,"store",{}),this.size=e,this.createKey=n,this.createItem=r}get(...e){const n=this.createKey(...e);return this.store[n]}getOrSet(...e){const n=this.createKey(...e);if(this.store[n])return this.store[n];const r=this.createItem(...e);if(this.keys.length>=this.size){const i=this.keys.shift();i!=null&&delete this.store[i]}return this.keys.push(n),this.store[n]=r,r}}class Xl{constructor(e,n=new Dp){Ue(this,"order"),Ue(this,"locale"),Ue(this,"start",null),Ue(this,"end",null),Ue(this,"repeat",null);var r;this.locale=n;const{start:i,end:s,span:o,order:a,repeat:l}=e;Kl(i)&&(this.start=n.getDateParts(i)),Kl(s)?this.end=n.getDateParts(s):this.start!=null&&o&&(this.end=n.getDateParts(mr(this.start.date,o-1))),this.order=a??0,l&&(this.repeat=new kp({from:(r=this.start)==null?void 0:r.date,...l},{locale:this.locale}))}static fromMany(e,n){return(pi(e)?e:[e]).filter(r=>r).map(r=>Xl.from(r,n))}static from(e,n){if(e instanceof Xl)return e;const r={start:null,end:null};return e!=null&&(pi(e)?(r.start=e[0]??null,r.end=e[1]??null):Bs(e)?Object.assign(r,e):(r.start=e,r.end=e)),r.start!=null&&(r.start=new Date(r.start)),r.end!=null&&(r.end=new Date(r.end)),new Xl(r,n)}get opts(){const{order:e,locale:n}=this;return{order:e,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:n}=this;return e&&n&&e.year===n.year&&e.month===n.month&&e.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var n,r;return((n=this.start)==null?void 0:n.dayIndex)===e.dayIndex||!!((r=this.repeat)!=null&&r.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var n,r;return this.intersectsDayRange(((n=e.start)==null?void 0:n.dayIndex)??-1/0,((r=e.end)==null?void 0:r.dayIndex)??1/0)}intersectsDayRange(e,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<e)}}class kQ{constructor(){Ue(this,"records",{})}render(e,n,r){var i,s,o,a;let l=null;const u=r[0].dayIndex,c=r[r.length-1].dayIndex;return n.hasRepeat?r.forEach(f=>{var d,p;if(n.startsOnDay(f)){const g=n.daySpan<1/0?n.daySpan:1;l={startDay:f.dayIndex,startTime:((d=n.start)==null?void 0:d.time)??0,endDay:f.dayIndex+g-1,endTime:((p=n.end)==null?void 0:p.time)??kd},this.getRangeRecords(e).push(l)}}):n.intersectsDayRange(u,c)&&(l={startDay:((i=n.start)==null?void 0:i.dayIndex)??-1/0,startTime:((s=n.start)==null?void 0:s.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((a=n.end)==null?void 0:a.time)??1/0},this.getRangeRecords(e).push(l)),l}getRangeRecords(e){let n=this.records[e.key];return n||(n={ranges:[],data:e},this.records[e.key]=n),n.ranges}getCell(e,n){return this.getCells(n).find(s=>s.data.key===e)}cellExists(e,n){const r=this.records[e];return r==null?!1:r.ranges.some(i=>i.startDay<=n&&i.endDay>=n)}getCells(e){const n=Object.values(this.records),r=[],{dayIndex:i}=e;return n.forEach(({data:s,ranges:o})=>{o.filter(a=>a.startDay<=i&&a.endDay>=i).forEach(a=>{const l=i===a.startDay,u=i===a.endDay,c=l?a.startTime:0,f=new Date(e.startDate.getTime()+c),d=u?a.endTime:kd,p=new Date(e.endDate.getTime()+d),g=c===0&&d===kd,_=s.order||0;r.push({...a,data:s,onStart:l,onEnd:u,startTime:c,startDate:f,endTime:d,endDate:p,allDay:g,order:_})})}),r.sort((s,o)=>s.order-o.order),r}}const js={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};js.en=js["en-US"];js.es=js["es-ES"];js.no=js.nb;js.zh=js["zh-CN"];const OQ=Object.entries(js).reduce((t,[e,{dow:n,L:r}])=>(t[e]={id:e,firstDayOfWeek:n,masks:{L:r}},t),{}),xQ="MMMM YYYY",MQ="W",NQ="MMM",LQ="h A",$Q=["L","YYYY-MM-DD","YYYY/MM/DD"],VQ=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],FQ=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],UQ=["h:mm A"],BQ=["HH:mm"],jQ="WWW, MMM D, YYYY",HQ=["L","YYYY-MM-DD","YYYY/MM/DD"],zQ="iso",YQ="YYYY-MM-DDTHH:mm:ss.SSSZ",qQ={title:xQ,weekdays:MQ,navMonths:NQ,hours:LQ,input:$Q,inputDateTime:VQ,inputDateTime24hr:FQ,inputTime:UQ,inputTime24hr:BQ,dayPopover:jQ,data:HQ,model:zQ,iso:YQ},WQ=300,GQ=60,KQ=80,XQ={maxSwipeTime:WQ,minHorizontalSwipeDistance:GQ,maxVerticalSwipeDistance:KQ},QQ={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:XQ,masks:qQ,locales:OQ,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},sv=Lr(QQ),JQ=X(()=>y8(sv.locales,t=>(t.masks=Lh(t.masks,sv.masks),t))),zo=t=>typeof window<"u"&&jC(window.__vcalendar__,t)?Aa(window.__vcalendar__,t):Aa(sv,t),ZQ=12,eJ=5;function tJ(t,e){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let r;Gi(t)?r=t:jC(t,"id")&&(r=t.id),r=(r||n).toLowerCase();const i=Object.keys(e),s=l=>i.find(u=>u.toLowerCase()===l);r=s(r)||s(r.substring(0,2))||n;const o={...e["en-IE"],...e[r],id:r,monthCacheSize:ZQ,pageCacheSize:eJ};return Bs(t)?Lh(t,o):o}class Dp{constructor(e=void 0,n){Ue(this,"id"),Ue(this,"daysInWeek"),Ue(this,"firstDayOfWeek"),Ue(this,"masks"),Ue(this,"timezone"),Ue(this,"hourLabels"),Ue(this,"dayNames"),Ue(this,"dayNamesShort"),Ue(this,"dayNamesShorter"),Ue(this,"dayNamesNarrow"),Ue(this,"monthNames"),Ue(this,"monthNamesShort"),Ue(this,"relativeTimeNames"),Ue(this,"amPm",["am","pm"]),Ue(this,"monthCache"),Ue(this,"pageCache");const{id:r,firstDayOfWeek:i,masks:s,monthCacheSize:o,pageCacheSize:a}=tJ(e,JQ.value);this.monthCache=new x1(o,EJ,AJ),this.pageCache=new x1(a,KC,CQ),this.id=r,this.daysInWeek=Qn,this.firstDayOfWeek=LX(i,1,Qn),this.masks=s,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=jg("long",this.id),this.dayNamesShort=jg("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=jg("narrow",this.id),this.monthNames=F1("long",this.id),this.monthNamesShort=F1("short",this.id),this.relativeTimeNames=PJ(this.id)}formatDate(e,n){return OJ(e,n,this)}parseDate(e,n){return U1(e,n,this)}toDate(e,n={}){const r=new Date(NaN);let i=r;const{fillDate:s,mask:o,patch:a,rules:l}=n;if(xi(e)?(n.type="number",i=new Date(+e)):Gi(e)?(n.type="string",i=e?U1(e,o||"iso",this):r):Kl(e)?(n.type="date",i=new Date(e.getTime())):M0(e)&&(n.type="object",i=this.getDateFromParts(e)),i&&(a||l)){let u=this.getDateParts(i);if(a&&s!=null){const c=this.getDateParts(this.toDate(s));u=this.getDateParts(this.toDate({...c,...zC(u,dJ[a])}))}l&&(u=kJ(u,l)),i=this.getDateFromParts(u)}return i||r}toDateOrNull(e,n={}){const r=this.toDate(e,n);return isNaN(r.getTime())?null:r}fromDate(e,{type:n,mask:r}={}){switch(n){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,r||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return Xl.from(e,this)}ranges(e){return Xl.fromMany(e,this)}getDateParts(e){return TJ(e,this)}getDateFromParts(e){return oD(e,this.timezone)}getDateFromParams(e,n,r,i,s,o,a){return this.getDateFromParts({year:e,month:n,day:r,hours:i,minutes:s,seconds:o,milliseconds:a})}getPage(e){const n=this.pageCache.getOrSet(e,this);return DQ(e,n)}getMonthParts(e,n){const{firstDayOfWeek:r}=this;return this.monthCache.getOrSet(e,n,r)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,n){return e===1?this.getMonthParts(12,n-1):this.getMonthParts(e-1,n)}getNextMonthParts(e,n){return e===12?this.getMonthParts(1,n+1):this.getMonthParts(e+1,n)}getHourLabels(){return SJ().map(e=>this.formatDate(e,this.masks.hours))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var Ml=(t=>(t.Any="any",t.All="all",t))(Ml||{}),XC=(t=>(t.Days="days",t.Weeks="weeks",t.Months="months",t.Years="years",t))(XC||{}),QC=(t=>(t.Days="days",t.Weekdays="weekdays",t.Weeks="weeks",t.Months="months",t.Years="years",t))(QC||{}),JC=(t=>(t.OrdinalWeekdays="ordinalWeekdays",t))(JC||{});class nJ{constructor(e,n,r){Ue(this,"validated",!0),this.type=e,this.interval=n,this.from=r,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:n}=e;switch(this.type){case"days":return N0(this.from.date,n)%this.interval===0;case"weeks":return wJ(this.from.date,n)%this.interval===0;case"months":return bJ(this.from.date,n)%this.interval===0;case"years":return sD(this.from.date,n)%this.interval===0;default:return!1}}}class Hu{constructor(e,n,r,i){Ue(this,"components",[]),this.type=e,this.validator=r,this.getter=i,this.components=this.normalizeComponents(n)}static create(e,n){switch(e){case"days":return new rJ(n);case"weekdays":return new iJ(n);case"weeks":return new sJ(n);case"months":return new oJ(n);case"years":return new aJ(n)}}normalizeComponents(e){if(this.validator(e))return[e];if(!pi(e))return[];const n=[];return e.forEach(r=>{if(!this.validator(r)){console.error(`Component value ${r} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(r)}),n}passes(e){return this.getter(e).some(i=>this.components.includes(i))}}class rJ extends Hu{constructor(e){super("days",e,cJ,({day:n,dayFromEnd:r})=>[n,-r])}}class iJ extends Hu{constructor(e){super("weekdays",e,ov,({weekday:n})=>[n])}}class sJ extends Hu{constructor(e){super("weeks",e,hJ,({week:n,weekFromEnd:r})=>[n,-r])}}class oJ extends Hu{constructor(e){super("months",e,fJ,({month:n})=>[n])}}class aJ extends Hu{constructor(e){super("years",e,xi,({year:n})=>[n])}}class lJ{constructor(e,n){Ue(this,"components"),this.type=e,this.components=this.normalizeComponents(n)}normalizeArrayConfig(e){const n=[];return e.forEach((r,i)=>{if(xi(r)){if(i===0)return;if(!M1(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!ov(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else pi(r)&&n.push(...this.normalizeArrayConfig(r))}),n}normalizeComponents(e){const n=[];return e.forEach((r,i)=>{if(xi(r)){if(i===0)return;if(!M1(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!ov(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else pi(r)&&n.push(...this.normalizeArrayConfig(r))}),n}passes(e){const{weekday:n,weekdayOrdinal:r,weekdayOrdinalFromEnd:i}=e;return this.components.some(([s,o])=>(s===r||s===-i)&&n===o)}}class uJ{constructor(e){Ue(this,"type","function"),Ue(this,"validated",!0),this.fn=e,fl(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return this.validated?this.fn(e):!0}}class kp{constructor(e,n={},r){Ue(this,"validated",!0),Ue(this,"config"),Ue(this,"type",Ml.Any),Ue(this,"from"),Ue(this,"until"),Ue(this,"rules",[]),Ue(this,"locale",new Dp),this.parent=r,n.locale&&(this.locale=n.locale),this.config=e,fl(e)?(this.type=Ml.All,this.rules=[new uJ(e)]):pi(e)?(this.type=Ml.Any,this.rules=e.map(i=>new kp(i,n,this))):Bs(e)?(this.type=Ml.All,this.from=e.from?this.locale.getDateParts(e.from):r==null?void 0:r.from,this.until=e.until?this.locale.getDateParts(e.until):r==null?void 0:r.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const n=[];if(e.every&&(Gi(e.every)&&(e.every=[1,`${e.every}s`]),pi(e.every))){const[r=1,i=XC.Days]=e.every;n.push(new nJ(i,r,this.from))}return Object.values(QC).forEach(r=>{r in e&&n.push(Hu.create(r,e[r]))}),Object.values(JC).forEach(r=>{r in e&&n.push(new lJ(r,e[r]))}),e.on!=null&&(pi(e.on)||(e.on=[e.on]),n.push(new kp(e.on,{locale:this.locale},this.parent))),n}passes(e){return this.validated?this.from&&e.dayIndex<=this.from.dayIndex||this.until&&e.dayIndex>=this.until.dayIndex?!1:this.type===Ml.Any?this.rules.some(n=>n.passes(e)):this.rules.every(n=>n.passes(e)):!0}}function cJ(t){return xi(t)?t>=1&&t<=31:!1}function ov(t){return xi(t)?t>=1&&t<=7:!1}function hJ(t){return xi(t)?t>=-6&&t<=-1||t>=1&&t<=6:!1}function fJ(t){return xi(t)?t>=1&&t<=12:!1}function M1(t){return!(!xi(t)||t<-5||t>5||t===0)}const dJ={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},Qn=7,pJ=6,ZC=1e3,eD=ZC*60,tD=eD*60,kd=tD*24,mJ=[31,28,31,30,31,30,31,31,30,31,30,31],gJ=["L","iso"],Ic={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},nD=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,_J=/\[([^]*?)\]/gm,N1={D(t){return t.day},DD(t){return St(t.day,2)},d(t){return t.weekday-1},dd(t){return St(t.weekday-1,2)},W(t,e){return e.dayNamesNarrow[t.weekday-1]},WW(t,e){return e.dayNamesShorter[t.weekday-1]},WWW(t,e){return e.dayNamesShort[t.weekday-1]},WWWW(t,e){return e.dayNames[t.weekday-1]},M(t){return t.month},MM(t){return St(t.month,2)},MMM(t,e){return e.monthNamesShort[t.month-1]},MMMM(t,e){return e.monthNames[t.month-1]},YY(t){return String(t.year).substr(2)},YYYY(t){return St(t.year,4)},h(t){return t.hours%12||12},hh(t){return St(t.hours%12||12,2)},H(t){return t.hours},HH(t){return St(t.hours,2)},m(t){return t.minutes},mm(t){return St(t.minutes,2)},s(t){return t.seconds},ss(t){return St(t.seconds,2)},S(t){return Math.round(t.milliseconds/100)},SS(t){return St(Math.round(t.milliseconds/10),2)},SSS(t){return St(t.milliseconds,3)},a(t,e){return t.hours<12?e.amPm[0]:e.amPm[1]},A(t,e){return t.hours<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60),2)}`},ZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}`},ZZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60),2)}:${St(Math.abs(e)%60,2)}`}},io=/\d\d?/,vJ=/\d{3}/,yJ=/\d{4}/,cc=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,L1=()=>{},$1=t=>(e,n,r)=>{const i=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(e.month=i)},Mt={D:[io,(t,e)=>{t.day=e}],Do:[new RegExp(io.source+cc.source),(t,e)=>{t.day=parseInt(e,10)}],d:[io,L1],W:[cc,L1],M:[io,(t,e)=>{t.month=e-1}],MMM:[cc,$1("monthNamesShort")],MMMM:[cc,$1("monthNames")],YY:[io,(t,e)=>{const r=+new Date().getFullYear().toString().substr(0,2);t.year=+`${e>68?r-1:r}${e}`}],YYYY:[yJ,(t,e)=>{t.year=e}],S:[/\d/,(t,e)=>{t.milliseconds=e*100}],SS:[/\d{2}/,(t,e)=>{t.milliseconds=e*10}],SSS:[vJ,(t,e)=>{t.milliseconds=e}],h:[io,(t,e)=>{t.hours=e}],m:[io,(t,e)=>{t.minutes=e}],s:[io,(t,e)=>{t.seconds=e}],a:[cc,(t,e,n)=>{const r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(t,e)=>{e==="Z"&&(e="+00:00");const n=`${e}`.match(/([+-]|\d\d)/gi);if(n){const r=+n[1]*60+parseInt(n[2],10);t.timezoneOffset=n[0]==="+"?r:-r}}]};Mt.DD=Mt.D;Mt.dd=Mt.d;Mt.WWWW=Mt.WWW=Mt.WW=Mt.W;Mt.MM=Mt.M;Mt.mm=Mt.m;Mt.hh=Mt.H=Mt.HH=Mt.h;Mt.ss=Mt.s;Mt.A=Mt.a;Mt.ZZZZ=Mt.ZZZ=Mt.ZZ=Mt.Z;function rD(t,e){return(Ss(t)&&t||[Gi(t)&&t||"YYYY-MM-DD"]).map(n=>gJ.reduce((r,i)=>r.replace(i,e.masks[i]||""),n))}function M0(t){return Bs(t)&&"year"in t&&"month"in t&&"day"in t}function V1(t,e=1){const n=t.getDay()+1,r=n>=e?e-n:-(7-(e-n));return mr(t,r)}function iD(t,e,n){const r=Date.UTC(t,e-1,n);return N0(new Date(0),new Date(r))}function N0(t,e){return Math.round((e.getTime()-t.getTime())/kd)}function wJ(t,e){return Math.ceil(N0(V1(t),V1(e))/7)}function sD(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function bJ(t,e){return sD(t,e)*12+(e.getMonth()-t.getMonth())}function oD(t,e=""){const n=new Date,{year:r=n.getFullYear(),month:i=n.getMonth()+1,day:s=n.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:u=0}=t;if(e){const c=`${St(r,4)}-${St(i,2)}-${St(s,2)}T${St(o,2)}:${St(a,2)}:${St(l,2)}.${St(u,3)}`;return ZX(c,{timeZone:e})}return new Date(r,i-1,s,o,a,l,u)}function TJ(t,e){let n=new Date(t.getTime());e.timezone&&(n=new Date(t.toLocaleString("en-US",{timeZone:e.timezone})),n.setMilliseconds(t.getMilliseconds()));const r=n.getMilliseconds(),i=n.getSeconds(),s=n.getMinutes(),o=n.getHours(),a=r+i*ZC+s*eD+o*tD,l=n.getMonth()+1,u=n.getFullYear(),c=e.getMonthParts(l,u),f=n.getDate(),d=c.numDays-f+1,p=n.getDay()+1,g=Math.floor((f-1)/7+1),_=Math.floor((c.numDays-f)/7+1),A=Math.ceil((f+Math.abs(c.firstWeekday-c.firstDayOfWeek))/7),S=c.numWeeks-A+1,x=c.weeknumbers[A],k=iD(u,l,f);return{milliseconds:r,seconds:i,minutes:s,hours:o,time:a,day:f,dayFromEnd:d,weekday:p,weekdayOrdinal:g,weekdayOrdinalFromEnd:_,week:A,weekFromEnd:S,weeknumber:x,month:l,year:u,date:n,dateTime:n.getTime(),dayIndex:k,timezoneOffset:0,isValid:!0}}function EJ(t,e,n){return`${e}-${t}-${n}`}function AJ(t,e,n){const r=e%4===0&&e%100!==0||e%400===0,i=new Date(e,t-1,1),s=i.getDay()+1,o=t===2&&r?29:mJ[t-1],a=n-1,l=fQ(i,{weekStartsOn:a}),u=[],c=[];for(let f=0;f<l;f++){const d=mr(i,f*7);u.push(gQ(d,{weekStartsOn:a})),c.push(wQ(d))}return{firstDayOfWeek:n,firstDayOfMonth:i,inLeapYear:r,firstWeekday:s,numDays:o,numWeeks:l,month:t,year:e,weeknumbers:u,isoWeeknumbers:c}}function IJ(){const t=[];for(let i=0;i<Qn;i++)t.push(oD({year:2020,month:1,day:5+i,hours:12}));return t}function jg(t,e=void 0){const n=new Intl.DateTimeFormat(e,{weekday:t});return IJ().map(r=>n.format(r))}function SJ(){const t=[];for(let e=0;e<=24;e++)t.push(new Date(2e3,0,1,e));return t}function PJ(t=void 0){const e=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(t);return e.reduce((r,i)=>{const s=n.formatToParts(100,i);return r[i]=s[1].unit,r},{})}function aD(){const t=[];for(let e=0;e<12;e++)t.push(new Date(2e3,e,15));return t}function F1(t,e=void 0){const n=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return aD().map(r=>n.format(r))}function RJ(t,e,n){return xi(e)?e===t:pi(e)?e.includes(t):fl(e)?e(t,n):!(e.min!=null&&e.min>t||e.max!=null&&e.max<t||e.interval!=null&&t%e.interval!==0)}function Sc(t,e,n){const r=[],[i,s,o]=e;for(let a=i;a<=s;a++)(n==null||RJ(a,n,t))&&r.push({value:a,label:St(a,o)});return r}function CJ(t,e){return{milliseconds:Sc(t,Ic.milliseconds,e.milliseconds),seconds:Sc(t,Ic.seconds,e.seconds),minutes:Sc(t,Ic.minutes,e.minutes),hours:Sc(t,Ic.hours,e.hours)}}function DJ(t,e,n,r){const s=Sc(t,e,r).reduce((o,a)=>{if(a.disabled)return o;if(isNaN(o))return a.value;const l=Math.abs(o-n);return Math.abs(a.value-n)<l?a.value:o},NaN);return isNaN(s)?n:s}function kJ(t,e){const n={...t};return Object.entries(e).forEach(([r,i])=>{const s=Ic[r],o=t[r];n[r]=DJ(t,s,o,i)}),n}function U1(t,e,n){return rD(e,n).map(i=>{if(typeof i!="string")throw new Error("Invalid mask");let s=t;if(s.length>1e3)return!1;let o=!0;const a={};if(i.replace(nD,c=>{if(Mt[c]){const f=Mt[c],d=s.search(f[0]);~d?s.replace(f[0],p=>(f[1](a,p,n),s=s.substr(d+p.length),p)):o=!1}return Mt[c]?"":c.slice(1,c.length-1)}),!o)return!1;const l=new Date;a.hours!=null&&(a.isPm===!0&&+a.hours!=12?a.hours=+a.hours+12:a.isPm===!1&&+a.hours==12&&(a.hours=0));let u;return a.timezoneOffset!=null?(a.minutes=+(a.minutes||0)-+a.timezoneOffset,u=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hours||0,a.minutes||0,a.seconds||0,a.milliseconds||0))):u=n.getDateFromParts({year:a.year||l.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hours||0,minutes:a.minutes||0,seconds:a.seconds||0,milliseconds:a.milliseconds||0}),u}).find(i=>i)||new Date(t)}function OJ(t,e,n){if(t==null)return"";let r=rD(e,n)[0];/Z$/.test(r)&&(n.timezone="utc");const i=[];r=r.replace(_J,(o,a)=>(i.push(a),"??"));const s=n.getDateParts(t);return r=r.replace(nD,o=>o in N1?N1[o](s,n):o.slice(1,o.length-1)),r.replace(/\?\?/g,()=>i.shift())}let xJ=0;class lD{constructor(e,n,r){Ue(this,"key",""),Ue(this,"hashcode",""),Ue(this,"highlight",null),Ue(this,"content",null),Ue(this,"dot",null),Ue(this,"bar",null),Ue(this,"event",null),Ue(this,"popover",null),Ue(this,"customData",null),Ue(this,"ranges"),Ue(this,"hasRanges",!1),Ue(this,"order",0),Ue(this,"pinPage",!1),Ue(this,"maxRepeatSpan",0),Ue(this,"locale");const{dates:i}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++xJ),this.locale=r,n.normalizeGlyphs(this),this.ranges=r.ranges(i??[]),this.hasRanges=!!Ss(this.ranges),this.maxRepeatSpan=this.ranges.filter(s=>s.hasRepeat).map(s=>s.daySpan).reduce((s,o)=>Math.max(s,o),0)}intersectsRange({start:e,end:n}){if(e==null||n==null)return!1;const r=this.ranges.filter(o=>!o.hasRepeat);for(const o of r)if(o.intersectsDayRange(e.dayIndex,n.dayIndex))return!0;const i=this.ranges.filter(o=>o.hasRepeat);if(!i.length)return!1;let s=e;for(this.maxRepeatSpan>1&&(s=this.locale.getDateParts(mr(s.date,-this.maxRepeatSpan)));s.dayIndex<=n.dayIndex;){for(const o of i)if(o.startsOnDay(s))return!0;s=this.locale.getDateParts(mr(s.date,1))}return!1}}function av(t){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:t}))}function $h(t){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:t}))}function uD(t){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:t}))}function cD(t){const{visibility:e}=t,n=e==="click",r=e==="hover",i=e==="hover-focus",s=e==="focus";t.autoHide=!n;let o=!1,a=!1;const l=g=>{n&&(uD({...t,target:t.target||g.currentTarget}),g.stopPropagation())},u=g=>{o||(o=!0,(r||i)&&av({...t,target:t.target||g.currentTarget}))},c=()=>{o&&(o=!1,(r||i&&!a)&&$h(t))},f=g=>{a||(a=!0,(s||i)&&av({...t,target:t.target||g.currentTarget}))},d=g=>{a&&!Cd(g.currentTarget,g.relatedTarget)&&(a=!1,(s||i&&!o)&&$h(t))},p={};switch(t.visibility){case"click":p.click=l;break;case"hover":p.mousemove=u,p.mouseleave=c;break;case"focus":p.focusin=f,p.focusout=d;break;case"hover-focus":p.mousemove=u,p.mouseleave=c,p.focusin=f,p.focusout=d;break}return p}const B1=t=>{const e=Ap(t);if(e==null)return;const n=e.popoverHandlers;!n||!n.length||(n.forEach(r=>r()),delete e.popoverHandlers)},j1=(t,e)=>{const n=Ap(t);if(n==null)return;const r=[],i=cD(e);Object.entries(i).forEach(([s,o])=>{r.push(go(n,s,o))}),n.popoverHandlers=r},hD={mounted(t,e){const{value:n}=e;n&&j1(t,n)},updated(t,e){const{oldValue:n,value:r}=e,i=n==null?void 0:n.visibility,s=r==null?void 0:r.visibility;i!==s&&(i&&(B1(t),s||$h(n)),s&&j1(t,r))},unmounted(t){B1(t)}},MJ=(t,e,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:i})=>{if(!t||!t.addEventListener||!fl(e))return null;let s=0,o=0,a=null,l=!1;function u(f){const d=f.changedTouches[0];s=d.screenX,o=d.screenY,a=new Date().getTime(),l=!0}function c(f){if(!l||!a)return;l=!1;const d=f.changedTouches[0],p=d.screenX-s,g=d.screenY-o;if(new Date().getTime()-a<n&&Math.abs(p)>=r&&Math.abs(g)<=i){const A={toLeft:!1,toRight:!1};p<0?A.toLeft=!0:A.toRight=!0,e(A)}}return go(t,"touchstart",u,{passive:!0}),go(t,"touchend",c,{passive:!0}),()=>{mo(t,"touchstart",u),mo(t,"touchend",c)}},Od={},NJ=(t,e=10)=>{Od[t]=Date.now()+e},LJ=(t,e)=>{if(t in Od){const n=Od[t];if(Date.now()<n)return;delete Od[t]}e()};function fD(){return typeof window<"u"}function $J(t){return fD()&&t in window}function VJ(t){const e=Me(!1),n=X(()=>e.value?"dark":"light");let r,i;function s(p){e.value=p.matches}function o(){$J("matchMedia")&&(r=window.matchMedia("(prefers-color-scheme: dark)"),r.addEventListener("change",s),e.value=r.matches)}function a(){const{selector:p=":root",darkClass:g="dark"}=t.value,_=document.querySelector(p);e.value=_.classList.contains(g)}function l(p){const{selector:g=":root",darkClass:_="dark"}=p;if(fD()&&g&&_){const A=document.querySelector(g);A&&(i=new MutationObserver(a),i.observe(A,{attributes:!0,attributeFilter:["class"]}),e.value=A.classList.contains(_))}}function u(){f();const p=typeof t.value;p==="string"&&t.value.toLowerCase()==="system"?o():p==="object"?l(t.value):e.value=!!t.value}const c=ht(()=>t.value,()=>u(),{immediate:!0});function f(){r&&(r.removeEventListener("change",s),r=void 0),i&&(i.disconnect(),i=void 0)}function d(){f(),c()}return Qo(()=>d()),{isDark:e,displayMode:n,cleanup:d}}const FJ=["base","start","end","startEnd"],UJ=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],BJ={base:{},start:{},end:{}};function L0(t,e,n=BJ){let r=t,i={};e===!0||Gi(e)?(r=Gi(e)?e:r,i={...n}):Bs(e)&&(T1(e,FJ)?i={...e}:i={base:{...e},start:{...e},end:{...e}});const s=Lh(i,{start:i.startEnd,end:i.startEnd},n);return Object.entries(s).forEach(([o,a])=>{let l=r;a===!0||Gi(a)?(l=Gi(a)?a:l,s[o]={color:l}):Bs(a)&&(T1(a,UJ)?s[o]={...a}:s[o]={}),Lh(s[o],{color:l})}),s}class jJ{constructor(){Ue(this,"type","highlight")}normalizeConfig(e,n){return L0(e,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:n,onEnd:r},i){const{key:s,highlight:o}=e;if(!o)return;const{highlights:a}=i,{base:l,start:u,end:c}=o;n&&r?a.push({...u,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]}):n?(a.push({...l,key:`${s}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...u,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):r?(a.push({...l,key:`${s}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...c,key:s,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):a.push({...l,key:`${s}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class $0{constructor(e,n){Ue(this,"type",""),Ue(this,"collectionType",""),this.type=e,this.collectionType=n}normalizeConfig(e,n){return L0(e,n)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:n,onEnd:r},i){const{key:s}=e,o=e[this.type];if(!s||!o)return;const a=i[this.collectionType],{base:l,start:u,end:c}=o;n?a.push({...u,key:s,class:[`vc-${this.type} vc-${this.type}-start vc-${u.color} vc-attr`,u.class]}):r?a.push({...c,key:s,class:[`vc-${this.type} vc-${this.type}-end vc-${c.color} vc-attr`,c.class]}):a.push({...l,key:s,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class HJ extends $0{constructor(){super("content","content")}normalizeConfig(e,n){return L0("base",n)}}class zJ extends $0{constructor(){super("dot","dots")}}class YJ extends $0{constructor(){super("bar","bars")}}class qJ{constructor(e){Ue(this,"color"),Ue(this,"renderers",[new HJ,new jJ,new zJ,new YJ]),this.color=e}normalizeGlyphs(e){this.renderers.forEach(n=>{const r=n.type;e[r]!=null&&(e[r]=n.normalizeConfig(this.color,e[r]))})}prepareRender(e={}){return this.renderers.forEach(n=>{n.prepareRender(e)}),e}render(e,n){this.renderers.forEach(r=>{r.render(e,n)})}}const dD=Symbol("__vc_base_context__"),pD={color:{type:String,default:()=>zo("color")},isDark:{type:[Boolean,String,Object],default:()=>zo("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function mD(t){const e=X(()=>t.color??""),n=X(()=>t.isDark??!1),{displayMode:r}=VJ(n),i=X(()=>new qJ(e.value)),s=X(()=>{if(t.locale instanceof Dp)return t.locale;const d=Bs(t.locale)?t.locale:{id:t.locale,firstDayOfWeek:t.firstDayOfWeek,masks:t.masks};return new Dp(d,t.timezone)}),o=X(()=>s.value.masks),a=X(()=>t.minDate),l=X(()=>t.maxDate),u=X(()=>{const d=t.disabledDates?[...t.disabledDates]:[];return a.value!=null&&d.push({start:null,end:mr(s.value.toDate(a.value),-1)}),l.value!=null&&d.push({start:mr(s.value.toDate(l.value),1),end:null}),s.value.ranges(d)}),c=X(()=>new lD({key:"disabled",dates:u.value,order:100},i.value,s.value)),f={color:e,isDark:n,displayMode:r,theme:i,locale:s,masks:o,minDate:a,maxDate:l,disabledDates:u,disabledAttribute:c};return Ms(dD,f),f}function WJ(t){return jn(dD,()=>mD(t),!0)}function gD(t){return`__vc_slot_${t}__`}function _D(t,e={}){Object.keys(t).forEach(n=>{Ms(gD(e[n]??n),t[n])})}function vD(t){return jn(gD(t),null)}const GJ={...pD,view:{type:String,default:"monthly",validator(t){return["daily","weekly","monthly"].includes(t)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>zo("titlePosition")},navVisibility:{type:String,default:()=>zo("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},KJ=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],yD=Symbol("__vc_calendar_context__");function XJ(t,{slots:e,emit:n}){const r=Me(null),i=Me(null),s=Me(new Date().getDate()),o=Me(!1),a=Me(Symbol()),l=Me(Symbol()),u=Me(t.view),c=Me([]),f=Me("");let d=null,p=null;_D(e);const{theme:g,color:_,displayMode:A,locale:S,masks:x,minDate:k,maxDate:O,disabledAttribute:M,disabledDates:N}=WJ(t),w=X(()=>t.rows*t.columns),E=X(()=>t.step||w.value),b=X(()=>BC(c.value)??null),I=X(()=>Vl(c.value)??null),P=X(()=>t.minPage||(k.value?te(k.value):null)),y=X(()=>t.maxPage||(O.value?te(O.value):null)),T=X(()=>t.navVisibility),U=X(()=>!!t.showWeeknumbers),F=X(()=>!!t.showIsoWeeknumbers),B=X(()=>u.value==="monthly"),j=X(()=>u.value==="weekly"),H=X(()=>u.value==="daily"),ee=()=>{o.value=!0,n("transition-start")},R=()=>{o.value=!1,n("transition-end"),d&&(d.resolve(!0),d=null)},ue=(re,V,G=u.value)=>GC(re,V,G,S.value),te=re=>WC(re,u.value,S.value),_e=re=>{!M.value||!W.value||(re.isDisabled=W.value.cellExists(M.value.key,re.dayIndex))},me=re=>{re.isFocusable=re.inMonth&&re.day===s.value},Ce=(re,V)=>{for(const G of re)for(const ye of G.days)if(V(ye)===!1)return},De=X(()=>c.value.reduce((re,V)=>(re.push(...V.viewDays),re),[])),z=X(()=>{const re=[];return(t.attributes||[]).forEach((V,G)=>{!V||!V.dates||re.push(new lD({...V,order:V.order||0},g.value,S.value))}),M.value&&re.push(M.value),re}),ae=X(()=>Ss(z.value)),W=X(()=>{const re=new kQ;return z.value.forEach(V=>{V.ranges.forEach(G=>{re.render(V,G,De.value)})}),re}),ne=X(()=>De.value.reduce((re,V)=>(re[V.dayIndex]={day:V,cells:[]},re[V.dayIndex].cells.push(...W.value.getCells(V)),re),{})),pe=(re,V)=>{const G=t.showWeeknumbers||t.showIsoWeeknumbers;return G==null?"":t8(G)?G?"left":"":G.startsWith("right")?V>1?"right":G:re>1?"left":G},Re=()=>{var re,V;if(!ae.value)return null;const G=z.value.find(et=>et.pinPage)||z.value[0];if(!G||!G.hasRanges)return null;const[ye]=G.ranges,Le=((re=ye.start)==null?void 0:re.date)||((V=ye.end)==null?void 0:V.date);return Le?te(Le):null},D=()=>{if(Ki(b.value))return b.value;const re=Re();return Ki(re)?re:te(new Date)},L=(re,V={})=>{const{view:G=u.value,position:ye=1,force:Le}=V,et=ye>0?1-ye:-(w.value+ye);let yt=ue(re,et,G),Et=ue(yt,w.value-1,G);return Le||(iv(yt,P.value)?yt=P.value:Cp(Et,y.value)&&(yt=ue(y.value,1-w.value)),Et=ue(yt,w.value-1)),{fromPage:yt,toPage:Et}},Y=(re,V,G="")=>{if(G==="none"||G==="fade")return G;if((re==null?void 0:re.view)!==(V==null?void 0:V.view))return"fade";const ye=Cp(V,re),Le=iv(V,re);return!ye&&!Le?"fade":G==="slide-v"?Le?"slide-down":"slide-up":Le?"slide-right":"slide-left"},Q=(re={})=>new Promise((V,G)=>{const{position:ye=1,force:Le=!1,transition:et}=re,yt=Ki(re.page)?re.page:D(),{fromPage:Et}=L(yt,{position:ye,force:Le}),zn=[];for(let on=0;on<w.value;on++){const ei=ue(Et,on),xe=on+1,Fe=Math.ceil(xe/t.columns),He=t.rows-Fe+1,Ee=xe%t.columns||t.columns,Be=t.columns-Ee+1,$e=pe(Ee,Be);zn.push(S.value.getPage({...ei,view:u.value,titlePosition:t.titlePosition,trimWeeks:t.trimWeeks,position:xe,row:Fe,rowFromEnd:He,column:Ee,columnFromEnd:Be,showWeeknumbers:U.value,showIsoWeeknumbers:F.value,weeknumberPosition:$e}))}f.value=Y(c.value[0],zn[0],et),c.value=zn,f.value&&f.value!=="none"?d={resolve:V,reject:G}:V(!0)}),$=re=>{const V=b.value??te(new Date);return ue(V,re)},he=(re,V={})=>{const G=Ki(re)?re:te(re);return Object.assign(V,L(G,{...V,force:!0})),RQ(V.fromPage,V.toPage,u.value,S.value).map(Le=>SQ(Le,P.value,y.value)).some(Le=>Le)},de=(re,V={})=>he($(re),V),le=X(()=>de(-E.value)),oe=X(()=>de(E.value)),ie=async(re,V={})=>!V.force&&!he(re,V)?!1:(V.fromPage&&!PQ(V.fromPage,b.value)&&($h({id:a.value,hideDelay:0}),V.view&&(NJ("view",10),u.value=V.view),await Q({...V,page:V.fromPage,position:1,force:!0}),n("did-move",c.value)),!0),ge=(re,V={})=>ie($(re),V),Pe=()=>ge(-E.value),ve=()=>ge(E.value),Ie=re=>{const V=B.value?".in-month":"",G=`.id-${S.value.getDayId(re)}${V}`,ye=`${G}.vc-focusable, ${G} .vc-focusable`,Le=r.value;if(Le){const et=Le.querySelector(ye);if(et)return et.focus(),!0}return!1},be=async(re,V={})=>Ie(re)?!0:(await ie(re,V),Ie(re)),Ye=(re,V)=>{s.value=re.day,n("dayclick",re,V)},ze=(re,V)=>{n("daymouseenter",re,V)},it=(re,V)=>{n("daymouseleave",re,V)},Yt=(re,V)=>{s.value=re.day,i.value=re,re.isFocused=!0,n("dayfocusin",re,V)},tt=(re,V)=>{i.value=null,re.isFocused=!1,n("dayfocusout",re,V)},ar=(re,V)=>{n("daykeydown",re,V);const G=re.noonDate;let ye=null;switch(V.key){case"ArrowLeft":{ye=mr(G,-1);break}case"ArrowRight":{ye=mr(G,1);break}case"ArrowUp":{ye=mr(G,-7);break}case"ArrowDown":{ye=mr(G,7);break}case"Home":{ye=mr(G,-re.weekdayPosition+1);break}case"End":{ye=mr(G,re.weekdayPositionFromEnd);break}case"PageUp":{V.altKey?ye=O1(G,-1):ye=Rp(G,-1);break}case"PageDown":{V.altKey?ye=O1(G,1):ye=Rp(G,1);break}}ye&&(V.preventDefault(),be(ye).catch())},sn=re=>{const V=i.value;V!=null&&ar(V,re)},Sn=(re,V)=>{n("weeknumberclick",re,V)};Q({page:t.initialPage,position:t.initialPagePosition}),Zr(()=>{!t.disablePageSwipe&&r.value&&(p=MJ(r.value,({toLeft:re=!1,toRight:V=!1})=>{re?ve():V&&Pe()},zo("touch")))}),Qo(()=>{c.value=[],p&&p()}),ht(()=>S.value,()=>{Q()}),ht(()=>w.value,()=>Q()),ht(()=>t.view,()=>u.value=t.view),ht(()=>u.value,()=>{LJ("view",()=>{Q()}),n("update:view",u.value)}),ht(()=>s.value,()=>{Ce(c.value,re=>me(re))}),oR(()=>{n("update:pages",c.value),Ce(c.value,re=>{_e(re),me(re)})});const Ct={emit:n,containerRef:r,focusedDay:i,inTransition:o,navPopoverId:a,dayPopoverId:l,view:u,pages:c,transitionName:f,theme:g,color:_,displayMode:A,locale:S,masks:x,attributes:z,disabledAttribute:M,disabledDates:N,attributeContext:W,days:De,dayCells:ne,count:w,step:E,firstPage:b,lastPage:I,canMovePrev:le,canMoveNext:oe,minPage:P,maxPage:y,isMonthly:B,isWeekly:j,isDaily:H,navVisibility:T,showWeeknumbers:U,showIsoWeeknumbers:F,getDateAddress:te,canMove:he,canMoveBy:de,move:ie,moveBy:ge,movePrev:Pe,moveNext:ve,onTransitionBeforeEnter:ee,onTransitionAfterEnter:R,tryFocusDate:Ie,focusDate:be,onKeydown:sn,onDayKeydown:ar,onDayClick:Ye,onDayMouseenter:ze,onDayMouseleave:it,onDayFocusin:Yt,onDayFocusout:tt,onWeeknumberClick:Sn};return Ms(yD,Ct),Ct}function pl(){const t=jn(yD);if(t)return t;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const QJ=zt({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(t,{emit:e}){let n;const r=Me();let i=null,s=null;const o=Lr({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function a(R){R&&(o.direction=R.split("-")[0])}function l({placement:R,options:ue}){a(R||(ue==null?void 0:ue.placement))}const u=X(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),c=X(()=>{const R=o.direction==="left"||o.direction==="right";let ue="";if(o.placement){const te=o.placement.split("-");te.length>1&&(ue=te[1])}return["start","top","left"].includes(ue)?R?"top":"left":["end","bottom","right"].includes(ue)?R?"bottom":"right":R?"middle":"center"});function f(){s&&(s.destroy(),s=null)}function d(){On(()=>{const R=Ap(o.target);!R||!r.value||(s&&s.state.elements.reference!==R&&f(),s?s.update():s=z3(R,r.value,u.value))})}function p(R){Object.assign(o,HC(R,"force"))}function g(R,ue){clearTimeout(n),R>0?n=setTimeout(ue,R):ue()}function _(R){return!R||!s?!1:Ap(R)===s.state.elements.reference}async function A(R={}){o.force||(R.force&&(o.force=!0),g(R.showDelay??t.showDelay,()=>{o.isVisible&&(o.force=!1),p({...R,isVisible:!0}),d()}))}function S(R={}){s&&(R.target&&!_(R.target)||o.force||(R.force&&(o.force=!0),g(R.hideDelay??t.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function x(R={}){R.target!=null&&(o.isVisible&&_(R.target)?S(R):A(R))}function k(R){if(!s)return;const ue=s.state.elements.reference;if(!r.value||!ue)return;const te=R.target;Cd(r.value,te)||Cd(ue,te)||S({force:!0})}function O(R){(R.key==="Esc"||R.key==="Escape")&&S()}function M({detail:R}){!R.id||R.id!==t.id||A(R)}function N({detail:R}){!R.id||R.id!==t.id||S(R)}function w({detail:R}){!R.id||R.id!==t.id||x(R)}function E(){go(document,"keydown",O),go(document,"click",k),go(document,"show-popover",M),go(document,"hide-popover",N),go(document,"toggle-popover",w)}function b(){mo(document,"keydown",O),mo(document,"click",k),mo(document,"show-popover",M),mo(document,"hide-popover",N),mo(document,"toggle-popover",w)}function I(R){e("before-show",R)}function P(R){o.force=!1,e("after-show",R)}function y(R){e("before-hide",R)}function T(R){o.force=!1,f(),e("after-hide",R)}function U(R){R.stopPropagation()}function F(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&A()}function B(){if(o.isHovered=!1,!s)return;const R=s.state.elements.reference;o.autoHide&&!o.isFocused&&(!R||R!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&S()}function j(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&A()}function H(R){["focus","hover-focus"].includes(o.visibility)&&(!R.relatedTarget||!Cd(r.value,R.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&S())}function ee(){i!=null&&(i.disconnect(),i=null)}return ht(()=>r.value,R=>{ee(),R&&(i=new ResizeObserver(()=>{s&&s.update()}),i.observe(R))}),ht(()=>o.placement,a,{immediate:!0}),Zr(()=>{E()}),Qo(()=>{f(),ee(),b()}),{...iF(o),popoverRef:r,alignment:c,hide:S,setupPopper:d,beforeEnter:I,afterEnter:P,beforeLeave:y,afterLeave:T,onClick:U,onMouseOver:F,onMouseLeave:B,onFocusIn:j,onFocusOut:H}}}),Zo=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};function JJ(t,e,n,r,i,s){return se(),Se("div",{class:Pt(["vc-popover-content-wrapper",{"is-interactive":t.isInteractive}]),ref:"popoverRef",onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o)),onMouseover:e[1]||(e[1]=(...o)=>t.onMouseOver&&t.onMouseOver(...o)),onMouseleave:e[2]||(e[2]=(...o)=>t.onMouseLeave&&t.onMouseLeave(...o)),onFocusin:e[3]||(e[3]=(...o)=>t.onFocusIn&&t.onFocusIn(...o)),onFocusout:e[4]||(e[4]=(...o)=>t.onFocusOut&&t.onFocusOut(...o))},[we(Bo,{name:`vc-${t.transition}`,appear:"",onBeforeEnter:t.beforeEnter,onAfterEnter:t.afterEnter,onBeforeLeave:t.beforeLeave,onAfterLeave:t.afterLeave},{default:Tt(()=>[t.isVisible?(se(),Se("div",Gr({key:0,tabindex:"-1",class:`vc-popover-content direction-${t.direction}`},t.$attrs),[nn(t.$slots,"default",{direction:t.direction,alignment:t.alignment,data:t.data,hide:t.hide},()=>[wr(It(t.data),1)]),Te("span",{class:Pt(["vc-popover-caret",`direction-${t.direction}`,`align-${t.alignment}`])},null,2)],16)):rt("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const V0=Zo(QJ,[["render",JJ]]),ZJ={class:"vc-day-popover-row"},eZ={key:0,class:"vc-day-popover-row-indicator"},tZ={class:"vc-day-popover-row-label"},nZ=zt({__name:"PopoverRow",props:{attribute:null},setup(t){const e=t,n=X(()=>{const{content:r,highlight:i,dot:s,bar:o,popover:a}=e.attribute;return a&&a.hideIndicator?null:r?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${r.base.color}`}:i?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${i.base.color}`}:s?{class:`vc-dot vc-attr vc-${s.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(r,i)=>(se(),Se("div",ZJ,[K(n)?(se(),Se("div",eZ,[Te("span",{class:Pt(K(n).class)},null,2)])):rt("",!0),Te("div",tZ,[nn(r.$slots,"default",{},()=>[wr(It(t.attribute.popover?t.attribute.popover.label:"No content provided"),1)])])]))}}),rZ={inheritAttrs:!1},li=zt({...rZ,__name:"CalendarSlot",props:{name:null},setup(t){const n=vD(t.name);return(r,i)=>K(n)?(se(),ot(jc(K(n)),Ca(Gr({key:0},r.$attrs)),null,16)):nn(r.$slots,"default",{key:1})}}),iZ={class:"vc-day-popover-container"},sZ={key:0,class:"vc-day-popover-header"},oZ=zt({__name:"CalendarDayPopover",setup(t){const{dayPopoverId:e,displayMode:n,color:r,masks:i,locale:s}=pl();function o(l,u){return s.value.formatDate(l,u)}function a(l){return s.value.formatDate(l.date,i.value.dayPopover)}return(l,u)=>(se(),ot(V0,{id:K(e),class:Pt([`vc-${K(r)}`,`vc-${K(n)}`])},{default:Tt(({data:{day:c,attributes:f},hide:d})=>[we(li,{name:"day-popover",day:c,"day-title":a(c),attributes:f,format:o,masks:K(i),hide:d},{default:Tt(()=>[Te("div",iZ,[K(i).dayPopover?(se(),Se("div",sZ,It(a(c)),1)):rt("",!0),(se(!0),Se(ft,null,Mn(f,p=>(se(),ot(nZ,{key:p.key,attribute:p},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),aZ={},lZ={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},uZ=Te("polyline",{points:"9 18 15 12 9 6"},null,-1),cZ=[uZ];function hZ(t,e){return se(),Se("svg",lZ,cZ)}const fZ=Zo(aZ,[["render",hZ]]),dZ={},pZ={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},mZ=Te("polyline",{points:"15 18 9 12 15 6"},null,-1),gZ=[mZ];function _Z(t,e){return se(),Se("svg",pZ,gZ)}const vZ=Zo(dZ,[["render",_Z]]),yZ={},wZ={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},bZ=Te("polyline",{points:"6 9 12 15 18 9"},null,-1),TZ=[bZ];function EZ(t,e){return se(),Se("svg",wZ,TZ)}const AZ=Zo(yZ,[["render",EZ]]),IZ={},SZ={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},PZ=Te("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),RZ=[PZ];function CZ(t,e){return se(),Se("svg",SZ,RZ)}const DZ=Zo(IZ,[["render",CZ]]),kZ=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:AZ,IconChevronLeft:vZ,IconChevronRight:fZ,IconClock:DZ},Symbol.toStringTag,{value:"Module"})),bu=zt({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(t){const e=t,n=X(()=>e.width||e.size),r=X(()=>e.height||e.size),i=X(()=>kZ[`Icon${e.name}`]);return(s,o)=>(se(),ot(jc(K(i)),{width:K(n),height:K(r),class:"vc-base-icon"},null,8,["width","height"]))}}),OZ=["disabled"],xZ={key:1,class:"vc-title-wrapper"},MZ={type:"button",class:"vc-title"},NZ=["disabled"],wD=zt({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(t){const e=t,{navPopoverId:n,navVisibility:r,canMovePrev:i,movePrev:s,canMoveNext:o,moveNext:a}=pl(),l=X(()=>{switch(e.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),u=X(()=>{const{page:_}=e;return{id:n.value,visibility:r.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:_},isInteractive:!0}}),c=X(()=>e.page.titlePosition.includes("left")),f=X(()=>e.page.titlePosition.includes("right")),d=X(()=>e.layout?e.layout:c.value?"tu-pn":f.value?"pn-tu":"p-tu-n;"),p=X(()=>({prev:d.value.includes("p")&&!e.hideArrows,title:d.value.includes("t")&&!e.hideTitle,next:d.value.includes("n")&&!e.hideArrows})),g=X(()=>({gridTemplateColumns:d.value.split("").map(A=>{switch(A){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(_,A)=>(se(),Se("div",{class:Pt(["vc-header",{"is-lg":t.isLg,"is-xl":t.isXl,"is-2xl":t.is2xl}]),style:ts(K(g))},[K(p).prev?(se(),Se("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!K(i),onClick:A[0]||(A[0]=(...S)=>K(s)&&K(s)(...S)),onKeydown:A[1]||(A[1]=Ur((...S)=>K(s)&&K(s)(...S),["space","enter"]))},[we(li,{name:"header-prev-button",disabled:!K(i)},{default:Tt(()=>[we(bu,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,OZ)):rt("",!0),K(p).title?(se(),Se("div",xZ,[we(li,{name:"header-title-wrapper"},{default:Tt(()=>[Ir((se(),Se("button",MZ,[we(li,{name:"header-title",title:t.page.title},{default:Tt(()=>[Te("span",null,It(t.page.title),1)]),_:1},8,["title"])])),[[K(hD),K(u)]])]),_:1})])):rt("",!0),K(p).next?(se(),Se("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!K(o),onClick:A[2]||(A[2]=(...S)=>K(a)&&K(a)(...S)),onKeydown:A[3]||(A[3]=Ur((...S)=>K(a)&&K(a)(...S),["space","enter"]))},[we(li,{name:"header-next-button",disabled:!K(o)},{default:Tt(()=>[we(bu,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,NZ)):rt("",!0)],6))}}),bD=Symbol("__vc_page_context__");function LZ(t){const{locale:e,getDateAddress:n,canMove:r}=pl();function i(a,l){const{month:u,year:c}=n(new Date);return aD().map((f,d)=>{const p=d+1;return{month:p,year:a,id:IQ(p,a),label:e.value.formatDate(f,l),ariaLabel:e.value.formatDate(f,"MMMM"),isActive:p===t.value.month&&a===t.value.year,isCurrent:p===u&&a===c,isDisabled:!r({month:p,year:a},{position:t.value.position})}})}function s(a,l){const{year:u}=n(new Date),{position:c}=t.value,f=[];for(let d=a;d<=l;d+=1){const p=[...Array(12).keys()].some(g=>r({month:g+1,year:d},{position:c}));f.push({year:d,id:d.toString(),label:d.toString(),ariaLabel:d.toString(),isActive:d===t.value.year,isCurrent:d===u,isDisabled:!p})}return f}const o={page:t,getMonthItems:i,getYearItems:s};return Ms(bD,o),o}function TD(){const t=jn(bD);if(t)return t;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const $Z={class:"vc-nav-header"},VZ=["disabled"],FZ=["disabled"],UZ={class:"vc-nav-items"},BZ=["data-id","aria-label","disabled","onClick","onKeydown"],jZ=zt({__name:"CalendarNav",setup(t){const{masks:e,move:n}=pl(),{page:r,getMonthItems:i,getYearItems:s}=TD(),o=Me(!0),a=12,l=Me(r.value.year),u=Me(d(r.value.year)),c=Me(null);function f(){setTimeout(()=>{if(c.value==null)return;const te=c.value.querySelector(".vc-nav-item:not(:disabled)");te&&te.focus()},10)}function d(te){return Math.floor(te/a)}function p(){o.value=!o.value}function g(te){return te*a}function _(te){return a*(te+1)-1}function A(){j.value&&(o.value&&x(),O())}function S(){H.value&&(o.value&&k(),M())}function x(){l.value--}function k(){l.value++}function O(){u.value--}function M(){u.value++}const N=X(()=>i(l.value,e.value.navMonths).map(te=>({...te,click:()=>n({month:te.month,year:te.year},{position:r.value.position})}))),w=X(()=>i(l.value-1,e.value.navMonths)),E=X(()=>w.value.some(te=>!te.isDisabled)),b=X(()=>i(l.value+1,e.value.navMonths)),I=X(()=>b.value.some(te=>!te.isDisabled)),P=X(()=>s(g(u.value),_(u.value)).map(te=>({...te,click:()=>{l.value=te.year,o.value=!0,f()}}))),y=X(()=>s(g(u.value-1),_(u.value-1))),T=X(()=>y.value.some(te=>!te.isDisabled)),U=X(()=>s(g(u.value+1),_(u.value+1))),F=X(()=>U.value.some(te=>!te.isDisabled)),B=X(()=>o.value?N.value:P.value),j=X(()=>o.value?E.value:T.value),H=X(()=>o.value?I.value:F.value),ee=X(()=>BC(P.value.map(te=>te.year))),R=X(()=>Vl(P.value.map(te=>te.year))),ue=X(()=>o.value?l.value:`${ee.value} - ${R.value}`);return oR(()=>{l.value=r.value.year,f()}),ht(()=>l.value,te=>u.value=d(te)),Zr(()=>f()),(te,_e)=>(se(),Se("div",{class:"vc-nav-container",ref_key:"navContainer",ref:c},[Te("div",$Z,[Te("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!K(j),onClick:A,onKeydown:_e[0]||(_e[0]=me=>K(rd)(me,A))},[we(li,{name:"nav-prev-button",move:A,disabled:!K(j)},{default:Tt(()=>[we(bu,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,VZ),Te("button",{type:"button",class:"vc-nav-title vc-focus",onClick:p,onKeydown:_e[1]||(_e[1]=me=>K(rd)(me,p))},It(K(ue)),33),Te("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!K(H),onClick:S,onKeydown:_e[2]||(_e[2]=me=>K(rd)(me,S))},[we(li,{name:"nav-next-button",move:S,disabled:!K(H)},{default:Tt(()=>[we(bu,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,FZ)]),Te("div",UZ,[(se(!0),Se(ft,null,Mn(K(B),me=>(se(),Se("button",{key:me.label,type:"button","data-id":me.id,"aria-label":me.ariaLabel,class:Pt(["vc-nav-item vc-focus",[me.isActive?"is-active":me.isCurrent?"is-current":""]]),disabled:me.isDisabled,onClick:me.click,onKeydown:Ce=>K(rd)(Ce,me.click)},It(me.label),43,BZ))),128))])],512))}}),ED=zt({__name:"CalendarPageProvider",props:{page:null},setup(t){return LZ(Oa(t,"page")),(n,r)=>nn(n.$slots,"default")}}),HZ=zt({__name:"CalendarNavPopover",setup(t){const{navPopoverId:e,color:n,displayMode:r}=pl();return(i,s)=>(se(),ot(V0,{id:K(e),class:Pt(["vc-nav-popover-container",`vc-${K(n)}`,`vc-${K(r)}`])},{default:Tt(({data:o})=>[we(ED,{page:o.page},{default:Tt(()=>[we(li,{name:"nav"},{default:Tt(()=>[we(jZ)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),zZ=zt({directives:{popover:hD},components:{CalendarSlot:li},props:{day:{type:Object,required:!0}},setup(t){const{locale:e,theme:n,attributeContext:r,dayPopoverId:i,onDayClick:s,onDayMouseenter:o,onDayMouseleave:a,onDayFocusin:l,onDayFocusout:u,onDayKeydown:c}=pl(),f=X(()=>t.day),d=X(()=>r.value.getCells(f.value)),p=X(()=>d.value.map(F=>F.data)),g=X(()=>({...f.value,attributes:p.value,attributeCells:d.value}));function _({data:F},{popovers:B}){const{key:j,customData:H,popover:ee}=F;if(!ee)return;const R=p1({key:j,customData:H,attribute:F},{...ee},{visibility:ee.label?"hover":"click",placement:"bottom",isInteractive:!ee.label});B.splice(0,0,R)}const A=X(()=>{const F={...n.value.prepareRender({}),popovers:[]};return d.value.forEach(B=>{n.value.render(B,F),_(B,F)}),F}),S=X(()=>A.value.highlights),x=X(()=>!!Ss(S.value)),k=X(()=>A.value.content),O=X(()=>A.value.dots),M=X(()=>!!Ss(O.value)),N=X(()=>A.value.bars),w=X(()=>!!Ss(N.value)),E=X(()=>A.value.popovers),b=X(()=>E.value.map(F=>F.attribute)),I=vD("day-content"),P=X(()=>["vc-day",...f.value.classes,{"vc-day-box-center-center":!I},{"is-not-in-month":!t.day.inMonth}]),y=X(()=>{let F;f.value.isFocusable?F="0":F="-1";const B=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":f.value.isDisabled},Aa(Vl(S.value),"contentClass"),Aa(Vl(k.value),"class")||""],j={...Aa(Vl(S.value),"contentStyle"),...Aa(Vl(k.value),"style")};return{class:B,style:j,tabindex:F,"aria-label":f.value.ariaLabel,"aria-disabled":!!f.value.isDisabled,role:"button"}}),T=X(()=>({click(F){s(g.value,F)},mouseenter(F){o(g.value,F)},mouseleave(F){a(g.value,F)},focusin(F){l(g.value,F)},focusout(F){u(g.value,F)},keydown(F){c(g.value,F)}})),U=X(()=>Ss(E.value)?p1({id:i.value,data:{day:f,attributes:b.value}},...E.value):null);return{attributes:p,attributeCells:d,bars:N,dayClasses:P,dayContentProps:y,dayContentEvents:T,dayPopover:U,glyphs:A,dots:O,hasDots:M,hasBars:w,highlights:S,hasHighlights:x,locale:e,popovers:E}}}),YZ={key:0,class:"vc-highlights vc-day-layer"},qZ={key:1,class:"vc-day-layer vc-day-box-center-bottom"},WZ={class:"vc-dots"},GZ={key:2,class:"vc-day-layer vc-day-box-center-bottom"},KZ={class:"vc-bars"};function XZ(t,e,n,r,i,s){const o=Ei("CalendarSlot"),a=vF("popover");return se(),Se("div",{class:Pt(t.dayClasses)},[t.hasHighlights?(se(),Se("div",YZ,[(se(!0),Se(ft,null,Mn(t.highlights,({key:l,wrapperClass:u,class:c,style:f})=>(se(),Se("div",{key:l,class:Pt(u)},[Te("div",{class:Pt(c),style:ts(f)},null,6)],2))),128))])):rt("",!0),we(o,{name:"day-content",day:t.day,attributes:t.attributes,"attribute-cells":t.attributeCells,dayProps:t.dayContentProps,dayEvents:t.dayContentEvents,locale:t.locale},{default:Tt(()=>[Ir((se(),Se("div",Gr(t.dayContentProps,N_(t.dayContentEvents,!0)),[wr(It(t.day.label),1)],16)),[[a,t.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),t.hasDots?(se(),Se("div",qZ,[Te("div",WZ,[(se(!0),Se(ft,null,Mn(t.dots,({key:l,class:u,style:c})=>(se(),Se("span",{key:l,class:Pt(u),style:ts(c)},null,6))),128))])])):rt("",!0),t.hasBars?(se(),Se("div",GZ,[Te("div",KZ,[(se(!0),Se(ft,null,Mn(t.bars,({key:l,class:u,style:c})=>(se(),Se("span",{key:l,class:Pt(u),style:ts(c)},null,6))),128))])])):rt("",!0)],2)}const QZ=Zo(zZ,[["render",XZ]]),JZ={class:"vc-weekdays"},ZZ=["onClick"],eee={inheritAttrs:!1},tee=zt({...eee,__name:"CalendarPage",setup(t){const{page:e}=TD(),{onWeeknumberClick:n}=pl();return(r,i)=>(se(),Se("div",{class:Pt(["vc-pane",`row-${K(e).row}`,`row-from-end-${K(e).rowFromEnd}`,`column-${K(e).column}`,`column-from-end-${K(e).columnFromEnd}`]),ref:"pane"},[we(wD,{page:K(e),"is-lg":"","hide-arrows":""},null,8,["page"]),Te("div",{class:Pt(["vc-weeks",{[`vc-show-weeknumbers-${K(e).weeknumberPosition}`]:K(e).weeknumberPosition}])},[Te("div",JZ,[(se(!0),Se(ft,null,Mn(K(e).weekdays,({weekday:s,label:o},a)=>(se(),Se("div",{key:a,class:Pt(`vc-weekday vc-weekday-${s}`)},It(o),3))),128))]),(se(!0),Se(ft,null,Mn(K(e).viewWeeks,s=>(se(),Se("div",{key:`weeknumber-${s.weeknumber}`,class:"vc-week"},[K(e).weeknumberPosition?(se(),Se("div",{key:0,class:Pt(["vc-weeknumber",`is-${K(e).weeknumberPosition}`])},[Te("span",{class:Pt(["vc-weeknumber-content"]),onClick:o=>K(n)(s,o)},It(s.weeknumberDisplay),9,ZZ)],2)):rt("",!0),(se(!0),Se(ft,null,Mn(s.days,o=>(se(),ot(QZ,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),nee=zt({components:{CalendarHeader:wD,CalendarPage:tee,CalendarNavPopover:HZ,CalendarDayPopover:oZ,CalendarPageProvider:ED,CalendarSlot:li},props:GJ,emit:KJ,setup(t,{emit:e,slots:n}){return XJ(t,{emit:e,slots:n})}}),ree={class:"vc-pane-header-wrapper"};function iee(t,e,n,r,i,s){const o=Ei("CalendarHeader"),a=Ei("CalendarPage"),l=Ei("CalendarSlot"),u=Ei("CalendarPageProvider"),c=Ei("CalendarDayPopover"),f=Ei("CalendarNavPopover");return se(),Se(ft,null,[Te("div",Gr({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},t.$attrs,{class:["vc-container",`vc-${t.view}`,`vc-${t.color}`,`vc-${t.displayMode}`,{"vc-expanded":t.expanded,"vc-bordered":!t.borderless,"vc-transparent":t.transparent}],onMouseup:e[0]||(e[0]=tn(()=>{},["prevent"])),ref:"containerRef"}),[Te("div",{class:Pt(["vc-pane-container",{"in-transition":t.inTransition}])},[Te("div",ree,[t.firstPage?(se(),ot(o,{key:0,page:t.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):rt("",!0)]),we(Bo,{name:`vc-${t.transitionName}`,onBeforeEnter:t.onTransitionBeforeEnter,onAfterEnter:t.onTransitionAfterEnter},{default:Tt(()=>[(se(),Se("div",{key:t.pages[0].id,class:"vc-pane-layout",style:ts({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(se(!0),Se(ft,null,Mn(t.pages,d=>(se(),ot(u,{key:d.id,page:d},{default:Tt(()=>[we(l,{name:"page",page:d},{default:Tt(()=>[we(a)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),we(l,{name:"footer"})],2)],16),we(c),we(f)],64)}const see=Zo(nee,[["render",iee]]),AD=Symbol("__vc_date_picker_context__"),oee={...pD,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>zo("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>zo("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},aee=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function lee(t,{emit:e,slots:n}){_D(n,{footer:"dp-footer"});const r=mD(t),{locale:i,masks:s,disabledAttribute:o}=r,a=Me(!1),l=Me(Symbol()),u=Me(null),c=Me(null),f=Me(["",""]),d=Me(null),p=Me(null);let g,_,A=!0;const S=X(()=>t.isRange||t.modelModifiers.range===!0),x=X(()=>S.value&&u.value!=null?u.value.start:null),k=X(()=>S.value&&u.value!=null?u.value.end:null),O=X(()=>t.mode.toLowerCase()==="date"),M=X(()=>t.mode.toLowerCase()==="datetime"),N=X(()=>t.mode.toLowerCase()==="time"),w=X(()=>!!c.value),E=X(()=>{let V="date";t.modelModifiers.number&&(V="number"),t.modelModifiers.string&&(V="string");const G=s.value.modelValue||"iso";return _e({type:V,mask:G})}),b=X(()=>de(c.value??u.value)),I=X(()=>N.value?t.is24hr?s.value.inputTime24hr:s.value.inputTime:M.value?t.is24hr?s.value.inputDateTime24hr:s.value.inputDateTime:s.value.input),P=X(()=>/[Hh]/g.test(I.value)),y=X(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(I.value)),T=X(()=>{if(P.value&&y.value)return"dateTime";if(y.value)return"date";if(P.value)return"time"}),U=X(()=>{var V;const G=((V=d.value)==null?void 0:V.$el.previousElementSibling)??void 0;return Lh({},t.popover,zo("datePicker.popover"),{target:G})}),F=X(()=>cD({...U.value,id:l.value})),B=X(()=>S.value?{start:f.value[0],end:f.value[1]}:f.value[0]),j=X(()=>{const V=["start","end"].map(G=>({input:Q(G),change:$(G),keyup:he,...t.popover&&F.value}));return S.value?{start:V[0],end:V[1]}:V[0]}),H=X(()=>{if(!z(u.value))return null;const V={key:"select-drag",...t.selectAttribute,dates:u.value,pinPage:!0},{dot:G,bar:ye,highlight:Le,content:et}=V;return!G&&!ye&&!Le&&!et&&(V.highlight=!0),V}),ee=X(()=>{if(!S.value||!z(c.value))return null;const V={key:"select-drag",...t.dragAttribute,dates:c.value},{dot:G,bar:ye,highlight:Le,content:et}=V;return!G&&!ye&&!Le&&!et&&(V.highlight={startEnd:{fillMode:"outline"}}),V}),R=X(()=>{const V=pi(t.attributes)?[...t.attributes]:[];return ee.value?V.unshift(ee.value):H.value&&V.unshift(H.value),V}),ue=X(()=>_e(t.rules==="auto"?te():t.rules??{}));function te(){const V={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},G=O.value?0:t.timeAccuracy;return[0,1].map(ye=>{switch(G){case 0:return{hours:V.hr[ye],minutes:V.min[ye],seconds:V.sec[ye],milliseconds:V.ms[ye]};case 1:return{minutes:V.min[ye],seconds:V.sec[ye],milliseconds:V.ms[ye]};case 3:return{milliseconds:V.ms[ye]};case 4:return{};default:return{seconds:V.sec[ye],milliseconds:V.ms[ye]}}})}function _e(V){return pi(V)?V.length===1?[V[0],V[0]]:V:[V,V]}function me(V){return _e(V).map((G,ye)=>({...G,rules:ue.value[ye]}))}function Ce(V){return V==null?!1:xi(V)?!isNaN(V):Kl(V)?!isNaN(V.getTime()):Gi(V)?V!=="":M0(V)}function De(V){return Bs(V)&&"start"in V&&"end"in V&&Ce(V.start??null)&&Ce(V.end??null)}function z(V){return De(V)||Ce(V)}function ae(V,G){if(V==null&&G==null)return!0;if(V==null||G==null)return!1;const ye=Kl(V),Le=Kl(G);return ye&&Le?V.getTime()===G.getTime():ye||Le?!1:ae(V.start,G.start)&&ae(V.end,G.end)}function W(V){return!z(V)||!o.value?!1:o.value.intersectsRange(i.value.range(V))}function ne(V,G,ye,Le){if(!z(V))return null;if(De(V)){const et=i.value.toDate(V.start,{...G[0],fillDate:x.value??void 0,patch:ye}),yt=i.value.toDate(V.end,{...G[1],fillDate:k.value??void 0,patch:ye});return tt({start:et,end:yt},Le)}return i.value.toDateOrNull(V,{...G[0],fillDate:u.value,patch:ye})}function pe(V,G){return De(V)?{start:i.value.fromDate(V.start,G[0]),end:i.value.fromDate(V.end,G[1])}:S.value?null:i.value.fromDate(V,G[0])}function Re(V,G={}){return clearTimeout(g),new Promise(ye=>{const{debounce:Le=0,...et}=G;Le>0?g=window.setTimeout(()=>{ye(D(V,et))},Le):ye(D(V,et))})}function D(V,{config:G=E.value,patch:ye="dateTime",clearIfEqual:Le=!1,formatInput:et=!0,hidePopover:yt=!1,dragging:Et=w.value,targetPriority:zn,moveToValue:on=!1}={}){const ei=me(G);let xe=ne(V,ei,ye,zn);if(W(xe)){if(Et)return null;xe=u.value,yt=!1}else xe==null&&t.isRequired?xe=u.value:xe!=null&&ae(u.value,xe)&&Le&&(xe=null);const He=Et?c:u,Ee=!ae(He.value,xe);He.value=xe,Et||(c.value=null);const Be=pe(xe,E.value);return Ee&&(A=!1,e(Et?"drag":"update:modelValue",Be),On(()=>A=!0)),yt&&!Et&&it(),et&&L(),on&&On(()=>Sn(zn??"start")),Be}function L(){On(()=>{const V=me({type:"string",mask:I.value}),G=pe(c.value??u.value,V);S.value?f.value=[G&&G.start,G&&G.end]:f.value=[G,""]})}function Y(V,G,ye){f.value.splice(G==="start"?0:1,1,V);const Le=S.value?{start:f.value[0],end:f.value[1]||f.value[0]}:V,et={type:"string",mask:I.value};Re(Le,{...ye,config:et,patch:T.value,targetPriority:G,moveToValue:!0})}function Q(V){return G=>{t.updateOnInput&&Y(G.currentTarget.value,V,{formatInput:!1,hidePopover:!1,debounce:t.inputDebounce})}}function $(V){return G=>{Y(G.currentTarget.value,V,{formatInput:!0,hidePopover:!1})}}function he(V){V.key==="Escape"&&Re(u.value,{formatInput:!0,hidePopover:!0})}function de(V){return S.value?[V&&V.start?i.value.getDateParts(V.start):null,V&&V.end?i.value.getDateParts(V.end):null]:[V?i.value.getDateParts(V):null]}function le(){c.value=null,L()}function oe(V){e("popover-will-show",V)}function ie(V){e("popover-did-show",V)}function ge(V){le(),e("popover-will-hide",V)}function Pe(V){e("popover-did-hide",V)}function ve(V){const G={patch:"date",formatInput:!0,hidePopover:!0};if(S.value){const ye=!w.value;ye?_={start:V.startDate,end:V.endDate}:_!=null&&(_.end=V.date),Re(_,{...G,dragging:ye})}else Re(V.date,{...G,clearIfEqual:!t.isRequired})}function Ie(V,G){ve(V),e("dayclick",V,G)}function be(V,G){switch(G.key){case" ":case"Enter":{ve(V),G.preventDefault();break}case"Escape":it()}e("daykeydown",V,G)}function Ye(V,G){!w.value||_==null||(_.end=V.date,Re(tt(_),{patch:"date",formatInput:!0}))}function ze(V={}){av({...U.value,...V,isInteractive:!0,id:l.value})}function it(V={}){$h({hideDelay:10,force:!0,...U.value,...V,id:l.value})}function Yt(V){uD({...U.value,...V,isInteractive:!0,id:l.value})}function tt(V,G){const{start:ye,end:Le}=V;if(ye>Le)switch(G){case"start":return{start:ye,end:ye};case"end":return{start:Le,end:Le};default:return{start:Le,end:ye}}return{start:ye,end:Le}}async function ar(V,G={}){return p.value==null?!1:p.value.move(V,G)}async function sn(V,G={}){return p.value==null?!1:p.value.moveBy(V,G)}async function Sn(V,G={}){const ye=u.value;if(p.value==null||!z(ye))return!1;const Le=V!=="end",et=Le?1:-1,yt=De(ye)?Le?ye.start:ye.end:ye,Et=WC(yt,"monthly",i.value);return p.value.move(Et,{position:et,...G})}ht(()=>t.isRange,V=>{V&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),ht(()=>S.value,()=>{D(null,{formatInput:!0})}),ht(()=>I.value,()=>L()),ht(()=>t.modelValue,V=>{A&&D(V,{formatInput:!0,hidePopover:!1})}),ht(()=>ue.value,()=>{Bs(t.rules)&&D(t.modelValue,{formatInput:!0,hidePopover:!1})}),ht(()=>t.timezone,()=>{D(u.value,{formatInput:!0})});const Ct=_e(E.value);u.value=ne(t.modelValue??null,Ct,"dateTime"),Zr(()=>{D(t.modelValue,{formatInput:!0,hidePopover:!1})}),On(()=>a.value=!0);const re={...r,showCalendar:a,datePickerPopoverId:l,popoverRef:d,popoverEvents:F,calendarRef:p,isRange:S,isTimeMode:N,isDateTimeMode:M,is24hr:Oa(t,"is24hr"),hideTimeHeader:Oa(t,"hideTimeHeader"),timeAccuracy:Oa(t,"timeAccuracy"),isDragging:w,inputValue:B,inputEvents:j,dateParts:b,attributes:R,rules:ue,move:ar,moveBy:sn,moveToValue:Sn,updateValue:Re,showPopover:ze,hidePopover:it,togglePopover:Yt,onDayClick:Ie,onDayKeydown:be,onDayMouseEnter:Ye,onPopoverBeforeShow:oe,onPopoverAfterShow:ie,onPopoverBeforeHide:ge,onPopoverAfterHide:Pe};return Ms(AD,re),re}function F0(){const t=jn(AD);if(t)return t;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const uee=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],cee=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function hee(t){const e=F0(),{locale:n,isRange:r,isTimeMode:i,dateParts:s,rules:o,is24hr:a,hideTimeHeader:l,timeAccuracy:u,updateValue:c}=e;function f(y){y=Object.assign(p.value,y);let T=null;if(r.value){const U=d.value?y:s.value[0],F=d.value?s.value[1]:y;T={start:U,end:F}}else T=y;c(T,{patch:"time",targetPriority:d.value?"start":"end",moveToValue:!0})}const d=X(()=>t.position===0),p=X(()=>s.value[t.position]||{isValid:!1}),g=X(()=>M0(p.value)),_=X(()=>!!p.value.isValid),A=X(()=>!l.value&&_.value),S=X(()=>{if(!g.value)return null;let y=n.value.toDate(p.value);return p.value.hours===24&&(y=new Date(y.getTime()-1)),y}),x=X({get(){return p.value.hours},set(y){f({hours:y})}}),k=X({get(){return p.value.minutes},set(y){f({minutes:y})}}),O=X({get(){return p.value.seconds},set(y){f({seconds:y})}}),M=X({get(){return p.value.milliseconds},set(y){f({milliseconds:y})}}),N=X({get(){return p.value.hours<12},set(y){y=String(y).toLowerCase()=="true";let T=x.value;y&&T>=12?T-=12:!y&&T<12&&(T+=12),f({hours:T})}}),w=X(()=>CJ(p.value,o.value[t.position])),E=X(()=>uee.filter(y=>w.value.hours.some(T=>T.value===y.value))),b=X(()=>cee.filter(y=>w.value.hours.some(T=>T.value===y.value))),I=X(()=>a.value?w.value.hours:N.value?E.value:b.value),P=X(()=>{const y=[];return Ss(E.value)&&y.push({value:!0,label:"AM"}),Ss(b.value)&&y.push({value:!1,label:"PM"}),y});return{...e,showHeader:A,timeAccuracy:u,parts:p,isValid:_,date:S,hours:x,minutes:k,seconds:O,milliseconds:M,options:w,hourOptions:I,isAM:N,isAMOptions:P,is24hr:a}}const fee=["value"],dee=["value","disabled"],pee={key:1,class:"vc-base-sizer","aria-hidden":"true"},mee={inheritAttrs:!1},hc=zt({...mee,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(t){const e=t,n=X(()=>{const r=e.options.find(i=>i.value===e.modelValue);return r==null?void 0:r.label});return(r,i)=>(se(),Se("div",{class:Pt(["vc-base-select",{"vc-fit-content":t.fitContent,"vc-has-icon":t.showIcon}])},[Te("select",Gr(r.$attrs,{value:t.modelValue,class:["vc-focus",{"vc-align-right":t.alignRight,"vc-align-left":t.alignLeft}],onChange:i[0]||(i[0]=s=>r.$emit("update:modelValue",s.target.value))}),[(se(!0),Se(ft,null,Mn(t.options,s=>(se(),Se("option",{key:s.value,value:s.value,disabled:s.disabled},It(s.label),9,dee))),128))],16,fee),t.showIcon?(se(),ot(bu,{key:0,name:"ChevronDown",size:"18"})):rt("",!0),t.fitContent?(se(),Se("div",pee,It(K(n)),1)):rt("",!0)],2))}}),gee={key:0,class:"vc-time-header"},_ee={class:"vc-time-weekday"},vee={class:"vc-time-month"},yee={class:"vc-time-day"},wee={class:"vc-time-year"},bee={class:"vc-time-select-group"},Tee=Te("span",{class:"vc-time-colon"},":",-1),Eee=Te("span",{class:"vc-time-colon"},":",-1),Aee=Te("span",{class:"vc-time-decimal"},".",-1),H1=zt({__name:"TimePicker",props:{position:null},setup(t,{expose:e}){const r=hee(t);e(r);const{locale:i,isValid:s,date:o,hours:a,minutes:l,seconds:u,milliseconds:c,options:f,hourOptions:d,isTimeMode:p,isAM:g,isAMOptions:_,is24hr:A,showHeader:S,timeAccuracy:x}=r;return(k,O)=>(se(),Se("div",{class:Pt(["vc-time-picker",[{"vc-invalid":!K(s),"vc-attached":!K(p)}]])},[we(li,{name:"time-header"},{default:Tt(()=>[K(S)&&K(o)?(se(),Se("div",gee,[Te("span",_ee,It(K(i).formatDate(K(o),"WWW")),1),Te("span",vee,It(K(i).formatDate(K(o),"MMM")),1),Te("span",yee,It(K(i).formatDate(K(o),"D")),1),Te("span",wee,It(K(i).formatDate(K(o),"YYYY")),1)])):rt("",!0)]),_:1}),Te("div",bee,[we(bu,{name:"Clock",size:"17"}),we(hc,{modelValue:K(a),"onUpdate:modelValue":O[0]||(O[0]=M=>hn(a)?a.value=M:null),modelModifiers:{number:!0},options:K(d),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),K(x)>1?(se(),Se(ft,{key:0},[Tee,we(hc,{modelValue:K(l),"onUpdate:modelValue":O[1]||(O[1]=M=>hn(l)?l.value=M:null),modelModifiers:{number:!0},options:K(f).minutes,class:"vc-time-select-minutes","align-left":K(x)===2},null,8,["modelValue","options","align-left"])],64)):rt("",!0),K(x)>2?(se(),Se(ft,{key:1},[Eee,we(hc,{modelValue:K(u),"onUpdate:modelValue":O[2]||(O[2]=M=>hn(u)?u.value=M:null),modelModifiers:{number:!0},options:K(f).seconds,class:"vc-time-select-seconds","align-left":K(x)===3},null,8,["modelValue","options","align-left"])],64)):rt("",!0),K(x)>3?(se(),Se(ft,{key:2},[Aee,we(hc,{modelValue:K(c),"onUpdate:modelValue":O[3]||(O[3]=M=>hn(c)?c.value=M:null),modelModifiers:{number:!0},options:K(f).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):rt("",!0),K(A)?rt("",!0):(se(),ot(hc,{key:3,modelValue:K(g),"onUpdate:modelValue":O[4]||(O[4]=M=>hn(g)?g.value=M:null),options:K(_)},null,8,["modelValue","options"]))])],2))}}),ID=zt({__name:"DatePickerBase",setup(t){const{attributes:e,calendarRef:n,color:r,displayMode:i,isDateTimeMode:s,isTimeMode:o,isRange:a,onDayClick:l,onDayMouseEnter:u,onDayKeydown:c}=F0(),f=a.value?[0,1]:[0];return(d,p)=>K(o)?(se(),Se("div",{key:0,class:Pt(`vc-container vc-bordered vc-${K(r)} vc-${K(i)}`)},[(se(!0),Se(ft,null,Mn(K(f),g=>(se(),ot(H1,{key:g,position:g},null,8,["position"]))),128))],2)):(se(),ot(see,{key:1,attributes:K(e),ref_key:"calendarRef",ref:n,onDayclick:K(l),onDaymouseenter:K(u),onDaykeydown:K(c)},{footer:Tt(()=>[K(s)?(se(!0),Se(ft,{key:0},Mn(K(f),g=>(se(),ot(H1,{key:g,position:g},null,8,["position"]))),128)):rt("",!0),we(li,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),Iee={inheritAttrs:!1},See=zt({...Iee,__name:"DatePickerPopover",setup(t){const{datePickerPopoverId:e,color:n,displayMode:r,popoverRef:i,onPopoverBeforeShow:s,onPopoverAfterShow:o,onPopoverBeforeHide:a,onPopoverAfterHide:l}=F0();return(u,c)=>(se(),ot(V0,{id:K(e),placement:"bottom-start",class:Pt(`vc-date-picker-content vc-${K(n)} vc-${K(r)}`),ref_key:"popoverRef",ref:i,onBeforeShow:K(s),onAfterShow:K(o),onBeforeHide:K(a),onAfterHide:K(l)},{default:Tt(()=>[we(ID,Ca(Rh(u.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),Pee=zt({inheritAttrs:!1,emits:aee,props:oee,components:{DatePickerBase:ID,DatePickerPopover:See},setup(t,e){const n=lee(t,e),r=Lr(HC(n,"calendarRef","popoverRef"));return{...n,slotCtx:r}}});function Ree(t,e,n,r,i,s){const o=Ei("DatePickerPopover"),a=Ei("DatePickerBase");return t.$slots.default?(se(),Se(ft,{key:0},[nn(t.$slots,"default",Ca(Rh(t.slotCtx))),we(o,Ca(Rh(t.$attrs)),null,16)],64)):(se(),ot(a,Ca(Gr({key:1},t.$attrs)),null,16))}const Cee=Zo(Pee,[["render",Ree]]);var Dee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Dee,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",f="month",d="quarter",p="year",g="date",_="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var F=["th","st","nd","rd"],B=U%100;return"["+U+(F[(B-20)%10]||F[B]||F[0])+"]"}},k=function(U,F,B){var j=String(U);return!j||j.length>=F?U:""+Array(F+1-j.length).join(B)+U},O={s:k,z:function(U){var F=-U.utcOffset(),B=Math.abs(F),j=Math.floor(B/60),H=B%60;return(F<=0?"+":"-")+k(j,2,"0")+":"+k(H,2,"0")},m:function U(F,B){if(F.date()<B.date())return-U(B,F);var j=12*(B.year()-F.year())+(B.month()-F.month()),H=F.clone().add(j,f),ee=B-H<0,R=F.clone().add(j+(ee?-1:1),f);return+(-(j+(B-H)/(ee?H-R:R-H))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:f,y:p,w:c,d:u,D:g,h:l,m:a,s:o,ms:s,Q:d}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},M="en",N={};N[M]=x;var w="$isDayjsObject",E=function(U){return U instanceof y||!(!U||!U[w])},b=function U(F,B,j){var H;if(!F)return M;if(typeof F=="string"){var ee=F.toLowerCase();N[ee]&&(H=ee),B&&(N[ee]=B,H=ee);var R=F.split("-");if(!H&&R.length>1)return U(R[0])}else{var ue=F.name;N[ue]=F,H=ue}return!j&&H&&(M=H),H||!j&&M},I=function(U,F){if(E(U))return U.clone();var B=typeof F=="object"?F:{};return B.date=U,B.args=arguments,new y(B)},P=O;P.l=b,P.i=E,P.w=function(U,F){return I(U,{locale:F.$L,utc:F.$u,x:F.$x,$offset:F.$offset})};var y=function(){function U(B){this.$L=b(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[w]=!0}var F=U.prototype;return F.parse=function(B){this.$d=function(j){var H=j.date,ee=j.utc;if(H===null)return new Date(NaN);if(P.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var R=H.match(A);if(R){var ue=R[2]-1||0,te=(R[7]||"0").substring(0,3);return ee?new Date(Date.UTC(R[1],ue,R[3]||1,R[4]||0,R[5]||0,R[6]||0,te)):new Date(R[1],ue,R[3]||1,R[4]||0,R[5]||0,R[6]||0,te)}}return new Date(H)}(B),this.init()},F.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},F.$utils=function(){return P},F.isValid=function(){return this.$d.toString()!==_},F.isSame=function(B,j){var H=I(B);return this.startOf(j)<=H&&H<=this.endOf(j)},F.isAfter=function(B,j){return I(B)<this.startOf(j)},F.isBefore=function(B,j){return this.endOf(j)<I(B)},F.$g=function(B,j,H){return P.u(B)?this[j]:this.set(H,B)},F.unix=function(){return Math.floor(this.valueOf()/1e3)},F.valueOf=function(){return this.$d.getTime()},F.startOf=function(B,j){var H=this,ee=!!P.u(j)||j,R=P.p(B),ue=function(W,ne){var pe=P.w(H.$u?Date.UTC(H.$y,ne,W):new Date(H.$y,ne,W),H);return ee?pe:pe.endOf(u)},te=function(W,ne){return P.w(H.toDate()[W].apply(H.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(ne)),H)},_e=this.$W,me=this.$M,Ce=this.$D,De="set"+(this.$u?"UTC":"");switch(R){case p:return ee?ue(1,0):ue(31,11);case f:return ee?ue(1,me):ue(0,me+1);case c:var z=this.$locale().weekStart||0,ae=(_e<z?_e+7:_e)-z;return ue(ee?Ce-ae:Ce+(6-ae),me);case u:case g:return te(De+"Hours",0);case l:return te(De+"Minutes",1);case a:return te(De+"Seconds",2);case o:return te(De+"Milliseconds",3);default:return this.clone()}},F.endOf=function(B){return this.startOf(B,!1)},F.$set=function(B,j){var H,ee=P.p(B),R="set"+(this.$u?"UTC":""),ue=(H={},H[u]=R+"Date",H[g]=R+"Date",H[f]=R+"Month",H[p]=R+"FullYear",H[l]=R+"Hours",H[a]=R+"Minutes",H[o]=R+"Seconds",H[s]=R+"Milliseconds",H)[ee],te=ee===u?this.$D+(j-this.$W):j;if(ee===f||ee===p){var _e=this.clone().set(g,1);_e.$d[ue](te),_e.init(),this.$d=_e.set(g,Math.min(this.$D,_e.daysInMonth())).$d}else ue&&this.$d[ue](te);return this.init(),this},F.set=function(B,j){return this.clone().$set(B,j)},F.get=function(B){return this[P.p(B)]()},F.add=function(B,j){var H,ee=this;B=Number(B);var R=P.p(j),ue=function(me){var Ce=I(ee);return P.w(Ce.date(Ce.date()+Math.round(me*B)),ee)};if(R===f)return this.set(f,this.$M+B);if(R===p)return this.set(p,this.$y+B);if(R===u)return ue(1);if(R===c)return ue(7);var te=(H={},H[a]=r,H[l]=i,H[o]=n,H)[R]||1,_e=this.$d.getTime()+B*te;return P.w(_e,this)},F.subtract=function(B,j){return this.add(-1*B,j)},F.format=function(B){var j=this,H=this.$locale();if(!this.isValid())return H.invalidDate||_;var ee=B||"YYYY-MM-DDTHH:mm:ssZ",R=P.z(this),ue=this.$H,te=this.$m,_e=this.$M,me=H.weekdays,Ce=H.months,De=H.meridiem,z=function(ne,pe,Re,D){return ne&&(ne[pe]||ne(j,ee))||Re[pe].slice(0,D)},ae=function(ne){return P.s(ue%12||12,ne,"0")},W=De||function(ne,pe,Re){var D=ne<12?"AM":"PM";return Re?D.toLowerCase():D};return ee.replace(S,function(ne,pe){return pe||function(Re){switch(Re){case"YY":return String(j.$y).slice(-2);case"YYYY":return P.s(j.$y,4,"0");case"M":return _e+1;case"MM":return P.s(_e+1,2,"0");case"MMM":return z(H.monthsShort,_e,Ce,3);case"MMMM":return z(Ce,_e);case"D":return j.$D;case"DD":return P.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return z(H.weekdaysMin,j.$W,me,2);case"ddd":return z(H.weekdaysShort,j.$W,me,3);case"dddd":return me[j.$W];case"H":return String(ue);case"HH":return P.s(ue,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return W(ue,te,!0);case"A":return W(ue,te,!1);case"m":return String(te);case"mm":return P.s(te,2,"0");case"s":return String(j.$s);case"ss":return P.s(j.$s,2,"0");case"SSS":return P.s(j.$ms,3,"0");case"Z":return R}return null}(ne)||R.replace(":","")})},F.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},F.diff=function(B,j,H){var ee,R=this,ue=P.p(j),te=I(B),_e=(te.utcOffset()-this.utcOffset())*r,me=this-te,Ce=function(){return P.m(R,te)};switch(ue){case p:ee=Ce()/12;break;case f:ee=Ce();break;case d:ee=Ce()/3;break;case c:ee=(me-_e)/6048e5;break;case u:ee=(me-_e)/864e5;break;case l:ee=me/i;break;case a:ee=me/r;break;case o:ee=me/n;break;default:ee=me}return H?ee:P.a(ee)},F.daysInMonth=function(){return this.endOf(f).$D},F.$locale=function(){return N[this.$L]},F.locale=function(B,j){if(!B)return this.$L;var H=this.clone(),ee=b(B,j,!0);return ee&&(H.$L=ee),H},F.clone=function(){return P.w(this.$d,this)},F.toDate=function(){return new Date(this.valueOf())},F.toJSON=function(){return this.isValid()?this.toISOString():null},F.toISOString=function(){return this.$d.toISOString()},F.toString=function(){return this.$d.toUTCString()},U}(),T=y.prototype;return I.prototype=T,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",f],["$y",p],["$D",g]].forEach(function(U){T[U[1]]=function(F){return this.$g(F,U[0],U[1])}}),I.extend=function(U,F){return U.$i||(U(F,y,I),U.$i=!0),I},I.locale=b,I.isDayjs=E,I.unix=function(U){return I(1e3*U)},I.en=N[M],I.Ls=N,I.p={},I})})(SD);var Oee=SD.exports;const Op=kee(Oee),xee=t=>(cf("data-v-ffc1a9ce"),t=t(),hf(),t),Mee={class:"relative"},Nee=xee(()=>Te("i",{class:"icon-calendar cursor-pointer text-[24px]"},null,-1)),Lee={__name:"calendar",emits:["selected"],setup(t,{emit:e}){const n=e,r=Me(!1),i=Me(new Date),s=Me(null);return ht(i,o=>{n("selected",Op(o).format("DD-MM-YYYY"))}),fB(s,o=>r.value=!1),(o,a)=>(se(),Se("div",Mee,[Te("div",{class:"flex justify-between border-b px-1 py-2 text-white",ref:"test",onClick:a[0]||(a[0]=l=>r.value=!r.value)},[Te("p",null,It(K(Op)(i.value).format("DD-MM-YYYY")),1),Nee],512),Ir(Te("div",{class:"absolute left-0 top-14 z-10 w-full",ref_key:"calendar",ref:s},[we(K(Cee),{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=l=>i.value=l)},null,8,["modelValue"])],512),[[Ii,r.value]])]))}},$ee=pf(Lee,[["__scopeId","data-v-ffc1a9ce"]]),PD={28:"動作",12:"冒險",16:"動畫",35:"喜劇",80:"犯罪",99:"紀錄",18:"劇情",10751:"家庭",14:"奇幻",36:"歷史",27:"恐怖",10402:"音樂",9648:"懸疑",10749:"愛情",878:"科學",10770:"電視電影",53:"驚悚",10752:"戰爭",37:"西部",10759:"動作冒險",10762:"兒童",10763:"新聞",10764:"真人秀",10765:"科幻與奇幻",10766:"肥皂劇",10767:"脱口秀",10768:"戰爭與政治"},Vee=Object.entries(PD).map(([t,e])=>({id:Number(t),label:e})),Fee=t=>(cf("data-v-0495d4d7"),t=t(),hf(),t),Uee={class:"flex flex-wrap items-center gap-3"},Bee=["onClick"],jee=Fee(()=>Te("i",{class:"icon-tag-close ml-[10px]"},null,-1)),Hee=[jee],zee={__name:"category",props:GP({data:{type:Object}},{category:{},categoryModifiers:{}}),emits:["update:category"],setup(t){var i;const e=t,n=yR(t,"category");if(e.data){const s=(i=e.data)==null?void 0:i.map(o=>{const a=PD[o.id]??o.id;return{id:o.id,label:a}});n.value=s}const r=s=>{const o=n.value.findIndex(a=>a.slug===s);o!==-1&&n.value.splice(o,1)};return(s,o)=>(se(),Se(ft,null,[Te("div",null,[we(K(u0),{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),options:K(Vee),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"分類",label:"label","track-by":"id",selectedLabel:"已選擇",selectLabel:"點擊選擇",deselectLabel:"點擊刪除"},{selection:Tt(({values:a,search:l,isOpen:u})=>[a.length?Ir((se(),Se("span",{key:0,class:"multiselect__single"},"已選擇"+It(a.length)+"項",513)),[[Ii,!u]]):rt("",!0)]),selectLabel:Tt(a=>[wr(" 123 ")]),_:1},8,["modelValue","options"])]),Te("div",Uee,[(se(!0),Se(ft,null,Mn(n.value,a=>(se(),Se("div",{class:"text-body-l-semibold flex items-center space-x-3 rounded-[8px] border border-enable px-2 py-1 text-enable",key:a.slug},[wr(It(a.label)+" ",1),Te("button",{type:"button",class:"flex",onClick:l=>r(a==null?void 0:a.slug)},Hee,8,Bee)]))),128))])],64))}},Yee=pf(zee,[["__scopeId","data-v-0495d4d7"]]);function U0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function RD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qee=RD,CD=new Qh("auth","Firebase",RD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new zv("@firebase/auth");function Wee(t,...e){xp.logLevel<=ct.WARN&&xp.warn(`Auth (${al}): ${t}`,...e)}function xd(t,...e){xp.logLevel<=ct.ERROR&&xp.error(`Auth (${al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,...e){throw B0(t,...e)}function rs(t,...e){return B0(t,...e)}function DD(t,e,n){const r=Object.assign(Object.assign({},qee()),{[e]:n});return new Qh("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return DD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CD.create(t,...e)}function qe(t,e,...n){if(!t)throw B0(e,...n)}function Ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xd(e),new Error(e)}function Hs(t,e){t||Ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Gee(){return z1()==="http:"||z1()==="https:"}function z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gee()||Cx()||"connection"in navigator)?navigator.onLine:!0}function Xee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=Px()||Dx()}get(){return Kee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee=new vf(3e4,6e4);function ea(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ta(t,e,n,r,i={}){return OD(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Jh(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),kD.fetch()(xD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function OD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qee),e);try{const i=new ete(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw id(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw id(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw id(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DD(t,c,u);Mi(t,c)}}catch(i){if(i instanceof fs)throw i;Mi(t,"network-request-failed",{message:String(i)})}}async function yf(t,e,n,r,i={}){const s=await ta(t,e,n,r,i);return"mfaPendingCredential"in s&&Mi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function xD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?j0(t.config,i):`${t.config.apiScheme}://${i}`}function Zee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ete{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),Jee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rs(t,e,r);return i.customData._tokenResponse=n,i}function Y1(t){return t!==void 0&&t.enterprise!==void 0}class tte{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Zee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function nte(t,e){return ta(t,"GET","/v2/recaptchaConfig",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rte(t,e){return ta(t,"POST","/v1/accounts:delete",e)}async function MD(t,e){return ta(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ite(t,e=!1){const n=In(t),r=await n.getIdToken(e),i=H0(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nh(Hg(i.auth_time)),issuedAtTime:nh(Hg(i.iat)),expirationTime:nh(Hg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hg(t){return Number(t)*1e3}function H0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const i=sI(n);return i?JSON.parse(i):(xd("Failed to decode base64 JWT payload"),null)}catch(i){return xd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function q1(t){const e=H0(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fs&&ste(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ste({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Vh(t,MD(n,{idToken:r}));qe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ND(s.providerUserInfo):[],a=lte(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uv(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function ate(t){const e=In(t);await Mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ND(t){return t.map(e=>{var{providerId:n}=e,r=U0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ute(t,e){const n=await OD(t,{},async()=>{const r=Jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=xD(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cte(t,e){return ta(t,"POST","/v2/accounts:revokeToken",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=q1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ute(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ql;return r&&(qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(qe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=U0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ote(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Vh(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ite(this,e)}reload(){return ate(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qi(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Vh(this,rte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:k,emailVerified:O,isAnonymous:M,providerData:N,stsTokenManager:w}=n;qe(k&&w,e,"internal-error");const E=Ql.fromJSON(this.name,w);qe(typeof k=="string",e,"internal-error"),so(f,e.name),so(d,e.name),qe(typeof O=="boolean",e,"internal-error"),qe(typeof M=="boolean",e,"internal-error"),so(p,e.name),so(g,e.name),so(_,e.name),so(A,e.name),so(S,e.name),so(x,e.name);const b=new Rs({uid:k,auth:e,email:d,emailVerified:O,displayName:f,isAnonymous:M,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:E,createdAt:S,lastLoginAt:x});return N&&Array.isArray(N)&&(b.providerData=N.map(I=>Object.assign({},I))),A&&(b._redirectEventId=A),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ql;i.updateFromServerResponse(n);const s=new Rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ND(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ql;a.updateFromIdToken(r);const l=new Rs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;function Cs(t){Hs(t instanceof Function,"Expected a class definition");let e=W1.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LD.type="NONE";const G1=LD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t,e,n){return`firebase:${t}:${e}:${n}`}class Jl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Md(this.userKey,i.apiKey,s),this.fullPersistenceKey=Md("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jl(Cs(G1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Cs(G1);const o=Md(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Rs._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Jl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Jl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($D(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BD(e))return"Blackberry";if(jD(e))return"Webos";if(z0(e))return"Safari";if((e.includes("chrome/")||VD(e))&&!e.includes("edge/"))return"Chrome";if(UD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $D(t=Hn()){return/firefox\//i.test(t)}function z0(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VD(t=Hn()){return/crios\//i.test(t)}function FD(t=Hn()){return/iemobile/i.test(t)}function UD(t=Hn()){return/android/i.test(t)}function BD(t=Hn()){return/blackberry/i.test(t)}function jD(t=Hn()){return/webos/i.test(t)}function Vm(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hte(t=Hn()){var e;return Vm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fte(){return kx()&&document.documentMode===10}function HD(t=Hn()){return Vm(t)||UD(t)||jD(t)||BD(t)||/windows phone/i.test(t)||FD(t)}function dte(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e=[]){let n;switch(t){case"Browser":n=K1(Hn());break;case"Worker":n=`${K1(Hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mte(t,e={}){return ta(t,"GET","/v2/passwordPolicy",ea(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=6;class _te{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gte,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X1(this),this.idTokenSubscription=new X1(this),this.beforeStateQueue=new pte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await MD(this,{idToken:e}),r=await Rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qi(this.app))return Promise.reject(Ns(this));const n=e?In(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qi(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qi(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mte(this),n=new _te(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cte(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Wee(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ml(t){return In(t)}class X1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fx(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yte(t){Fm=t}function YD(t){return Fm.loadJS(t)}function wte(){return Fm.recaptchaEnterpriseScript}function bte(){return Fm.gapiScript}function Tte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Ete="recaptcha-enterprise",Ate="NO_RECAPTCHA";class Ite{constructor(e){this.type=Ete,this.auth=ml(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{nte(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new tte(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Y1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Ate)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Y1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wte();l.length!==0&&(l+=a),YD(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Q1(t,e,n,r=!1){const i=new Ite(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function cv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Q1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Q1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ste(t,e){const n=em(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Kd(s,e??{}))return i;Mi(i,"already-initialized")}return n.initialize({options:e})}function Pte(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rte(t,e,n){const r=ml(t);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=qD(e),{host:o,port:a}=Cte(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Dte()}function qD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cte(t){const e=qD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:J1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:J1(o)}}}function J1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Dte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,n){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}}async function kte(t,e){return ta(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ote(t,e){return yf(t,"POST","/v1/accounts:signInWithPassword",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xte(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",ea(t,e))}async function Mte(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends Y0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cv(e,n,"signInWithPassword",Ote);case"emailLink":return xte(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cv(e,r,"signUpPassword",kte);case"emailLink":return Mte(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t,e){return yf(t,"POST","/v1/accounts:signInWithIdp",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte="http://localhost";class Za extends Y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=U0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Za(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zl(e,n)}buildRequest(){const e={requestUri:Nte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $te(t){const e=gc(_c(t)).link,n=e?gc(_c(e)).deep_link_id:null,r=gc(_c(t)).deep_link_id;return(r?gc(_c(r)).link:null)||r||n||e||t}class q0{constructor(e){var n,r,i,s,o,a;const l=gc(_c(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Lte((i=l.mode)!==null&&i!==void 0?i:null);qe(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$te(e);try{return new q0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.providerId=zu.PROVIDER_ID}static credential(e,n){return Fh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=q0.parseLink(n);return qe(r,"argument-error"),Fh._fromEmailAndCode(e,r.code,r.tenantId)}}zu.PROVIDER_ID="password";zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends WD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends wf{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.FACEBOOK_SIGN_IN_METHOD="facebook.com";_o.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.GOOGLE_SIGN_IN_METHOD="google.com";vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends wf{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends wf{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vte(t,e){return yf(t,"POST","/v1/accounts:signUp",ea(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rs._fromIdTokenResponse(e,r,i),o=Z1(r);return new el({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Z1(r);return new el({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Z1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends fs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Np.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Np(e,n,r,i)}}function GD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Np._fromErrorAndOperation(t,s,e,r):s})}async function Fte(t,e,n=!1){const r=await Vh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return el._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ute(t,e,n=!1){const{auth:r}=t;if(qi(r.app))return Promise.reject(Ns(r));const i="reauthenticate";try{const s=await Vh(t,GD(r,i,e,t),n);qe(s.idToken,r,"internal-error");const o=H0(s.idToken);qe(o,r,"internal-error");const{sub:a}=o;return qe(t.uid===a,r,"user-mismatch"),el._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e,n=!1){if(qi(t.app))return Promise.reject(Ns(t));const r="signIn",i=await GD(t,r,e),s=await el._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Bte(t,e){return KD(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t){const e=ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jte(t,e,n){if(qi(t.app))return Promise.reject(Ns(t));const r=ml(t),o=await cv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vte).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XD(t),l}),a=await el._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Hte(t,e,n){return qi(t.app)?Promise.reject(Ns(t)):Bte(In(t),zu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XD(t),r})}function zte(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function Yte(t,e,n){return In(t).beforeAuthStateChanged(e,n)}function qte(t,e,n,r){return In(t).onAuthStateChanged(e,n,r)}function Wte(t){return In(t).signOut()}const Lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(){const t=Hn();return z0(t)||Vm(t)}const Kte=1e3,Xte=10;class JD extends QD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Gte()&&dte(),this.fallbackToPolling=HD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);fte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Xte):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Kte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JD.type="LOCAL";const Qte=JD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD extends QD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZD.type="SESSION";const ek=ZD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Um(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Jte(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=W0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function ene(t){is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function tne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rne(){return tk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="firebaseLocalStorageDb",ine=1,$p="firebaseLocalStorage",rk="fbase_key";class bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bm(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function sne(){const t=indexedDB.deleteDatabase(nk);return new bf(t).toPromise()}function hv(){const t=indexedDB.open(nk,ine);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:rk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await sne(),e(await hv()))})})}async function eA(t,e,n){const r=Bm(t,!0).put({[rk]:e,value:n});return new bf(r).toPromise()}async function one(t,e){const n=Bm(t,!1).get(e),r=await new bf(n).toPromise();return r===void 0?null:r.value}function tA(t,e){const n=Bm(t,!0).delete(e);return new bf(n).toPromise()}const ane=800,lne=3;class ik{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lne)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Um._getInstance(rne()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tne(),!this.activeServiceWorker)return;this.sender=new Zte(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hv();return await eA(e,Lp,"1"),await tA(e,Lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>one(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bm(i,!1).getAll();return new bf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ane)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ik.type="LOCAL";const une=ik;new vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cne(t,e){return e?Cs(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends Y0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hne(t){return KD(t.auth,new G0(t),t.bypassAuthState)}function fne(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),Ute(n,new G0(t),t.bypassAuthState)}async function dne(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),Fte(n,new G0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hne;case"linkViaPopup":case"linkViaRedirect":return dne;case"reauthViaPopup":case"reauthViaRedirect":return fne;default:Mi(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pne=new vf(2e3,1e4);class Fl extends sk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fl.currentPopupAction&&Fl.currentPopupAction.cancel(),Fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=W0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pne.get())};e()}}Fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne="pendingRedirect",Nd=new Map;class gne extends sk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const r=await _ne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _ne(t,e){const n=wne(e),r=yne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vne(t,e){Nd.set(t._key(),e)}function yne(t){return Cs(t._redirectPersistence)}function wne(t){return Md(mne,t.config.apiKey,t.name)}async function bne(t,e,n=!1){if(qi(t.app))return Promise.reject(Ns(t));const r=ml(t),i=cne(r,e),o=await new gne(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne=10*60*1e3;class Ene{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ane(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ok(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tne&&this.cachedEventUids.clear(),this.cachedEventUids.has(nA(e))}saveEventToCache(e){this.cachedEventUids.add(nA(e)),this.lastProcessedEventTime=Date.now()}}function nA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ok({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ane(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ok(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ine(t,e={}){return ta(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pne=/^https?/;async function Rne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ine(t);for(const n of e)try{if(Cne(n))return}catch{}Mi(t,"unauthorized-domain")}function Cne(t){const e=lv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Pne.test(n))return!1;if(Sne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne=new vf(3e4,6e4);function rA(){const t=is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kne(t){return new Promise((e,n)=>{var r,i,s;function o(){rA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rA(),n(rs(t,"network-request-failed"))},timeout:Dne.get()})}if(!((i=(r=is().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=is().gapi)===null||s===void 0)&&s.load)o();else{const a=Tte("iframefcb");return is()[a]=()=>{gapi.load?o():n(rs(t,"network-request-failed"))},YD(`${bte()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function One(t){return Ld=Ld||kne(t),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne=new vf(5e3,15e3),Mne="__/auth/iframe",Nne="emulator/auth/iframe",Lne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$ne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vne(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j0(e,Nne):`https://${t.config.authDomain}/${Mne}`,r={apiKey:e.apiKey,appName:t.name,v:al},i=$ne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jh(r).slice(1)}`}async function Fne(t){const e=await One(t),n=is().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:Vne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lne,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=rs(t,"network-request-failed"),a=is().setTimeout(()=>{s(o)},xne.get());function l(){is().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Une={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bne=500,jne=600,Hne="_blank",zne="http://localhost";class iA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yne(t,e,n,r=Bne,i=jne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Une),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Hn().toLowerCase();n&&(a=VD(u)?Hne:n),$D(u)&&(e=e||zne,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(hte(u)&&a!=="_self")return qne(e||"",a),new iA(null);const f=window.open(e||"",a,c);qe(f,t,"popup-blocked");try{f.focus()}catch{}return new iA(f)}function qne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wne="__/auth/handler",Gne="emulator/auth/handler",Kne=encodeURIComponent("fac");async function sA(t,e,n,r,i,s){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:al,eventId:i};if(e instanceof WD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof wf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Kne}=${encodeURIComponent(l)}`:"";return`${Xne(t)}?${Jh(a).slice(1)}${u}`}function Xne({config:t}){return t.emulator?j0(t,Gne):`https://${t.authDomain}/${Wne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="webStorageSupport";class Qne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ek,this._completeRedirectFn=bne,this._overrideRedirectResult=vne}async _openPopup(e,n,r,i){var s;Hs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await sA(e,n,r,lv(),i);return Yne(e,o,W0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await sA(e,n,r,lv(),i);return ene(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Fne(e),r=new Ene(e);return n.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zg,{type:zg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[zg];o!==void 0&&n(!!o),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HD()||z0()||Vm()}}const Jne=Qne;var oA="@firebase/auth",aA="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ere(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tre(t){za(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zD(t)},u=new vte(r,i,s,l);return Pte(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),za(new Lo("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(r=>new Zne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(oA,aA,ere(t)),Ji(oA,aA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre=5*60,rre=uI("authIdTokenMaxAge")||nre;let lA=null;const ire=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rre)return;const i=n==null?void 0:n.token;lA!==i&&(lA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sre(t=qv()){const e=em(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ste(t,{popupRedirectResolver:Jne,persistence:[une,Qte,ek]}),r=uI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=ire(s.toString());Yte(n,o,()=>o(n.currentUser)),zte(n,a=>o(a))}}const i=oI("auth");return i&&Rte(n,`http://${i}`),n}function ore(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yte({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=rs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ore().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tre("Browser");function ak(t,e){return function(){return t.apply(e,arguments)}}const{toString:are}=Object.prototype,{getPrototypeOf:K0}=Object,jm=(t=>e=>{const n=are.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$i=t=>(t=t.toLowerCase(),e=>jm(e)===t),Hm=t=>e=>typeof e===t,{isArray:Yu}=Array,Uh=Hm("undefined");function lre(t){return t!==null&&!Uh(t)&&t.constructor!==null&&!Uh(t.constructor)&&mi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lk=$i("ArrayBuffer");function ure(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lk(t.buffer),e}const cre=Hm("string"),mi=Hm("function"),uk=Hm("number"),zm=t=>t!==null&&typeof t=="object",hre=t=>t===!0||t===!1,$d=t=>{if(jm(t)!=="object")return!1;const e=K0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fre=$i("Date"),dre=$i("File"),pre=$i("Blob"),mre=$i("FileList"),gre=t=>zm(t)&&mi(t.pipe),_re=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mi(t.append)&&((e=jm(t))==="formdata"||e==="object"&&mi(t.toString)&&t.toString()==="[object FormData]"))},vre=$i("URLSearchParams"),[yre,wre,bre,Tre]=["ReadableStream","Request","Response","Headers"].map($i),Ere=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Yu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function ck(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const hk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fk=t=>!Uh(t)&&t!==hk;function fv(){const{caseless:t}=fk(this)&&this||{},e={},n=(r,i)=>{const s=t&&ck(e,i)||i;$d(e[s])&&$d(r)?e[s]=fv(e[s],r):$d(r)?e[s]=fv({},r):Yu(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Tf(arguments[r],n);return e}const Are=(t,e,n,{allOwnKeys:r}={})=>(Tf(e,(i,s)=>{n&&mi(i)?t[s]=ak(i,n):t[s]=i},{allOwnKeys:r}),t),Ire=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Sre=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Pre=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&K0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Rre=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Cre=t=>{if(!t)return null;if(Yu(t))return t;let e=t.length;if(!uk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Dre=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&K0(Uint8Array)),kre=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Ore=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},xre=$i("HTMLFormElement"),Mre=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),uA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Nre=$i("RegExp"),dk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Tf(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Lre=t=>{dk(t,(e,n)=>{if(mi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(mi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$re=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Yu(t)?r(t):r(String(t).split(e)),n},Vre=()=>{},Fre=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Yg="abcdefghijklmnopqrstuvwxyz",cA="0123456789",pk={DIGIT:cA,ALPHA:Yg,ALPHA_DIGIT:Yg+Yg.toUpperCase()+cA},Ure=(t=16,e=pk.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Bre(t){return!!(t&&mi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const jre=t=>{const e=new Array(10),n=(r,i)=>{if(zm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Yu(r)?[]:{};return Tf(r,(o,a)=>{const l=n(o,i+1);!Uh(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Hre=$i("AsyncFunction"),zre=t=>t&&(zm(t)||mi(t))&&mi(t.then)&&mi(t.catch),Z={isArray:Yu,isArrayBuffer:lk,isBuffer:lre,isFormData:_re,isArrayBufferView:ure,isString:cre,isNumber:uk,isBoolean:hre,isObject:zm,isPlainObject:$d,isReadableStream:yre,isRequest:wre,isResponse:bre,isHeaders:Tre,isUndefined:Uh,isDate:fre,isFile:dre,isBlob:pre,isRegExp:Nre,isFunction:mi,isStream:gre,isURLSearchParams:vre,isTypedArray:Dre,isFileList:mre,forEach:Tf,merge:fv,extend:Are,trim:Ere,stripBOM:Ire,inherits:Sre,toFlatObject:Pre,kindOf:jm,kindOfTest:$i,endsWith:Rre,toArray:Cre,forEachEntry:kre,matchAll:Ore,isHTMLForm:xre,hasOwnProperty:uA,hasOwnProp:uA,reduceDescriptors:dk,freezeMethods:Lre,toObjectSet:$re,toCamelCase:Mre,noop:Vre,toFiniteNumber:Fre,findKey:ck,global:hk,isContextDefined:fk,ALPHABET:pk,generateString:Ure,isSpecCompliantForm:Bre,toJSONObject:jre,isAsyncFn:Hre,isThenable:zre};function Ze(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Z.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const mk=Ze.prototype,gk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gk[t]={value:t}});Object.defineProperties(Ze,gk);Object.defineProperty(mk,"isAxiosError",{value:!0});Ze.from=(t,e,n,r,i,s)=>{const o=Object.create(mk);return Z.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ze.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const Yre=null;function dv(t){return Z.isPlainObject(t)||Z.isArray(t)}function _k(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function hA(t,e,n){return t?t.concat(e).map(function(i,s){return i=_k(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function qre(t){return Z.isArray(t)&&!t.some(dv)}const Wre=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function Ym(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!Z.isUndefined(A[_])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Z.isDate(g))return g.toISOString();if(!l&&Z.isBlob(g))throw new Ze("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(g)||Z.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,_,A){let S=g;if(g&&!A&&typeof g=="object"){if(Z.endsWith(_,"{}"))_=r?_:_.slice(0,-2),g=JSON.stringify(g);else if(Z.isArray(g)&&qre(g)||(Z.isFileList(g)||Z.endsWith(_,"[]"))&&(S=Z.toArray(g)))return _=_k(_),S.forEach(function(k,O){!(Z.isUndefined(k)||k===null)&&e.append(o===!0?hA([_],O,s):o===null?_:_+"[]",u(k))}),!1}return dv(g)?!0:(e.append(hA(A,_,s),u(g)),!1)}const f=[],d=Object.assign(Wre,{defaultVisitor:c,convertValue:u,isVisitable:dv});function p(g,_){if(!Z.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(g),Z.forEach(g,function(S,x){(!(Z.isUndefined(S)||S===null)&&i.call(e,S,Z.isString(x)?x.trim():x,_,d))===!0&&p(S,_?_.concat(x):[x])}),f.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return p(t),e}function fA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function X0(t,e){this._pairs=[],t&&Ym(t,this,e)}const vk=X0.prototype;vk.append=function(e,n){this._pairs.push([e,n])};vk.toString=function(e){const n=e?function(r){return e.call(this,r,fA)}:fA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Gre(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yk(t,e,n){if(!e)return t;const r=n&&n.encode||Gre,i=n&&n.serialize;let s;if(i?s=i(e,n):s=Z.isURLSearchParams(e)?e.toString():new X0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class dA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const wk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kre=typeof URLSearchParams<"u"?URLSearchParams:X0,Xre=typeof FormData<"u"?FormData:null,Qre=typeof Blob<"u"?Blob:null,Jre={isBrowser:!0,classes:{URLSearchParams:Kre,FormData:Xre,Blob:Qre},protocols:["http","https","file","blob","url","data"]},Q0=typeof window<"u"&&typeof document<"u",Zre=(t=>Q0&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),eie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tie=Q0&&window.location.href||"http://localhost",nie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Q0,hasStandardBrowserEnv:Zre,hasStandardBrowserWebWorkerEnv:eie,origin:tie},Symbol.toStringTag,{value:"Module"})),Ci={...nie,...Jre};function rie(t,e){return Ym(t,new Ci.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ci.isNode&&Z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function iie(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sie(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function bk(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Z.isArray(i)?i.length:o,l?(Z.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Z.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Z.isArray(i[o])&&(i[o]=sie(i[o])),!a)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(r,i)=>{e(iie(r),i,n,0)}),n}return null}function oie(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ef={transitional:wk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Z.isObject(e);if(s&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return i?JSON.stringify(bk(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rie(e,this.formSerializer).toString();if((a=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ym(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),oie(e)):e}],transformResponse:[function(e){const n=this.transitional||Ef.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ze.from(a,Ze.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ci.classes.FormData,Blob:Ci.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{Ef.headers[t]={}});const aie=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lie=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&aie[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},pA=Symbol("internals");function fc(t){return t&&String(t).trim().toLowerCase()}function Vd(t){return t===!1||t==null?t:Z.isArray(t)?t.map(Vd):String(t)}function uie(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const cie=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qg(t,e,n,r,i){if(Z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function hie(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function fie(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Dr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=fc(l);if(!c)throw new Error("header name must be a non-empty string");const f=Z.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Vd(a))}const o=(a,l)=>Z.forEach(a,(u,c)=>s(u,c,l));if(Z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Z.isString(e)&&(e=e.trim())&&!cie(e))o(lie(e),n);else if(Z.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=fc(e),e){const r=Z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return uie(i);if(Z.isFunction(n))return n.call(this,i,r);if(Z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fc(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||qg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=fc(o),o){const a=Z.findKey(r,o);a&&(!n||qg(r,r[a],a,n))&&(delete r[a],i=!0)}}return Z.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||qg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Z.forEach(this,(i,s)=>{const o=Z.findKey(r,s);if(o){n[o]=Vd(i),delete n[s];return}const a=e?hie(s):String(s).trim();a!==s&&delete n[s],n[a]=Vd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[pA]=this[pA]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=fc(o);r[a]||(fie(i,o),r[a]=!0)}return Z.isArray(e)?e.forEach(s):s(e),this}}Dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Dr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Z.freezeMethods(Dr);function Wg(t,e){const n=this||Ef,r=e||n,i=Dr.from(r.headers);let s=r.data;return Z.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Tk(t){return!!(t&&t.__CANCEL__)}function qu(t,e,n){Ze.call(this,t??"canceled",Ze.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(qu,Ze,{__CANCEL__:!0});function Ek(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ze("Request failed with status code "+n.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function die(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function pie(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let f=s,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(d*1e3/p):void 0}}function mie(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Vp=(t,e,n=3)=>{let r=0;const i=pie(50,250);return mie(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null};f[e?"download":"upload"]=!0,t(f)},n)},gie=Ci.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=Z.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),_ie=Ci.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Z.isString(r)&&o.push("path="+r),Z.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vie(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function yie(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ak(t,e){return t&&!vie(e)?yie(t,e):e}const mA=t=>t instanceof Dr?{...t}:t;function tl(t,e){e=e||{};const n={};function r(u,c,f){return Z.isPlainObject(u)&&Z.isPlainObject(c)?Z.merge.call({caseless:f},u,c):Z.isPlainObject(c)?Z.merge({},c):Z.isArray(c)?c.slice():c}function i(u,c,f){if(Z.isUndefined(c)){if(!Z.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function s(u,c){if(!Z.isUndefined(c))return r(void 0,c)}function o(u,c){if(Z.isUndefined(c)){if(!Z.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(mA(u),mA(c),!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,d=f(t[c],e[c],c);Z.isUndefined(d)&&f!==a||(n[c]=d)}),n}const Ik=t=>{const e=tl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Dr.from(o),e.url=yk(Ak(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Z.isFormData(n)){if(Ci.hasStandardBrowserEnv||Ci.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Ci.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&gie(e.url))){const u=i&&s&&_ie.read(s);u&&o.set(i,u)}return e},wie=typeof XMLHttpRequest<"u",bie=wie&&function(t){return new Promise(function(n,r){const i=Ik(t);let s=i.data;const o=Dr.from(i.headers).normalize();let{responseType:a}=i,l;function u(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(i.method.toUpperCase(),i.url,!0),c.timeout=i.timeout;function f(){if(!c)return;const p=Dr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};Ek(function(S){n(S),u()},function(S){r(S),u()},_),c=null}"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new Ze("Request aborted",Ze.ECONNABORTED,i,c)),c=null)},c.onerror=function(){r(new Ze("Network Error",Ze.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let g=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||wk;i.timeoutErrorMessage&&(g=i.timeoutErrorMessage),r(new Ze(g,_.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,i,c)),c=null},s===void 0&&o.setContentType(null),"setRequestHeader"in c&&Z.forEach(o.toJSON(),function(g,_){c.setRequestHeader(_,g)}),Z.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),a&&a!=="json"&&(c.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&c.addEventListener("progress",Vp(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Vp(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=p=>{c&&(r(!p||p.type?new qu(null,t,c):p),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const d=die(i.url);if(d&&Ci.protocols.indexOf(d)===-1){r(new Ze("Unsupported protocol "+d+":",Ze.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Tie=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof Ze?u:new qu(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{i(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},Eie=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Aie=async function*(t,e,n){for await(const r of t)yield*Eie(ArrayBuffer.isView(r)?r:await n(String(r)),e)},gA=(t,e,n,r,i)=>{const s=Aie(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:u}=await s.next();if(l){a.close(),r();return}let c=u.byteLength;n&&n(o+=c),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},_A=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},qm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sk=qm&&typeof ReadableStream=="function",pv=qm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Iie=Sk&&(()=>{let t=!1;const e=new Request(Ci.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),vA=64*1024,mv=Sk&&!!(()=>{try{return Z.isReadableStream(new Response("").body)}catch{}})(),Fp={stream:mv&&(t=>t.body)};qm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fp[e]&&(Fp[e]=Z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ze(`Response type '${e}' is not supported`,Ze.ERR_NOT_SUPPORT,r)})})})(new Response);const Sie=async t=>{if(t==null)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Z.isArrayBufferView(t))return t.byteLength;if(Z.isURLSearchParams(t)&&(t=t+""),Z.isString(t))return(await pv(t)).byteLength},Pie=async(t,e)=>{const n=Z.toFiniteNumber(t.getContentLength());return n??Sie(e)},Rie=qm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:d}=Ik(t);u=u?(u+"").toLowerCase():"text";let[p,g]=i||s||o?Tie([i,s],o):[],_,A;const S=()=>{!_&&setTimeout(()=>{p&&p.unsubscribe()}),_=!0};let x;try{if(l&&Iie&&n!=="get"&&n!=="head"&&(x=await Pie(c,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),w;Z.isFormData(r)&&(w=N.headers.get("content-type"))&&c.setContentType(w),N.body&&(r=gA(N.body,vA,_A(x,Vp(l)),null,pv))}Z.isString(f)||(f=f?"cors":"omit"),A=new Request(e,{...d,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",withCredentials:f});let k=await fetch(A);const O=mv&&(u==="stream"||u==="response");if(mv&&(a||O)){const N={};["status","statusText","headers"].forEach(E=>{N[E]=k[E]});const w=Z.toFiniteNumber(k.headers.get("content-length"));k=new Response(gA(k.body,vA,a&&_A(w,Vp(a,!0)),O&&S,pv),N)}u=u||"text";let M=await Fp[Z.findKey(Fp,u)||"text"](k,t);return!O&&S(),g&&g(),await new Promise((N,w)=>{Ek(N,w,{data:M,headers:Dr.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:A})})}catch(k){throw S(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,t,A),{cause:k.cause||k}):Ze.from(k,k&&k.code,t,A)}}),gv={http:Yre,xhr:bie,fetch:Rie};Z.forEach(gv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yA=t=>`- ${t}`,Cie=t=>Z.isFunction(t)||t===null||t===!1,Pk={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!Cie(n)&&(r=gv[(o=String(n)).toLowerCase()],r===void 0))throw new Ze(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(yA).join(`
`):" "+yA(s[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:gv};function Gg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qu(null,t)}function wA(t){return Gg(t),t.headers=Dr.from(t.headers),t.data=Wg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Pk.getAdapter(t.adapter||Ef.adapter)(t).then(function(r){return Gg(t),r.data=Wg.call(t,t.transformResponse,r),r.headers=Dr.from(r.headers),r},function(r){return Tk(r)||(Gg(t),r&&r.response&&(r.response.data=Wg.call(t,t.transformResponse,r.response),r.response.headers=Dr.from(r.response.headers))),Promise.reject(r)})}const Rk="1.7.2",J0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{J0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const bA={};J0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Rk+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ze(i(o," has been removed"+(n?" in "+n:"")),Ze.ERR_DEPRECATED);return n&&!bA[o]&&(bA[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Die(t,e,n){if(typeof t!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ze("option "+s+" must be "+l,Ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ze("Unknown option "+s,Ze.ERR_BAD_OPTION)}}const _v={assertOptions:Die,validators:J0},oo=_v.validators;class Na{constructor(e){this.defaults=e,this.interceptors={request:new dA,response:new dA}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=tl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&_v.assertOptions(r,{silentJSONParsing:oo.transitional(oo.boolean),forcedJSONParsing:oo.transitional(oo.boolean),clarifyTimeoutError:oo.transitional(oo.boolean)},!1),i!=null&&(Z.isFunction(i)?n.paramsSerializer={serialize:i}:_v.assertOptions(i,{encode:oo.function,serialize:oo.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Z.merge(s.common,s[n.method]);s&&Z.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Dr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,f=0,d;if(!l){const g=[wA.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),d=g.length,c=Promise.resolve(n);f<d;)c=c.then(g[f++],g[f++]);return c}d=a.length;let p=n;for(f=0;f<d;){const g=a[f++],_=a[f++];try{p=g(p)}catch(A){_.call(this,A);break}}try{c=wA.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=tl(this.defaults,e);const n=Ak(e.baseURL,e.url);return yk(n,e.params,e.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(e){Na.prototype[e]=function(n,r){return this.request(tl(r||{},{method:e,url:n,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(tl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Na.prototype[e]=n(),Na.prototype[e+"Form"]=n(!0)});class Z0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new qu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Z0(function(i){e=i}),cancel:e}}}function kie(t){return function(n){return t.apply(null,n)}}function Oie(t){return Z.isObject(t)&&t.isAxiosError===!0}const vv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vv).forEach(([t,e])=>{vv[e]=t});function Ck(t){const e=new Na(t),n=ak(Na.prototype.request,e);return Z.extend(n,Na.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Ck(tl(t,i))},n}const wn=Ck(Ef);wn.Axios=Na;wn.CanceledError=qu;wn.CancelToken=Z0;wn.isCancel=Tk;wn.VERSION=Rk;wn.toFormData=Ym;wn.AxiosError=Ze;wn.Cancel=wn.CanceledError;wn.all=function(e){return Promise.all(e)};wn.spread=kie;wn.isAxiosError=Oie;wn.mergeConfig=tl;wn.AxiosHeaders=Dr;wn.formToJSON=t=>bk(Z.isHTMLForm(t)?new FormData(t):t);wn.getAdapter=Pk.getAdapter;wn.HttpStatusCode=vv;wn.default=wn;const xie="https://api.themoviedb.org/3/",Mie={accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNDRkZWY0OTZkMGMzODdmMDZiNjMyZGYzZjZjYjIwZSIsIm5iZiI6MTcxOTQ3MDM2Mi44OTUzNDksInN1YiI6IjYwNGYzM2NmODcxYjM0MDAzYzk0NDg5ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.GK8vrQP-AmlzaFayj4cNG2zwKd9XpRZdn4NnjxhNV5w"},Dk=async({path:t,method:e="get",opts:n})=>{let r=`${xie+t}`;return console.log(n),await wn({method:e,url:r,...n,headers:Mie})},Nie="modulepreload",Lie=function(t){return"/movie-record-vue-v2/"+t},TA={},Il=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=Lie(a),a in TA)return;TA[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":Nie,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},gl=Uj({history:mj("/movie-record-vue-v2/"),routes:[{path:"/:pathMatch(.*)*",redirect:"login"},{path:"/",name:"Home",component:()=>Il(()=>import("./index-BgbKHwf8.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:()=>Il(()=>import("./login-Dnqaj8vb.js"),__vite__mapDeps([2,3]))},{path:"/register",name:"register",component:()=>Il(()=>import("./register-D9tb2eIj.js"),__vite__mapDeps([4,5]))},{path:"/search",name:"search",component:()=>Il(()=>import("./search-DpcMN1d7.js"),__vite__mapDeps([6,7])),meta:{requiresAuth:!0}},{path:"/:mediaType/:mediaID",name:"searched",component:()=>Il(()=>import("./search-detail-C6XGHlVK.js"),__vite__mapDeps([8,9])),meta:{requiresAuth:!0}},{path:"/list/:id",name:"MovieDetail",component:()=>Il(()=>import("./movie-detail-1bxNUeow.js"),__vite__mapDeps([10,11])),meta:{requiresAuth:!0}}]});gl.beforeEach(async(t,e)=>{if(console.log(t.fullPath),!(t.fullPath==="/login"||t.fullPath==="/register"))try{const n=await Ks();return t.meta.requiresAuth&&n,void 0}catch{return t.fullPath==="/login"?"/login":t.fullPath==="/register"?"/register":"/login"}});const Goe=async t=>Dk({path:"search/multi",opts:t}),Koe=async(t,e)=>Dk({path:t,opts:e}),_l=N$(),Bh=sre(),Ks=async()=>new Promise((t,e)=>{qte(Bh,n=>{n?t(n.email):e(n)})}),Xoe=async(t,e)=>Hte(Bh,t,e).then(n=>{console.log(Bh,t,e);const r=n.user;console.log(r),gl.push({path:"/"})}).catch(n=>(console.log(n.code),n.code)),$ie=()=>{Wte(Bh).then(()=>{console.log("登出成功，跳回首頁"),gl.push("/login")}).catch(t=>{console.log("登出失敗",t)})},Vie=async t=>{console.log(t);const e=await Ks();if(e)try{await X$(gy(_l,`users/${e}`,"post"),{...t,createAt:new Date().getTime()})}catch(n){console.log(n)}},Qoe=(t,e)=>{jte(Bh,t,e).then(n=>{const r=n.user;WS(of(_l,"users",r.email),{uuid:r.uid,email:r.email}),console.log("成功"),gl.push("/")}).catch(n=>{console.log("error: ",n)})},Joe=async(t,e)=>{const{selectedStatusLists:n,selectedYearLists:r,selectedCountryLists:i,selectedCategoryLists:s,order:o}=e,a=await Ks(),l=[];if(console.log(s),t&&l.push(oa("type","==",t)),n.length>0){const f=n.indexOf("favorite"),d=n.indexOf("watched"),p=n.indexOf("to_be_watching");f!==-1&&l.push(oa("favorite","==",!0)),d!==-1&&l.push(oa("watched","==",!0)),p!==-1&&l.push(oa("watched","==",!1))}r.length>0&&l.push(oa("year","in",r)),i.length>0&&l.push(oa("country","in",i)),s.length>0&&l.push(oa("categoryList","array-contains-any",s));const u=US(gy(_l,`users/${a}/post`),...l,BS("createAt",o)),c=await qS(u);return console.log(c),c.docs},Fie=async t=>{const e=await Ks();return await oV(lV(mV,`images/${e}/${t.name}`),t).then(async n=>await aV(n.ref))},Zoe=async t=>{try{const e=await Ks();if(e){const n=await G$(of(_l,`users/${e}/post`,`${t}`));if(n.exists())return n.data();gl.push("/"),console.log("No such document!")}}catch(e){console.log(e)}},eae=async()=>{const t=await Ks(),e=US(gy(_l,`users/${t}/post`),BS("year","asc")),n=await qS(e),r=new Set,i=new Set,s=new Set;n.docs.forEach(u=>{r.add(u.data().year),i.add(u.data().country),u.data().categoryList.forEach(f=>{s.add(f.id)})});const o=Array.from(r),a=Array.from(i),l=Array.from(s);return{yearOptLists:o,countryOtpLists:a,categoryOtpList:l}},tae=async(t,e)=>{const n=await Ks();await WS(of(_l,`users/${n}/post/${t}`),e,{merge:!0})},nae=async t=>{const e=await Ks();await K$(of(_l,`users/${e}/post/`,t)),gl.push("/")},kk=t=>(cf("data-v-f5960341"),t=t(),hf(),t),Uie={class:"absolute inset-0 h-full overflow-auto"},Bie={class:"main-gradient relative mx-auto mt-[128px] w-[489px] rounded-[50px] border border-[#FFFFFF33] bg-black p-20"},jie=kk(()=>Te("p",{class:"text-heading-s"},"添加記錄",-1)),Hie={class:"mt-8 space-y-6"},zie={class:"space-y-3"},Yie=kk(()=>Te("i",{class:"icon-close text-[32px]"},null,-1)),qie=[Yie],Wie={__name:"add-record-modal",setup(t){const e=Gl();Me("");const n=Me(!1),r=Me({record_date:Op(new Date).format("DD-MM-YYYY"),type:"",name:"",year:"",country:"",mark:0,favorite:!1,watched:!1,postImageUrl:""}),i=Me(null),s=d=>r.value.record_date=d,o=d=>r.value.type=d,a=d=>r.value.favorite=d,l=d=>r.value.watched=d,u=d=>r.value.mark=d,c=async d=>i.value=d,f=async()=>{r.value={...r.value,watched_date:r.value.watched?Op(new Date).format("DD-MM-YYYY"):""},r.value.postImageUrl=await Fie(i.value),await Vie(r.value),console.log("added movie"),e.close("add-movie-id")};return ht(r,d=>{d.country&&d.type&&d.name&&d.year&&(n.value=!0)},{deep:!0}),(d,p)=>(se(),ot(K(NR),{"modal-id":"add-record-id",class:"absolute inset-0 bg-[#30313299]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:Tt(()=>[Te("div",Uie,[Te("div",Bie,[Te("div",null,[jie,Te("div",Hie,[we($ee,{onSelected:s,date:r.value.record_date,"onUpdate:date":p[0]||(p[0]=g=>r.value.record_date=g)},null,8,["date"]),we(VH,{onSelected:o}),we(Og,{placeholder:"名稱",text:r.value.name,"onUpdate:text":p[1]||(p[1]=g=>r.value.name=g)},null,8,["text"]),we(Og,{placeholder:"年份",text:r.value.year,"onUpdate:text":p[2]||(p[2]=g=>r.value.year=g)},null,8,["text"]),we(Og,{placeholder:"產地",text:r.value.country,"onUpdate:text":p[3]||(p[3]=g=>r.value.country=g)},null,8,["text"]),we(Yee,{category:r.value.categoryList,"onUpdate:category":p[4]||(p[4]=g=>r.value.categoryList=g)},null,8,["category"])]),we(rH,{class:"my-8",onImageData:c}),Te("div",zie,[we(EE,{title:"最愛",onSelected:a}),we(EE,{title:"已觀看",onSelected:l}),we(vH,{onSelected:u})]),we(Wj,{text:"添加",class:"mt-8",disable:n.value,onClick:p[5]||(p[5]=g=>f())},null,8,["disable"])]),Te("button",{type:"button",class:"absolute right-10 top-10",onClick:p[6]||(p[6]=g=>K(e).close("add-record-id"))},qie)])])]),_:1}))}},Gie=pf(Wie,[["__scopeId","data-v-f5960341"]]);function bs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ok(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Xr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Tu={duration:.5,overwrite:!1,delay:0},ew,rr,Ht,ui=1e8,Lt=1/ui,yv=Math.PI*2,Kie=yv/4,Xie=0,xk=Math.sqrt,Qie=Math.cos,Jie=Math.sin,Nn=function(e){return typeof e=="string"},rn=function(e){return typeof e=="function"},zs=function(e){return typeof e=="number"},tw=function(e){return typeof e>"u"},hs=function(e){return typeof e=="object"},kr=function(e){return e!==!1},nw=function(){return typeof window<"u"},sd=function(e){return rn(e)||Nn(e)},Mk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ir=Array.isArray,wv=/(?:-?\.?\d|\.)+/gi,Nk=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ul=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Kg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Lk=/[+-]=-?[.\d]+/,$k=/[^,'"\[\]\s]+/gi,Zie=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Gt,Bi,bv,rw,Jr={},Up={},Vk,Fk=function(e){return(Up=nl(e,Jr))&&$r},iw=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},jh=function(e,n){return!n&&console.warn(e)},Uk=function(e,n){return e&&(Jr[e]=n)&&Up&&(Up[e]=n)||Jr},Hh=function(){return 0},ese={suppressEvents:!0,isStart:!0,kill:!1},Fd={suppressEvents:!0,kill:!1},tse={suppressEvents:!0},sw={},xo=[],Tv={},Bk,zr={},Xg={},EA=30,Ud=[],ow="",aw=function(e){var n=e[0],r,i;if(hs(n)||rn(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=Ud.length;i--&&!Ud[i].targetTest(n););r=Ud[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new hO(e[i],r)))||e.splice(i,1);return e},La=function(e){return e._gsap||aw(ci(e))[0]._gsap},jk=function(e,n,r){return(r=e[n])&&rn(r)?e[n]():tw(r)&&e.getAttribute&&e.getAttribute(n)||r},Or=function(e,n){return(e=e.split(",")).forEach(n)||e},cn=function(e){return Math.round(e*1e5)/1e5||0},kn=function(e){return Math.round(e*1e7)/1e7||0},eu=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},nse=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},Bp=function(){var e=xo.length,n=xo.slice(0),r,i;for(Tv={},xo.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Hk=function(e,n,r,i){xo.length&&!rr&&Bp(),e.render(n,r,rr&&n<0&&(e._initted||e._startAt)),xo.length&&!rr&&Bp()},zk=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match($k).length<2?n:Nn(e)?e.trim():e},Yk=function(e){return e},yi=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},rse=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},nl=function(e,n){for(var r in n)e[r]=n[r];return e},AA=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=hs(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},jp=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},rh=function(e){var n=e.parent||Gt,r=e.keyframes?rse(ir(e.keyframes)):yi;if(kr(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},ise=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},qk=function(e,n,r,i,s){var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},Wm=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Yo=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},$a=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},sse=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Ev=function(e,n,r,i){return e._startAt&&(rr?e._startAt.revert(Fd):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},ose=function t(e){return!e||e._ts&&t(e.parent)},IA=function(e){return e._repeat?Eu(e._tTime,e=e.duration()+e._rDelay)*e:0},Eu=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},Hp=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Gm=function(e){return e._end=kn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Lt)||0))},Km=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=kn(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Gm(e),r._dirty||$a(r,e)),e},Wk=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Hp(e.rawTime(),n),(!n._dur||Af(0,n.totalDuration(),r)-n._tTime>Lt)&&n.render(r,!0)),$a(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Lt}},Yi=function(e,n,r,i){return n.parent&&Yo(n),n._start=kn((zs(r)?r:r||e!==Gt?ri(e,r,n):e._time)+n._delay),n._end=kn(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),qk(e,n,"_first","_last",e._sort?"_start":0),Av(n)||(e._recent=n),i||Wk(e,n),e._ts<0&&Km(e,e._tTime),e},Gk=function(e,n){return(Jr.ScrollTrigger||iw("scrollTrigger",n))&&Jr.ScrollTrigger.create(n,e)},Kk=function(e,n,r,i,s){if(uw(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!rr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Bk!==Yr.frame)return xo.push(e),e._lazy=[s,i],1},ase=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Av=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},lse=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&ase(e)&&!(!e._initted&&Av(e))||(e._ts<0||e._dp._ts<0)&&!Av(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=Af(0,e._tDur,n),c=Eu(l,a),e._yoyo&&c&1&&(o=1-o),c!==Eu(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||rr||i||e._zTime===Lt||!n&&e._zTime){if(!e._initted&&Kk(e,n,i,r,l))return;for(f=e._zTime,e._zTime=n||(r?Lt:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&Ev(e,n,r,!0),e._onUpdate&&!r&&Kr(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Kr(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Yo(e,1),!r&&!rr&&(Kr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},use=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},Au=function(e,n,r,i){var s=e._repeat,o=kn(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:kn(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Km(e,e._tTime=e._tDur*a),e.parent&&Gm(e),r||$a(e.parent,e),e},SA=function(e){return e instanceof _r?$a(e):Au(e,e._dur)},cse={_start:0,endTime:Hh,totalDuration:Hh},ri=function t(e,n,r){var i=e.labels,s=e._recent||cse,o=e.duration()>=ui?s.endTime(!1):e._dur,a,l,u;return Nn(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(ir(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},ih=function(e,n,r){var i=zs(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,l;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=kr(l.vars.inherit)&&l.parent;o.immediateRender=kr(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new vn(n[0],o,n[s+1])},na=function(e,n){return e||e===0?n(e):n},Af=function(e,n,r){return r<e?e:r>n?n:r},nr=function(e,n){return!Nn(e)||!(n=Zie.exec(e))?"":n[1]},hse=function(e,n,r){return na(r,function(i){return Af(e,n,i)})},Iv=[].slice,Xk=function(e,n){return e&&hs(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&hs(e[0]))&&!e.nodeType&&e!==Bi},fse=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Nn(i)&&!n||Xk(i,1)?(s=r).push.apply(s,ci(i)):r.push(i)})||r},ci=function(e,n,r){return Ht&&!n&&Ht.selector?Ht.selector(e):Nn(e)&&!r&&(bv||!Iu())?Iv.call((n||rw).querySelectorAll(e),0):ir(e)?fse(e,r):Xk(e)?Iv.call(e,0):e?[e]:[]},Sv=function(e){return e=ci(e)[0]||jh("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return ci(n,r.querySelectorAll?r:r===e?jh("Invalid scope")||rw.createElement("div"):e)}},Qk=function(e){return e.sort(function(){return .5-Math.random()})},Jk=function(e){if(rn(e))return e;var n=hs(e)?e:{each:e},r=Va(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=n.axis,c=i,f=i;return Nn(i)?c=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],f=i[1]),function(d,p,g){var _=(g||n).length,A=o[_],S,x,k,O,M,N,w,E,b;if(!A){if(b=n.grid==="auto"?0:(n.grid||[1,ui])[1],!b){for(w=-ui;w<(w=g[b++].getBoundingClientRect().left)&&b<_;);b<_&&b--}for(A=o[_]=[],S=l?Math.min(b,_)*c-.5:i%b,x=b===ui?0:l?_*f/b-.5:i/b|0,w=0,E=ui,N=0;N<_;N++)k=N%b-S,O=x-(N/b|0),A[N]=M=u?Math.abs(u==="y"?O:k):xk(k*k+O*O),M>w&&(w=M),M<E&&(E=M);i==="random"&&Qk(A),A.max=w-E,A.min=E,A.v=_=(parseFloat(n.amount)||parseFloat(n.each)*(b>_?_-1:u?u==="y"?_/b:b:Math.max(b,_/b))||0)*(i==="edges"?-1:1),A.b=_<0?s-_:s,A.u=nr(n.amount||n.each)||0,r=r&&_<0?lO(r):r}return _=(A[d]-A.min)/A.max||0,kn(A.b+(r?r(_):_)*A.v)+A.u}},Pv=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=kn(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(zs(r)?0:nr(r))}},Zk=function(e,n){var r=ir(e),i,s;return!r&&hs(e)&&(i=r=e.radius||ui,e.values?(e=ci(e.values),(s=!zs(e[0]))&&(i*=i)):e=Pv(e.increment)),na(n,r?rn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=ui,c=0,f=e.length,d,p;f--;)s?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<u&&(u=d,c=f);return c=!i||u<=i?e[c]:o,s||c===o||zs(o)?c:c+nr(o)}:Pv(e))},eO=function(e,n,r,i){return na(ir(e)?!n:r===!0?!!(r=0):!i,function(){return ir(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},dse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},pse=function(e,n){return function(r){return e(parseFloat(r))+(n||nr(r))}},mse=function(e,n,r){return nO(e,n,0,1,r)},tO=function(e,n,r){return na(r,function(i){return e[~~n(i)]})},gse=function t(e,n,r){var i=n-e;return ir(e)?tO(e,t(0,e.length),n):na(r,function(s){return(i+(s-e)%i)%i+e})},_se=function t(e,n,r){var i=n-e,s=i*2;return ir(e)?tO(e,t(0,e.length-1),n):na(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},zh=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?$k:wv),r+=e.substr(n,i-n)+eO(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},nO=function(e,n,r,i,s){var o=n-e,a=i-r;return na(s,function(l){return r+((l-e)/o*a||0)})},vse=function t(e,n,r,i){var s=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!s){var o=Nn(e),a={},l,u,c,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(ir(e)&&!ir(n)){for(c=[],f=e.length,d=f-2,u=1;u<f;u++)c.push(t(e[u-1],e[u]));f--,s=function(g){g*=f;var _=Math.min(d,~~g);return c[_](g-_)},r=n}else i||(e=nl(ir(e)?[]:{},e));if(!c){for(l in n)lw.call(a,e,l,"get",n[l]);s=function(g){return fw(g,a)||(o?e.p:e)}}}return na(r,s)},PA=function(e,n,r){var i=e.labels,s=ui,o,a,l;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Kr=function(e,n,r){var i=e.vars,s=i[n],o=Ht,a=e._ctx,l,u,c;if(s)return l=i[n+"Params"],u=i.callbackScope||e,r&&xo.length&&Bp(),a&&(Ht=a),c=l?s.apply(u,l):s.call(u),Ht=o,c},Pc=function(e){return Yo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!rr),e.progress()<1&&Kr(e,"onInterrupt"),e},Bl,rO=[],iO=function(e){if(e)if(e=!e.name&&e.default||e,nw()||e.headless){var n=e.name,r=rn(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:Hh,render:fw,add:lw,kill:Mse,modifier:xse,rawVars:0},o={targetTest:0,get:0,getSetter:hw,aliases:{},register:0};if(Iu(),e!==i){if(zr[n])return;yi(i,yi(jp(e,s),o)),nl(i.prototype,nl(s,jp(e,o))),zr[i.prop=n]=i,e.targetTest&&(Ud.push(i),sw[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Uk(n,i),e.register&&e.register($r,i,xr)}else rO.push(e)},xt=255,Rc={aqua:[0,xt,xt],lime:[0,xt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xt],navy:[0,0,128],white:[xt,xt,xt],olive:[128,128,0],yellow:[xt,xt,0],orange:[xt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xt,0,0],pink:[xt,192,203],cyan:[0,xt,xt],transparent:[xt,xt,xt,0]},Qg=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*xt+.5|0},sO=function(e,n,r){var i=e?zs(e)?[e>>16,e>>8&xt,e&xt]:0:Rc.black,s,o,a,l,u,c,f,d,p,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Rc[e])i=Rc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&xt,i&xt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&xt,e&xt]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(wv),!n)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=Qg(l+1/3,s,o),i[1]=Qg(l,s,o),i[2]=Qg(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(Nk),r&&i.length<4&&(i[3]=1),i}else i=e.match(wv)||Rc.transparent;i=i.map(Number)}return n&&!g&&(s=i[0]/xt,o=i[1]/xt,a=i[2]/xt,f=Math.max(s,o,a),d=Math.min(s,o,a),c=(f+d)/2,f===d?l=u=0:(p=f-d,u=c>.5?p/(2-f-d):p/(f+d),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},oO=function(e){var n=[],r=[],i=-1;return e.split(Mo).forEach(function(s){var o=s.match(Ul)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},RA=function(e,n,r){var i="",s=(e+i).match(Mo),o=n?"hsla(":"rgba(",a=0,l,u,c,f;if(!s)return e;if(s=s.map(function(d){return(d=sO(d,n,1))&&o+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(c=oO(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(Mo,"1").split(Ul),f=u.length-1;a<f;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:r).shift());if(!u)for(u=e.split(Mo),f=u.length-1;a<f;a++)i+=u[a]+s[a];return i+u[f]},Mo=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Rc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),yse=/hsl[a]?\(/,aO=function(e){var n=e.join(" "),r;if(Mo.lastIndex=0,Mo.test(n))return r=yse.test(n),e[1]=RA(e[1],r),e[0]=RA(e[0],r,oO(e[1])),!0},Yh,Yr=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],l,u,c,f,d,p,g=function _(A){var S=t()-i,x=A===!0,k,O,M,N;if((S>e||S<0)&&(r+=S-n),i+=S,M=i-r,k=M-o,(k>0||x)&&(N=++f.frame,d=M-f.time*1e3,f.time=M=M/1e3,o+=k+(k>=s?4:s-k),O=1),x||(l=u(_)),O)for(p=0;p<a.length;p++)a[p](M,d,N,A)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(A){return d/(1e3/(A||60))},wake:function(){Vk&&(!bv&&nw()&&(Bi=bv=window,rw=Bi.document||{},Jr.gsap=$r,(Bi.gsapVersions||(Bi.gsapVersions=[])).push($r.version),Fk(Up||Bi.GreenSockGlobals||!Bi.gsap&&Bi||{}),rO.forEach(iO)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),u=c||function(A){return setTimeout(A,o-f.time*1e3+1|0)},Yh=1,g(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),Yh=0,u=Hh},lagSmoothing:function(A,S){e=A||1/0,n=Math.min(S||33,e)},fps:function(A){s=1e3/(A||240),o=f.time*1e3+s},add:function(A,S,x){var k=S?function(O,M,N,w){A(O,M,N,w),f.remove(k)}:A;return f.remove(A),a[x?"unshift":"push"](k),Iu(),k},remove:function(A,S){~(S=a.indexOf(A))&&a.splice(S,1)&&p>=S&&p--},_listeners:a},f}(),Iu=function(){return!Yh&&Yr.wake()},dt={},wse=/^[\d.\-M][\d.\-,\s]/,bse=/["']/g,Tse=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,u;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[i]=isNaN(u)?u.replace(bse,"").trim():+u,i=l.substr(a+1).trim();return n},Ese=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},Ase=function(e){var n=(e+"").split("("),r=dt[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Tse(n[1])]:Ese(e).split(",").map(zk)):dt._CE&&wse.test(e)?dt._CE("",e):r},lO=function(e){return function(n){return 1-e(1-n)}},uO=function t(e,n){for(var r=e._first,i;r;)r instanceof _r?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Va=function(e,n){return e&&(rn(e)?e:dt[e]||Ase(e))||n},vl=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return Or(e,function(a){dt[a]=Jr[a]=s,dt[o=a.toLowerCase()]=r;for(var l in s)dt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=dt[a+"."+l]=s[l]}),s},cO=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Jg=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/yv*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*Jie((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:cO(a);return s=yv/s,l.config=function(u,c){return t(e,u,c)},l},Zg=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:cO(r);return i.config=function(s){return t(e,s)},i};Or("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;vl(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});dt.Linear.easeNone=dt.none=dt.Linear.easeIn;vl("Elastic",Jg("in"),Jg("out"),Jg());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};vl("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);vl("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});vl("Circ",function(t){return-(xk(1-t*t)-1)});vl("Sine",function(t){return t===1?1:-Qie(t*Kie)+1});vl("Back",Zg("in"),Zg("out"),Zg());dt.SteppedEase=dt.steps=Jr.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Lt;return function(a){return((i*Af(0,o,a)|0)+s)*r}}};Tu.ease=dt["quad.out"];Or("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return ow+=t+","+t+"Params,"});var hO=function(e,n){this.id=Xie++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:jk,this.set=n?n.getSetter:hw},qh=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Au(this,+n.duration,1,1),this.data=n.data,Ht&&(this._ctx=Ht,Ht.data.push(this)),Yh||Yr.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Au(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Iu(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Km(this,r),!s._dp||s.parent||Wk(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Yi(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Lt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),Hk(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+IA(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+IA(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Eu(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Lt?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Hp(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Lt?0:this._rts,this.totalTime(Af(-Math.abs(this._delay),this._tDur,s),i!==!1),Gm(this),sse(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Iu(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Lt&&(this._tTime-=Lt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Yi(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(kr(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Hp(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=tse);var i=rr;return rr=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),rr=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,SA(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,SA(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(ri(this,r),kr(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,kr(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Lt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Lt,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Lt)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=rn(r)?r:Yk,a=function(){var u=i.then;i.then=null,rn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Pc(this)},t}();yi(qh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Lt,_prom:0,_ps:!1,_rts:1});var _r=function(t){Ok(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=kr(r.sortChildren),Gt&&Yi(r.parent||Gt,bs(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&Gk(bs(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return ih(0,arguments,this),this},n.from=function(i,s,o){return ih(1,arguments,this),this},n.fromTo=function(i,s,o,a){return ih(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,rh(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new vn(i,s,ri(this,o),1),this},n.call=function(i,s,o){return Yi(this,vn.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new vn(i,o,ri(this,l)),this},n.staggerFrom=function(i,s,o,a,l,u,c){return o.runBackwards=1,rh(o).immediateRender=kr(o.immediateRender),this.staggerTo(i,s,o,a,l,u,c)},n.staggerFromTo=function(i,s,o,a,l,u,c,f){return a.startAt=o,rh(a).immediateRender=kr(a.immediateRender),this.staggerTo(i,s,a,l,u,c,f)},n.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:kn(i),f=this._zTime<0!=i<0&&(this._initted||!u),d,p,g,_,A,S,x,k,O,M,N,w;if(this!==Gt&&c>l&&i>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),d=c,O=this._start,k=this._ts,S=!k,f&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(N=this._yoyo,A=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(A*100+i,s,o);if(d=kn(c%A),c===l?(_=this._repeat,d=u):(_=~~(c/A),_&&_===c/A&&(d=u,_--),d>u&&(d=u)),M=Eu(this._tTime,A),!a&&this._tTime&&M!==_&&this._tTime-M*A-this._dur<=0&&(M=_),N&&_&1&&(d=u-d,w=1),_!==M&&!this._lock){var E=N&&M&1,b=E===(N&&_&1);if(_<M&&(E=!E),a=E?0:c%u?u:c,this._lock=1,this.render(a||(w?0:kn(_*A)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&Kr(this,"onRepeat"),this.vars.repeatRefresh&&!w&&(this.invalidate()._lock=1),a&&a!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,b&&(this._lock=2,a=E?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!w&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;uO(this,w)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=use(this,kn(a),kn(d)),x&&(c-=d-(d=x._start))),this._tTime=c,this._time=d,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!s&&!_&&(Kr(this,"onStart"),this._tTime!==c))return this;if(d>=a&&i>=0)for(p=this._first;p;){if(g=p._next,(p._act||d>=p._start)&&p._ts&&x!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,s,o),d!==this._time||!this._ts&&!S){x=0,g&&(c+=this._zTime=-Lt);break}}p=g}else{p=this._last;for(var I=i<0?i:d;p;){if(g=p._prev,(p._act||I<=p._end)&&p._ts&&x!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(I-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(I-p._start)*p._ts,s,o||rr&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!S){x=0,g&&(c+=this._zTime=I?-Lt:Lt);break}}p=g}}if(x&&!s&&(this.pause(),x.render(d>=a?0:-Lt)._zTime=d>=a?1:-1,this._ts))return this._start=O,Gm(this),this.render(i,s,o);this._onUpdate&&!s&&Kr(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(O===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Yo(this,1),!s&&!(i<0&&!a)&&(c||a||!l)&&(Kr(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(zs(s)||(s=ri(this,s,i)),!(i instanceof qh)){if(ir(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Nn(i))return this.addLabel(i,s);if(rn(i))i=vn.delayedCall(0,i);else return this}return this!==i?Yi(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ui);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof vn?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return Nn(i)?this.removeLabel(i):rn(i)?this.killTweensOf(i):(Wm(this,i),i===this._recent&&(this._recent=this._last),$a(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=kn(Yr.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=ri(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=vn.delayedCall(0,s||Hh,o);return a.data="isPause",this._hasPause=1,Yi(this,a,ri(this,i))},n.removePause=function(i){var s=this._first;for(i=ri(this,i);s;)s._start===i&&s.data==="isPause"&&Yo(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Eo!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=ci(i),l=this._first,u=zs(s),c;l;)l instanceof vn?nse(l._targets,a)&&(u?(!Eo||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=ri(o,i),l=s,u=l.startAt,c=l.onStart,f=l.onStartParams,d=l.immediateRender,p,g=vn.to(o,yi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||Lt,onStart:function(){if(o.pause(),!p){var A=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());g._dur!==A&&Au(g,A,0,1).render(g._time,!0,!0),p=1}c&&c.apply(g,f||[])}},s));return d?g.render(0):g},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,yi({startAt:{time:ri(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),PA(this,ri(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),PA(this,ri(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Lt)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return $a(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),$a(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,l=ui,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Yi(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;Au(o,o===Gt&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Gt._ts&&(Hk(Gt,Hp(i,Gt)),Bk=Yr.frame),Yr.frame>=EA){EA+=Xr.autoSleep||120;var s=Gt._first;if((!s||!s._ts)&&Xr.autoSleep&&Yr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Yr.sleep()}}},e}(qh);yi(_r.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ise=function(e,n,r,i,s,o,a){var l=new xr(this._pt,e,n,0,1,_O,null,s),u=0,c=0,f,d,p,g,_,A,S,x;for(l.b=r,l.e=i,r+="",i+="",(S=~i.indexOf("random("))&&(i=zh(i)),o&&(x=[r,i],o(x,e,n),r=x[0],i=x[1]),d=r.match(Kg)||[];f=Kg.exec(i);)g=f[0],_=i.substring(u,f.index),p?p=(p+1)%5:_.substr(-5)==="rgba("&&(p=1),g!==d[c++]&&(A=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:_||c===1?_:",",s:A,c:g.charAt(1)==="="?eu(A,g)-A:parseFloat(g)-A,m:p&&p<4?Math.round:0},u=Kg.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(Lk.test(i)||S)&&(l.e=0),this._pt=l,l},lw=function(e,n,r,i,s,o,a,l,u,c){rn(i)&&(i=i(s||0,e,o));var f=e[n],d=r!=="get"?r:rn(f)?u?e[n.indexOf("set")||!rn(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,p=rn(f)?u?Dse:mO:cw,g;if(Nn(i)&&(~i.indexOf("random(")&&(i=zh(i)),i.charAt(1)==="="&&(g=eu(d,i)+(nr(d)||0),(g||g===0)&&(i=g))),!c||d!==i||Rv)return!isNaN(d*i)&&i!==""?(g=new xr(this._pt,e,n,+d||0,i-(d||0),typeof f=="boolean"?Ose:gO,0,p),u&&(g.fp=u),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(n in e)&&iw(n,i),Ise.call(this,e,n,d,i,p,l||Xr.stringFilter,u))},Sse=function(e,n,r,i,s){if(rn(e)&&(e=sh(e,s,n,r,i)),!hs(e)||e.style&&e.nodeType||ir(e)||Mk(e))return Nn(e)?sh(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=sh(e[a],s,n,r,i);return o},fO=function(e,n,r,i,s,o){var a,l,u,c;if(zr[e]&&(a=new zr[e]).init(s,a.rawVars?n[e]:Sse(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new xr(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Bl))for(u=r._ptLookup[r._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},Eo,Rv,uw=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.runBackwards,f=i.yoyoEase,d=i.keyframes,p=i.autoRevert,g=e._dur,_=e._startAt,A=e._targets,S=e.parent,x=S&&S.data==="nested"?S.vars.targets:A,k=e._overwrite==="auto"&&!ew,O=e.timeline,M,N,w,E,b,I,P,y,T,U,F,B,j;if(O&&(!d||!s)&&(s="none"),e._ease=Va(s,Tu.ease),e._yEase=f?lO(Va(f===!0?s:f,Tu.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!O&&!!i.runBackwards,!O||d&&!i.stagger){if(y=A[0]?La(A[0]).harness:0,B=y&&i[y.prop],M=jp(i,sw),_&&(_._zTime<0&&_.progress(1),n<0&&c&&a&&!p?_.render(-1,!0):_.revert(c&&g?Fd:ese),_._lazy=0),o){if(Yo(e._startAt=vn.set(A,yi({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!_&&kr(l),startAt:null,delay:0,onUpdate:u&&function(){return Kr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(rr||!a&&!p)&&e._startAt.revert(Fd),a&&g&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(c&&g&&!_){if(n&&(a=!1),w=yi({overwrite:!1,data:"isFromStart",lazy:a&&!_&&kr(l),immediateRender:a,stagger:0,parent:S},M),B&&(w[y.prop]=B),Yo(e._startAt=vn.set(A,w)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(rr?e._startAt.revert(Fd):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Lt,Lt);else if(!n)return}for(e._pt=e._ptCache=0,l=g&&kr(l)||l&&!g,N=0;N<A.length;N++){if(b=A[N],P=b._gsap||aw(A)[N]._gsap,e._ptLookup[N]=U={},Tv[P.id]&&xo.length&&Bp(),F=x===A?N:x.indexOf(b),y&&(T=new y).init(b,B||M,e,F,x)!==!1&&(e._pt=E=new xr(e._pt,b,T.name,0,1,T.render,T,0,T.priority),T._props.forEach(function(H){U[H]=E}),T.priority&&(I=1)),!y||B)for(w in M)zr[w]&&(T=fO(w,M,e,F,b,x))?T.priority&&(I=1):U[w]=E=lw.call(e,b,w,"get",M[w],F,x,0,i.stringFilter);e._op&&e._op[N]&&e.kill(b,e._op[N]),k&&e._pt&&(Eo=e,Gt.killTweensOf(b,U,e.globalTime(n)),j=!e.parent,Eo=0),e._pt&&l&&(Tv[P.id]=1)}I&&vO(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!j,d&&n<=0&&O.render(ui,!0,!0)},Pse=function(e,n,r,i,s,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,f,d,p;if(!u)for(u=e._ptCache[n]=[],d=e._ptLookup,p=e._targets.length;p--;){if(c=d[p][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return Rv=1,e.vars[n]="+=0",uw(e,a),Rv=0,l?jh(n+" not eligible for reset"):1;u.push(c)}for(p=u.length;p--;)f=u[p],c=f._pt||f,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,f.e&&(f.e=cn(r)+nr(f.e)),f.b&&(f.b=c.s+nr(f.b))},Rse=function(e,n){var r=e[0]?La(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return n;s=nl({},n);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Cse=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(ir(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},sh=function(e,n,r,i,s){return rn(e)?e.call(n,r,i,s):Nn(e)&&~e.indexOf("random(")?zh(e):e},dO=ow+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",pO={};Or(dO+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return pO[t]=1});var vn=function(t){Ok(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:rh(i))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,g=l.keyframes,_=l.defaults,A=l.scrollTrigger,S=l.yoyoEase,x=i.parent||Gt,k=(ir(r)||Mk(r)?zs(r[0]):"length"in i)?[r]:ci(r),O,M,N,w,E,b,I,P;if(a._targets=k.length?aw(k):jh("GSAP target "+r+" not found. https://gsap.com",!Xr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,g||d||sd(u)||sd(c)){if(i=a.vars,O=a.timeline=new _r({data:"nested",defaults:_||{},targets:x&&x.data==="nested"?x.vars.targets:k}),O.kill(),O.parent=O._dp=bs(a),O._start=0,d||sd(u)||sd(c)){if(w=k.length,I=d&&Jk(d),hs(d))for(E in d)~dO.indexOf(E)&&(P||(P={}),P[E]=d[E]);for(M=0;M<w;M++)N=jp(i,pO),N.stagger=0,S&&(N.yoyoEase=S),P&&nl(N,P),b=k[M],N.duration=+sh(u,bs(a),M,b,k),N.delay=(+sh(c,bs(a),M,b,k)||0)-a._delay,!d&&w===1&&N.delay&&(a._delay=c=N.delay,a._start+=c,N.delay=0),O.to(b,N,I?I(M,b,k):0),O._ease=dt.none;O.duration()?u=c=0:a.timeline=0}else if(g){rh(yi(O.vars.defaults,{ease:"none"})),O._ease=Va(g.ease||i.ease||"none");var y=0,T,U,F;if(ir(g))g.forEach(function(B){return O.to(k,B,">")}),O.duration();else{N={};for(E in g)E==="ease"||E==="easeEach"||Cse(E,g[E],N,g.easeEach);for(E in N)for(T=N[E].sort(function(B,j){return B.t-j.t}),y=0,M=0;M<T.length;M++)U=T[M],F={ease:U.e,duration:(U.t-(M?T[M-1].t:0))/100*u},F[E]=U.v,O.to(k,F,y),y+=F.duration;O.duration()<u&&O.to({},{duration:u-O.duration()})}}u||a.duration(u=O.duration())}else a.timeline=0;return p===!0&&!ew&&(Eo=bs(a),Gt.killTweensOf(k),Eo=0),Yi(x,bs(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!g&&a._start===kn(x._time)&&kr(f)&&ose(bs(a))&&x.data!=="nested")&&(a._tTime=-Lt,a.render(Math.max(0,-c)||0)),A&&Gk(bs(a),A),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,f=i>l-Lt&&!c?l:i<Lt?0:i,d,p,g,_,A,S,x,k,O;if(!u)lse(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(d=f,k=this.timeline,this._repeat){if(_=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(_*100+i,s,o);if(d=kn(f%_),f===l?(g=this._repeat,d=u):(g=~~(f/_),g&&g===kn(f/_)&&(d=u,g--),d>u&&(d=u)),S=this._yoyo&&g&1,S&&(O=this._yEase,d=u-d),A=Eu(this._tTime,_),d===a&&!o&&this._initted&&g===A)return this._tTime=f,this;g!==A&&(k&&this._yEase&&uO(k,S),this.vars.repeatRefresh&&!S&&!this._lock&&this._time!==_&&this._initted&&(this._lock=o=1,this.render(kn(_*g),!0).invalidate()._lock=0))}if(!this._initted){if(Kk(this,c?i:d,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==A))return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(O||this._ease)(d/u),this._from&&(this.ratio=x=1-x),d&&!a&&!s&&!g&&(Kr(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(x,p.d),p=p._next;k&&k.render(i<0?i:k._dur*k._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&Ev(this,i,s,o),Kr(this,"onUpdate")),this._repeat&&g!==A&&this.vars.onRepeat&&!s&&this.parent&&Kr(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&Ev(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Yo(this,1),!s&&!(c&&!a)&&(f||a||S)&&(Kr(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,l){Yh||Yr.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||uw(this,u),c=this._ease(u/this._dur),Pse(this,i,s,o,a,c,u,l)?this.resetTo(i,s,o,a,1):(Km(this,0),this.parent||qk(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Pc(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Eo&&Eo.vars.overwrite!==!0)._first||Pc(this),this.parent&&o!==this.timeline.totalDuration()&&Au(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?ci(i):a,u=this._ptLookup,c=this._pt,f,d,p,g,_,A,S;if((!s||s==="all")&&ise(a,l))return s==="all"&&(this._pt=0),Pc(this);for(f=this._op=this._op||[],s!=="all"&&(Nn(s)&&(_={},Or(s,function(x){return _[x]=1}),s=_),s=Rse(a,s)),S=a.length;S--;)if(~l.indexOf(a[S])){d=u[S],s==="all"?(f[S]=s,g=d,p={}):(p=f[S]=f[S]||{},g=s);for(_ in g)A=d&&d[_],A&&((!("kill"in A.d)||A.d.kill(_)===!0)&&Wm(this,A,"_pt"),delete d[_]),p!=="all"&&(p[_]=1)}return this._initted&&!this._pt&&c&&Pc(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return ih(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return ih(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Gt.killTweensOf(i,s,o)},e}(qh);yi(vn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Or("staggerTo,staggerFrom,staggerFromTo",function(t){vn[t]=function(){var e=new _r,n=Iv.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var cw=function(e,n,r){return e[n]=r},mO=function(e,n,r){return e[n](r)},Dse=function(e,n,r,i){return e[n](i.fp,r)},kse=function(e,n,r){return e.setAttribute(n,r)},hw=function(e,n){return rn(e[n])?mO:tw(e[n])&&e.setAttribute?kse:cw},gO=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Ose=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},_O=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},fw=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},xse=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},Mse=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Wm(this,n,"_pt"):n.dep||(r=1),n=i;return!r},Nse=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},vO=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},xr=function(){function t(n,r,i,s,o,a,l,u,c){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||gO,this.d=l||this,this.set=u||cw,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=Nse,this.m=r,this.mt=s,this.tween=i},t}();Or(ow+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return sw[t]=1});Jr.TweenMax=Jr.TweenLite=vn;Jr.TimelineLite=Jr.TimelineMax=_r;Gt=new _r({sortChildren:!1,defaults:Tu,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Xr.stringFilter=aO;var Fa=[],Bd={},Lse=[],CA=0,$se=0,e_=function(e){return(Bd[e]||Lse).map(function(n){return n()})},Cv=function(){var e=Date.now(),n=[];e-CA>2&&(e_("matchMediaInit"),Fa.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,u;for(a in i)o=Bi.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),e_("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),CA=e,e_("matchMedia"))},yO=function(){function t(n,r){this.selector=r&&Sv(r),this.data=[],this._r=[],this.isReverted=!1,this.id=$se++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){rn(r)&&(s=i,i=r,r=rn);var o=this,a=function(){var u=Ht,c=o.selector,f;return u&&u!==o&&u.data.push(o),s&&(o.selector=Sv(s)),Ht=o,f=i.apply(o,arguments),rn(f)&&o._r.push(f),Ht=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===rn?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=Ht;Ht=null,r(this),Ht=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof vn&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=s.data.length;l--;)u=s.data[l],u instanceof _r?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof vn)&&u.revert&&u.revert(r);s._r.forEach(function(c){return c(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Fa.length;o--;)Fa[o].id===this.id&&Fa.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),Vse=function(){function t(n){this.contexts=[],this.scope=n,Ht&&Ht.data.push(this)}var e=t.prototype;return e.add=function(r,i,s){hs(r)||(r={matches:r});var o=new yO(0,s||this.scope),a=o.conditions={},l,u,c;Ht&&!o.selector&&(o.selector=Ht.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?c=1:(l=Bi.matchMedia(r[u]),l&&(Fa.indexOf(o)<0&&Fa.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(Cv):l.addEventListener("change",Cv)));return c&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),zp={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return iO(i)})},timeline:function(e){return new _r(e)},getTweensOf:function(e,n){return Gt.getTweensOf(e,n)},getProperty:function(e,n,r,i){Nn(e)&&(e=ci(e)[0]);var s=La(e||{}).get,o=r?Yk:zk;return r==="native"&&(r=""),e&&(n?o((zr[n]&&zr[n].get||s)(e,n,r,i)):function(a,l,u){return o((zr[a]&&zr[a].get||s)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=ci(e),e.length>1){var i=e.map(function(c){return $r.quickSetter(c,n,r)}),s=i.length;return function(c){for(var f=s;f--;)i[f](c)}}e=e[0]||{};var o=zr[n],a=La(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(c){var f=new o;Bl._pt=0,f.init(e,r?c+r:c,Bl,0,[e]),f.render(1,f),Bl._pt&&fw(1,Bl)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,n,r){var i,s=$r.to(e,nl((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),o=function(l,u,c){return s.resetTo(n,l,u,c)};return o.tween=s,o},isTweening:function(e){return Gt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Va(e.ease,Tu.ease)),AA(Tu,e||{})},config:function(e){return AA(Xr,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!zr[a]&&!Jr[a]&&jh(n+" effect requires "+a+" plugin.")}),Xg[n]=function(a,l,u){return r(ci(a),yi(l||{},s),u)},o&&(_r.prototype[n]=function(a,l,u){return this.add(Xg[n](a,hs(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){dt[e]=Va(n)},parseEase:function(e,n){return arguments.length?Va(e,n):dt},getById:function(e){return Gt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new _r(e),i,s;for(r.smoothChildTiming=kr(e.smoothChildTiming),Gt.remove(r),r._dp=0,r._time=r._tTime=Gt._time,i=Gt._first;i;)s=i._next,(n||!(!i._dur&&i instanceof vn&&i.vars.onComplete===i._targets[0]))&&Yi(r,i,i._start-i._delay),i=s;return Yi(Gt,r,0),r},context:function(e,n){return e?new yO(e,n):Ht},matchMedia:function(e){return new Vse(e)},matchMediaRefresh:function(){return Fa.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||Cv()},addEventListener:function(e,n){var r=Bd[e]||(Bd[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Bd[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:gse,wrapYoyo:_se,distribute:Jk,random:eO,snap:Zk,normalize:mse,getUnit:nr,clamp:hse,splitColor:sO,toArray:ci,selector:Sv,mapRange:nO,pipe:dse,unitize:pse,interpolate:vse,shuffle:Qk},install:Fk,effects:Xg,ticker:Yr,updateRoot:_r.updateRoot,plugins:zr,globalTimeline:Gt,core:{PropTween:xr,globals:Uk,Tween:vn,Timeline:_r,Animation:qh,getCache:La,_removeLinkedListItem:Wm,reverting:function(){return rr},context:function(e){return e&&Ht&&(Ht.data.push(e),e._ctx=Ht),Ht},suppressOverwrites:function(e){return ew=e}}};Or("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return zp[t]=vn[t]});Yr.add(_r.updateRoot);Bl=zp.to({},{duration:0});var Fse=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},Use=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Fse(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},t_=function(e,n){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(Nn(s)&&(l={},Or(s,function(c){return l[c]=1}),s=l),n){l={};for(u in s)l[u]=n(s[u]);s=l}Use(a,s)}}}},$r=zp.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)rr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},t_("roundProps",Pv),t_("modifiers"),t_("snap",Zk))||zp;vn.version=_r.version=$r.version="3.12.5";Vk=1;nw()&&Iu();dt.Power0;dt.Power1;dt.Power2;dt.Power3;dt.Power4;dt.Linear;dt.Quad;dt.Cubic;dt.Quart;dt.Quint;dt.Strong;dt.Elastic;dt.Back;dt.SteppedEase;dt.Bounce;dt.Sine;dt.Expo;dt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var DA,Ao,tu,dw,Ia,kA,pw,Bse=function(){return typeof window<"u"},Ys={},ga=180/Math.PI,nu=Math.PI/180,Sl=Math.atan2,OA=1e8,mw=/([A-Z])/g,jse=/(left|right|width|margin|padding|x)/i,Hse=/[\s,\(]\S/,Xi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Dv=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},zse=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Yse=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},qse=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},wO=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},bO=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Wse=function(e,n,r){return e.style[n]=r},Gse=function(e,n,r){return e.style.setProperty(n,r)},Kse=function(e,n,r){return e._gsap[n]=r},Xse=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},Qse=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Jse=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},Kt="transform",Mr=Kt+"Origin",Zse=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in Ys&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Xi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Ts(i,a)}):this.tfm[e]=o.x?o[e]:Ts(i,e),e===Mr&&(this.tfm.zOrigin=o.zOrigin);else return Xi.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(Kt)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Mr,n,"")),e=Kt}(s||n)&&this.props.push(e,n,s[e])},TO=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},eoe=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(mw,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=pw(),(!s||!s.isStart)&&!r[Kt]&&(TO(r),i.zOrigin&&r[Mr]&&(r[Mr]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},EO=function(e,n){var r={target:e,props:[],revert:eoe,save:Zse};return e._gsap||$r.core.getCache(e),n&&n.split(",").forEach(function(i){return r.save(i)}),r},AO,kv=function(e,n){var r=Ao.createElementNS?Ao.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ao.createElement(e);return r&&r.style?r:Ao.createElement(e)},ss=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(mw,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Su(n)||n,1)||""},xA="O,Moz,ms,Ms,Webkit".split(","),Su=function(e,n,r){var i=n||Ia,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(xA[o]+e in s););return o<0?null:(o===3?"ms":o>=0?xA[o]:"")+e},Ov=function(){Bse()&&window.document&&(DA=window,Ao=DA.document,tu=Ao.documentElement,Ia=kv("div")||{style:{}},kv("div"),Kt=Su(Kt),Mr=Kt+"Origin",Ia.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",AO=!!Su("perspective"),pw=$r.core.reverting,dw=1)},n_=function t(e){var n=kv("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(tu.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),tu.removeChild(n),this.style.cssText=s,o},MA=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},IO=function(e){var n;try{n=e.getBBox()}catch{n=n_.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===n_||(n=n_.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+MA(e,["x","cx","x1"])||0,y:+MA(e,["y","cy","y1"])||0,width:0,height:0}:n},SO=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&IO(e))},rl=function(e,n){if(n){var r=e.style,i;n in Ys&&n!==Mr&&(n=Kt),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(mw,"-$1").toLowerCase())):r.removeAttribute(n)}},Io=function(e,n,r,i,s,o){var a=new xr(e._pt,n,r,0,1,o?bO:wO);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},NA={deg:1,rad:1,turn:1},toe={grid:1,flex:1},qo=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Ia.style,l=jse.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,d=i==="px",p=i==="%",g,_,A,S;if(i===o||!s||NA[i]||NA[o])return s;if(o!=="px"&&!d&&(s=t(e,n,r,"px")),S=e.getCTM&&SO(e),(p||o==="%")&&(Ys[n]||~n.indexOf("adius")))return g=S?e.getBBox()[l?"width":"height"]:e[c],cn(p?s/g*f:s/100*g);if(a[l?"width":"height"]=f+(d?o:i),_=~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,S&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===Ao||!_.appendChild)&&(_=Ao.body),A=_._gsap,A&&p&&A.width&&l&&A.time===Yr.time&&!A.uncache)return cn(s/A.width*f);if(p&&(n==="height"||n==="width")){var x=e.style[n];e.style[n]=f+i,g=e[c],x?e.style[n]=x:rl(e,n)}else(p||o==="%")&&!toe[ss(_,"display")]&&(a.position=ss(e,"position")),_===e&&(a.position="static"),_.appendChild(Ia),g=Ia[c],_.removeChild(Ia),a.position="absolute";return l&&p&&(A=La(_),A.time=Yr.time,A.width=_[c]),cn(d?g*s/f:g&&s?f/g*s:0)},Ts=function(e,n,r,i){var s;return dw||Ov(),n in Xi&&n!=="transform"&&(n=Xi[n],~n.indexOf(",")&&(n=n.split(",")[0])),Ys[n]&&n!=="transform"?(s=Gh(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:qp(ss(e,Mr))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Yp[n]&&Yp[n](e,n,r)||ss(e,n)||jk(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?qo(e,n,s,r)+r:s},noe=function(e,n,r,i){if(!r||r==="none"){var s=Su(n,e,1),o=s&&ss(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=ss(e,"borderTopColor"))}var a=new xr(this._pt,e.style,n,0,1,_O),l=0,u=0,c,f,d,p,g,_,A,S,x,k,O,M;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(_=e.style[n],e.style[n]=i,i=ss(e,n)||i,_?e.style[n]=_:rl(e,n)),c=[r,i],aO(c),r=c[0],i=c[1],d=r.match(Ul)||[],M=i.match(Ul)||[],M.length){for(;f=Ul.exec(i);)A=f[0],x=i.substring(l,f.index),g?g=(g+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(g=1),A!==(_=d[u++]||"")&&(p=parseFloat(_)||0,O=_.substr((p+"").length),A.charAt(1)==="="&&(A=eu(p,A)+O),S=parseFloat(A),k=A.substr((S+"").length),l=Ul.lastIndex-k.length,k||(k=k||Xr.units[n]||O,l===i.length&&(i+=k,a.e+=k)),O!==k&&(p=qo(e,n,_,k)||0),a._pt={_next:a._pt,p:x||u===1?x:",",s:p,c:S-p,m:g&&g<4||n==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=n==="display"&&i==="none"?bO:wO;return Lk.test(i)&&(a.e=0),this._pt=a,a},LA={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},roe=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=LA[r]||r,n[1]=LA[i]||i,n.join(" ")},ioe=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],Ys[a]&&(l=1,a=a==="transformOrigin"?Mr:Kt),rl(r,a);l&&(rl(r,Kt),o&&(o.svg&&r.removeAttribute("transform"),Gh(r,1),o.uncache=1,TO(i)))}},Yp={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new xr(e._pt,n,r,0,0,ioe);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Wh=[1,0,0,1,0,0],PO={},RO=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},$A=function(e){var n=ss(e,Kt);return RO(n)?Wh:n.substr(7).match(Nk).map(cn)},gw=function(e,n){var r=e._gsap||La(e),i=e.style,s=$A(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Wh:s):(s===Wh&&!e.offsetParent&&e!==tu&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,tu.appendChild(e)),s=$A(e),l?i.display=l:rl(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):tu.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},xv=function(e,n,r,i,s,o){var a=e._gsap,l=s||gw(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],g=l[1],_=l[2],A=l[3],S=l[4],x=l[5],k=n.split(" "),O=parseFloat(k[0])||0,M=parseFloat(k[1])||0,N,w,E,b;r?l!==Wh&&(w=p*A-g*_)&&(E=O*(A/w)+M*(-_/w)+(_*x-A*S)/w,b=O*(-g/w)+M*(p/w)-(p*x-g*S)/w,O=E,M=b):(N=IO(e),O=N.x+(~k[0].indexOf("%")?O/100*N.width:O),M=N.y+(~(k[1]||k[0]).indexOf("%")?M/100*N.height:M)),i||i!==!1&&a.smooth?(S=O-u,x=M-c,a.xOffset=f+(S*p+x*_)-S,a.yOffset=d+(S*g+x*A)-x):a.xOffset=a.yOffset=0,a.xOrigin=O,a.yOrigin=M,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[Mr]="0px 0px",o&&(Io(o,a,"xOrigin",u,O),Io(o,a,"yOrigin",c,M),Io(o,a,"xOffset",f,a.xOffset),Io(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",O+" "+M)},Gh=function(e,n){var r=e._gsap||new hO(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=ss(e,Mr)||"0",c,f,d,p,g,_,A,S,x,k,O,M,N,w,E,b,I,P,y,T,U,F,B,j,H,ee,R,ue,te,_e,me,Ce;return c=f=d=_=A=S=x=k=O=0,p=g=1,r.svg=!!(e.getCTM&&SO(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Kt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Kt]!=="none"?l[Kt]:"")),i.scale=i.rotate=i.translate="none"),w=gw(e,r.svg),r.svg&&(r.uncache?(H=e.getBBox(),u=r.xOrigin-H.x+"px "+(r.yOrigin-H.y)+"px",j=""):j=!n&&e.getAttribute("data-svg-origin"),xv(e,j||u,!!j||r.originIsAbsolute,r.smooth!==!1,w)),M=r.xOrigin||0,N=r.yOrigin||0,w!==Wh&&(P=w[0],y=w[1],T=w[2],U=w[3],c=F=w[4],f=B=w[5],w.length===6?(p=Math.sqrt(P*P+y*y),g=Math.sqrt(U*U+T*T),_=P||y?Sl(y,P)*ga:0,x=T||U?Sl(T,U)*ga+_:0,x&&(g*=Math.abs(Math.cos(x*nu))),r.svg&&(c-=M-(M*P+N*T),f-=N-(M*y+N*U))):(Ce=w[6],_e=w[7],R=w[8],ue=w[9],te=w[10],me=w[11],c=w[12],f=w[13],d=w[14],E=Sl(Ce,te),A=E*ga,E&&(b=Math.cos(-E),I=Math.sin(-E),j=F*b+R*I,H=B*b+ue*I,ee=Ce*b+te*I,R=F*-I+R*b,ue=B*-I+ue*b,te=Ce*-I+te*b,me=_e*-I+me*b,F=j,B=H,Ce=ee),E=Sl(-T,te),S=E*ga,E&&(b=Math.cos(-E),I=Math.sin(-E),j=P*b-R*I,H=y*b-ue*I,ee=T*b-te*I,me=U*I+me*b,P=j,y=H,T=ee),E=Sl(y,P),_=E*ga,E&&(b=Math.cos(E),I=Math.sin(E),j=P*b+y*I,H=F*b+B*I,y=y*b-P*I,B=B*b-F*I,P=j,F=H),A&&Math.abs(A)+Math.abs(_)>359.9&&(A=_=0,S=180-S),p=cn(Math.sqrt(P*P+y*y+T*T)),g=cn(Math.sqrt(B*B+Ce*Ce)),E=Sl(F,B),x=Math.abs(E)>2e-4?E*ga:0,O=me?1/(me<0?-me:me):0),r.svg&&(j=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!RO(ss(e,Kt)),j&&e.setAttribute("transform",j))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(p*=-1,x+=_<=0?180:-180,_+=_<=0?180:-180):(g*=-1,x+=x<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=cn(p),r.scaleY=cn(g),r.rotation=cn(_)+a,r.rotationX=cn(A)+a,r.rotationY=cn(S)+a,r.skewX=x+a,r.skewY=k+a,r.transformPerspective=O+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[Mr]=qp(u)),r.xOffset=r.yOffset=0,r.force3D=Xr.force3D,r.renderTransform=r.svg?ooe:AO?CO:soe,r.uncache=0,r},qp=function(e){return(e=e.split(" "))[0]+" "+e[1]},r_=function(e,n,r){var i=nr(n);return cn(parseFloat(n)+parseFloat(qo(e,"x",r+"px",i)))+i},soe=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,CO(e,n)},fa="0deg",dc="0px",da=") ",CO=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,g=r.scaleX,_=r.scaleY,A=r.transformPerspective,S=r.force3D,x=r.target,k=r.zOrigin,O="",M=S==="auto"&&e&&e!==1||S===!0;if(k&&(f!==fa||c!==fa)){var N=parseFloat(c)*nu,w=Math.sin(N),E=Math.cos(N),b;N=parseFloat(f)*nu,b=Math.cos(N),o=r_(x,o,w*b*-k),a=r_(x,a,-Math.sin(N)*-k),l=r_(x,l,E*b*-k+k)}A!==dc&&(O+="perspective("+A+da),(i||s)&&(O+="translate("+i+"%, "+s+"%) "),(M||o!==dc||a!==dc||l!==dc)&&(O+=l!==dc||M?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+da),u!==fa&&(O+="rotate("+u+da),c!==fa&&(O+="rotateY("+c+da),f!==fa&&(O+="rotateX("+f+da),(d!==fa||p!==fa)&&(O+="skew("+d+", "+p+da),(g!==1||_!==1)&&(O+="scale("+g+", "+_+da),x.style[Kt]=O||"translate(0, 0)"},ooe=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,g=r.xOrigin,_=r.yOrigin,A=r.xOffset,S=r.yOffset,x=r.forceCSS,k=parseFloat(o),O=parseFloat(a),M,N,w,E,b;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=nu,u*=nu,M=Math.cos(l)*f,N=Math.sin(l)*f,w=Math.sin(l-u)*-d,E=Math.cos(l-u)*d,u&&(c*=nu,b=Math.tan(u-c),b=Math.sqrt(1+b*b),w*=b,E*=b,c&&(b=Math.tan(c),b=Math.sqrt(1+b*b),M*=b,N*=b)),M=cn(M),N=cn(N),w=cn(w),E=cn(E)):(M=f,E=d,N=w=0),(k&&!~(o+"").indexOf("px")||O&&!~(a+"").indexOf("px"))&&(k=qo(p,"x",o,"px"),O=qo(p,"y",a,"px")),(g||_||A||S)&&(k=cn(k+g-(g*M+_*w)+A),O=cn(O+_-(g*N+_*E)+S)),(i||s)&&(b=p.getBBox(),k=cn(k+i/100*b.width),O=cn(O+s/100*b.height)),b="matrix("+M+","+N+","+w+","+E+","+k+","+O+")",p.setAttribute("transform",b),x&&(p.style[Kt]=b)},aoe=function(e,n,r,i,s){var o=360,a=Nn(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?ga:1),u=l-i,c=i+u+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*OA)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*OA)%o-~~(u/o)*o)),e._pt=d=new xr(e._pt,n,r,i,u,zse),d.e=c,d.u="deg",e._props.push(r),d},VA=function(e,n){for(var r in n)e[r]=n[r];return e},loe=function(e,n,r){var i=VA({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,d,p,g;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Kt]=n,a=Gh(r,1),rl(r,Kt),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Kt],o[Kt]=n,a=Gh(r,1),o[Kt]=u);for(l in Ys)u=i[l],c=a[l],u!==c&&s.indexOf(l)<0&&(p=nr(u),g=nr(c),f=p!==g?qo(r,l,u,g):parseFloat(u),d=parseFloat(c),e._pt=new xr(e._pt,a,l,f,d-f,Dv),e._pt.u=g||0,e._props.push(l));VA(a,i)};Or("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Yp[e>1?"border"+t:t]=function(a,l,u,c,f){var d,p;if(arguments.length<4)return d=o.map(function(g){return Ts(a,g,u)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(c+"").split(" "),p={},o.forEach(function(g,_){return p[g]=d[_]=d[_]||d[(_-1)/2|0]}),a.init(l,p,f)}});var DO={name:"css",register:Ov,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,d,p,g,_,A,S,x,k,O,M,N,w,E;dw||Ov(),this.styles=this.styles||EO(e),E=this.styles.props,this.tween=r;for(_ in n)if(_!=="autoRound"&&(c=n[_],!(zr[_]&&fO(_,n,r,i,e,s)))){if(p=typeof c,g=Yp[_],p==="function"&&(c=c.call(r,i,e,s),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=zh(c)),g)g(this,e,_,c,r)&&(w=1);else if(_.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(_)+"").trim(),c+="",Mo.lastIndex=0,Mo.test(u)||(A=nr(u),S=nr(c)),S?A!==S&&(u=qo(e,_,u,S)+S):A&&(c+=A),this.add(a,"setProperty",u,c,i,s,0,0,_),o.push(_),E.push(_,0,a[_]);else if(p!=="undefined"){if(l&&_ in l?(u=typeof l[_]=="function"?l[_].call(r,i,e,s):l[_],Nn(u)&&~u.indexOf("random(")&&(u=zh(u)),nr(u+"")||u==="auto"||(u+=Xr.units[_]||nr(Ts(e,_))||""),(u+"").charAt(1)==="="&&(u=Ts(e,_))):u=Ts(e,_),d=parseFloat(u),x=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),x&&(c=c.substr(2)),f=parseFloat(c),_ in Xi&&(_==="autoAlpha"&&(d===1&&Ts(e,"visibility")==="hidden"&&f&&(d=0),E.push("visibility",0,a.visibility),Io(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),_!=="scale"&&_!=="transform"&&(_=Xi[_],~_.indexOf(",")&&(_=_.split(",")[0]))),k=_ in Ys,k){if(this.styles.save(_),O||(M=e._gsap,M.renderTransform&&!n.parseTransform||Gh(e,n.parseTransform),N=n.smoothOrigin!==!1&&M.smooth,O=this._pt=new xr(this._pt,a,Kt,0,1,M.renderTransform,M,0,-1),O.dep=1),_==="scale")this._pt=new xr(this._pt,M,"scaleY",M.scaleY,(x?eu(M.scaleY,x+f):f)-M.scaleY||0,Dv),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){E.push(Mr,0,a[Mr]),c=roe(c),M.svg?xv(e,c,0,N,0,this):(S=parseFloat(c.split(" ")[2])||0,S!==M.zOrigin&&Io(this,M,"zOrigin",M.zOrigin,S),Io(this,a,_,qp(u),qp(c)));continue}else if(_==="svgOrigin"){xv(e,c,1,N,0,this);continue}else if(_ in PO){aoe(this,M,_,d,x?eu(d,x+c):c);continue}else if(_==="smoothOrigin"){Io(this,M,"smooth",M.smooth,c);continue}else if(_==="force3D"){M[_]=c;continue}else if(_==="transform"){loe(this,c,e);continue}}else _ in a||(_=Su(_)||_);if(k||(f||f===0)&&(d||d===0)&&!Hse.test(c)&&_ in a)A=(u+"").substr((d+"").length),f||(f=0),S=nr(c)||(_ in Xr.units?Xr.units[_]:A),A!==S&&(d=qo(e,_,u,S)),this._pt=new xr(this._pt,k?M:a,_,d,(x?eu(d,x+f):f)-d,!k&&(S==="px"||_==="zIndex")&&n.autoRound!==!1?qse:Dv),this._pt.u=S||0,A!==S&&S!=="%"&&(this._pt.b=u,this._pt.r=Yse);else if(_ in a)noe.call(this,e,_,u,x?x+c:c);else if(_ in e)this.add(e,_,u||e[_],x?x+c:c,i,s);else if(_!=="parseTransform"){iw(_,c);continue}k||(_ in a?E.push(_,0,a[_]):E.push(_,1,u||e[_])),o.push(_)}}w&&vO(this)},render:function(e,n){if(n.tween._time||!pw())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Ts,aliases:Xi,getSetter:function(e,n,r){var i=Xi[n];return i&&i.indexOf(",")<0&&(n=i),n in Ys&&n!==Mr&&(e._gsap.x||Ts(e,"x"))?r&&kA===r?n==="scale"?Xse:Kse:(kA=r||{})&&(n==="scale"?Qse:Jse):e.style&&!tw(e.style[n])?Wse:~n.indexOf("-")?Gse:hw(e,n)},core:{_removeProperty:rl,_getMatrix:gw}};$r.utils.checkPrefix=Su;$r.core.getStyleSaver=EO;(function(t,e,n,r){var i=Or(t+","+e+","+n,function(s){Ys[s]=1});Or(e,function(s){Xr.units[s]="deg",PO[s]=1}),Xi[i[13]]=t+","+e,Or(r,function(s){var o=s.split(":");Xi[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Or("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Xr.units[t]="px"});$r.registerPlugin(DO);var Wp=$r.registerPlugin(DO)||$r;Wp.core.Tween;const If=t=>(cf("data-v-c9358cf0"),t=t(),hf(),t),uoe={class:"container py-6 transition-all duration-500 md:py-8"},coe={class:"relative flex h-[32px] justify-between md:h-[48px]"},hoe=If(()=>Te("img",{src:zj,alt:"",class:"size-full"},null,-1)),foe={class:"hidden space-x-10 md:flex"},doe=If(()=>Te("i",{class:"icon-plus-square"},null,-1)),poe=If(()=>Te("i",{class:"icon-search"},null,-1)),moe=If(()=>Te("i",{class:"icon-sign-in"},null,-1)),goe=If(()=>Te("button",{class:"flex items-center md:hidden"},[Te("i",{class:"icon-mobile-menu !text-[16px]"})],-1)),_oe={__name:"the-header",setup(t){const e=p4({component:Gie,attrs:{}}),n=()=>{e.open(),console.log("test open")};let r=Wp.timeline();const i=()=>{r.fromTo("#logo",{x:-100,opacity:0},{duration:1,opacity:1,x:0}),r.fromTo(".an-btn",{x:100,opacity:0},{duration:.5,opacity:1,stagger:.2,x:0},"-=0.5")};return Zr(()=>{i()}),(s,o)=>{const a=Ei("router-link"),l=Ei("routerLink");return se(),Se("div",uoe,[Te("div",coe,[we(a,{to:"/",class:"relative",id:"logo"},{default:Tt(()=>[hoe]),_:1}),Te("div",foe,[Te("button",{type:"button",class:"an-btn flex items-center gap-x-2 hover:text-primary",onClick:o[0]||(o[0]=u=>n())},[doe,wr(" 添加 ")]),we(l,{to:"/search",class:"an-btn flex items-center gap-x-2 hover:text-primary"},{default:Tt(()=>[poe,wr(" 搜尋 ")]),_:1}),Te("button",{type:"button",class:"an-btn flex items-center gap-x-[10px] rounded-lg border border-primary px-6 py-2 text-primary",onClick:o[1]||(o[1]=u=>K($ie)())},[moe,wr(" 登出 ")])]),goe])])}}},voe=pf(_oe,[["__scopeId","data-v-c9358cf0"]]);function yoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function woe(t,e,n){return e&&yoe(t.prototype,e),t}/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Un,jd,qr,So,Po,ru,kO,_a,oh,OO,Ds,bi,xO,MO=function(){return Un||typeof window<"u"&&(Un=window.gsap)&&Un.registerPlugin&&Un},NO=1,jl=[],st=[],os=[],ah=Date.now,Mv=function(e,n){return n},boe=function(){var e=oh.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,st),i.push.apply(i,os),st=r,os=i,Mv=function(o,a){return n[o](a)}},No=function(e,n){return~os.indexOf(e)&&os[os.indexOf(e)+1][n]},lh=function(e){return!!~OO.indexOf(e)},hr=function(e,n,r,i,s){return e.addEventListener(n,r,{passive:i!==!1,capture:!!s})},ur=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},od="scrollLeft",ad="scrollTop",Nv=function(){return Ds&&Ds.isPressed||st.cache++},Gp=function(e,n){var r=function i(s){if(s||s===0){NO&&(qr.history.scrollRestoration="manual");var o=Ds&&Ds.isPressed;s=i.v=Math.round(s)||(Ds&&Ds.iOS?1:0),e(s),i.cacheID=st.cache,o&&Mv("ss",s)}else(n||st.cache!==i.cacheID||Mv("ref"))&&(i.cacheID=st.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},vr={s:od,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Gp(function(t){return arguments.length?qr.scrollTo(t,En.sc()):qr.pageXOffset||So[od]||Po[od]||ru[od]||0})},En={s:ad,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:vr,sc:Gp(function(t){return arguments.length?qr.scrollTo(vr.sc(),t):qr.pageYOffset||So[ad]||Po[ad]||ru[ad]||0})},Er=function(e,n){return(n&&n._ctx&&n._ctx.selector||Un.utils.toArray)(e)[0]||(typeof e=="string"&&Un.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Wo=function(e,n){var r=n.s,i=n.sc;lh(e)&&(e=So.scrollingElement||Po);var s=st.indexOf(e),o=i===En.sc?1:2;!~s&&(s=st.push(e)-1),st[s+o]||hr(e,"scroll",Nv);var a=st[s+o],l=a||(st[s+o]=Gp(No(e,r),!0)||(lh(e)?i:Gp(function(u){return arguments.length?e[r]=u:e[r]})));return l.target=e,a||(l.smooth=Un.getProperty(e,"scrollBehavior")==="smooth"),l},Lv=function(e,n,r){var i=e,s=e,o=ah(),a=o,l=n||50,u=Math.max(500,l*3),c=function(g,_){var A=ah();_||A-o>l?(s=i,i=g,a=o,o=A):r?i+=g:i=s+(g-s)/(A-a)*(o-a)},f=function(){s=i=r?0:i,a=o=0},d=function(g){var _=a,A=s,S=ah();return(g||g===0)&&g!==i&&c(g),o===a||S-a>u?0:(i+(r?A:-A))/((r?S:o)-_)*1e3};return{update:c,reset:f,getVelocity:d}},pc=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},FA=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},LO=function(){oh=Un.core.globals().ScrollTrigger,oh&&oh.core&&boe()},$O=function(e){return Un=e||MO(),!jd&&Un&&typeof document<"u"&&document.body&&(qr=window,So=document,Po=So.documentElement,ru=So.body,OO=[qr,So,Po,ru],Un.utils.clamp,xO=Un.core.context||function(){},_a="onpointerenter"in ru?"pointer":"mouse",kO=fn.isTouch=qr.matchMedia&&qr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in qr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,bi=fn.eventTypes=("ontouchstart"in Po?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Po?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return NO=0},500),LO(),jd=1),jd};vr.op=En;st.cache=0;var fn=function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){jd||$O(Un)||console.warn("Please gsap.registerPlugin(Observer)"),oh||LO();var i=r.tolerance,s=r.dragMinimum,o=r.type,a=r.target,l=r.lineHeight,u=r.debounce,c=r.preventDefault,f=r.onStop,d=r.onStopDelay,p=r.ignore,g=r.wheelSpeed,_=r.event,A=r.onDragStart,S=r.onDragEnd,x=r.onDrag,k=r.onPress,O=r.onRelease,M=r.onRight,N=r.onLeft,w=r.onUp,E=r.onDown,b=r.onChangeX,I=r.onChangeY,P=r.onChange,y=r.onToggleX,T=r.onToggleY,U=r.onHover,F=r.onHoverEnd,B=r.onMove,j=r.ignoreCheck,H=r.isNormalizer,ee=r.onGestureStart,R=r.onGestureEnd,ue=r.onWheel,te=r.onEnable,_e=r.onDisable,me=r.onClick,Ce=r.scrollSpeed,De=r.capture,z=r.allowClicks,ae=r.lockAxis,W=r.onLockAxis;this.target=a=Er(a)||Po,this.vars=r,p&&(p=Un.utils.toArray(p)),i=i||1e-9,s=s||0,g=g||1,Ce=Ce||1,o=o||"wheel,touch,pointer",u=u!==!1,l||(l=parseFloat(qr.getComputedStyle(ru).lineHeight)||22);var ne,pe,Re,D,L,Y,Q,$=this,he=0,de=0,le=r.passive||!c,oe=Wo(a,vr),ie=Wo(a,En),ge=oe(),Pe=ie(),ve=~o.indexOf("touch")&&!~o.indexOf("pointer")&&bi[0]==="pointerdown",Ie=lh(a),be=a.ownerDocument||So,Ye=[0,0,0],ze=[0,0,0],it=0,Yt=function(){return it=ah()},tt=function(Fe,He){return($.event=Fe)&&p&&~p.indexOf(Fe.target)||He&&ve&&Fe.pointerType!=="touch"||j&&j(Fe,He)},ar=function(){$._vx.reset(),$._vy.reset(),pe.pause(),f&&f($)},sn=function(){var Fe=$.deltaX=FA(Ye),He=$.deltaY=FA(ze),Ee=Math.abs(Fe)>=i,Be=Math.abs(He)>=i;P&&(Ee||Be)&&P($,Fe,He,Ye,ze),Ee&&(M&&$.deltaX>0&&M($),N&&$.deltaX<0&&N($),b&&b($),y&&$.deltaX<0!=he<0&&y($),he=$.deltaX,Ye[0]=Ye[1]=Ye[2]=0),Be&&(E&&$.deltaY>0&&E($),w&&$.deltaY<0&&w($),I&&I($),T&&$.deltaY<0!=de<0&&T($),de=$.deltaY,ze[0]=ze[1]=ze[2]=0),(D||Re)&&(B&&B($),Re&&(x($),Re=!1),D=!1),Y&&!(Y=!1)&&W&&W($),L&&(ue($),L=!1),ne=0},Sn=function(Fe,He,Ee){Ye[Ee]+=Fe,ze[Ee]+=He,$._vx.update(Fe),$._vy.update(He),u?ne||(ne=requestAnimationFrame(sn)):sn()},Ct=function(Fe,He){ae&&!Q&&($.axis=Q=Math.abs(Fe)>Math.abs(He)?"x":"y",Y=!0),Q!=="y"&&(Ye[2]+=Fe,$._vx.update(Fe,!0)),Q!=="x"&&(ze[2]+=He,$._vy.update(He,!0)),u?ne||(ne=requestAnimationFrame(sn)):sn()},re=function(Fe){if(!tt(Fe,1)){Fe=pc(Fe,c);var He=Fe.clientX,Ee=Fe.clientY,Be=He-$.x,$e=Ee-$.y,Ge=$.isDragging;$.x=He,$.y=Ee,(Ge||Math.abs($.startX-He)>=s||Math.abs($.startY-Ee)>=s)&&(x&&(Re=!0),Ge||($.isDragging=!0),Ct(Be,$e),Ge||A&&A($))}},V=$.onPress=function(xe){tt(xe,1)||xe&&xe.button||($.axis=Q=null,pe.pause(),$.isPressed=!0,xe=pc(xe),he=de=0,$.startX=$.x=xe.clientX,$.startY=$.y=xe.clientY,$._vx.reset(),$._vy.reset(),hr(H?a:be,bi[1],re,le,!0),$.deltaX=$.deltaY=0,k&&k($))},G=$.onRelease=function(xe){if(!tt(xe,1)){ur(H?a:be,bi[1],re,!0);var Fe=!isNaN($.y-$.startY),He=$.isDragging,Ee=He&&(Math.abs($.x-$.startX)>3||Math.abs($.y-$.startY)>3),Be=pc(xe);!Ee&&Fe&&($._vx.reset(),$._vy.reset(),c&&z&&Un.delayedCall(.08,function(){if(ah()-it>300&&!xe.defaultPrevented){if(xe.target.click)xe.target.click();else if(be.createEvent){var $e=be.createEvent("MouseEvents");$e.initMouseEvent("click",!0,!0,qr,1,Be.screenX,Be.screenY,Be.clientX,Be.clientY,!1,!1,!1,!1,0,null),xe.target.dispatchEvent($e)}}})),$.isDragging=$.isGesturing=$.isPressed=!1,f&&He&&!H&&pe.restart(!0),S&&He&&S($),O&&O($,Ee)}},ye=function(Fe){return Fe.touches&&Fe.touches.length>1&&($.isGesturing=!0)&&ee(Fe,$.isDragging)},Le=function(){return($.isGesturing=!1)||R($)},et=function(Fe){if(!tt(Fe)){var He=oe(),Ee=ie();Sn((He-ge)*Ce,(Ee-Pe)*Ce,1),ge=He,Pe=Ee,f&&pe.restart(!0)}},yt=function(Fe){if(!tt(Fe)){Fe=pc(Fe,c),ue&&(L=!0);var He=(Fe.deltaMode===1?l:Fe.deltaMode===2?qr.innerHeight:1)*g;Sn(Fe.deltaX*He,Fe.deltaY*He,0),f&&!H&&pe.restart(!0)}},Et=function(Fe){if(!tt(Fe)){var He=Fe.clientX,Ee=Fe.clientY,Be=He-$.x,$e=Ee-$.y;$.x=He,$.y=Ee,D=!0,f&&pe.restart(!0),(Be||$e)&&Ct(Be,$e)}},zn=function(Fe){$.event=Fe,U($)},on=function(Fe){$.event=Fe,F($)},ei=function(Fe){return tt(Fe)||pc(Fe,c)&&me($)};pe=$._dc=Un.delayedCall(d||.25,ar).pause(),$.deltaX=$.deltaY=0,$._vx=Lv(0,50,!0),$._vy=Lv(0,50,!0),$.scrollX=oe,$.scrollY=ie,$.isDragging=$.isGesturing=$.isPressed=!1,xO(this),$.enable=function(xe){return $.isEnabled||(hr(Ie?be:a,"scroll",Nv),o.indexOf("scroll")>=0&&hr(Ie?be:a,"scroll",et,le,De),o.indexOf("wheel")>=0&&hr(a,"wheel",yt,le,De),(o.indexOf("touch")>=0&&kO||o.indexOf("pointer")>=0)&&(hr(a,bi[0],V,le,De),hr(be,bi[2],G),hr(be,bi[3],G),z&&hr(a,"click",Yt,!0,!0),me&&hr(a,"click",ei),ee&&hr(be,"gesturestart",ye),R&&hr(be,"gestureend",Le),U&&hr(a,_a+"enter",zn),F&&hr(a,_a+"leave",on),B&&hr(a,_a+"move",Et)),$.isEnabled=!0,xe&&xe.type&&V(xe),te&&te($)),$},$.disable=function(){$.isEnabled&&(jl.filter(function(xe){return xe!==$&&lh(xe.target)}).length||ur(Ie?be:a,"scroll",Nv),$.isPressed&&($._vx.reset(),$._vy.reset(),ur(H?a:be,bi[1],re,!0)),ur(Ie?be:a,"scroll",et,De),ur(a,"wheel",yt,De),ur(a,bi[0],V,De),ur(be,bi[2],G),ur(be,bi[3],G),ur(a,"click",Yt,!0),ur(a,"click",ei),ur(be,"gesturestart",ye),ur(be,"gestureend",Le),ur(a,_a+"enter",zn),ur(a,_a+"leave",on),ur(a,_a+"move",Et),$.isEnabled=$.isPressed=$.isDragging=!1,_e&&_e($))},$.kill=$.revert=function(){$.disable();var xe=jl.indexOf($);xe>=0&&jl.splice(xe,1),Ds===$&&(Ds=0)},jl.push($),H&&lh(a)&&(Ds=$),$.enable(_)},woe(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();fn.version="3.12.5";fn.create=function(t){return new fn(t)};fn.register=$O;fn.getAll=function(){return jl.slice()};fn.getById=function(t){return jl.filter(function(e){return e.vars.id===t})[0]};MO()&&Un.registerPlugin(fn);/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Oe,Nl,ut,Wt,Ai,Ut,VO,Kp,Kh,uh,Cc,ld,Xn,Xm,$v,dr,UA,BA,Ll,FO,i_,UO,fr,Vv,BO,jO,ao,Fv,_w,iu,vw,Xp,Uv,s_,ud=1,Zn=Date.now,o_=Zn(),gi=0,Dc=0,jA=function(e,n,r){var i=Hr(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?e.substr(6,e.length-7):e},HA=function(e,n){return n&&(!Hr(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Toe=function t(){return Dc&&requestAnimationFrame(t)},zA=function(){return Xm=1},YA=function(){return Xm=0},ji=function(e){return e},kc=function(e){return Math.round(e*1e5)/1e5||0},HO=function(){return typeof window<"u"},zO=function(){return Oe||HO()&&(Oe=window.gsap)&&Oe.registerPlugin&&Oe},il=function(e){return!!~VO.indexOf(e)},YO=function(e){return(e==="Height"?vw:ut["inner"+e])||Ai["client"+e]||Ut["client"+e]},qO=function(e){return No(e,"getBoundingClientRect")||(il(e)?function(){return Wd.width=ut.innerWidth,Wd.height=vw,Wd}:function(){return As(e)})},Eoe=function(e,n,r){var i=r.d,s=r.d2,o=r.a;return(o=No(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(n?YO(s):e["client"+s])||0}},Aoe=function(e,n){return!n||~os.indexOf(e)?qO(e):function(){return Wd}},Qi=function(e,n){var r=n.s,i=n.d2,s=n.d,o=n.a;return Math.max(0,(r="scroll"+i)&&(o=No(e,r))?o()-qO(e)()[s]:il(e)?(Ai[r]||Ut[r])-YO(i):e[r]-e["offset"+i])},cd=function(e,n){for(var r=0;r<Ll.length;r+=3)(!n||~n.indexOf(Ll[r+1]))&&e(Ll[r],Ll[r+1],Ll[r+2])},Hr=function(e){return typeof e=="string"},yr=function(e){return typeof e=="function"},Oc=function(e){return typeof e=="number"},va=function(e){return typeof e=="object"},mc=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},a_=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},Pl=Math.abs,WO="left",GO="top",yw="right",ww="bottom",Ua="width",Ba="height",ch="Right",hh="Left",fh="Top",dh="Bottom",gn="padding",ii="margin",Pu="Width",bw="Height",Tn="px",si=function(e){return ut.getComputedStyle(e)},Ioe=function(e){var n=si(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},qA=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},As=function(e,n){var r=n&&si(e)[$v]!=="matrix(1, 0, 0, 1, 0, 0)"&&Oe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},Qp=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},KO=function(e){var n=[],r=e.labels,i=e.duration(),s;for(s in r)n.push(r[s]/i);return n},Soe=function(e){return function(n){return Oe.utils.snap(KO(e),n)}},Tw=function(e){var n=Oe.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,s){return i-s});return r?function(i,s,o){o===void 0&&(o=.001);var a;if(!s)return n(i);if(s>0){for(i-=o,a=0;a<r.length;a++)if(r[a]>=i)return r[a];return r[a-1]}else for(a=r.length,i+=o;a--;)if(r[a]<=i)return r[a];return r[0]}:function(i,s,o){o===void 0&&(o=.001);var a=n(i);return!s||Math.abs(a-i)<o||a-i<0==s<0?a:n(s<0?i-e:i+e)}},Poe=function(e){return function(n,r){return Tw(KO(e))(n,r.direction)}},hd=function(e,n,r,i){return r.split(",").forEach(function(s){return e(n,s,i)})},Cn=function(e,n,r,i,s){return e.addEventListener(n,r,{passive:!i,capture:!!s})},Rn=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},fd=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},WA={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},dd={toggleActions:"play",anticipatePin:0},Jp={top:0,left:0,center:.5,bottom:1,right:1},Hd=function(e,n){if(Hr(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=n/100),e=e.substr(0,r-1)),e=i+(e in Jp?Jp[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},pd=function(e,n,r,i,s,o,a,l){var u=s.startColor,c=s.endColor,f=s.fontSize,d=s.indent,p=s.fontWeight,g=Wt.createElement("div"),_=il(r)||No(r,"pinType")==="fixed",A=e.indexOf("scroller")!==-1,S=_?Ut:r,x=e.indexOf("start")!==-1,k=x?u:c,O="border-color:"+k+";font-size:"+f+";color:"+k+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return O+="position:"+((A||l)&&_?"fixed;":"absolute;"),(A||l||!_)&&(O+=(i===En?yw:ww)+":"+(o+parseFloat(d))+"px;"),a&&(O+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),g._isStart=x,g.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),g.style.cssText=O,g.innerText=n||n===0?e+"-"+n:e,S.children[0]?S.insertBefore(g,S.children[0]):S.appendChild(g),g._offset=g["offset"+i.op.d2],zd(g,0,i,x),g},zd=function(e,n,r,i){var s={display:"block"},o=r[i?"os2":"p2"],a=r[i?"p2":"os2"];e._isFlipped=i,s[r.a+"Percent"]=i?-100:0,s[r.a]=i?"1px":0,s["border"+o+Pu]=1,s["border"+a+Pu]=0,s[r.p]=n+"px",Oe.set(e,s)},nt=[],Bv={},Xh,GA=function(){return Zn()-gi>34&&(Xh||(Xh=requestAnimationFrame(Ls)))},Rl=function(){(!fr||!fr.isPressed||fr.startX>Ut.clientWidth)&&(st.cache++,fr?Xh||(Xh=requestAnimationFrame(Ls)):Ls(),gi||ol("scrollStart"),gi=Zn())},l_=function(){jO=ut.innerWidth,BO=ut.innerHeight},xc=function(){st.cache++,!Xn&&!UO&&!Wt.fullscreenElement&&!Wt.webkitFullscreenElement&&(!Vv||jO!==ut.innerWidth||Math.abs(ut.innerHeight-BO)>ut.innerHeight*.25)&&Kp.restart(!0)},sl={},Roe=[],XO=function t(){return Rn(lt,"scrollEnd",t)||Sa(!0)},ol=function(e){return sl[e]&&sl[e].map(function(n){return n()})||Roe},jr=[],QO=function(e){for(var n=0;n<jr.length;n+=5)(!e||jr[n+4]&&jr[n+4].query===e)&&(jr[n].style.cssText=jr[n+1],jr[n].getBBox&&jr[n].setAttribute("transform",jr[n+2]||""),jr[n+3].uncache=1)},Ew=function(e,n){var r;for(dr=0;dr<nt.length;dr++)r=nt[dr],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));Xp=!0,n&&QO(n),n||ol("revert")},JO=function(e,n){st.cache++,(n||!pr)&&st.forEach(function(r){return yr(r)&&r.cacheID++&&(r.rec=0)}),Hr(e)&&(ut.history.scrollRestoration=_w=e)},pr,ja=0,KA,Coe=function(){if(KA!==ja){var e=KA=ja;requestAnimationFrame(function(){return e===ja&&Sa(!0)})}},ZO=function(){Ut.appendChild(iu),vw=!fr&&iu.offsetHeight||ut.innerHeight,Ut.removeChild(iu)},XA=function(e){return Kh(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Sa=function(e,n){if(gi&&!e&&!Xp){Cn(lt,"scrollEnd",XO);return}ZO(),pr=lt.isRefreshing=!0,st.forEach(function(i){return yr(i)&&++i.cacheID&&(i.rec=i())});var r=ol("refreshInit");FO&&lt.sort(),n||Ew(),st.forEach(function(i){yr(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),nt.slice(0).forEach(function(i){return i.refresh()}),Xp=!1,nt.forEach(function(i){if(i._subPinOffset&&i.pin){var s=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[s];i.revert(!0,1),i.adjustPinSpacing(i.pin[s]-o),i.refresh()}}),Uv=1,XA(!0),nt.forEach(function(i){var s=Qi(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>s,a=i._startClamp&&i.start>=s;(o||a)&&i.setPositions(a?s-1:i.start,o?Math.max(a?s:i.start+1,s):i.end,!0)}),XA(!1),Uv=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),st.forEach(function(i){yr(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),JO(_w,1),Kp.pause(),ja++,pr=2,Ls(2),nt.forEach(function(i){return yr(i.vars.onRefresh)&&i.vars.onRefresh(i)}),pr=lt.isRefreshing=!1,ol("refresh")},jv=0,Yd=1,ph,Ls=function(e){if(e===2||!pr&&!Xp){lt.isUpdating=!0,ph&&ph.update(0);var n=nt.length,r=Zn(),i=r-o_>=50,s=n&&nt[0].scroll();if(Yd=jv>s?-1:1,pr||(jv=s),i&&(gi&&!Xm&&r-gi>200&&(gi=0,ol("scrollEnd")),Cc=o_,o_=r),Yd<0){for(dr=n;dr-- >0;)nt[dr]&&nt[dr].update(0,i);Yd=1}else for(dr=0;dr<n;dr++)nt[dr]&&nt[dr].update(0,i);lt.isUpdating=!1}Xh=0},Hv=[WO,GO,ww,yw,ii+dh,ii+ch,ii+fh,ii+hh,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],qd=Hv.concat([Ua,Ba,"boxSizing","max"+Pu,"max"+bw,"position",ii,gn,gn+fh,gn+ch,gn+dh,gn+hh]),Doe=function(e,n,r){su(r);var i=e._gsap;if(i.spacerIsNative)su(i.spacerState);else if(e._gsap.swappedIn){var s=n.parentNode;s&&(s.insertBefore(e,n),s.removeChild(n))}e._gsap.swappedIn=!1},u_=function(e,n,r,i){if(!e._gsap.swappedIn){for(var s=Hv.length,o=n.style,a=e.style,l;s--;)l=Hv[s],o[l]=r[l];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),a[ww]=a[yw]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Ua]=Qp(e,vr)+Tn,o[Ba]=Qp(e,En)+Tn,o[gn]=a[ii]=a[GO]=a[WO]="0",su(i),a[Ua]=a["max"+Pu]=r[Ua],a[Ba]=a["max"+bw]=r[Ba],a[gn]=r[gn],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},koe=/([A-Z])/g,su=function(e){if(e){var n=e.t.style,r=e.length,i=0,s,o;for((e.t._gsap||Oe.core.getCache(e.t)).uncache=1;i<r;i+=2)o=e[i+1],s=e[i],o?n[s]=o:n[s]&&n.removeProperty(s.replace(koe,"-$1").toLowerCase())}},md=function(e){for(var n=qd.length,r=e.style,i=[],s=0;s<n;s++)i.push(qd[s],r[qd[s]]);return i.t=e,i},Ooe=function(e,n,r){for(var i=[],s=e.length,o=r?8:0,a;o<s;o+=2)a=e[o],i.push(a,a in n?n[a]:e[o+1]);return i.t=e.t,i},Wd={left:0,top:0},QA=function(e,n,r,i,s,o,a,l,u,c,f,d,p,g){yr(e)&&(e=e(l)),Hr(e)&&e.substr(0,3)==="max"&&(e=d+(e.charAt(4)==="="?Hd("0"+e.substr(3),r):0));var _=p?p.time():0,A,S,x;if(p&&p.seek(0),isNaN(e)||(e=+e),Oc(e))p&&(e=Oe.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,d,e)),a&&zd(a,r,i,!0);else{yr(n)&&(n=n(l));var k=(e||"0").split(" "),O,M,N,w;x=Er(n,l)||Ut,O=As(x)||{},(!O||!O.left&&!O.top)&&si(x).display==="none"&&(w=x.style.display,x.style.display="block",O=As(x),w?x.style.display=w:x.style.removeProperty("display")),M=Hd(k[0],O[i.d]),N=Hd(k[1]||"0",r),e=O[i.p]-u[i.p]-c+M+s-N,a&&zd(a,N,i,r-N<20||a._isStart&&N>20),r-=r-N}if(g&&(l[g]=e||-.001,e<0&&(e=0)),o){var E=e+r,b=o._isStart;A="scroll"+i.d2,zd(o,E,i,b&&E>20||!b&&(f?Math.max(Ut[A],Ai[A]):o.parentNode[A])<=E+1),f&&(u=As(a),f&&(o.style[i.op.p]=u[i.op.p]-i.op.m-o._offset+Tn))}return p&&x&&(A=As(x),p.seek(d),S=As(x),p._caScrollDist=A[i.p]-S[i.p],e=e/p._caScrollDist*d),p&&p.seek(_),p?e:Math.round(e)},xoe=/(webkit|moz|length|cssText|inset)/i,JA=function(e,n,r,i){if(e.parentNode!==n){var s=e.style,o,a;if(n===Ut){e._stOrig=s.cssText,a=si(e);for(o in a)!+o&&!xoe.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=r,s.left=i}else s.cssText=e._stOrig;Oe.core.getCache(e).uncache=1,n.appendChild(e)}},ex=function(e,n,r){var i=n,s=i;return function(o){var a=Math.round(e());return a!==i&&a!==s&&Math.abs(a-i)>3&&Math.abs(a-s)>3&&(o=a,r&&r()),s=i,i=o,o}},gd=function(e,n,r){var i={};i[n.p]="+="+r,Oe.set(e,i)},ZA=function(e,n){var r=Wo(e,n),i="_scroll"+n.p2,s=function o(a,l,u,c,f){var d=o.tween,p=l.onComplete,g={};u=u||r();var _=ex(r,u,function(){d.kill(),o.tween=0});return f=c&&f||0,c=c||a-u,d&&d.kill(),l[i]=a,l.inherit=!1,l.modifiers=g,g[i]=function(){return _(u+c*d.ratio+f*d.ratio*d.ratio)},l.onUpdate=function(){st.cache++,o.tween&&Ls()},l.onComplete=function(){o.tween=0,p&&p.call(d)},d=o.tween=Oe.to(e,l),d};return e[i]=r,r.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Cn(e,"wheel",r.wheelHandler),lt.isTouch&&Cn(e,"touchmove",r.wheelHandler),s},lt=function(){function t(n,r){Nl||t.register(Oe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Fv(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Dc){this.update=this.refresh=this.kill=ji;return}r=qA(Hr(r)||Oc(r)||r.nodeType?{trigger:r}:r,dd);var s=r,o=s.onUpdate,a=s.toggleClass,l=s.id,u=s.onToggle,c=s.onRefresh,f=s.scrub,d=s.trigger,p=s.pin,g=s.pinSpacing,_=s.invalidateOnRefresh,A=s.anticipatePin,S=s.onScrubComplete,x=s.onSnapComplete,k=s.once,O=s.snap,M=s.pinReparent,N=s.pinSpacer,w=s.containerAnimation,E=s.fastScrollEnd,b=s.preventOverlaps,I=r.horizontal||r.containerAnimation&&r.horizontal!==!1?vr:En,P=!f&&f!==0,y=Er(r.scroller||ut),T=Oe.core.getCache(y),U=il(y),F=("pinType"in r?r.pinType:No(y,"pinType")||U&&"fixed")==="fixed",B=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],j=P&&r.toggleActions.split(" "),H="markers"in r?r.markers:dd.markers,ee=U?0:parseFloat(si(y)["border"+I.p2+Pu])||0,R=this,ue=r.onRefreshInit&&function(){return r.onRefreshInit(R)},te=Eoe(y,U,I),_e=Aoe(y,U),me=0,Ce=0,De=0,z=Wo(y,I),ae,W,ne,pe,Re,D,L,Y,Q,$,he,de,le,oe,ie,ge,Pe,ve,Ie,be,Ye,ze,it,Yt,tt,ar,sn,Sn,Ct,re,V,G,ye,Le,et,yt,Et,zn,on;if(R._startClamp=R._endClamp=!1,R._dir=I,A*=45,R.scroller=y,R.scroll=w?w.time.bind(w):z,pe=z(),R.vars=r,i=i||r.animation,"refreshPriority"in r&&(FO=1,r.refreshPriority===-9999&&(ph=R)),T.tweenScroll=T.tweenScroll||{top:ZA(y,En),left:ZA(y,vr)},R.tweenTo=ae=T.tweenScroll[I.p],R.scrubDuration=function(Ee){ye=Oc(Ee)&&Ee,ye?G?G.duration(Ee):G=Oe.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:ye,paused:!0,onComplete:function(){return S&&S(R)}}):(G&&G.progress(1).kill(),G=0)},i&&(i.vars.lazy=!1,i._initted&&!R.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),R.animation=i.pause(),i.scrollTrigger=R,R.scrubDuration(f),re=0,l||(l=i.vars.id)),O&&((!va(O)||O.push)&&(O={snapTo:O}),"scrollBehavior"in Ut.style&&Oe.set(U?[Ut,Ai]:y,{scrollBehavior:"auto"}),st.forEach(function(Ee){return yr(Ee)&&Ee.target===(U?Wt.scrollingElement||Ai:y)&&(Ee.smooth=!1)}),ne=yr(O.snapTo)?O.snapTo:O.snapTo==="labels"?Soe(i):O.snapTo==="labelsDirectional"?Poe(i):O.directional!==!1?function(Ee,Be){return Tw(O.snapTo)(Ee,Zn()-Ce<500?0:Be.direction)}:Oe.utils.snap(O.snapTo),Le=O.duration||{min:.1,max:2},Le=va(Le)?uh(Le.min,Le.max):uh(Le,Le),et=Oe.delayedCall(O.delay||ye/2||.1,function(){var Ee=z(),Be=Zn()-Ce<500,$e=ae.tween;if((Be||Math.abs(R.getVelocity())<10)&&!$e&&!Xm&&me!==Ee){var Ge=(Ee-D)/oe,pn=i&&!P?i.totalProgress():Ge,Je=Be?0:(pn-V)/(Zn()-Cc)*1e3||0,qt=Oe.utils.clamp(-Ge,1-Ge,Pl(Je/2)*Je/.185),Pn=Ge+(O.inertia===!1?0:qt),Dt,kt,wt=O,Yn=wt.onStart,gt=wt.onInterrupt,qn=wt.onComplete;if(Dt=ne(Pn,R),Oc(Dt)||(Dt=Pn),kt=Math.round(D+Dt*oe),Ee<=L&&Ee>=D&&kt!==Ee){if($e&&!$e._initted&&$e.data<=Pl(kt-Ee))return;O.inertia===!1&&(qt=Dt-Ge),ae(kt,{duration:Le(Pl(Math.max(Pl(Pn-pn),Pl(Dt-pn))*.185/Je/.05||0)),ease:O.ease||"power3",data:Pl(kt-Ee),onInterrupt:function(){return et.restart(!0)&&gt&&gt(R)},onComplete:function(){R.update(),me=z(),i&&(G?G.resetTo("totalProgress",Dt,i._tTime/i._tDur):i.progress(Dt)),re=V=i&&!P?i.totalProgress():R.progress,x&&x(R),qn&&qn(R)}},Ee,qt*oe,kt-Ee-qt*oe),Yn&&Yn(R,ae.tween)}}else R.isActive&&me!==Ee&&et.restart(!0)}).pause()),l&&(Bv[l]=R),d=R.trigger=Er(d||p!==!0&&p),on=d&&d._gsap&&d._gsap.stRevert,on&&(on=on(R)),p=p===!0?d:Er(p),Hr(a)&&(a={targets:d,className:a}),p&&(g===!1||g===ii||(g=!g&&p.parentNode&&p.parentNode.style&&si(p.parentNode).display==="flex"?!1:gn),R.pin=p,W=Oe.core.getCache(p),W.spacer?ie=W.pinState:(N&&(N=Er(N),N&&!N.nodeType&&(N=N.current||N.nativeElement),W.spacerIsNative=!!N,N&&(W.spacerState=md(N))),W.spacer=ve=N||Wt.createElement("div"),ve.classList.add("pin-spacer"),l&&ve.classList.add("pin-spacer-"+l),W.pinState=ie=md(p)),r.force3D!==!1&&Oe.set(p,{force3D:!0}),R.spacer=ve=W.spacer,Ct=si(p),Yt=Ct[g+I.os2],be=Oe.getProperty(p),Ye=Oe.quickSetter(p,I.a,Tn),u_(p,ve,Ct),Pe=md(p)),H){de=va(H)?qA(H,WA):WA,$=pd("scroller-start",l,y,I,de,0),he=pd("scroller-end",l,y,I,de,0,$),Ie=$["offset"+I.op.d2];var ei=Er(No(y,"content")||y);Y=this.markerStart=pd("start",l,ei,I,de,Ie,0,w),Q=this.markerEnd=pd("end",l,ei,I,de,Ie,0,w),w&&(zn=Oe.quickSetter([Y,Q],I.a,Tn)),!F&&!(os.length&&No(y,"fixedMarkers")===!0)&&(Ioe(U?Ut:y),Oe.set([$,he],{force3D:!0}),ar=Oe.quickSetter($,I.a,Tn),Sn=Oe.quickSetter(he,I.a,Tn))}if(w){var xe=w.vars.onUpdate,Fe=w.vars.onUpdateParams;w.eventCallback("onUpdate",function(){R.update(0,0,1),xe&&xe.apply(w,Fe||[])})}if(R.previous=function(){return nt[nt.indexOf(R)-1]},R.next=function(){return nt[nt.indexOf(R)+1]},R.revert=function(Ee,Be){if(!Be)return R.kill(!0);var $e=Ee!==!1||!R.enabled,Ge=Xn;$e!==R.isReverted&&($e&&(yt=Math.max(z(),R.scroll.rec||0),De=R.progress,Et=i&&i.progress()),Y&&[Y,Q,$,he].forEach(function(pn){return pn.style.display=$e?"none":"block"}),$e&&(Xn=R,R.update($e)),p&&(!M||!R.isActive)&&($e?Doe(p,ve,ie):u_(p,ve,si(p),tt)),$e||R.update($e),Xn=Ge,R.isReverted=$e)},R.refresh=function(Ee,Be,$e,Ge){if(!((Xn||!R.enabled)&&!Be)){if(p&&Ee&&gi){Cn(t,"scrollEnd",XO);return}!pr&&ue&&ue(R),Xn=R,ae.tween&&!$e&&(ae.tween.kill(),ae.tween=0),G&&G.pause(),_&&i&&i.revert({kill:!1}).invalidate(),R.isReverted||R.revert(!0,!0),R._subPinOffset=!1;var pn=te(),Je=_e(),qt=w?w.duration():Qi(y,I),Pn=oe<=.01,Dt=0,kt=Ge||0,wt=va($e)?$e.end:r.end,Yn=r.endTrigger||d,gt=va($e)?$e.start:r.start||(r.start===0||!d?0:p?"0 0":"0 100%"),qn=R.pinnedContainer=r.pinnedContainer&&Er(r.pinnedContainer,R),Vr=d&&Math.max(0,nt.indexOf(R))||0,an=Vr,ln,bn,Vi,yl,un,Zt,br,ms,Fi,gs,ti,Xs,ra;for(H&&va($e)&&(Xs=Oe.getProperty($,I.p),ra=Oe.getProperty(he,I.p));an--;)Zt=nt[an],Zt.end||Zt.refresh(0,1)||(Xn=R),br=Zt.pin,br&&(br===d||br===p||br===qn)&&!Zt.isReverted&&(gs||(gs=[]),gs.unshift(Zt),Zt.revert(!0,!0)),Zt!==nt[an]&&(Vr--,an--);for(yr(gt)&&(gt=gt(R)),gt=jA(gt,"start",R),D=QA(gt,d,pn,I,z(),Y,$,R,Je,ee,F,qt,w,R._startClamp&&"_startClamp")||(p?-.001:0),yr(wt)&&(wt=wt(R)),Hr(wt)&&!wt.indexOf("+=")&&(~wt.indexOf(" ")?wt=(Hr(gt)?gt.split(" ")[0]:"")+wt:(Dt=Hd(wt.substr(2),pn),wt=Hr(gt)?gt:(w?Oe.utils.mapRange(0,w.duration(),w.scrollTrigger.start,w.scrollTrigger.end,D):D)+Dt,Yn=d)),wt=jA(wt,"end",R),L=Math.max(D,QA(wt||(Yn?"100% 0":qt),Yn,pn,I,z()+Dt,Q,he,R,Je,ee,F,qt,w,R._endClamp&&"_endClamp"))||-.001,Dt=0,an=Vr;an--;)Zt=nt[an],br=Zt.pin,br&&Zt.start-Zt._pinPush<=D&&!w&&Zt.end>0&&(ln=Zt.end-(R._startClamp?Math.max(0,Zt.start):Zt.start),(br===d&&Zt.start-Zt._pinPush<D||br===qn)&&isNaN(gt)&&(Dt+=ln*(1-Zt.progress)),br===p&&(kt+=ln));if(D+=Dt,L+=Dt,R._startClamp&&(R._startClamp+=Dt),R._endClamp&&!pr&&(R._endClamp=L||-.001,L=Math.min(L,Qi(y,I))),oe=L-D||(D-=.01)&&.001,Pn&&(De=Oe.utils.clamp(0,1,Oe.utils.normalize(D,L,yt))),R._pinPush=kt,Y&&Dt&&(ln={},ln[I.a]="+="+Dt,qn&&(ln[I.p]="-="+z()),Oe.set([Y,Q],ln)),p&&!(Uv&&R.end>=Qi(y,I)))ln=si(p),yl=I===En,Vi=z(),ze=parseFloat(be(I.a))+kt,!qt&&L>1&&(ti=(U?Wt.scrollingElement||Ai:y).style,ti={style:ti,value:ti["overflow"+I.a.toUpperCase()]},U&&si(Ut)["overflow"+I.a.toUpperCase()]!=="scroll"&&(ti.style["overflow"+I.a.toUpperCase()]="scroll")),u_(p,ve,ln),Pe=md(p),bn=As(p,!0),ms=F&&Wo(y,yl?vr:En)(),g?(tt=[g+I.os2,oe+kt+Tn],tt.t=ve,an=g===gn?Qp(p,I)+oe+kt:0,an&&(tt.push(I.d,an+Tn),ve.style.flexBasis!=="auto"&&(ve.style.flexBasis=an+Tn)),su(tt),qn&&nt.forEach(function(Qs){Qs.pin===qn&&Qs.vars.pinSpacing!==!1&&(Qs._subPinOffset=!0)}),F&&z(yt)):(an=Qp(p,I),an&&ve.style.flexBasis!=="auto"&&(ve.style.flexBasis=an+Tn)),F&&(un={top:bn.top+(yl?Vi-D:ms)+Tn,left:bn.left+(yl?ms:Vi-D)+Tn,boxSizing:"border-box",position:"fixed"},un[Ua]=un["max"+Pu]=Math.ceil(bn.width)+Tn,un[Ba]=un["max"+bw]=Math.ceil(bn.height)+Tn,un[ii]=un[ii+fh]=un[ii+ch]=un[ii+dh]=un[ii+hh]="0",un[gn]=ln[gn],un[gn+fh]=ln[gn+fh],un[gn+ch]=ln[gn+ch],un[gn+dh]=ln[gn+dh],un[gn+hh]=ln[gn+hh],ge=Ooe(ie,un,M),pr&&z(0)),i?(Fi=i._initted,i_(1),i.render(i.duration(),!0,!0),it=be(I.a)-ze+oe+kt,sn=Math.abs(oe-it)>1,F&&sn&&ge.splice(ge.length-2,2),i.render(0,!0,!0),Fi||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),i_(0)):it=oe,ti&&(ti.value?ti.style["overflow"+I.a.toUpperCase()]=ti.value:ti.style.removeProperty("overflow-"+I.a));else if(d&&z()&&!w)for(bn=d.parentNode;bn&&bn!==Ut;)bn._pinOffset&&(D-=bn._pinOffset,L-=bn._pinOffset),bn=bn.parentNode;gs&&gs.forEach(function(Qs){return Qs.revert(!1,!0)}),R.start=D,R.end=L,pe=Re=pr?yt:z(),!w&&!pr&&(pe<yt&&z(yt),R.scroll.rec=0),R.revert(!1,!0),Ce=Zn(),et&&(me=-1,et.restart(!0)),Xn=0,i&&P&&(i._initted||Et)&&i.progress()!==Et&&i.progress(Et||0,!0).render(i.time(),!0,!0),(Pn||De!==R.progress||w||_)&&(i&&!P&&i.totalProgress(w&&D<-.001&&!De?Oe.utils.normalize(D,L,0):De,!0),R.progress=Pn||(pe-D)/oe===De?0:De),p&&g&&(ve._pinOffset=Math.round(R.progress*it)),G&&G.invalidate(),isNaN(Xs)||(Xs-=Oe.getProperty($,I.p),ra-=Oe.getProperty(he,I.p),gd($,I,Xs),gd(Y,I,Xs-(Ge||0)),gd(he,I,ra),gd(Q,I,ra-(Ge||0))),Pn&&!pr&&R.update(),c&&!pr&&!le&&(le=!0,c(R),le=!1)}},R.getVelocity=function(){return(z()-Re)/(Zn()-Cc)*1e3||0},R.endAnimation=function(){mc(R.callbackAnimation),i&&(G?G.progress(1):i.paused()?P||mc(i,R.direction<0,1):mc(i,i.reversed()))},R.labelToScroll=function(Ee){return i&&i.labels&&(D||R.refresh()||D)+i.labels[Ee]/i.duration()*oe||0},R.getTrailing=function(Ee){var Be=nt.indexOf(R),$e=R.direction>0?nt.slice(0,Be).reverse():nt.slice(Be+1);return(Hr(Ee)?$e.filter(function(Ge){return Ge.vars.preventOverlaps===Ee}):$e).filter(function(Ge){return R.direction>0?Ge.end<=D:Ge.start>=L})},R.update=function(Ee,Be,$e){if(!(w&&!$e&&!Ee)){var Ge=pr===!0?yt:R.scroll(),pn=Ee?0:(Ge-D)/oe,Je=pn<0?0:pn>1?1:pn||0,qt=R.progress,Pn,Dt,kt,wt,Yn,gt,qn,Vr;if(Be&&(Re=pe,pe=w?z():Ge,O&&(V=re,re=i&&!P?i.totalProgress():Je)),A&&p&&!Xn&&!ud&&gi&&(!Je&&D<Ge+(Ge-Re)/(Zn()-Cc)*A?Je=1e-4:Je===1&&L>Ge+(Ge-Re)/(Zn()-Cc)*A&&(Je=.9999)),Je!==qt&&R.enabled){if(Pn=R.isActive=!!Je&&Je<1,Dt=!!qt&&qt<1,gt=Pn!==Dt,Yn=gt||!!Je!=!!qt,R.direction=Je>qt?1:-1,R.progress=Je,Yn&&!Xn&&(kt=Je&&!qt?0:Je===1?1:qt===1?2:3,P&&(wt=!gt&&j[kt+1]!=="none"&&j[kt+1]||j[kt],Vr=i&&(wt==="complete"||wt==="reset"||wt in i))),b&&(gt||Vr)&&(Vr||f||!i)&&(yr(b)?b(R):R.getTrailing(b).forEach(function(Vi){return Vi.endAnimation()})),P||(G&&!Xn&&!ud?(G._dp._time-G._start!==G._time&&G.render(G._dp._time-G._start),G.resetTo?G.resetTo("totalProgress",Je,i._tTime/i._tDur):(G.vars.totalProgress=Je,G.invalidate().restart())):i&&i.totalProgress(Je,!!(Xn&&(Ce||Ee)))),p){if(Ee&&g&&(ve.style[g+I.os2]=Yt),!F)Ye(kc(ze+it*Je));else if(Yn){if(qn=!Ee&&Je>qt&&L+1>Ge&&Ge+1>=Qi(y,I),M)if(!Ee&&(Pn||qn)){var an=As(p,!0),ln=Ge-D;JA(p,Ut,an.top+(I===En?ln:0)+Tn,an.left+(I===En?0:ln)+Tn)}else JA(p,ve);su(Pn||qn?ge:Pe),sn&&Je<1&&Pn||Ye(ze+(Je===1&&!qn?it:0))}}O&&!ae.tween&&!Xn&&!ud&&et.restart(!0),a&&(gt||k&&Je&&(Je<1||!s_))&&Kh(a.targets).forEach(function(Vi){return Vi.classList[Pn||k?"add":"remove"](a.className)}),o&&!P&&!Ee&&o(R),Yn&&!Xn?(P&&(Vr&&(wt==="complete"?i.pause().totalProgress(1):wt==="reset"?i.restart(!0).pause():wt==="restart"?i.restart(!0):i[wt]()),o&&o(R)),(gt||!s_)&&(u&&gt&&a_(R,u),B[kt]&&a_(R,B[kt]),k&&(Je===1?R.kill(!1,1):B[kt]=0),gt||(kt=Je===1?1:3,B[kt]&&a_(R,B[kt]))),E&&!Pn&&Math.abs(R.getVelocity())>(Oc(E)?E:2500)&&(mc(R.callbackAnimation),G?G.progress(1):mc(i,wt==="reverse"?1:!Je,1))):P&&o&&!Xn&&o(R)}if(Sn){var bn=w?Ge/w.duration()*(w._caScrollDist||0):Ge;ar(bn+($._isFlipped?1:0)),Sn(bn)}zn&&zn(-Ge/w.duration()*(w._caScrollDist||0))}},R.enable=function(Ee,Be){R.enabled||(R.enabled=!0,Cn(y,"resize",xc),U||Cn(y,"scroll",Rl),ue&&Cn(t,"refreshInit",ue),Ee!==!1&&(R.progress=De=0,pe=Re=me=z()),Be!==!1&&R.refresh())},R.getTween=function(Ee){return Ee&&ae?ae.tween:G},R.setPositions=function(Ee,Be,$e,Ge){if(w){var pn=w.scrollTrigger,Je=w.duration(),qt=pn.end-pn.start;Ee=pn.start+qt*Ee/Je,Be=pn.start+qt*Be/Je}R.refresh(!1,!1,{start:HA(Ee,$e&&!!R._startClamp),end:HA(Be,$e&&!!R._endClamp)},Ge),R.update()},R.adjustPinSpacing=function(Ee){if(tt&&Ee){var Be=tt.indexOf(I.d)+1;tt[Be]=parseFloat(tt[Be])+Ee+Tn,tt[1]=parseFloat(tt[1])+Ee+Tn,su(tt)}},R.disable=function(Ee,Be){if(R.enabled&&(Ee!==!1&&R.revert(!0,!0),R.enabled=R.isActive=!1,Be||G&&G.pause(),yt=0,W&&(W.uncache=1),ue&&Rn(t,"refreshInit",ue),et&&(et.pause(),ae.tween&&ae.tween.kill()&&(ae.tween=0)),!U)){for(var $e=nt.length;$e--;)if(nt[$e].scroller===y&&nt[$e]!==R)return;Rn(y,"resize",xc),U||Rn(y,"scroll",Rl)}},R.kill=function(Ee,Be){R.disable(Ee,Be),G&&!Be&&G.kill(),l&&delete Bv[l];var $e=nt.indexOf(R);$e>=0&&nt.splice($e,1),$e===dr&&Yd>0&&dr--,$e=0,nt.forEach(function(Ge){return Ge.scroller===R.scroller&&($e=1)}),$e||pr||(R.scroll.rec=0),i&&(i.scrollTrigger=null,Ee&&i.revert({kill:!1}),Be||i.kill()),Y&&[Y,Q,$,he].forEach(function(Ge){return Ge.parentNode&&Ge.parentNode.removeChild(Ge)}),ph===R&&(ph=0),p&&(W&&(W.uncache=1),$e=0,nt.forEach(function(Ge){return Ge.pin===p&&$e++}),$e||(W.spacer=0)),r.onKill&&r.onKill(R)},nt.push(R),R.enable(!1,!1),on&&on(R),i&&i.add&&!oe){var He=R.update;R.update=function(){R.update=He,D||L||R.refresh()},Oe.delayedCall(.01,R.update),oe=.01,D=L=0}else R.refresh();p&&Coe()},t.register=function(r){return Nl||(Oe=r||zO(),HO()&&window.document&&t.enable(),Nl=Dc),Nl},t.defaults=function(r){if(r)for(var i in r)dd[i]=r[i];return dd},t.disable=function(r,i){Dc=0,nt.forEach(function(o){return o[i?"kill":"disable"](r)}),Rn(ut,"wheel",Rl),Rn(Wt,"scroll",Rl),clearInterval(ld),Rn(Wt,"touchcancel",ji),Rn(Ut,"touchstart",ji),hd(Rn,Wt,"pointerdown,touchstart,mousedown",zA),hd(Rn,Wt,"pointerup,touchend,mouseup",YA),Kp.kill(),cd(Rn);for(var s=0;s<st.length;s+=3)fd(Rn,st[s],st[s+1]),fd(Rn,st[s],st[s+2])},t.enable=function(){if(ut=window,Wt=document,Ai=Wt.documentElement,Ut=Wt.body,Oe&&(Kh=Oe.utils.toArray,uh=Oe.utils.clamp,Fv=Oe.core.context||ji,i_=Oe.core.suppressOverwrites||ji,_w=ut.history.scrollRestoration||"auto",jv=ut.pageYOffset,Oe.core.globals("ScrollTrigger",t),Ut)){Dc=1,iu=document.createElement("div"),iu.style.height="100vh",iu.style.position="absolute",ZO(),Toe(),fn.register(Oe),t.isTouch=fn.isTouch,ao=fn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Vv=fn.isTouch===1,Cn(ut,"wheel",Rl),VO=[ut,Wt,Ai,Ut],Oe.matchMedia?(t.matchMedia=function(l){var u=Oe.matchMedia(),c;for(c in l)u.add(c,l[c]);return u},Oe.addEventListener("matchMediaInit",function(){return Ew()}),Oe.addEventListener("matchMediaRevert",function(){return QO()}),Oe.addEventListener("matchMedia",function(){Sa(0,1),ol("matchMedia")}),Oe.matchMedia("(orientation: portrait)",function(){return l_(),l_})):console.warn("Requires GSAP 3.11.0 or later"),l_(),Cn(Wt,"scroll",Rl);var r=Ut.style,i=r.borderTopStyle,s=Oe.core.Animation.prototype,o,a;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",o=As(Ut),En.m=Math.round(o.top+En.sc())||0,vr.m=Math.round(o.left+vr.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),ld=setInterval(GA,250),Oe.delayedCall(.5,function(){return ud=0}),Cn(Wt,"touchcancel",ji),Cn(Ut,"touchstart",ji),hd(Cn,Wt,"pointerdown,touchstart,mousedown",zA),hd(Cn,Wt,"pointerup,touchend,mouseup",YA),$v=Oe.utils.checkPrefix("transform"),qd.push($v),Nl=Zn(),Kp=Oe.delayedCall(.2,Sa).pause(),Ll=[Wt,"visibilitychange",function(){var l=ut.innerWidth,u=ut.innerHeight;Wt.hidden?(UA=l,BA=u):(UA!==l||BA!==u)&&xc()},Wt,"DOMContentLoaded",Sa,ut,"load",Sa,ut,"resize",xc],cd(Cn),nt.forEach(function(l){return l.enable(0,1)}),a=0;a<st.length;a+=3)fd(Rn,st[a],st[a+1]),fd(Rn,st[a],st[a+2])}},t.config=function(r){"limitCallbacks"in r&&(s_=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(ld)||(ld=i)&&setInterval(GA,i),"ignoreMobileResize"in r&&(Vv=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(cd(Rn)||cd(Cn,r.autoRefreshEvents||"none"),UO=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,i){var s=Er(r),o=st.indexOf(s),a=il(s);~o&&st.splice(o,a?6:2),i&&(a?os.unshift(ut,i,Ut,i,Ai,i):os.unshift(s,i))},t.clearMatchMedia=function(r){nt.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},t.isInViewport=function(r,i,s){var o=(Hr(r)?Er(r):r).getBoundingClientRect(),a=o[s?Ua:Ba]*i||0;return s?o.right-a>0&&o.left+a<ut.innerWidth:o.bottom-a>0&&o.top+a<ut.innerHeight},t.positionInViewport=function(r,i,s){Hr(r)&&(r=Er(r));var o=r.getBoundingClientRect(),a=o[s?Ua:Ba],l=i==null?a/2:i in Jp?Jp[i]*a:~i.indexOf("%")?parseFloat(i)*a/100:parseFloat(i)||0;return s?(o.left+l)/ut.innerWidth:(o.top+l)/ut.innerHeight},t.killAll=function(r){if(nt.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),r!==!0){var i=sl.killAll||[];sl={},i.forEach(function(s){return s()})}},t}();lt.version="3.12.5";lt.saveStyles=function(t){return t?Kh(t).forEach(function(e){if(e&&e.style){var n=jr.indexOf(e);n>=0&&jr.splice(n,5),jr.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Oe.core.getCache(e),Fv())}}):jr};lt.revert=function(t,e){return Ew(!t,e)};lt.create=function(t,e){return new lt(t,e)};lt.refresh=function(t){return t?xc():(Nl||lt.register())&&Sa(!0)};lt.update=function(t){return++st.cache&&Ls(t===!0?2:0)};lt.clearScrollMemory=JO;lt.maxScroll=function(t,e){return Qi(t,e?vr:En)};lt.getScrollFunc=function(t,e){return Wo(Er(t),e?vr:En)};lt.getById=function(t){return Bv[t]};lt.getAll=function(){return nt.filter(function(t){return t.vars.id!=="ScrollSmoother"})};lt.isScrolling=function(){return!!gi};lt.snapDirectional=Tw;lt.addEventListener=function(t,e){var n=sl[t]||(sl[t]=[]);~n.indexOf(e)||n.push(e)};lt.removeEventListener=function(t,e){var n=sl[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};lt.batch=function(t,e){var n=[],r={},i=e.interval||.016,s=e.batchMax||1e9,o=function(u,c){var f=[],d=[],p=Oe.delayedCall(i,function(){c(f,d),f=[],d=[]}).pause();return function(g){f.length||p.restart(!0),f.push(g.trigger),d.push(g),s<=f.length&&p.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&yr(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return yr(s)&&(s=s(),Cn(lt,"refresh",function(){return s=e.batchMax()})),Kh(t).forEach(function(l){var u={};for(a in r)u[a]=r[a];u.trigger=l,n.push(lt.create(u))}),n};var eI=function(e,n,r,i){return n>i?e(i):n<0&&e(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},c_=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(fn.isTouch?" pinch-zoom":""):"none",e===Ai&&t(Ut,n)},_d={auto:1,scroll:1},Moe=function(e){var n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||Oe.core.getCache(s),a=Zn(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==Ut&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(_d[(l=si(s)).overflowY]||_d[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==r&&!il(s)&&(_d[(l=si(s)).overflowY]||_d[l.overflowX]),o._isScrollT=a}(o._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},tx=function(e,n,r,i){return fn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&Moe,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&Cn(Wt,fn.eventTypes[0],nI,!1,!0)},onDisable:function(){return Rn(Wt,fn.eventTypes[0],nI,!0)}})},Noe=/(input|label|select|textarea)/i,tI,nI=function(e){var n=Noe.test(e.target.tagName);(n||tI)&&(e._gsapAllow=!0,tI=n)},Loe=function(e){va(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,i=n.momentum,s=n.allowNestedScroll,o=n.onRelease,a,l,u=Er(e.target)||Ai,c=Oe.core.globals().ScrollSmoother,f=c&&c.get(),d=ao&&(e.content&&Er(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),p=Wo(u,En),g=Wo(u,vr),_=1,A=(fn.isTouch&&ut.visualViewport?ut.visualViewport.scale*ut.visualViewport.width:ut.outerWidth)/ut.innerWidth,S=0,x=yr(i)?function(){return i(a)}:function(){return i||2.8},k,O,M=tx(u,e.type,!0,s),N=function(){return O=!1},w=ji,E=ji,b=function(){l=Qi(u,En),E=uh(ao?1:0,l),r&&(w=uh(0,Qi(u,vr))),k=ja},I=function(){d._gsap.y=kc(parseFloat(d._gsap.y)+p.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},P=function(){if(O){requestAnimationFrame(N);var H=kc(a.deltaY/2),ee=E(p.v-H);if(d&&ee!==p.v+p.offset){p.offset=ee-p.v;var R=kc((parseFloat(d&&d._gsap.y)||0)-p.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+R+", 0, 1)",d._gsap.y=R+"px",p.cacheID=st.cache,Ls()}return!0}p.offset&&I(),O=!0},y,T,U,F,B=function(){b(),y.isActive()&&y.vars.scrollY>l&&(p()>l?y.progress(1)&&p(l):y.resetTo("scrollY",l))};return d&&Oe.set(d,{y:"+=0"}),e.ignoreCheck=function(j){return ao&&j.type==="touchmove"&&P()||_>1.05&&j.type!=="touchstart"||a.isGesturing||j.touches&&j.touches.length>1},e.onPress=function(){O=!1;var j=_;_=kc((ut.visualViewport&&ut.visualViewport.scale||1)/A),y.pause(),j!==_&&c_(u,_>1.01?!0:r?!1:"x"),T=g(),U=p(),b(),k=ja},e.onRelease=e.onGestureStart=function(j,H){if(p.offset&&I(),!H)F.restart(!0);else{st.cache++;var ee=x(),R,ue;r&&(R=g(),ue=R+ee*.05*-j.velocityX/.227,ee*=eI(g,R,ue,Qi(u,vr)),y.vars.scrollX=w(ue)),R=p(),ue=R+ee*.05*-j.velocityY/.227,ee*=eI(p,R,ue,Qi(u,En)),y.vars.scrollY=E(ue),y.invalidate().duration(ee).play(.01),(ao&&y.vars.scrollY>=l||R>=l-1)&&Oe.to({},{onUpdate:B,duration:ee})}o&&o(j)},e.onWheel=function(){y._ts&&y.pause(),Zn()-S>1e3&&(k=0,S=Zn())},e.onChange=function(j,H,ee,R,ue){if(ja!==k&&b(),H&&r&&g(w(R[2]===H?T+(j.startX-j.x):g()+H-R[1])),ee){p.offset&&I();var te=ue[2]===ee,_e=te?U+j.startY-j.y:p()+ee-ue[1],me=E(_e);te&&_e!==me&&(U+=me-_e),p(me)}(ee||H)&&Ls()},e.onEnable=function(){c_(u,r?!1:"x"),lt.addEventListener("refresh",B),Cn(ut,"resize",B),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=g.smooth=!1),M.enable()},e.onDisable=function(){c_(u,!0),Rn(ut,"resize",B),lt.removeEventListener("refresh",B),M.kill()},e.lockAxis=e.lockAxis!==!1,a=new fn(e),a.iOS=ao,ao&&!p()&&p(1),ao&&Oe.ticker.add(ji),F=a._dc,y=Oe.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:ex(p,p(),function(){return y.pause()})},onUpdate:Ls,onComplete:F.vars.onComplete}),a};lt.sort=function(t){return nt.sort(t||function(e,n){return(e.vars.refreshPriority||0)*-1e6+e.start-(n.start+(n.vars.refreshPriority||0)*-1e6)})};lt.observe=function(t){return new fn(t)};lt.normalizeScroll=function(t){if(typeof t>"u")return fr;if(t===!0&&fr)return fr.enable();if(t===!1){fr&&fr.kill(),fr=t;return}var e=t instanceof fn?t:Loe(t);return fr&&fr.target===e.target&&fr.kill(),il(e.target)&&(fr=e),e};lt.core={_getVelocityProp:Lv,_inputObserver:tx,_scrollers:st,_proxies:os,bridge:{ss:function(){gi||ol("scrollStart"),gi=Zn()},ref:function(){return Xn}}};zO()&&Oe.registerPlugin(lt);const $oe={class:"text-body-s flex-center container min-h-[80px]",id:"footer-text"},Voe={__name:"the-footer",setup(t){Wp.registerPlugin(lt);const e=()=>{Wp.fromTo("#footer-text",{opacity:0,y:100},{duration:.5,opacity:1,delay:.2,y:0,scrollTrigger:"#footer-text"})};return Zr(async()=>{e()}),(n,r)=>(se(),Se("div",$oe," Copyright © 2024 Ning. All rights reserved. "))}},Foe={class:"flex h-dvh flex-col"},Uoe={class:"grow"},Boe={__name:"App",setup(t){jj();const e=Hj(),n=Me(null),r=X(async()=>{console.log(e.path);try{n.value=await Ks()}catch(i){n.value=i}return e.path});return(i,s)=>(se(),Se("div",Foe,[r.value!=="/login"&&r.value!=="/register"&&n.value?(se(),ot(voe,{key:0})):rt("",!0),Te("div",Uoe,[we(K(KR))]),Ir(we(Voe,null,null,512),[[Ii,r.value!=="/login"&&r.value!=="/register"&&n.value]]),we(K(g4))]))}},Sf=ZU(Boe),joe=f4();Sf.use(iB());Sf.use(gl);Sf.use(joe);Sf.use(V4);Sf.mount("#app");export{$ee as $,PD as A,eae as B,jj as C,Ei as D,vF as E,ft as F,Ir as G,Joe as H,On as I,Og as J,Wj as K,Xoe as L,cf as M,hf as N,zj as O,Qoe as P,GP as Q,yR as R,lt as S,BT as T,Ur as U,Hj as V,Woe as W,Goe as X,Gl as Y,Op as Z,pf as _,se as a,VH as a0,Yee as a1,rH as a2,EE as a3,vH as a4,NR as a5,Fie as a6,Vie as a7,p4 as a8,Koe as a9,Ii as aa,tae as ab,Zoe as ac,nae as ad,Te as b,Se as c,Mn as d,ts as e,zt as f,Wp as g,Oa as h,X as i,ot as j,Tt as k,nn as l,Ca as m,Pt as n,Zr as o,Rh as p,jc as q,Me as r,ZV as s,It as t,we as u,K as v,ht as w,rt as x,Lr as y,wr as z};
