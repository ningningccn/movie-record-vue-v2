const __vite__fileDeps=["assets/index-Cs0QxrLH.js","assets/loading-s5_H2fYM.js","assets/login-BCNEVyW1.js","assets/login-DVp74WxM.css","assets/register-CFvntCgr.js","assets/register-DSUzmPsx.css","assets/search-BCmWxP4v.js","assets/search-detail-rlacqE3g.js","assets/search-detail-XwXgQroC.css","assets/movie-detail-BUm8hgeH.js","assets/movie-detail-DtOsynpN.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$x=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},gI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$x(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new Vx;const d=i<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fx=function(t){const e=mI(t);return gI.encodeByteArray(e,!0)},Qd=function(t){return Fx(t).replace(/\./g,"")},_I=function(t){try{return gI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=()=>Ux().__FIREBASE_DEFAULTS__,jx=()=>{if(typeof process>"u"||typeof cw>"u")return;const t=cw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_I(t[1]);return e&&JSON.parse(e)},nm=()=>{try{return Bx()||jx()||Hx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vI=t=>{var e,n;return(n=(e=nm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yI=t=>{const e=vI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bI=()=>{var t;return(t=nm())===null||t===void 0?void 0:t.config},wI=t=>{var e;return(e=nm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qd(JSON.stringify(n)),Qd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function qx(){var t;const e=(t=nm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kx(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xx(){return!qx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qx(){try{return typeof indexedDB=="object"}catch{return!1}}function Jx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zx,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ef.prototype.create)}}class ef{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?eM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new fi(s,a,r)}}function eM(t,e){return t.replace(tM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const tM=/\{\$([^}]+)}/g;function nM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(hw(i)&&hw(o)){if(!Jd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function wc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function rM(t,e){const n=new sM(t,e);return n.subscribe.bind(n)}class sM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ug),s.error===void 0&&(s.error=ug),s.complete===void 0&&(s.complete=ug);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lM(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aM(t){return t===pa?void 0:t}function lM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const cM={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},hM=ht.INFO,fM={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},dM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=fM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qv{constructor(e){this.name=e,this._logLevel=hM,this._logHandler=dM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const pM=(t,e)=>e.some(n=>t instanceof n);let fw,dw;function mM(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gM(){return dw||(dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EI=new WeakMap,g_=new WeakMap,AI=new WeakMap,cg=new WeakMap,Jv=new WeakMap;function _M(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ro(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EI.set(n,t)}).catch(()=>{}),Jv.set(e,t),e}function vM(t){if(g_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});g_.set(t,e)}let __={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return g_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yM(t){__=t(__)}function bM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hg(this),e,...n);return AI.set(r,e.sort?e.sort():[e]),Ro(r)}:gM().includes(t)?function(...e){return t.apply(hg(this),e),Ro(EI.get(this))}:function(...e){return Ro(t.apply(hg(this),e))}}function wM(t){return typeof t=="function"?bM(t):(t instanceof IDBTransaction&&vM(t),pM(t,mM())?new Proxy(t,__):t)}function Ro(t){if(t instanceof IDBRequest)return _M(t);if(cg.has(t))return cg.get(t);const e=wM(t);return e!==t&&(cg.set(t,e),Jv.set(e,t)),e}const hg=t=>Jv.get(t);function TM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ro(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ro(o.result),l.oldVersion,l.newVersion,Ro(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const EM=["get","getKey","getAll","getAllKeys","count"],AM=["put","add","delete","clear"],fg=new Map;function pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=AM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||EM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return fg.set(e,i),i}yM(t=>({...t,get:(e,n,r)=>pw(e,n)||t.get(e,n,r),has:(e,n)=>!!pw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const v_="@firebase/app",mw="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Qv("@firebase/app"),PM="@firebase/app-compat",RM="@firebase/analytics-compat",CM="@firebase/analytics",DM="@firebase/app-check-compat",kM="@firebase/app-check",OM="@firebase/auth",xM="@firebase/auth-compat",MM="@firebase/database",NM="@firebase/database-compat",LM="@firebase/functions",$M="@firebase/functions-compat",VM="@firebase/installations",FM="@firebase/installations-compat",UM="@firebase/messaging",BM="@firebase/messaging-compat",jM="@firebase/performance",HM="@firebase/performance-compat",zM="@firebase/remote-config",YM="@firebase/remote-config-compat",qM="@firebase/storage",WM="@firebase/storage-compat",GM="@firebase/firestore",KM="@firebase/vertexai-preview",XM="@firebase/firestore-compat",QM="firebase",JM="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="[DEFAULT]",ZM={[v_]:"fire-core",[PM]:"fire-core-compat",[CM]:"fire-analytics",[RM]:"fire-analytics-compat",[kM]:"fire-app-check",[DM]:"fire-app-check-compat",[OM]:"fire-auth",[xM]:"fire-auth-compat",[MM]:"fire-rtdb",[NM]:"fire-rtdb-compat",[LM]:"fire-fn",[$M]:"fire-fn-compat",[VM]:"fire-iid",[FM]:"fire-iid-compat",[UM]:"fire-fcm",[BM]:"fire-fcm-compat",[jM]:"fire-perf",[HM]:"fire-perf-compat",[zM]:"fire-rc",[YM]:"fire-rc-compat",[qM]:"fire-gcs",[WM]:"fire-gcs-compat",[GM]:"fire-fst",[XM]:"fire-fst-compat",[KM]:"fire-vertex","fire-js":"fire-js",[QM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,eN=new Map,b_=new Map;function gw(t,e){try{t.container.addComponent(e)}catch(n){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wa(t){const e=t.name;if(b_.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;b_.set(e,t);for(const n of Zd.values())gw(n,t);for(const n of eN.values())gw(n,t);return!0}function rm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new ef("app","Firebase",tN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=JM;function II(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:y_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Co.create("bad-app-name",{appName:String(s)});if(n||(n=bI()),!n)throw Co.create("no-options");const i=Zd.get(s);if(i){if(Jd(n,i.options)&&Jd(r,i.config))return i;throw Co.create("duplicate-app",{appName:s})}const o=new uM(s);for(const l of b_.values())o.addComponent(l);const a=new nN(n,r,o);return Zd.set(s,a),a}function Zv(t=y_){const e=Zd.get(t);if(!e&&t===y_&&bI())return II();if(!e)throw Co.create("no-app",{appName:t});return e}function Js(t,e,n){var r;let s=(r=ZM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qa.warn(a.join(" "));return}Wa(new Lo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebase-heartbeat-database",sN=1,vh="firebase-heartbeat-store";let dg=null;function SI(){return dg||(dg=TM(rN,sN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),dg}async function iN(t){try{const n=(await SI()).transaction(vh),r=await n.objectStore(vh).get(PI(t));return await n.done,r}catch(e){if(e instanceof fi)qa.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qa.warn(n.message)}}}async function _w(t,e){try{const r=(await SI()).transaction(vh,"readwrite");await r.objectStore(vh).put(e,PI(t)),await r.done}catch(n){if(n instanceof fi)qa.warn(n.message);else{const r=Co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qa.warn(r.message)}}}function PI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1024,aN=30*24*60*60*1e3;class lN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=aN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vw(),{heartbeatsToSend:r,unsentEntries:s}=uN(this._heartbeatsCache.heartbeats),i=Qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vw(){return new Date().toISOString().substring(0,10)}function uN(t,e=oN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),yw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),yw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qx()?Jx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yw(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){Wa(new Lo("platform-logger",e=>new IM(e),"PRIVATE")),Wa(new Lo("heartbeat",e=>new lN(e),"PRIVATE")),Js(v_,mw,t),Js(v_,mw,"esm2017"),Js("fire-js","")}hN("");var fN="firebase",dN="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(fN,dN,"app");var bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,RI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function b(){}b.prototype=w.prototype,T.D=w.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(I,P,y){for(var E=Array(arguments.length-2),B=2;B<arguments.length;B++)E[B-2]=arguments[B];return w.prototype[P].apply(I,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,w,b){b||(b=0);var I=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)I[P]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(P=0;16>P;++P)I[P]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=T.g[0],b=T.g[1],P=T.g[2];var y=T.g[3],E=w+(y^b&(P^y))+I[0]+3614090360&4294967295;w=b+(E<<7&4294967295|E>>>25),E=y+(P^w&(b^P))+I[1]+3905402710&4294967295,y=w+(E<<12&4294967295|E>>>20),E=P+(b^y&(w^b))+I[2]+606105819&4294967295,P=y+(E<<17&4294967295|E>>>15),E=b+(w^P&(y^w))+I[3]+3250441966&4294967295,b=P+(E<<22&4294967295|E>>>10),E=w+(y^b&(P^y))+I[4]+4118548399&4294967295,w=b+(E<<7&4294967295|E>>>25),E=y+(P^w&(b^P))+I[5]+1200080426&4294967295,y=w+(E<<12&4294967295|E>>>20),E=P+(b^y&(w^b))+I[6]+2821735955&4294967295,P=y+(E<<17&4294967295|E>>>15),E=b+(w^P&(y^w))+I[7]+4249261313&4294967295,b=P+(E<<22&4294967295|E>>>10),E=w+(y^b&(P^y))+I[8]+1770035416&4294967295,w=b+(E<<7&4294967295|E>>>25),E=y+(P^w&(b^P))+I[9]+2336552879&4294967295,y=w+(E<<12&4294967295|E>>>20),E=P+(b^y&(w^b))+I[10]+4294925233&4294967295,P=y+(E<<17&4294967295|E>>>15),E=b+(w^P&(y^w))+I[11]+2304563134&4294967295,b=P+(E<<22&4294967295|E>>>10),E=w+(y^b&(P^y))+I[12]+1804603682&4294967295,w=b+(E<<7&4294967295|E>>>25),E=y+(P^w&(b^P))+I[13]+4254626195&4294967295,y=w+(E<<12&4294967295|E>>>20),E=P+(b^y&(w^b))+I[14]+2792965006&4294967295,P=y+(E<<17&4294967295|E>>>15),E=b+(w^P&(y^w))+I[15]+1236535329&4294967295,b=P+(E<<22&4294967295|E>>>10),E=w+(P^y&(b^P))+I[1]+4129170786&4294967295,w=b+(E<<5&4294967295|E>>>27),E=y+(b^P&(w^b))+I[6]+3225465664&4294967295,y=w+(E<<9&4294967295|E>>>23),E=P+(w^b&(y^w))+I[11]+643717713&4294967295,P=y+(E<<14&4294967295|E>>>18),E=b+(y^w&(P^y))+I[0]+3921069994&4294967295,b=P+(E<<20&4294967295|E>>>12),E=w+(P^y&(b^P))+I[5]+3593408605&4294967295,w=b+(E<<5&4294967295|E>>>27),E=y+(b^P&(w^b))+I[10]+38016083&4294967295,y=w+(E<<9&4294967295|E>>>23),E=P+(w^b&(y^w))+I[15]+3634488961&4294967295,P=y+(E<<14&4294967295|E>>>18),E=b+(y^w&(P^y))+I[4]+3889429448&4294967295,b=P+(E<<20&4294967295|E>>>12),E=w+(P^y&(b^P))+I[9]+568446438&4294967295,w=b+(E<<5&4294967295|E>>>27),E=y+(b^P&(w^b))+I[14]+3275163606&4294967295,y=w+(E<<9&4294967295|E>>>23),E=P+(w^b&(y^w))+I[3]+4107603335&4294967295,P=y+(E<<14&4294967295|E>>>18),E=b+(y^w&(P^y))+I[8]+1163531501&4294967295,b=P+(E<<20&4294967295|E>>>12),E=w+(P^y&(b^P))+I[13]+2850285829&4294967295,w=b+(E<<5&4294967295|E>>>27),E=y+(b^P&(w^b))+I[2]+4243563512&4294967295,y=w+(E<<9&4294967295|E>>>23),E=P+(w^b&(y^w))+I[7]+1735328473&4294967295,P=y+(E<<14&4294967295|E>>>18),E=b+(y^w&(P^y))+I[12]+2368359562&4294967295,b=P+(E<<20&4294967295|E>>>12),E=w+(b^P^y)+I[5]+4294588738&4294967295,w=b+(E<<4&4294967295|E>>>28),E=y+(w^b^P)+I[8]+2272392833&4294967295,y=w+(E<<11&4294967295|E>>>21),E=P+(y^w^b)+I[11]+1839030562&4294967295,P=y+(E<<16&4294967295|E>>>16),E=b+(P^y^w)+I[14]+4259657740&4294967295,b=P+(E<<23&4294967295|E>>>9),E=w+(b^P^y)+I[1]+2763975236&4294967295,w=b+(E<<4&4294967295|E>>>28),E=y+(w^b^P)+I[4]+1272893353&4294967295,y=w+(E<<11&4294967295|E>>>21),E=P+(y^w^b)+I[7]+4139469664&4294967295,P=y+(E<<16&4294967295|E>>>16),E=b+(P^y^w)+I[10]+3200236656&4294967295,b=P+(E<<23&4294967295|E>>>9),E=w+(b^P^y)+I[13]+681279174&4294967295,w=b+(E<<4&4294967295|E>>>28),E=y+(w^b^P)+I[0]+3936430074&4294967295,y=w+(E<<11&4294967295|E>>>21),E=P+(y^w^b)+I[3]+3572445317&4294967295,P=y+(E<<16&4294967295|E>>>16),E=b+(P^y^w)+I[6]+76029189&4294967295,b=P+(E<<23&4294967295|E>>>9),E=w+(b^P^y)+I[9]+3654602809&4294967295,w=b+(E<<4&4294967295|E>>>28),E=y+(w^b^P)+I[12]+3873151461&4294967295,y=w+(E<<11&4294967295|E>>>21),E=P+(y^w^b)+I[15]+530742520&4294967295,P=y+(E<<16&4294967295|E>>>16),E=b+(P^y^w)+I[2]+3299628645&4294967295,b=P+(E<<23&4294967295|E>>>9),E=w+(P^(b|~y))+I[0]+4096336452&4294967295,w=b+(E<<6&4294967295|E>>>26),E=y+(b^(w|~P))+I[7]+1126891415&4294967295,y=w+(E<<10&4294967295|E>>>22),E=P+(w^(y|~b))+I[14]+2878612391&4294967295,P=y+(E<<15&4294967295|E>>>17),E=b+(y^(P|~w))+I[5]+4237533241&4294967295,b=P+(E<<21&4294967295|E>>>11),E=w+(P^(b|~y))+I[12]+1700485571&4294967295,w=b+(E<<6&4294967295|E>>>26),E=y+(b^(w|~P))+I[3]+2399980690&4294967295,y=w+(E<<10&4294967295|E>>>22),E=P+(w^(y|~b))+I[10]+4293915773&4294967295,P=y+(E<<15&4294967295|E>>>17),E=b+(y^(P|~w))+I[1]+2240044497&4294967295,b=P+(E<<21&4294967295|E>>>11),E=w+(P^(b|~y))+I[8]+1873313359&4294967295,w=b+(E<<6&4294967295|E>>>26),E=y+(b^(w|~P))+I[15]+4264355552&4294967295,y=w+(E<<10&4294967295|E>>>22),E=P+(w^(y|~b))+I[6]+2734768916&4294967295,P=y+(E<<15&4294967295|E>>>17),E=b+(y^(P|~w))+I[13]+1309151649&4294967295,b=P+(E<<21&4294967295|E>>>11),E=w+(P^(b|~y))+I[4]+4149444226&4294967295,w=b+(E<<6&4294967295|E>>>26),E=y+(b^(w|~P))+I[11]+3174756917&4294967295,y=w+(E<<10&4294967295|E>>>22),E=P+(w^(y|~b))+I[2]+718787259&4294967295,P=y+(E<<15&4294967295|E>>>17),E=b+(y^(P|~w))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(P+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+y&4294967295}r.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var b=w-this.blockSize,I=this.B,P=this.h,y=0;y<w;){if(P==0)for(;y<=b;)s(this,T,y),y+=this.blockSize;if(typeof T=="string"){for(;y<w;)if(I[P++]=T.charCodeAt(y++),P==this.blockSize){s(this,I),P=0;break}}else for(;y<w;)if(I[P++]=T[y++],P==this.blockSize){s(this,I),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var b=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=b&255,b/=256;for(this.u(T),T=Array(16),w=b=0;4>w;++w)for(var I=0;32>I;I+=8)T[b++]=this.g[w]>>>I&255;return T};function i(T,w){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=w(T)}function o(T,w){this.h=w;for(var b=[],I=!0,P=T.length-1;0<=P;P--){var y=T[P]|0;I&&y==w||(b[P]=y,I=!1)}this.g=b}var a={};function l(T){return-128<=T&&128>T?i(T,function(w){return new o([w|0],0>w?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return A(u(-T));for(var w=[],b=1,I=0;T>=b;I++)w[I]=T/b|0,b*=4294967296;return new o(w,0)}function c(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return A(c(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(w,8)),I=f,P=0;P<T.length;P+=8){var y=Math.min(8,T.length-P),E=parseInt(T.substring(P,P+y),w);8>y?(y=u(Math.pow(w,y)),I=I.j(y).add(u(E))):(I=I.j(b),I=I.add(u(E)))}return I}var f=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-A(this).m();for(var T=0,w=1,b=0;b<this.g.length;b++){var I=this.i(b);T+=(0<=I?I:4294967296+I)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(_(this))return"-"+A(this).toString(T);for(var w=u(Math.pow(T,6)),b=this,I="";;){var P=O(b,w).g;b=S(b,P.j(w));var y=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=P,g(b))return y+I;for(;6>y.length;)y="0"+y;I=y+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=S(this,T),_(T)?-1:g(T)?0:1};function A(T){for(var w=T.g.length,b=[],I=0;I<w;I++)b[I]=~T.g[I];return new o(b,~T.h).add(d)}t.abs=function(){return _(this)?A(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),b=[],I=0,P=0;P<=w;P++){var y=I+(this.i(P)&65535)+(T.i(P)&65535),E=(y>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);I=E>>>16,y&=65535,E&=65535,b[P]=E<<16|y}return new o(b,b[b.length-1]&-2147483648?-1:0)};function S(T,w){return T.add(A(w))}t.j=function(T){if(g(this)||g(T))return f;if(_(this))return _(T)?A(this).j(A(T)):A(A(this).j(T));if(_(T))return A(this.j(A(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var w=this.g.length+T.g.length,b=[],I=0;I<2*w;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<T.g.length;P++){var y=this.i(I)>>>16,E=this.i(I)&65535,B=T.i(P)>>>16,U=T.i(P)&65535;b[2*I+2*P]+=E*U,M(b,2*I+2*P),b[2*I+2*P+1]+=y*U,M(b,2*I+2*P+1),b[2*I+2*P+1]+=E*B,M(b,2*I+2*P+1),b[2*I+2*P+2]+=y*B,M(b,2*I+2*P+2)}for(I=0;I<w;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=w;I<2*w;I++)b[I]=0;return new o(b,0)};function M(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function k(T,w){this.g=T,this.h=w}function O(T,w){if(g(w))throw Error("division by zero");if(g(T))return new k(f,f);if(_(T))return w=O(A(T),w),new k(A(w.g),A(w.h));if(_(w))return w=O(T,A(w)),new k(A(w.g),w.h);if(30<T.g.length){if(_(T)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var b=d,I=w;0>=I.l(T);)b=x(b),I=x(I);var P=N(b,1),y=N(I,1);for(I=N(I,2),b=N(b,2);!g(I);){var E=y.add(I);0>=E.l(T)&&(P=P.add(b),y=E),I=N(I,1),b=N(b,1)}return w=S(T,P.j(w)),new k(P,w)}for(P=f;0<=T.l(w);){for(b=Math.max(1,Math.floor(T.m()/w.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),y=u(b),E=y.j(w);_(E)||0<E.l(T);)b-=I,y=u(b),E=y.j(w);g(y)&&(y=d),P=P.add(y),T=S(T,E)}return new k(P,T)}t.A=function(T){return O(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)&T.i(I);return new o(b,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)|T.i(I);return new o(b,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)^T.i(I);return new o(b,this.h^T.h)};function x(T){for(var w=T.g.length+1,b=[],I=0;I<w;I++)b[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(b,T.h)}function N(T,w){var b=w>>5;w%=32;for(var I=T.g.length-b,P=[],y=0;y<I;y++)P[y]=0<w?T.i(y+b)>>>w|T.i(y+b+1)<<32-w:T.i(y+b);return new o(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Pa=o}).apply(typeof bw<"u"?bw:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CI,DI,Tc,kI,wd,w_,OI,xI,MI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,v){return h==Array.prototype||h==Object.prototype||(h[m]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var m=0;m<h.length;++m){var v=h[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(h,m){if(m)e:{var v=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var q=h[C];if(!(q in v))break e;v=v[q]}h=h[h.length-1],C=v[h],m=m(C),m!=C&&m!=null&&e(v,h,{configurable:!0,writable:!0,value:m})}}function i(h,m){h instanceof String&&(h+="");var v=0,C=!1,q={next:function(){if(!C&&v<h.length){var J=v++;return{value:m(J,h[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}s("Array.prototype.values",function(h){return h||function(){return i(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function u(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function c(h,m,v){return h.call.apply(h.bind,arguments)}function f(h,m,v){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,C),h.apply(m,q)}}return function(){return h.apply(m,arguments)}}function d(h,m,v){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,m){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function g(h,m){function v(){}v.prototype=m.prototype,h.aa=m.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(C,q,J){for(var Ae=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Ae[Ot-2]=arguments[Ot];return m.prototype[q].apply(C,Ae)}}function _(h){const m=h.length;if(0<m){const v=Array(m);for(let C=0;C<m;C++)v[C]=h[C];return v}return[]}function A(h,m){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(l(C)){const q=h.length||0,J=C.length||0;h.length=q+J;for(let Ae=0;Ae<J;Ae++)h[q+Ae]=C[Ae]}else h.push(C)}}class S{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function M(h){return/^[\s\xa0]*$/.test(h)}function k(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function O(h){return O[" "](h),h}O[" "]=function(){};var x=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function N(h,m,v){for(const C in h)m.call(v,h[C],C,h)}function T(h,m){for(const v in h)m.call(void 0,h[v],v,h)}function w(h){const m={};for(const v in h)m[v]=h[v];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,m){let v,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(v in C)h[v]=C[v];for(let J=0;J<b.length;J++)v=b[J],Object.prototype.hasOwnProperty.call(C,v)&&(h[v]=C[v])}}function P(h){var m=1;h=h.split(":");const v=[];for(;0<m&&h.length;)v.push(h.shift()),m--;return h.length&&v.push(h.join(":")),v}function y(h){a.setTimeout(()=>{throw h},0)}function E(){var h=ee;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class B{constructor(){this.h=this.g=null}add(m,v){const C=U.get();C.set(m,v),this.h?this.h.next=C:this.g=C,this.h=C}}var U=new S(()=>new F,h=>h.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,ee=new B,R=()=>{const h=a.Promise.resolve(void 0);j=()=>{h.then(ue)}};var ue=()=>{for(var h;h=E();){try{h.h.call(h.g)}catch(v){y(v)}var m=U;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}H=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};a.addEventListener("test",v,m),a.removeEventListener("test",v,m)}catch{}return h}();function Ce(h,m){if(ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(x){e:{try{O(m.nodeName);var q=!0;break e}catch{}q=!1}q||(m=null)}}else v=="mouseover"?m=h.fromElement:v=="mouseout"&&(m=h.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:De[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}g(Ce,ve);var De={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),ae=0;function W(h,m,v,C,q){this.listener=h,this.proxy=null,this.src=m,this.type=v,this.capture=!!C,this.ha=q,this.key=++ae,this.da=this.fa=!1}function ne(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,m,v,C,q){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var Ae=D(h,m,C,q);return-1<Ae?(m=h[Ae],v||(m.fa=!1)):(m=new W(m,this.src,J,!!C,q),m.fa=v,h.push(m)),m};function Re(h,m){var v=m.type;if(v in h.g){var C=h.g[v],q=Array.prototype.indexOf.call(C,m,void 0),J;(J=0<=q)&&Array.prototype.splice.call(C,q,1),J&&(ne(m),h.g[v].length==0&&(delete h.g[v],h.h--))}}function D(h,m,v,C){for(var q=0;q<h.length;++q){var J=h[q];if(!J.da&&J.listener==m&&J.capture==!!v&&J.ha==C)return q}return-1}var L="closure_lm_"+(1e6*Math.random()|0),Y={};function Q(h,m,v,C,q){if(Array.isArray(m)){for(var J=0;J<m.length;J++)Q(h,m[J],v,C,q);return null}return v=be(v),h&&h[z]?h.K(m,v,u(C)?!!C.capture:!!C,q):$(h,m,v,!1,C,q)}function $(h,m,v,C,q,J){if(!m)throw Error("Invalid event type");var Ae=u(q)?!!q.capture:!!q,Ot=_e(h);if(Ot||(h[L]=Ot=new me(h)),v=Ot.add(m,v,C,Ae,J),v.proxy)return v;if(C=he(),v.proxy=C,C.src=h,C.listener=v,h.addEventListener)ge||(q=Ae),q===void 0&&(q=!1),h.addEventListener(m.toString(),C,q);else if(h.attachEvent)h.attachEvent(oe(m.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function he(){function h(v){return m.call(h.src,h.listener,v)}const m=se;return h}function de(h,m,v,C,q){if(Array.isArray(m))for(var J=0;J<m.length;J++)de(h,m[J],v,C,q);else C=u(C)?!!C.capture:!!C,v=be(v),h&&h[z]?(h=h.i,m=String(m).toString(),m in h.g&&(J=h.g[m],v=D(J,v,C,q),-1<v&&(ne(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete h.g[m],h.h--)))):h&&(h=_e(h))&&(m=h.g[m.toString()],h=-1,m&&(h=D(m,v,C,q)),(v=-1<h?m[h]:null)&&le(v))}function le(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[z])Re(m.i,h);else{var v=h.type,C=h.proxy;m.removeEventListener?m.removeEventListener(v,C,h.capture):m.detachEvent?m.detachEvent(oe(v),C):m.addListener&&m.removeListener&&m.removeListener(C),(v=_e(m))?(Re(v,h),v.h==0&&(v.src=null,m[L]=null)):ne(h)}}}function oe(h){return h in Y?Y[h]:Y[h]="on"+h}function se(h,m){if(h.da)h=!0;else{m=new Ce(m,this);var v=h.listener,C=h.ha||h.src;h.fa&&le(h),h=v.call(C,m)}return h}function _e(h){return h=h[L],h instanceof me?h:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(h){return typeof h=="function"?h:(h[Pe]||(h[Pe]=function(m){return h.handleEvent(m)}),h[Pe])}function Ie(){te.call(this),this.i=new me(this),this.M=this,this.F=null}g(Ie,te),Ie.prototype[z]=!0,Ie.prototype.removeEventListener=function(h,m,v,C){de(this,h,m,v,C)};function Te(h,m){var v,C=h.F;if(C)for(v=[];C;C=C.F)v.push(C);if(h=h.M,C=m.type||m,typeof m=="string")m=new ve(m,h);else if(m instanceof ve)m.target=m.target||h;else{var q=m;m=new ve(C,h),I(m,q)}if(q=!0,v)for(var J=v.length-1;0<=J;J--){var Ae=m.g=v[J];q=Ye(Ae,C,!0,m)&&q}if(Ae=m.g=h,q=Ye(Ae,C,!0,m)&&q,q=Ye(Ae,C,!1,m)&&q,v)for(J=0;J<v.length;J++)Ae=m.g=v[J],q=Ye(Ae,C,!1,m)&&q}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var v=h.g[m],C=0;C<v.length;C++)ne(v[C]);delete h.g[m],h.h--}}this.F=null},Ie.prototype.K=function(h,m,v,C){return this.i.add(String(h),m,!1,v,C)},Ie.prototype.L=function(h,m,v,C){return this.i.add(String(h),m,!0,v,C)};function Ye(h,m,v,C){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,J=0;J<m.length;++J){var Ae=m[J];if(Ae&&!Ae.da&&Ae.capture==v){var Ot=Ae.listener,Fn=Ae.ha||Ae.src;Ae.fa&&Re(h.i,Ae),q=Ot.call(Fn,C)!==!1&&q}}return q&&!C.defaultPrevented}function ze(h,m,v){if(typeof h=="function")v&&(h=d(h,v));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(h,m||0)}function st(h){h.g=ze(()=>{h.g=null,h.i&&(h.i=!1,st(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class qt extends te{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(h){te.call(this),this.h=h,this.g={}}g(tt,te);var lr=[];function on(h){N(h.g,function(m,v){this.g.hasOwnProperty(v)&&le(m)},h),h.g={}}tt.prototype.N=function(){tt.aa.N.call(this),on(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=a.JSON.stringify,Ct=a.JSON.parse,re=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function V(){}V.prototype.h=null;function G(h){return h.h||(h.h=h.i())}function we(){}var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function et(){ve.call(this,"d")}g(et,ve);function bt(){ve.call(this,"c")}g(bt,ve);var Et={},Yn=null;function an(){return Yn=Yn||new Ie}Et.La="serverreachability";function es(h){ve.call(this,Et.La,h)}g(es,ve);function Me(h){const m=an();Te(m,new es(m))}Et.STAT_EVENT="statevent";function Fe(h,m){ve.call(this,Et.STAT_EVENT,h),this.stat=m}g(Fe,ve);function He(h){const m=an();Te(m,new Fe(m,h))}Et.Ma="timingevent";function Ee(h,m){ve.call(this,Et.Ma,h),this.size=m}g(Ee,ve);function Be(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},m)}function $e(){this.g=!0}$e.prototype.xa=function(){this.g=!1};function Ge(h,m,v,C,q,J){h.info(function(){if(h.g)if(J)for(var Ae="",Ot=J.split("&"),Fn=0;Fn<Ot.length;Fn++){var yt=Ot[Fn].split("=");if(1<yt.length){var Gn=yt[0];yt=yt[1];var Kn=Gn.split("_");Ae=2<=Kn.length&&Kn[1]=="type"?Ae+(Gn+"="+yt+"&"):Ae+(Gn+"=redacted&")}}else Ae=null;else Ae=J;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+m+`
`+v+`
`+Ae})}function pn(h,m,v,C,q,J,Ae){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+m+`
`+v+`
`+J+" "+Ae})}function Je(h,m,v,C){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cn(h,v)+(C?" "+C:"")})}function Wt(h,m){h.info(function(){return"TIMEOUT: "+m})}$e.prototype.info=function(){};function Cn(h,m){if(!h.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var C=v[h];if(!(2>C.length)){var q=C[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var Ae=1;Ae<q.length;Ae++)q[Ae]=""}}}}return Rn(v)}catch{return m}}var Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wt;function qn(){}g(qn,V),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},wt=new qn;function vt(h,m,v,C){this.j=h,this.i=m,this.l=v,this.R=C||1,this.U=new tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Vr={},ln={};function un(h,m,v){h.L=1,h.v=Of(_i(m)),h.m=v,h.P=!0,wn(h,null)}function wn(h,m){h.F=Date.now(),cn(h),h.A=_i(h.v);var v=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),jb(v.i,"t",C),h.C=0,v=h.j.J,h.h=new Wn,h.g=ow(h.j,v?m:null,!h.m),0<h.O&&(h.M=new qt(d(h.Y,h,h.g),h.O)),m=h.U,v=h.g,C=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(lr[0]=q.toString()),q=lr);for(var J=0;J<q.length;J++){var Ae=Q(v,q[J],C||m.handleEvent,!1,m.h||m);if(!Ae)break;m.g[Ae.key]=Ae}m=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),Me(),Ge(h.i,h.u,h.A,h.l,h.R,h.m)}vt.prototype.ca=function(h){h=h.target;const m=this.M;m&&vi(h)==3?m.j():this.Y(h)},vt.prototype.Y=function(h){try{if(h==this.g)e:{const Kn=vi(this.g);var m=this.g.Ba();const Sl=this.g.Z();if(!(3>Kn)&&(Kn!=3||this.g&&(this.h.h||this.g.oa()||Kb(this.g)))){this.J||Kn!=4||m==7||(m==8||0>=Sl?Me(3):Me(2)),Tr(this);var v=this.g.Z();this.X=v;t:if(Vs(this)){var C=Kb(this.g);h="";var q=C.length,J=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fs(this),mi(this);var Ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,h+=this.h.i.decode(C[m],{stream:!(J&&m==q-1)});C.length=0,this.h.g+=h,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=v==200,pn(this.i,this.u,this.A,this.l,this.R,Kn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Fn=this.g;if((Ot=Fn.g?Fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ot)){var yt=Ot;break t}}yt=null}if(v=yt)Je(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gi(this,v);else{this.o=!1,this.s=3,He(12),Fs(this),mi(this);break e}}if(this.P){v=!0;let ws;for(;!this.J&&this.C<Ae.length;)if(ws=El(this,Ae),ws==ln){Kn==4&&(this.s=4,He(14),v=!1),Je(this.i,this.l,null,"[Incomplete Response]");break}else if(ws==Vr){this.s=4,He(15),Je(this.i,this.l,Ae,"[Invalid Chunk]"),v=!1;break}else Je(this.i,this.l,ws,null),gi(this,ws);if(Vs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kn!=4||Ae.length!=0||this.h.h||(this.s=1,He(16),v=!1),this.o=this.o&&v,!v)Je(this.i,this.l,Ae,"[Invalid Chunked Response]"),Fs(this),mi(this);else if(0<Ae.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),ag(Gn),Gn.M=!0,He(11))}}else Je(this.i,this.l,Ae,null),gi(this,Ae);Kn==4&&Fs(this),this.o&&!this.J&&(Kn==4?nw(this.j,this):(this.o=!1,cn(this)))}else Nx(this.g),v==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),Fs(this),mi(this)}}}catch{}finally{}};function Vs(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function El(h,m){var v=h.C,C=m.indexOf(`
`,v);return C==-1?ln:(v=Number(m.substring(v,C)),isNaN(v)?Vr:(C+=1,C+v>m.length?ln:(m=m.slice(C,C+v),h.C=C+v,m)))}vt.prototype.cancel=function(){this.J=!0,Fs(this)};function cn(h){h.S=Date.now()+h.I,en(h,h.I)}function en(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Be(d(h.ba,h),m)}function Tr(h){h.B&&(a.clearTimeout(h.B),h.B=null)}vt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Wt(this.i,this.A),this.L!=2&&(Me(),He(17)),Fs(this),this.s=2,mi(this)):en(this,this.S-h)};function mi(h){h.j.G==0||h.J||nw(h.j,h)}function Fs(h){Tr(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,on(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function gi(h,m){try{var v=h.j;if(v.G!=0&&(v.g==h||ng(v.h,h))){if(!h.K&&ng(v.h,h)&&v.G==3){try{var C=v.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)$f(v),Nf(v);else break e;og(v),He(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Be(d(v.Za,v),6e3));if(1>=Xi(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ia(v,11)}else if((h.K||v.g==h)&&$f(v),!M(m))for(q=v.Da.g.parse(m),m=0;m<q.length;m++){let yt=q[m];if(v.T=yt[0],yt=yt[1],v.G==2)if(yt[0]=="c"){v.K=yt[1],v.ia=yt[2];const Gn=yt[3];Gn!=null&&(v.la=Gn,v.j.info("VER="+v.la));const Kn=yt[4];Kn!=null&&(v.Aa=Kn,v.j.info("SVER="+v.Aa));const Sl=yt[5];Sl!=null&&typeof Sl=="number"&&0<Sl&&(C=1.5*Sl,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const ws=h.g;if(ws){const Ff=ws.g?ws.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ff){var J=C.h;J.g||Ff.indexOf("spdy")==-1&&Ff.indexOf("quic")==-1&&Ff.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(rg(J,J.h),J.h=null))}if(C.D){const lg=ws.g?ws.g.getResponseHeader("X-HTTP-Session-Id"):null;lg&&(C.ya=lg,Vt(C.I,C.D,lg))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var Ae=h;if(C.qa=iw(C,C.J?C.ia:null,C.W),Ae.K){Mb(C.h,Ae);var Ot=Ae,Fn=C.L;Fn&&(Ot.I=Fn),Ot.B&&(Tr(Ot),cn(Ot)),C.g=Ae}else ew(C);0<v.i.length&&Lf(v)}else yt[0]!="stop"&&yt[0]!="close"||ia(v,7);else v.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?ia(v,7):ig(v):yt[0]!="noop"&&v.l&&v.l.ta(yt),v.v=0)}}Me(4)}catch{}}var ts=class{constructor(h,m){this.g=h,this.map=m}};function Ki(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xi(h){return h.h?1:h.g?h.g.size:0}function ng(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function rg(h,m){h.g?h.g.add(m):h.h=m}function Mb(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}Ki.prototype.cancel=function(){if(this.i=Nb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Nb(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const v of h.g.values())m=m.concat(v.D);return m}return _(h.i)}function bx(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var m=[],v=h.length,C=0;C<v;C++)m.push(h[C]);return m}m=[],v=0;for(C in h)m[v++]=h[C];return m}function wx(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var m=[];h=h.length;for(var v=0;v<h;v++)m.push(v);return m}m=[],v=0;for(const C in h)m[v++]=C;return m}}}function Lb(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var v=wx(h),C=bx(h),q=C.length,J=0;J<q;J++)m.call(void 0,C[J],v&&v[J],h)}var $b=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tx(h,m){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var C=h[v].indexOf("="),q=null;if(0<=C){var J=h[v].substring(0,C);q=h[v].substring(C+1)}else J=h[v];m(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function sa(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof sa){this.h=h.h,Df(this,h.j),this.o=h.o,this.g=h.g,kf(this,h.s),this.l=h.l;var m=h.i,v=new Zu;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Vb(this,v),this.m=h.m}else h&&(m=String(h).match($b))?(this.h=!1,Df(this,m[1]||"",!0),this.o=Qu(m[2]||""),this.g=Qu(m[3]||"",!0),kf(this,m[4]),this.l=Qu(m[5]||"",!0),Vb(this,m[6]||"",!0),this.m=Qu(m[7]||"")):(this.h=!1,this.i=new Zu(null,this.h))}sa.prototype.toString=function(){var h=[],m=this.j;m&&h.push(Ju(m,Fb,!0),":");var v=this.g;return(v||m=="file")&&(h.push("//"),(m=this.o)&&h.push(Ju(m,Fb,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Ju(v,v.charAt(0)=="/"?Ix:Ax,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Ju(v,Px)),h.join("")};function _i(h){return new sa(h)}function Df(h,m,v){h.j=v?Qu(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function kf(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function Vb(h,m,v){m instanceof Zu?(h.i=m,Rx(h.i,h.h)):(v||(m=Ju(m,Sx)),h.i=new Zu(m,h.h))}function Vt(h,m,v){h.i.set(m,v)}function Of(h){return Vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Qu(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ju(h,m,v){return typeof h=="string"?(h=encodeURI(h).replace(m,Ex),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ex(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fb=/[#\/\?@]/g,Ax=/[#\?:]/g,Ix=/[#\?]/g,Sx=/[#\?@]/g,Px=/#/g;function Zu(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function Qi(h){h.g||(h.g=new Map,h.h=0,h.i&&Tx(h.i,function(m,v){h.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=Zu.prototype,t.add=function(h,m){Qi(this),this.i=null,h=Al(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(m),this.h+=1,this};function Ub(h,m){Qi(h),m=Al(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function Bb(h,m){return Qi(h),m=Al(h,m),h.g.has(m)}t.forEach=function(h,m){Qi(this),this.g.forEach(function(v,C){v.forEach(function(q){h.call(m,q,C,this)},this)},this)},t.na=function(){Qi(this);const h=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let C=0;C<m.length;C++){const q=h[C];for(let J=0;J<q.length;J++)v.push(m[C])}return v},t.V=function(h){Qi(this);let m=[];if(typeof h=="string")Bb(this,h)&&(m=m.concat(this.g.get(Al(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)m=m.concat(h[v])}return m},t.set=function(h,m){return Qi(this),this.i=null,h=Al(this,h),Bb(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},t.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function jb(h,m,v){Ub(h,m),0<v.length&&(h.i=null,h.g.set(Al(h,m),_(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var C=m[v];const J=encodeURIComponent(String(C)),Ae=this.V(C);for(C=0;C<Ae.length;C++){var q=J;Ae[C]!==""&&(q+="="+encodeURIComponent(String(Ae[C]))),h.push(q)}}return this.i=h.join("&")};function Al(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function Rx(h,m){m&&!h.j&&(Qi(h),h.i=null,h.g.forEach(function(v,C){var q=C.toLowerCase();C!=q&&(Ub(this,C),jb(this,q,v))},h)),h.j=m}function Cx(h,m){const v=new $e;if(a.Image){const C=new Image;C.onload=p(Ji,v,"TestLoadImage: loaded",!0,m,C),C.onerror=p(Ji,v,"TestLoadImage: error",!1,m,C),C.onabort=p(Ji,v,"TestLoadImage: abort",!1,m,C),C.ontimeout=p(Ji,v,"TestLoadImage: timeout",!1,m,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else m(!1)}function Dx(h,m){const v=new $e,C=new AbortController,q=setTimeout(()=>{C.abort(),Ji(v,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:C.signal}).then(J=>{clearTimeout(q),J.ok?Ji(v,"TestPingServer: ok",!0,m):Ji(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),Ji(v,"TestPingServer: error",!1,m)})}function Ji(h,m,v,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(v)}catch{}}function kx(){this.g=new re}function Ox(h,m,v){const C=v||"";try{Lb(h,function(q,J){let Ae=q;u(q)&&(Ae=Rn(q)),m.push(C+J+"="+encodeURIComponent(Ae))})}catch(q){throw m.push(C+"type="+encodeURIComponent("_badmap")),q}}function ec(h){this.l=h.Ub||null,this.j=h.eb||!1}g(ec,V),ec.prototype.g=function(){return new xf(this.l,this.j)},ec.prototype.i=function(h){return function(){return h}}({});function xf(h,m){Ie.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(xf,Ie),t=xf.prototype,t.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,nc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hb(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hb(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?tc(this):nc(this),this.readyState==3&&Hb(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,tc(this))},t.Qa=function(h){this.g&&(this.response=h,tc(this))},t.ga=function(){this.g&&tc(this)};function tc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,nc(h)}t.setRequestHeader=function(h,m){this.u.append(h,m)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=m.next();return h.join(`\r
`)};function nc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function zb(h){let m="";return N(h,function(v,C){m+=C,m+=":",m+=v,m+=`\r
`}),m}function sg(h,m,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=zb(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Vt(h,m,v))}function tn(h){Ie.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(tn,Ie);var xx=/^https?$/i,Mx=["POST","PUT"];t=tn.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,m,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wt.g(),this.v=this.o?G(this.o):G(wt),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(J){Yb(this,J);return}if(h=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)v.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())v.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),q=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Mx,m,void 0))||C||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,Ae]of v)this.g.setRequestHeader(J,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gb(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){Yb(this,J)}};function Yb(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,qb(h),Mf(h)}function qb(h){h.A||(h.A=!0,Te(h,"complete"),Te(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Te(this,"complete"),Te(this,"abort"),Mf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mf(this,!0)),tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wb(this):this.bb())},t.bb=function(){Wb(this)};function Wb(h){if(h.h&&typeof o<"u"&&(!h.v[1]||vi(h)!=4||h.Z()!=2)){if(h.u&&vi(h)==4)ze(h.Ea,0,h);else if(Te(h,"readystatechange"),vi(h)==4){h.h=!1;try{const Ae=h.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var C;if(C=Ae===0){var q=String(h.D).match($b)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),C=!xx.test(q?q.toLowerCase():"")}v=C}if(v)Te(h,"complete"),Te(h,"success");else{h.m=6;try{var J=2<vi(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",qb(h)}}finally{Mf(h)}}}}function Mf(h,m){if(h.g){Gb(h);const v=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||Te(h,"ready");try{v.onreadystatechange=C}catch{}}}function Gb(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),Ct(m)}};function Kb(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Nx(h){const m={};h=(h.g&&2<=vi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(M(h[C]))continue;var v=P(h[C]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=m[q]||[];m[q]=J,J.push(v)}T(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rc(h,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||m}function Xb(h){this.Aa=0,this.i=[],this.j=new $e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rc("baseRetryDelayMs",5e3,h),this.cb=rc("retryDelaySeedMs",1e4,h),this.Wa=rc("forwardChannelMaxRetries",2,h),this.wa=rc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(h&&h.concurrentRequestLimit),this.Da=new kx,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xb.prototype,t.la=8,t.G=1,t.connect=function(h,m,v,C){He(0),this.W=h,this.H=m||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=iw(this,null,this.W),Lf(this)};function ig(h){if(Qb(h),h.G==3){var m=h.U++,v=_i(h.I);if(Vt(v,"SID",h.K),Vt(v,"RID",m),Vt(v,"TYPE","terminate"),sc(h,v),m=new vt(h,h.j,m),m.L=2,m.v=Of(_i(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=m.v,v=!0),v||(m.g=ow(m.j,null),m.g.ea(m.v)),m.F=Date.now(),cn(m)}sw(h)}function Nf(h){h.g&&(ag(h),h.g.cancel(),h.g=null)}function Qb(h){Nf(h),h.u&&(a.clearTimeout(h.u),h.u=null),$f(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Lf(h){if(!ra(h.h)&&!h.s){h.s=!0;var m=h.Ga;j||R(),H||(j(),H=!0),ee.add(m,h),h.B=0}}function Lx(h,m){return Xi(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Be(d(h.Ga,h,m),rw(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new vt(this,this.j,h);let J=this.o;if(this.S&&(J?(J=w(J),I(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Zb(this,q,m),v=_i(this.I),Vt(v,"RID",h),Vt(v,"CVER",22),this.D&&Vt(v,"X-HTTP-Session-Id",this.D),sc(this,v),J&&(this.O?m="headers="+encodeURIComponent(String(zb(J)))+"&"+m:this.m&&sg(v,this.m,J)),rg(this.h,q),this.Ua&&Vt(v,"TYPE","init"),this.P?(Vt(v,"$req",m),Vt(v,"SID","null"),q.T=!0,un(q,v,null)):un(q,v,m),this.G=2}}else this.G==3&&(h?Jb(this,h):this.i.length==0||ra(this.h)||Jb(this))};function Jb(h,m){var v;m?v=m.l:v=h.U++;const C=_i(h.I);Vt(C,"SID",h.K),Vt(C,"RID",v),Vt(C,"AID",h.T),sc(h,C),h.m&&h.o&&sg(C,h.m,h.o),v=new vt(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),m&&(h.i=m.D.concat(h.i)),m=Zb(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),rg(h.h,v),un(v,C,m)}function sc(h,m){h.H&&N(h.H,function(v,C){Vt(m,C,v)}),h.l&&Lb({},function(v,C){Vt(m,C,v)})}function Zb(h,m,v){v=Math.min(h.i.length,v);var C=h.l?d(h.l.Na,h.l,h):null;e:{var q=h.i;let J=-1;for(;;){const Ae=["count="+v];J==-1?0<v?(J=q[0].g,Ae.push("ofs="+J)):J=0:Ae.push("ofs="+J);let Ot=!0;for(let Fn=0;Fn<v;Fn++){let yt=q[Fn].g;const Gn=q[Fn].map;if(yt-=J,0>yt)J=Math.max(0,q[Fn].g-100),Ot=!1;else try{Ox(Gn,Ae,"req"+yt+"_")}catch{C&&C(Gn)}}if(Ot){C=Ae.join("&");break e}}}return h=h.i.splice(0,v),m.D=h,C}function ew(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;j||R(),H||(j(),H=!0),ee.add(m,h),h.v=0}}function og(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Be(d(h.Fa,h),rw(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Be(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),Nf(this),tw(this))};function ag(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function tw(h){h.g=new vt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=_i(h.qa);Vt(m,"RID","rpc"),Vt(m,"SID",h.K),Vt(m,"AID",h.T),Vt(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&Vt(m,"TO",h.ja),Vt(m,"TYPE","xmlhttp"),sc(h,m),h.m&&h.o&&sg(m,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Of(_i(m)),v.m=null,v.P=!0,wn(v,h)}t.Za=function(){this.C!=null&&(this.C=null,Nf(this),og(this),He(19))};function $f(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function nw(h,m){var v=null;if(h.g==m){$f(h),ag(h),h.g=null;var C=2}else if(ng(h.h,m))v=m.D,Mb(h.h,m),C=1;else return;if(h.G!=0){if(m.o)if(C==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var q=h.B;C=an(),Te(C,new Ee(C,v)),Lf(h)}else ew(h);else if(q=m.s,q==3||q==0&&0<m.X||!(C==1&&Lx(h,m)||C==2&&og(h)))switch(v&&0<v.length&&(m=h.h,m.i=m.i.concat(v)),q){case 1:ia(h,5);break;case 4:ia(h,10);break;case 3:ia(h,6);break;default:ia(h,2)}}}function rw(h,m){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*m}function ia(h,m){if(h.j.info("Error code "+m),m==2){var v=d(h.fb,h),C=h.Xa;const q=!C;C=new sa(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Df(C,"https"),Of(C),q?Cx(C.toString(),v):Dx(C.toString(),v)}else He(2);h.G=0,h.l&&h.l.sa(m),sw(h),Qb(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function sw(h){if(h.G=0,h.ka=[],h.l){const m=Nb(h.h);(m.length!=0||h.i.length!=0)&&(A(h.ka,m),A(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function iw(h,m,v){var C=v instanceof sa?_i(v):new sa(v);if(C.g!="")m&&(C.g=m+"."+C.g),kf(C,C.s);else{var q=a.location;C=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var J=new sa(null);C&&Df(J,C),m&&(J.g=m),q&&kf(J,q),v&&(J.l=v),C=J}return v=h.D,m=h.ya,v&&m&&Vt(C,v,m),Vt(C,"VER",h.la),sc(h,C),C}function ow(h,m,v){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new tn(new ec({eb:v})):new tn(h.pa),m.Ha(h.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aw(){}t=aw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vf(){}Vf.prototype.g=function(h,m){return new Fr(h,m)};function Fr(h,m){Ie.call(this),this.g=new Xb(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!M(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!M(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new Il(this)}g(Fr,Ie),Fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fr.prototype.close=function(){ig(this.g)},Fr.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Rn(h),h=v);m.i.push(new ts(m.Ya++,h)),m.G==3&&Lf(m)},Fr.prototype.N=function(){this.g.l=null,delete this.j,ig(this.g),delete this.g,Fr.aa.N.call(this)};function lw(h){et.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(const v in m){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}g(lw,et);function uw(){bt.call(this),this.status=1}g(uw,bt);function Il(h){this.g=h}g(Il,aw),Il.prototype.ua=function(){Te(this.g,"a")},Il.prototype.ta=function(h){Te(this.g,new lw(h))},Il.prototype.sa=function(h){Te(this.g,new uw)},Il.prototype.ra=function(){Te(this.g,"b")},Vf.prototype.createWebChannel=Vf.prototype.g,Fr.prototype.send=Fr.prototype.o,Fr.prototype.open=Fr.prototype.m,Fr.prototype.close=Fr.prototype.close,MI=function(){return new Vf},xI=function(){return an()},OI=Et,w_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,wd=Dt,kt.COMPLETE="complete",kI=kt,we.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,Tc=we,DI=ec,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,CI=tn}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const ww="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Qv("@firebase/firestore");function ic(){return Ga.logLevel}function Ne(t,...e){if(Ga.logLevel<=ht.DEBUG){const n=e.map(ey);Ga.debug(`Firestore (${Ou}): ${t}`,...n)}}function $i(t,...e){if(Ga.logLevel<=ht.ERROR){const n=e.map(ey);Ga.error(`Firestore (${Ou}): ${t}`,...n)}}function cu(t,...e){if(Ga.logLevel<=ht.WARN){const n=e.map(ey);Ga.warn(`Firestore (${Ou}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t="Unexpected state"){const e=`FIRESTORE (${Ou}) INTERNAL ASSERTION FAILED: `+t;throw $i(e),new Error(e)}function $t(t,e){t||We()}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zn.UNAUTHENTICATED))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gN{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ki,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ki)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new NI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string"),new Zn(e)}}class _N{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _N(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new yN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=wN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function hu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Sn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Sn(0,0))}static max(){return new Ke(new Sn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(),r===void 0?r=e.length-n:r>e.length-n&&We(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bt extends yh{construct(e,n,r){return new Bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const TN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends yh{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return TN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ke(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ke(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ke(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Bt.fromString(e))}static fromName(e){return new je(Bt.fromString(e).popFirst(5))}static empty(){return new je(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Bt(e.slice()))}}function EN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new Sn(n+1,0):new Sn(n,r));return new $o(s,je.empty(),e)}function AN(t){return new $o(t.readTime,t.key,-1)}class $o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $o(Ke.min(),je.empty(),-1)}static max(){return new $o(Ke.max(),je.empty(),-1)}}function IN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==SN)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):fe.reject(n)}static resolve(e){return new fe((n,r)=>{n(e)})}static reject(e){return new fe((n,r)=>{r(e)})}static waitFor(e){return new fe((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next(s=>s?fe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new fe((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new fe((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function RN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ty.oe=-1;function sm(t){return t==null}function ep(t){return t===0&&1/t==-1/0}function CN(t){return typeof t=="number"&&Number.isInteger(t)&&!ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $I(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ew(this.data.getIterator())}getIteratorFrom(e){return new Ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Hn(this.comparator);return n.data=e,n}}class Ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Ss([])}unionWith(e){let n=new Hn(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ss(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new VI("Invalid base64 string: "+i):i}}(e);return new or(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const DN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(t){if($t(!!t),typeof t=="string"){let e=0;const n=DN.exec(t);if($t(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ka(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ry(t){const e=t.mapValue.fields.__previous_value__;return ny(e)?ry(e):e}function bh(t){const e=Vo(t.mapValue.fields.__local_write_time__.timestampValue);return new Sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class wh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ny(t)?4:ON(t)?9007199254740991:10:We()}function ai(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bh(t).isEqual(bh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Vo(s.timestampValue),a=Vo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ka(s.bytesValue).isEqual(Ka(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return _n(s.geoPointValue.latitude)===_n(i.geoPointValue.latitude)&&_n(s.geoPointValue.longitude)===_n(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return _n(s.integerValue)===_n(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=_n(s.doubleValue),a=_n(i.doubleValue);return o===a?ep(o)===ep(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Tw(o)!==Tw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ai(o[l],a[l])))return!1;return!0}(t,e);default:return We()}}function Th(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function fu(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=_n(i.integerValue||i.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw(bh(t),bh(e));case 5:return Tt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ka(i),l=Ka(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Tt(a[u],l[u]);if(c!==0)return c}return Tt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Tt(_n(i.latitude),_n(o.latitude));return a!==0?a:Tt(_n(i.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=fu(a[u],l[u]);if(c)return c}return Tt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===jf.mapValue&&o===jf.mapValue)return 0;if(i===jf.mapValue)return 1;if(o===jf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Tt(l[f],c[f]);if(d!==0)return d;const p=fu(a[l[f]],u[c[f]]);if(p!==0)return p}return Tt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw We()}}function Aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=Vo(t),r=Vo(e),s=Tt(n.seconds,r.seconds);return s!==0?s:Tt(n.nanos,r.nanos)}function du(t){return T_(t)}function T_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ka(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=T_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${T_(n.fields[o])}`;return s+"}"}(t.mapValue):We()}function Iw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E_(t){return!!t&&"integerValue"in t}function sy(t){return!!t&&"arrayValue"in t}function Sw(t){return!!t&&"nullValue"in t}function Pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function Vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ON(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=Bn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Vc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){xu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new as(Vc(this.value))}}function FI(t){const e=[];return xu(t.fields,(n,r)=>{const s=new Bn([n]);if(Td(r)){const i=FI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ss(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tr(e,0,Ke.min(),Ke.min(),Ke.min(),as.empty(),0)}static newFoundDocument(e,n,r,s){return new tr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new tr(e,2,n,Ke.min(),Ke.min(),as.empty(),0)}static newUnknownDocument(e,n){return new tr(e,3,n,Ke.min(),Ke.min(),as.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.position=e,this.inclusive=n}}function Rw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=je.comparator(je.fromName(o.referenceValue),n.key):r=fu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function xN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{}class yn extends UI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NN(e,n,r):n==="array-contains"?new VN(e,r):n==="in"?new FN(e,r):n==="not-in"?new UN(e,r):n==="array-contains-any"?new BN(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LN(e,r):new $N(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fu(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.matchesComparison(fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends UI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ds(e,n)}matches(e){return BI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BI(t){return t.op==="and"}function jI(t){return MN(t)&&BI(t)}function MN(t){for(const e of t.filters)if(e instanceof Ds)return!1;return!0}function A_(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+du(t.value);if(jI(t))return t.filters.map(e=>A_(e)).join(",");{const e=t.filters.map(n=>A_(n)).join(",");return`${t.op}(${e})`}}function HI(t,e){return t instanceof yn?function(r,s){return s instanceof yn&&r.op===s.op&&r.field.isEqual(s.field)&&ai(r.value,s.value)}(t,e):t instanceof Ds?function(r,s){return s instanceof Ds&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&HI(o,s.filters[a]),!0):!1}(t,e):void We()}function zI(t){return t instanceof yn?function(n){return`${n.field.canonicalString()} ${n.op} ${du(n.value)}`}(t):t instanceof Ds?function(n){return n.op.toString()+" {"+n.getFilters().map(zI).join(" ,")+"}"}(t):"Filter"}class NN extends yn{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class LN extends yn{constructor(e,n){super(e,"in",n),this.keys=YI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $N extends yn{constructor(e,n){super(e,"not-in",n),this.keys=YI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class VN extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sy(n)&&Th(n.arrayValue,this.value)}}class FN extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Th(this.value.arrayValue,n)}}class UN extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Th(this.value.arrayValue,n)}}class BN extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Th(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Dw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new jN(t,e,n,r,s,i,o)}function iy(t){const e=Qe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>A_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>du(r)).join(",")),e.ue=n}return e.ue}function oy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cw(t.startAt,e.startAt)&&Cw(t.endAt,e.endAt)}function I_(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HN(t,e,n,r,s,i,o,a){return new Mu(t,e,n,r,s,i,o,a)}function ay(t){return new Mu(t)}function kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qI(t){return t.collectionGroup!==null}function Fc(t){const e=Qe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Hn(Bn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Eh(i,r))}),n.has(Bn.keyField().canonicalString())||e.ce.push(new Eh(Bn.keyField(),r))}return e.ce}function Zs(t){const e=Qe(t);return e.le||(e.le=zN(e,Fc(t))),e.le}function zN(t,e){if(t.limitType==="F")return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Eh(s.field,i)});const n=t.endAt?new tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tp(t.startAt.position,t.startAt.inclusive):null;return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function S_(t,e){const n=t.filters.concat([e]);return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function P_(t,e,n){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function im(t,e){return oy(Zs(t),Zs(e))&&t.limitType===e.limitType}function WI(t){return`${iy(Zs(t))}|lt:${t.limitType}`}function Ml(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>zI(s)).join(", ")}]`),sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>du(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>du(s)).join(",")),`Target(${r})`}(Zs(t))}; limitType=${t.limitType})`}function om(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):je.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Fc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Rw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Fc(r),s)||r.endAt&&!function(o,a,l){const u=Rw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Fc(r),s))}(t,e)}function YN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GI(t){return(e,n)=>{let r=!1;for(const s of Fc(t)){const i=qN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qN(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?fu(l,u):We()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return $I(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Qt(je.comparator);function Vi(){return WN}const KI=new Qt(je.comparator);function Ec(...t){let e=KI;for(const n of t)e=e.insert(n.key,n);return e}function XI(t){let e=KI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ea(){return Uc()}function QI(){return Uc()}function Uc(){return new Nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const GN=new Qt(je.comparator),KN=new Hn(je.comparator);function at(...t){let e=KN;for(const n of t)e=e.add(n);return e}const XN=new Hn(Tt);function QN(){return XN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ep(e)?"-0":e}}function ZI(t){return{integerValue:""+t}}function JN(t,e){return CN(e)?ZI(e):JI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this._=void 0}}function ZN(t,e,n){return t instanceof np?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ny(i)&&(i=ry(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ah?tS(t,e):t instanceof Ih?nS(t,e):function(s,i){const o=eS(s,i),a=Ow(o)+Ow(s.Pe);return E_(o)&&E_(s.Pe)?ZI(a):JI(s.serializer,a)}(t,e)}function eL(t,e,n){return t instanceof Ah?tS(t,e):t instanceof Ih?nS(t,e):n}function eS(t,e){return t instanceof rp?function(r){return E_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class np extends am{}class Ah extends am{constructor(e){super(),this.elements=e}}function tS(t,e){const n=rS(e);for(const r of t.elements)n.some(s=>ai(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ih extends am{constructor(e){super(),this.elements=e}}function nS(t,e){let n=rS(e);for(const r of t.elements)n=n.filter(s=>!ai(s,r));return{arrayValue:{values:n}}}class rp extends am{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ow(t){return _n(t.integerValue||t.doubleValue)}function rS(t){return sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ah&&s instanceof Ah||r instanceof Ih&&s instanceof Ih?hu(r.elements,s.elements,ai):r instanceof rp&&s instanceof rp?ai(r.Pe,s.Pe):r instanceof np&&s instanceof np}(t.transform,e.transform)}class nL{constructor(e,n){this.version=e,this.transformResults=n}}class Rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lm{}function sS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ly(t.key,Rs.none()):new sf(t.key,t.data,Rs.none());{const n=t.data,r=as.empty();let s=new Hn(Bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new hl(t.key,r,new Ss(s.toArray()),Rs.none())}}function rL(t,e,n){t instanceof sf?function(s,i,o){const a=s.value.clone(),l=Mw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hl?function(s,i,o){if(!Ed(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Mw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(iS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,r){return t instanceof sf?function(i,o,a,l){if(!Ed(i.precondition,o))return a;const u=i.value.clone(),c=Nw(i.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof hl?function(i,o,a,l){if(!Ed(i.precondition,o))return a;const u=Nw(i.fieldTransforms,l,o),c=o.data;return c.setAll(iS(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Ed(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=eS(r.transform,s||null);i!=null&&(n===null&&(n=as.empty()),n.set(r.field,i))}return n||null}function xw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hu(r,s,(i,o)=>tL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sf extends lm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hl extends lm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Mw(t,e,n){const r=new Map;$t(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,eL(o,a,n[s]))}return r}function Nw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,ZN(i,o,e))}return r}class ly extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iL extends lm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&rL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=sS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(n,r)=>xw(n,r))&&hu(this.baseMutations,e.baseMutations,(n,r)=>xw(n,r))}}class uy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){$t(e.mutations.length===r.length);let s=function(){return GN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new uy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,pt;function uL(t){switch(t){default:return We();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function oS(t){if(t===void 0)return $i("GRPC error has no .code"),ce.UNKNOWN;switch(t){case mn.OK:return ce.OK;case mn.CANCELLED:return ce.CANCELLED;case mn.UNKNOWN:return ce.UNKNOWN;case mn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case mn.INTERNAL:return ce.INTERNAL;case mn.UNAVAILABLE:return ce.UNAVAILABLE;case mn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case mn.NOT_FOUND:return ce.NOT_FOUND;case mn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case mn.ABORTED:return ce.ABORTED;case mn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case mn.DATA_LOSS:return ce.DATA_LOSS;default:return We()}}(pt=mn||(mn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Pa([4294967295,4294967295],0);function Lw(t){const e=cL().encode(t),n=new RI;return n.update(e),new Uint8Array(n.digest())}function $w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([s,i],0)]}class cy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ac(`Invalid padding: ${n}`);if(r<0)throw new Ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pa.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Pa.fromNumber(r)));return s.compare(hL)===1&&(s=new Pa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Lw(e),[r,s]=$w(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new cy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Lw(e),[r,s]=$w(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new um(Ke.min(),s,new Qt(Tt),Vi(),at())}}class of{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new of(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class aS{constructor(e,n){this.targetId=e,this.me=n}}class lS{constructor(e,n,r=or.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Vw{constructor(){this.fe=0,this.ge=Uw(),this.pe=or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=at(),n=at(),r=at();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:We()}}),new of(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Uw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vi(),this.qe=Fw(),this.Qe=new Qt(Tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:We()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(I_(i))if(r===0){const o=new je(i.path);this.Ue(n,o,tr.newNoDocument(o,Ke.min()))}else $t(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ka(r).toUint8Array()}catch(l){if(l instanceof VI)return cu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cy(o,s,i)}catch(l){return cu(l instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&I_(a.target)){const l=new je(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,tr.newNoDocument(l,e))}i.be&&(n.set(o,i.Ce()),i.ve())}});let r=at();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new um(e,n,this.Qe,this.ke,r);return this.ke=Vi(),this.qe=Fw(),this.Qe=new Qt(Tt),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Vw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Hn(Tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Fw(){return new Qt(je.comparator)}function Uw(){return new Qt(je.comparator)}const dL={asc:"ASCENDING",desc:"DESCENDING"},pL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mL={and:"AND",or:"OR"};class gL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R_(t,e){return t.useProto3Json||sm(e)?e:{value:e}}function sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _L(t,e){return sp(t,e.toTimestamp())}function ei(t){return $t(!!t),Ke.fromTimestamp(function(n){const r=Vo(n);return new Sn(r.seconds,r.nanos)}(t))}function hy(t,e){return C_(t,e).canonicalString()}function C_(t,e){const n=function(s){return new Bt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cS(t){const e=Bt.fromString(t);return $t(mS(e)),e}function D_(t,e){return hy(t.databaseId,e.path)}function pg(t,e){const n=cS(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(fS(n))}function hS(t,e){return hy(t.databaseId,e)}function vL(t){const e=cS(t);return e.length===4?Bt.emptyPath():fS(e)}function k_(t){return new Bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fS(t){return $t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bw(t,e,n){return{name:D_(t,e),fields:n.value.mapValue.fields}}function yL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?($t(c===void 0||typeof c=="string"),or.fromBase64String(c||"")):($t(c===void 0||c instanceof Buffer||c instanceof Uint8Array),or.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ce.UNKNOWN:oS(u.code);return new ke(c,u.message||"")}(o);n=new lS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pg(t,r.document.name),i=ei(r.document.updateTime),o=r.document.createTime?ei(r.document.createTime):Ke.min(),a=new as({mapValue:{fields:r.document.fields}}),l=tr.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ad(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pg(t,r.document),i=r.readTime?ei(r.readTime):Ke.min(),o=tr.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ad([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pg(t,r.document),i=r.removedTargetIds||[];n=new Ad([],i,s,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new lL(s,i),a=r.targetId;n=new aS(a,o)}}return n}function bL(t,e){let n;if(e instanceof sf)n={update:Bw(t,e.key,e.value)};else if(e instanceof ly)n={delete:D_(t,e.key)};else if(e instanceof hl)n={update:Bw(t,e.key,e.data),updateMask:CL(e.fieldMask)};else{if(!(e instanceof iL))return We();n={verify:D_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof np)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw We()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:_L(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:We()}(t,e.precondition)),n}function wL(t,e){return t&&t.length>0?($t(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ei(s.updateTime):ei(i);return o.isEqual(Ke.min())&&(o=ei(i)),new nL(o,s.transformResults||[])}(n,e))):[]}function TL(t,e){return{documents:[hS(t,e.path)]}}function EL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hS(t,s);const i=function(u){if(u.length!==0)return pS(Ds.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Nl(d.field),direction:SL(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=R_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function AL(t){let e=vL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){$t(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(f){const d=dS(f);return d instanceof Ds&&jI(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(g){return new Eh(Ll(g.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,sm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new tp(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new tp(p,d)}(n.endAt)),HN(e,s,o,i,a,"F",l,u)}function IL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ll(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(n.unaryFilter.field);return yn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ll(n.unaryFilter.field);return yn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ll(n.unaryFilter.field);return yn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(t):t.fieldFilter!==void 0?function(n){return yn.create(Ll(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ds.create(n.compositeFilter.filters.map(r=>dS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return We()}}(n.compositeFilter.op))}(t):We()}function SL(t){return dL[t]}function PL(t){return pL[t]}function RL(t){return mL[t]}function Nl(t){return{fieldPath:t.canonicalString()}}function Ll(t){return Bn.fromServerFormat(t.fieldPath)}function pS(t){return t instanceof yn?function(n){if(n.op==="=="){if(Pw(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(Sw(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pw(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(Sw(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:PL(n.op),value:n.value}}}(t):t instanceof Ds?function(n){const r=n.getFilters().map(s=>pS(s));return r.length===1?r[0]:{compositeFilter:{op:RL(n.op),filters:r}}}(t):We()}function CL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),a=or.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.ct=e}}function kL(t){const e=AL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?P_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this._n=new xL}addToCollectionParentIndex(e,n){return this._n.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve($o.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class xL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Hn(Bt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Hn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new pu(0)}static Ln(){return new pu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.changes=new Nu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Bc(r.mutation,s,Ss.empty(),Sn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){const s=Ea();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ec();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Vi();const o=Uc(),a=function(){return Uc()}();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof hl)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Bc(c.mutation,u,c.mutation.getFieldMask(),Sn.now())):o.set(u.key,Ss.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new NL(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Uc();let s=new Qt((o,a)=>o-a),i=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ss.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(s.get(a.batchId)||at()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=QI();c.forEach(d=>{if(!i.has(d)){const p=sS(n.get(d),r.get(d));p!==null&&f.set(d,p),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return fe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):fe.resolve(Ea());let a=-1,l=i;return o.next(u=>fe.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(c)?fe.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,at())).next(c=>({batchId:a,changes:XI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let s=Ec();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ec();return this.indexManager.getCollectionParents(e,i).next(a=>fe.forEach(a,l=>{const u=function(f,d){return new Mu(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,tr.newInvalidDocument(c)))});let a=Ec();return o.forEach((l,u)=>{const c=i.get(l);c!==void 0&&Bc(c.mutation,u,Ss.empty(),Sn.now()),om(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return fe.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ei(s.createTime)}}(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:kL(s.bundledQuery),readTime:ei(s.readTime)}}(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.overlays=new Qt(je.comparator),this.hr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ea();return fe.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),fe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const s=Ea(),i=n.length+1,o=new je(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Ea(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ea(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return fe.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aL(n,r));let i=this.hr.get(n);i===void 0&&(i=at(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.Pr=new Hn(On.Ir),this.Tr=new Hn(On.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new On(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new je(new Bt([])),r=new On(n,e),s=new On(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new je(new Bt([])),r=new On(n,e),s=new On(n,e+1);let i=at();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new On(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return je.comparator(e.key,n.key)||Tt(e.pr,n.pr)}static Er(e,n){return Tt(e.pr,n.pr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Hn(On.Ir)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new On(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fe.resolve(o)}lookupMutationBatch(e,n){return fe.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return fe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),s=new On(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),fe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hn(Tt);return n.forEach(s=>{const i=new On(s,0),o=new On(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),fe.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;je.isDocumentKey(i)||(i=i.child(""));const o=new On(new je(i),0);let a=new Hn(Tt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.pr)),!0)},o),fe.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){$t(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return fe.forEach(n.mutations,s=>{const i=new On(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new On(n,0),s=this.wr.firstAfterOrEqual(r);return fe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.vr=e,this.docs=function(){return new Qt(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(n))}getEntries(e,n){let r=Vi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():tr.newInvalidDocument(s))}),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Vi();const o=n.path,a=new je(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||IN(AN(c),r)<=0||(s.has(c.key)||om(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(e,n,r,s){We()}Fr(e,n){return fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BL(this)}getSize(e){return fe.resolve(this.size)}}class BL extends ML{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),fe.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.persistence=e,this.Mr=new Nu(n=>iy(n),oy),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fy,this.targetCount=0,this.Lr=pu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),fe.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new pu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.qn(n),fe.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),fe.waitFor(i).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),fe.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.Br={},this.overlays={},this.kr=new ty(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new jL(this),this.indexManager=new OL,this.remoteDocumentCache=function(s){return new UL(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new DL(n),this.$r=new $L(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new FL(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new zL(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return fe.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class zL extends PN{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.zr=new fy,this.jr=null}static Hr(e){return new dy(e)}get Jr(){if(this.jr)return this.jr;throw We()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),fe.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Jr,r=>{const s=je.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return fe.or([()=>fe.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=at(),s=at();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new py(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Xx()?8:RN(zn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new YL;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(ic()<=ht.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),fe.resolve()):(ic()<=ht.DEBUG&&Ne("QueryEngine","Query:",Ml(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(ic()<=ht.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zs(n))):fe.resolve())}ji(e,n){if(kw(n))return fe.resolve(null);let r=Zs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=P_(n,null,"F"),r=Zs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=at(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,P_(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,s){return kw(n)||s.isEqual(Ke.min())?fe.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?fe.resolve(null):(ic()<=ht.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ml(n)),this.es(e,o,n,EN(s,-1)).next(a=>a))})}Zi(e,n){let r=new Hn(GI(e));return n.forEach((s,i)=>{om(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return ic()<=ht.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ml(n)),this.zi.getDocumentsMatchingQuery(e,n,$o.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Qt(Tt),this.rs=new Nu(i=>iy(i),oy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function GL(t,e,n,r){return new WL(t,e,n,r)}async function gS(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=at();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function KL(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,d=f.keys();let p=fe.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const A=u.docVersions.get(g);$t(A!==null),_.version.compareTo(A)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=at();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function _S(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XL(t,e){const n=Qe(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const d=s.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(i,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(i,c.addedDocuments,f)));let p=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(or.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),s=s.insert(f,p),function(_,A,S){return _.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,p,c)&&a.push(n.Qr.updateTargetData(i,p))});let l=Vi(),u=at();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(QL(i,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Ke.min())){const c=n.Qr.getLastRemoteSnapshotVersion(i).next(f=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return fe.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ns=s,i))}function QL(t,e,n){let r=at(),s=at();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Vi();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:s}})}function JL(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZL(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,fe.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new wo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function O_(t,e,n){const r=Qe(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!rf(o))throw o;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function jw(t,e,n){const r=Qe(t);let s=Ke.min(),i=at();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Qe(l),d=f.rs.get(c);return d!==void 0?fe.resolve(f.ns.get(d)):f.Qr.getTargetData(u,c)}(r,o,Zs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:at())).next(a=>(e$(r,YN(e),a),{documents:a,hs:i})))}function e$(t,e,n){let r=t.ss.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class Hw{constructor(){this.activeTargetIds=QN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t${constructor(){this.no=new Hw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Hw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=null;function mg(){return Hf===null?Hf=function(){return 268435456+Math.round(2147483648*Math.random())}():Hf++,"0x"+Hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class i$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${s}/databases/${i}`,this.bo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Do(){return!1}Co(n,r,s,i,o){const a=mg(),l=this.vo(n,r.toUriEncodedString());Ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,i,o),this.Mo(n,l,u,s).then(c=>(Ne("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw cu("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",s),c})}xo(n,r,s,i,o,a){return this.Co(n,r,s,i,o)}Fo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ou}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}vo(n,r){const s=r$[n];return`${this.wo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,s){const i=mg();return new Promise((o,a)=>{const l=new CI;l.setWithCredentials(!0),l.listenOnce(kI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wd.NO_ERROR:const c=l.getResponseJson();Ne(Xn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case wd.TIMEOUT:Ne(Xn,`RPC '${e}' ${i} timed out`),a(new ke(ce.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const f=l.getStatus();if(Ne(Xn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(A){const S=A.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(S)>=0?S:ce.UNKNOWN}(p.status);a(new ke(g,p.message))}else a(new ke(ce.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ke(ce.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Ne(Xn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Ne(Xn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const s=mg(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MI(),a=xI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new DI({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");Ne(Xn,`Creating RPC '${e}' stream ${s}: ${c}`,l);const f=o.createWebChannel(c,l);let d=!1,p=!1;const g=new s$({lo:A=>{p?Ne(Xn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(d||(Ne(Xn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),d=!0),Ne(Xn,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},ho:()=>f.close()}),_=(A,S,M)=>{A.listen(S,k=>{try{M(k)}catch(O){setTimeout(()=>{throw O},0)}})};return _(f,Tc.EventType.OPEN,()=>{p||(Ne(Xn,`RPC '${e}' stream ${s} transport opened.`),g.mo())}),_(f,Tc.EventType.CLOSE,()=>{p||(p=!0,Ne(Xn,`RPC '${e}' stream ${s} transport closed`),g.po())}),_(f,Tc.EventType.ERROR,A=>{p||(p=!0,cu(Xn,`RPC '${e}' stream ${s} transport errored:`,A),g.po(new ke(ce.UNAVAILABLE,"The operation could not be completed")))}),_(f,Tc.EventType.MESSAGE,A=>{var S;if(!p){const M=A.data[0];$t(!!M);const k=M,O=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(O){Ne(Xn,`RPC '${e}' stream ${s} received error:`,O);const x=O.status;let N=function(b){const I=mn[b];if(I!==void 0)return oS(I)}(x),T=O.message;N===void 0&&(N=ce.INTERNAL,T="Unknown error status: "+x+" with message "+O.message),p=!0,g.po(new ke(N,T)),f.close()}else Ne(Xn,`RPC '${e}' stream ${s} received:`,M),g.yo(M)}}),_(a,OI.STAT_EVENT,A=>{A.stat===w_.PROXY?Ne(Xn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===w_.NOPROXY&&Ne(Xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new gL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=s,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.Go=r,this.zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new vS(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.jo===n&&this.u_(r,s)},r=>{e(()=>{const s=new ke(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(s)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(s=>{r(()=>this.c_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o$ extends yS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=yL(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?ei(o.readTime):Ke.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=k_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=I_(l)?{documents:TL(i,l)}:{query:EL(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uS(i,o.resumeToken);const u=R_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=sp(i,o.snapshotVersion.toTimestamp());const u=R_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=IL(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=k_(this.serializer),n.removeTarget=e,this.i_(n)}}class a$ extends yS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=wL(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.A_(r,n)}return $t(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=k_(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bL(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l$ extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.m_=!1}f_(){if(this.m_)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,C_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(ce.UNKNOWN,i.toString())})}xo(e,n,r,s,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,C_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ce.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class u${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?($i(n),this.y_=!1):Ne("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io(o=>{r.enqueueAndForget(async()=>{fl(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Qe(l);u.M_.add(4),await af(u),u.N_.set("Unknown"),u.M_.delete(4),await hm(u)}(this))})}),this.N_=new u$(r,s)}}async function hm(t){if(fl(t))for(const e of t.x_)await e(!0)}async function af(t){for(const e of t.x_)await e(!1)}function bS(t,e){const n=Qe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),vy(n)?_y(n):Lu(n).Xo()&&gy(n,e))}function my(t,e){const n=Qe(t),r=Lu(n);n.F_.delete(e),r.Xo()&&wS(n,e),n.F_.size===0&&(r.Xo()?r.n_():fl(n)&&n.N_.set("Unknown"))}function gy(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lu(t).P_(e)}function wS(t,e){t.L_.xe(e),Lu(t).I_(e)}function _y(t){t.L_=new fL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lu(t).start(),t.N_.w_()}function vy(t){return fl(t)&&!Lu(t).Zo()&&t.F_.size>0}function fl(t){return Qe(t).M_.size===0}function TS(t){t.L_=void 0}async function h$(t){t.N_.set("Online")}async function f$(t){t.F_.forEach((e,n)=>{gy(t,e)})}async function d$(t,e){TS(t),vy(t)?(t.N_.D_(e),_y(t)):t.N_.set("Unknown")}async function p$(t,e,n){if(t.N_.set("Online"),e instanceof lS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.F_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.F_.delete(a),s.L_.removeTarget(a))}(t,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ip(t,r)}else if(e instanceof Ad?t.L_.Ke(e):e instanceof aS?t.L_.He(e):t.L_.We(e),!n.isEqual(Ke.min()))try{const r=await _S(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.F_.get(u);c&&i.F_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=i.F_.get(l);if(!c)return;i.F_.set(l,c.withResumeToken(or.EMPTY_BYTE_STRING,c.snapshotVersion)),wS(i,l);const f=new wo(c.target,l,u,c.sequenceNumber);gy(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),await ip(t,r)}}async function ip(t,e,n){if(!rf(e))throw e;t.M_.add(1),await af(t),t.N_.set("Offline"),n||(n=()=>_S(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await hm(t)})}function ES(t,e){return e().catch(n=>ip(t,n,e))}async function fm(t){const e=Qe(t),n=Fo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;m$(e);)try{const s=await JL(e.localStore,r);if(s===null){e.v_.length===0&&n.n_();break}r=s.batchId,g$(e,s)}catch(s){await ip(e,s)}AS(e)&&IS(e)}function m$(t){return fl(t)&&t.v_.length<10}function g$(t,e){t.v_.push(e);const n=Fo(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function AS(t){return fl(t)&&!Fo(t).Zo()&&t.v_.length>0}function IS(t){Fo(t).start()}async function _$(t){Fo(t).V_()}async function v$(t){const e=Fo(t);for(const n of t.v_)e.d_(n.mutations)}async function y$(t,e,n){const r=t.v_.shift(),s=uy.from(r,e,n);await ES(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fm(t)}async function b$(t,e){e&&Fo(t).E_&&await async function(r,s){if(function(o){return uL(o)&&o!==ce.ABORTED}(s.code)){const i=r.v_.shift();Fo(r).t_(),await ES(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fm(r)}}(t,e),AS(t)&&IS(t)}async function Yw(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=fl(n);n.M_.add(3),await af(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await hm(n)}async function w$(t,e){const n=Qe(t);e?(n.M_.delete(2),await hm(n)):e||(n.M_.add(2),await af(n),n.N_.set("Unknown"))}function Lu(t){return t.B_||(t.B_=function(n,r,s){const i=Qe(n);return i.f_(),new o$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:h$.bind(null,t),To:f$.bind(null,t),Ao:d$.bind(null,t),h_:p$.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),vy(t)?_y(t):t.N_.set("Unknown")):(await t.B_.stop(),TS(t))})),t.B_}function Fo(t){return t.k_||(t.k_=function(n,r,s){const i=Qe(n);return i.f_(),new a$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:_$.bind(null,t),Ao:b$.bind(null,t),R_:v$.bind(null,t),A_:y$.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await fm(t)):(await t.k_.stop(),t.v_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new yy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(t,e){if($i("AsyncQueue",`${e}: ${t}`),rf(t))return new ke(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Ec(),this.sortedSet=new Qt(this.comparator)}static emptySet(e){return new Gl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.q_=new Qt(je.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):We():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mu{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mu(e,n,Gl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class E${constructor(){this.queries=new Nu(e=>WI(e),im),this.onlineState="Unknown",this.z_=new Set}}async function SS(t,e){const n=Qe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.W_()&&e.G_()&&(r=2):(i=new T$,r=e.G_()?0:1);try{switch(r){case 0:i.K_=await n.onListen(s,!0);break;case 1:i.K_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=by(o,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.U_.push(e),e.j_(n.onlineState),i.K_&&e.H_(i.K_)&&wy(n)}async function PS(t,e){const n=Qe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.U_.indexOf(e);o>=0&&(i.U_.splice(o,1),i.U_.length===0?s=e.G_()?0:1:!i.W_()&&e.G_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A$(t,e){const n=Qe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.U_)a.H_(s)&&(r=!0);o.K_=s}}r&&wy(n)}function I$(t,e,n){const r=Qe(t),s=r.queries.get(e);if(s)for(const i of s.U_)i.onError(n);r.queries.delete(e)}function wy(t){t.z_.forEach(e=>{e.next()})}var x_,Ww;(Ww=x_||(x_={})).J_="default",Ww.Cache="cache";class RS{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==x_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.key=e}}class DS{constructor(e){this.key=e}}class S${constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=at(),this.mutatedKeys=at(),this.Ia=GI(e),this.Ta=new Gl(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new qw,s=n?n.Ta:this.Ta;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,f)=>{const d=s.get(c),p=om(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let A=!1;d&&p?d.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),A=!0):this.Ra(d,p)||(r.track({type:2,doc:p}),A=!0,(l&&this.Ia(p,l)>0||u&&this.Ia(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),A=!0):d&&!p&&(r.track({type:1,doc:d}),A=!0,(l||u)&&(a=!0)),A&&(p?(o=o.add(p),i=_?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:i}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((c,f)=>function(p,g){const _=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return _(p)-_(g)}(c.type,f.type)||this.Ia(c.doc,f.doc)),this.Va(r),s=s!=null&&s;const a=n&&!s?this.ma():[],l=this.Pa.size===0&&this.current&&!s?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new mu(this.query,e.Ta,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new qw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=at(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new DS(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new CS(r))}),n}pa(e){this.la=e.hs,this.Pa=at();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return mu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class P${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R${constructor(e){this.key=e,this.wa=!1}}class C${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Nu(a=>WI(a),im),this.Da=new Map,this.Ca=new Set,this.va=new Qt(je.comparator),this.Fa=new Map,this.Ma=new fy,this.xa={},this.Oa=new Map,this.Na=pu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function D$(t,e,n=!0){const r=LS(t);let s;const i=r.ba.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ya()):s=await kS(r,e,n,!0),s}async function k$(t,e){const n=LS(t);await kS(n,e,!0,!1)}async function kS(t,e,n,r){const s=await ZL(t.localStore,Zs(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await O$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bS(t.remoteStore,s),a}async function O$(t,e,n,r,s){t.Ba=(f,d,p)=>async function(_,A,S,M){let k=A.view.da(S);k.Xi&&(k=await jw(_.localStore,A.query,!1).then(({documents:T})=>A.view.da(T,k)));const O=M&&M.targetChanges.get(A.targetId),x=M&&M.targetMismatches.get(A.targetId)!=null,N=A.view.applyChanges(k,_.isPrimaryClient,O,x);return Kw(_,A.targetId,N.fa),N.snapshot}(t,f,d,p);const i=await jw(t.localStore,e,!0),o=new S$(e,i.hs),a=o.da(i.documents),l=of.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Kw(t,n,u.fa);const c=new P$(e,n,o);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function x$(t,e,n){const r=Qe(t),s=r.ba.get(e),i=r.Da.get(s.targetId);if(i.length>1)return r.Da.set(s.targetId,i.filter(o=>!im(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await O_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&my(r.remoteStore,s.targetId),M_(r,s.targetId)}).catch(nf)):(M_(r,s.targetId),await O_(r.localStore,s.targetId,!0))}async function M$(t,e){const n=Qe(t),r=n.ba.get(e),s=n.Da.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),my(n.remoteStore,r.targetId))}async function N$(t,e,n){const r=j$(t);try{const s=await function(o,a){const l=Qe(o),u=Sn.now(),c=a.reduce((p,g)=>p.add(g.key),at());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Vi(),_=at();return l.os.getEntries(p,c).next(A=>{g=A,g.forEach((S,M)=>{M.isValidDocument()||(_=_.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(A=>{f=A;const S=[];for(const M of a){const k=sL(M,f.get(M.key).overlayedDocument);k!=null&&S.push(new hl(M.key,k,FI(k.value.mapValue),Rs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,S,a)}).next(A=>{d=A;const S=A.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,A.batchId,S)})}).then(()=>({batchId:d.batchId,changes:XI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Qt(Tt)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,s.batchId,n),await lf(r,s.changes),await fm(r.remoteStore)}catch(s){const i=by(s,"Failed to persist write");n.reject(i)}}async function OS(t,e){const n=Qe(t);try{const r=await XL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Fa.get(i);o&&($t(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.wa=!0:s.modifiedDocuments.size>0?$t(o.wa):s.removedDocuments.size>0&&($t(o.wa),o.wa=!1))}),await lf(n,r,e)}catch(r){await nf(r)}}function Gw(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ba.forEach((i,o)=>{const a=o.view.j_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Qe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.U_)d.j_(a)&&(u=!0)}),u&&wy(l)}(r.eventManager,e),s.length&&r.Sa.h_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L$(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Fa.get(e),i=s&&s.key;if(i){let o=new Qt(je.comparator);o=o.insert(i,tr.newNoDocument(i,Ke.min()));const a=at().add(i),l=new um(Ke.min(),new Map,new Qt(Tt),o,a);await OS(r,l),r.va=r.va.remove(i),r.Fa.delete(e),Ty(r)}else await O_(r.localStore,e,!1).then(()=>M_(r,e,n)).catch(nf)}async function $$(t,e){const n=Qe(t),r=e.batch.batchId;try{const s=await KL(n.localStore,e);MS(n,r,null),xS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lf(n,s)}catch(s){await nf(s)}}async function V$(t,e,n){const r=Qe(t);try{const s=await function(o,a){const l=Qe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>($t(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);MS(r,e,n),xS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lf(r,s)}catch(s){await nf(s)}}function xS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function MS(t,e,n){const r=Qe(t);let s=r.xa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.xa[r.currentUser.toKey()]=s}}function M_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||NS(t,r)})}function NS(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(my(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Ty(t))}function Kw(t,e,n){for(const r of n)r instanceof CS?(t.Ma.addReference(r.key,e),F$(t,r)):r instanceof DS?(Ne("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||NS(t,r.key)):We()}function F$(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Ne("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Ty(t))}function Ty(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new je(Bt.fromString(e)),r=t.Na.next();t.Fa.set(r,new R$(n)),t.va=t.va.insert(n,r),bS(t.remoteStore,new wo(Zs(ay(n.path)),r,"TargetPurposeLimboResolution",ty.oe))}}async function lf(t,e,n){const r=Qe(t),s=[],i=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const c=u&&!u.fromCache;r.sharedClientState.updateQueryState(l.targetId,c?"current":"not-current")}if(u){s.push(u);const c=py.Ki(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.Sa.h_(s),await async function(l,u){const c=Qe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>fe.forEach(u,d=>fe.forEach(d.qi,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>fe.forEach(d.Qi,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!rf(f))throw f;Ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.ns.get(d),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(d,_)}}}(r.localStore,i))}async function U$(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=await gS(n.localStore,e);n.currentUser=e,function(i,o){i.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ke(ce.CANCELLED,o))})}),i.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lf(n,r.us)}}function B$(t,e){const n=Qe(t),r=n.Fa.get(e);if(r&&r.wa)return at().add(r.key);{let s=at();const i=n.Da.get(e);if(!i)return s;for(const o of i){const a=n.ba.get(o);s=s.unionWith(a.view.Ea)}return s}}function LS(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L$.bind(null,e),e.Sa.h_=A$.bind(null,e.eventManager),e.Sa.ka=I$.bind(null,e.eventManager),e}function j$(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V$.bind(null,e),e}class Xw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GL(this.persistence,new qL,e.initialUser,this.serializer)}createPersistence(e){return new HL(dy.Hr,this.serializer)}createSharedClientState(e){return new t$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class H${async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U$.bind(null,this.syncEngine),await w$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E$}()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),r=function(i){return new i$(i)}(e.databaseInfo);return function(i,o,a,l){return new l$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new c$(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Gw(this.syncEngine,n,0),function(){return zw.D()?new zw:new n$}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,c){const f=new C$(s,i,o,a,l,u);return c&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=Qe(r);Ne("RemoteStore","RemoteStore shutting down."),s.M_.add(5),await af(s),s.O_.shutdown(),s.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zn.UNAUTHENTICATED,this.clientId=LI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Ne("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ne("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=by(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _g(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await gS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q$(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Yw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Yw(e.remoteStore,s)),t._onlineComponents=e}function Y$(t){return t.name==="FirebaseError"?t.code===ce.FAILED_PRECONDITION||t.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function q$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await _g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Y$(n))throw n;cu("Error using user provided cache. Falling back to memory cache: "+n),await _g(t,new Xw)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await _g(t,new Xw);return t._offlineComponents}async function VS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await Qw(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await Qw(t,new H$))),t._onlineComponents}function W$(t){return VS(t).then(e=>e.syncEngine)}async function FS(t){const e=await VS(t),n=e.eventManager;return n.onListen=D$.bind(null,e.syncEngine),n.onUnlisten=x$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M$.bind(null,e.syncEngine),n}function G$(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new $S({next:d=>{o.enqueueAndForget(()=>PS(i,f));const p=d.docs.has(a);!p&&d.fromCache?u.reject(new ke(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ke(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new RS(ay(a.path),c,{includeMetadataChanges:!0,ra:!0});return SS(i,f)}(await FS(t),t.asyncQueue,e,n,r)),r.promise}function K$(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new $S({next:d=>{o.enqueueAndForget(()=>PS(i,f)),d.fromCache&&l.source==="server"?u.reject(new ke(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new RS(a,c,{includeMetadataChanges:!0,ra:!0});return SS(i,f)}(await FS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e,n){if(!n)throw new ke(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X$(t,e,n,r){if(e===!0&&r===!0)throw new ke(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Zw(t){if(!je.isDocumentKey(t))throw new ke(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eT(t){if(je.isDocumentKey(t))throw new ke(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We()}function Fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dm(t);throw new ke(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ke(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pN;switch(r.type){case"firstParty":return new vN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jw.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),Jw.delete(n),r.terminate())}(this),Promise.resolve()}}function Q$(t,e,n,r={}){var s;const i=(t=Fi(t,pm))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Zn.MOCK_USER;else{a=TI(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ke(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zn(u)}t._authCredentials=new mN(new NI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dl(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class Do extends dl{constructor(e,n,r){super(e,n,ay(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new je(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function Ey(t,e,...n){if(t=Pn(t),BS("collection","path",e),t instanceof pm){const r=Bt.fromString(e,...n);return eT(r),new Do(t,null,r)}{if(!(t instanceof Rr||t instanceof Do))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return eT(r),new Do(t.firestore,null,r)}}function uf(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=LI.newId()),BS("doc","path",e),t instanceof pm){const r=Bt.fromString(e,...n);return Zw(r),new Rr(t,null,new je(r))}{if(!(t instanceof Rr||t instanceof Do))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bt.fromString(e,...n));return Zw(r),new Rr(t.firestore,t instanceof Do?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new vS(this,"async_queue_retry"),this.hu=()=>{const n=gg();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=gg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ki;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!rf(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $i("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const s=yy.createAndSchedule(this,e,n,r,i=>this.Eu(i));return this._u.push(s),s}Pu(){this.au&&We()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class $u extends pm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new J$}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jS(this),this._firestoreClient.terminate()}}function Z$(t,e){const n=Zv(),r="(default)",s=rm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yI("firestore");i&&Q$(s,...i)}return s}function Ay(t){return t._firestoreClient||jS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jS(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,c){return new kN(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,US(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new z$(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gu(or.fromBase64String(e))}catch(n){throw new ke(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gu(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^__.*__$/;class t2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hl(e,this.data,this.fieldMask,n,this.fieldTransforms):new sf(e,this.data,n,this.fieldTransforms)}}function zS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class Py{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.gu({path:r,yu:!1});return s.wu(e),s}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.gu({path:r,yu:!1});return s.mu(),s}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return op(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(zS(this.fu)&&e2.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class n2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cm(e)}Fu(e,n,r,s=!1){return new Py({fu:e,methodName:n,vu:r,path:Bn.emptyPath(),yu:!1,Cu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ry(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new n2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YS(t,e,n,r,s,i={}){const o=t.Fu(i.merge||i.mergeFields?2:0,e,n,s);GS("Data must be an object, but it was:",o,r);const a=qS(r,o);let l,u;if(i.merge)l=new Ss(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const f of i.mergeFields){const d=s2(e,f,n);if(!o.contains(d))throw new ke(ce.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);o2(c,d)||c.push(d)}l=new Ss(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new t2(new as(a),l,u)}function r2(t,e,n,r=!1){return Cy(n,t.Fu(r?4:3,e))}function Cy(t,e){if(WS(t=Pn(t)))return GS("Unsupported field value:",e,t),qS(t,e);if(t instanceof HS)return function(r,s){if(!zS(s.fu))throw s.Du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Cy(a,s.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Sn.fromDate(r);return{timestampValue:sp(s.serializer,i)}}if(r instanceof Sn){const i=new Sn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sp(s.serializer,i)}}if(r instanceof Sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gu)return{bytesValue:uS(s.serializer,r._byteString)};if(r instanceof Rr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Du(`Unsupported field value: ${dm(r)}`)}(t,e)}function qS(t,e){const n={};return $I(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xu(t,(r,s)=>{const i=Cy(s,e.pu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function WS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Sn||t instanceof Sy||t instanceof gu||t instanceof Rr||t instanceof HS)}function GS(t,e,n){if(!WS(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=dm(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function s2(t,e,n){if((e=Pn(e))instanceof Iy)return e._internalPath;if(typeof e=="string")return KS(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,n)}const i2=new RegExp("[~\\*/\\[\\]]");function KS(t,e,n){if(e.search(i2)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iy(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function op(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ke(ce.INVALID_ARGUMENT,a+t+l)}function o2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a2 extends XS{data(){return super.data()}}function mm(t,e){return typeof e=="string"?KS(t,e):e instanceof Iy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class QS extends Dy{}function JS(t,e,...n){let r=[];e instanceof Dy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof ky).length,a=i.filter(l=>l instanceof gm).length;if(o>1||o>0&&a>0)throw new ke(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class gm extends QS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gm(e,n,r)}_apply(e){const n=this._parse(e);return eP(e._query,n),new dl(e.firestore,e.converter,S_(e._query,n))}_parse(e){const n=Ry(e.firestore);return function(i,o,a,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){rT(f,c);const p=[];for(const g of f)p.push(nT(l,i,g));d={arrayValue:{values:p}}}else d=nT(l,i,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||rT(f,c),d=r2(a,o,f,c==="in"||c==="not-in");return yn.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oa(t,e,n){const r=e,s=mm("where",t);return gm._create(s,r,n)}class ky extends Dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ky(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)eP(o,l),o=S_(o,l)}(e._query,n),new dl(e.firestore,e.converter,S_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Oy extends QS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Oy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ke(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eh(i,o)}(e._query,this._field,this._direction);return new dl(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Mu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function ZS(t,e="asc"){const n=e,r=mm("orderBy",t);return Oy._create(r,n)}function nT(t,e,n){if(typeof(n=Pn(n))=="string"){if(n==="")throw new ke(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qI(e)&&n.indexOf("/")!==-1)throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bt.fromString(n));if(!je.isDocumentKey(r))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Iw(t,new je(r))}if(n instanceof Rr)return Iw(t,n._key);throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(n)}.`)}function rT(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u2{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw We()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Sy(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new Sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bt.fromString(e);$t(mS(r));const s=new wh(r.get(1),r.get(3)),i=new je(r.popFirst(5));return s.isEqual(n)||$i(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nP extends XS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Id extends nP{data(e={}){return super.data(e)}}class c2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ic(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Id(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Id(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ic(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Id(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ic(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:h2(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){t=Fi(t,Rr);const e=Fi(t.firestore,$u);return G$(Ay(e),t._key).then(n=>m2(e,t,n))}class rP extends u2{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function sP(t){t=Fi(t,dl);const e=Fi(t.firestore,$u),n=Ay(e),r=new rP(e);return l2(t._query),K$(n,t._query).then(s=>new c2(e,r,t,s))}function iP(t,e,n){t=Fi(t,Rr);const r=Fi(t.firestore,$u),s=tP(t.converter,e,n);return xy(r,[YS(Ry(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Rs.none())])}function d2(t){return xy(Fi(t.firestore,$u),[new ly(t._key,Rs.none())])}function p2(t,e){const n=Fi(t.firestore,$u),r=uf(t),s=tP(t.converter,e);return xy(n,[YS(Ry(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Rs.exists(!1))]).then(()=>r)}function xy(t,e){return function(r,s){const i=new ki;return r.asyncQueue.enqueueAndForget(async()=>N$(await W$(r),s,i)),i.promise}(Ay(t),e)}function m2(t,e,n){const r=n.docs.get(e._key),s=new rP(t);return new nP(t,s,e._key,r,new Ic(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ou=s})(cl),Wa(new Lo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new $u(new gN(r.getProvider("auth-internal")),new bN(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ke(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(u.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Js(ww,"4.6.3",e),Js(ww,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="firebasestorage.googleapis.com",aP="storageBucket",g2=2*60*1e3,_2=10*60*1e3,v2=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt extends fi{constructor(e,n,r=0){super(vg(e),`Firebase Storage: ${n} (${vg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function vg(t){return"storage/"+t}function My(){const t="An unknown error occurred, please check the error payload for server response.";return new Zt(Ht.UNKNOWN,t)}function y2(t){return new Zt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function b2(t){return new Zt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function w2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Zt(Ht.UNAUTHENTICATED,t)}function T2(){return new Zt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E2(t){return new Zt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lP(){return new Zt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uP(){return new Zt(Ht.CANCELED,"User canceled the upload/download.")}function A2(t){return new Zt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function I2(t){return new Zt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function S2(){return new Zt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aP+"' property when initializing the app?")}function cP(){return new Zt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P2(){return new Zt(Ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function R2(){return new Zt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C2(t){return new Zt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function N_(t){return new Zt(Ht.INVALID_ARGUMENT,t)}function hP(){return new Zt(Ht.APP_DELETED,"The Firebase app was deleted.")}function D2(t){return new Zt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jc(t,e){return new Zt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function oc(t){throw new Zt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wr.makeFromUrl(e,n)}catch{return new Wr(e,"")}if(r.path==="")return r;throw I2(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${s}/o${d}`,"i"),g={bucket:1,path:3},_=n===oP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",S=new RegExp(`^https?://${_}/${s}/${A}`,"i"),k=[{regex:a,indices:l,postModify:i},{regex:p,indices:g,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<k.length;O++){const x=k[O],N=x.regex.exec(e);if(N){const T=N[x.indices.bucket];let w=N[x.indices.path];w||(w=""),r=new Wr(T,w),x.postModify(r);break}}if(r==null)throw A2(e);return r}}class k2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...A){u||(u=!0,e.apply(null,A))}function f(A){s=setTimeout(()=>{s=null,t(p,l())},A)}function d(){i&&clearTimeout(i)}function p(A,...S){if(u){d();return}if(A){d(),c.call(null,A,...S);return}if(l()||o){d(),c.call(null,A,...S);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,f(k)}let g=!1;function _(A){g||(g=!0,d(),!u&&(s!==null?(A||(a=2),clearTimeout(s),f(0)):A||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function x2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){return t!==void 0}function N2(t){return typeof t=="function"}function L2(t){return typeof t=="object"&&!Array.isArray(t)}function _m(t){return typeof t=="string"||t instanceof String}function sT(t){return Ny()&&t instanceof Blob}function Ny(){return typeof Blob<"u"}function iT(t,e,n,r){if(r<e)throw N_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw N_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function fP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ra||(Ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r,s,i,o,a,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new zf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ra.NO_ERROR,l=i.getStatus();if(!a||dP(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Ra.ABORT;r(!1,new zf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new zf(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());M2(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=My();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?hP():uP();o(l)}else{const l=lP();o(l)}};this.canceled_?n(!1,new zf(!1,null,!0)):this.backoffId_=O2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&x2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function V2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function B2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function j2(t,e,n,r,s,i,o=!0){const a=fP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return U2(u,e),V2(u,n),F2(u,i),B2(u,r),new $2(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function z2(...t){const e=H2();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ny())return new Blob(t);throw new Zt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Y2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){if(typeof atob>"u")throw C2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yg{constructor(e,n){this.data=e,this.contentType=n||null}}function W2(t,e){switch(t){case Ws.RAW:return new yg(pP(e));case Ws.BASE64:case Ws.BASE64URL:return new yg(mP(t,e));case Ws.DATA_URL:return new yg(K2(e),X2(e))}throw My()}function pP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function G2(t){let e;try{e=decodeURIComponent(t)}catch{throw jc(Ws.DATA_URL,"Malformed data URL.")}return pP(e)}function mP(t,e){switch(t){case Ws.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw jc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ws.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw jc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=q2(e)}catch(s){throw s.message.includes("polyfill")?s:jc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class gP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw jc(Ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Q2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function K2(t){const e=new gP(t);return e.base64?mP(Ws.BASE64,e.rest):G2(e.rest)}function X2(t){return new gP(t).contentType}function Q2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){let r=0,s="";sT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(sT(this.data_)){const r=this.data_,s=Y2(r,e,n);return s===null?null:new fo(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fo(r,!0)}}static getBlob(...e){if(Ny()){const n=e.map(r=>r instanceof fo?r.data_:r);return new fo(z2.apply(null,n))}else{const n=e.map(o=>_m(o)?W2(Ws.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new fo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){let e;try{e=JSON.parse(t)}catch{return null}return L2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Z2(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function vP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t,e){return e}class ur{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||eV}}let Yf=null;function tV(t){return!_m(t)||t.length<2?t:vP(t)}function yP(){if(Yf)return Yf;const t=[];t.push(new ur("bucket")),t.push(new ur("generation")),t.push(new ur("metageneration")),t.push(new ur("name","fullPath",!0));function e(i,o){return tV(o)}const n=new ur("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new ur("size");return s.xform=r,t.push(s),t.push(new ur("timeCreated")),t.push(new ur("updated")),t.push(new ur("md5Hash",null,!0)),t.push(new ur("cacheControl",null,!0)),t.push(new ur("contentDisposition",null,!0)),t.push(new ur("contentEncoding",null,!0)),t.push(new ur("contentLanguage",null,!0)),t.push(new ur("contentType",null,!0)),t.push(new ur("metadata","customMetadata",!0)),Yf=t,Yf}function nV(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Wr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function rV(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return nV(r,t),r}function bP(t,e,n){const r=_P(e);return r===null?null:rV(t,r,n)}function sV(t,e,n,r){const s=_P(e);if(s===null||!_m(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const c=t.bucket,f=t.fullPath,d="/b/"+o(c)+"/o/"+o(f),p=cf(d,n,r),g=fP({alt:"media",token:u});return p+g})[0]}function wP(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Vu{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){if(!t)throw My()}function Ly(t,e){function n(r,s){const i=bP(t,s,e);return Oi(i!==null),i}return n}function iV(t,e){function n(r,s){const i=bP(t,s,e);return Oi(i!==null),sV(i,s,t.host,t._protocol)}return n}function hf(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=T2():s=w2():n.getStatus()===402?s=b2(t.bucket):n.getStatus()===403?s=E2(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function TP(t){const e=hf(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=y2(t.path)),i.serverResponse=s.serverResponse,i}return n}function oV(t,e,n){const r=e.fullServerUrl(),s=cf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Vu(s,i,Ly(t,n),o);return a.errorHandler=TP(e),a}function aV(t,e,n){const r=e.fullServerUrl(),s=cf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Vu(s,i,iV(t,n),o);return a.errorHandler=TP(e),a}function lV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function EP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lV(null,e)),r}function uV(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let O=0;O<2;O++)k=k+Math.random().toString().slice(2);return k}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=EP(e,r,s),c=wP(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=fo.getBlob(f,r,d);if(p===null)throw cP();const g={name:u.fullPath},_=cf(i,t.host,t._protocol),A="POST",S=t.maxUploadRetryTime,M=new Vu(_,A,Ly(t,n),S);return M.urlParams=g,M.headers=o,M.body=p.uploadData(),M.errorHandler=hf(e),M}class ap{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function $y(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Oi(!1)}return Oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function cV(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=EP(e,r,s),a={name:o.fullPath},l=cf(i,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=wP(o,n),d=t.maxUploadRetryTime;function p(_){$y(_);let A;try{A=_.getResponseHeader("X-Goog-Upload-URL")}catch{Oi(!1)}return Oi(_m(A)),A}const g=new Vu(l,u,p,d);return g.urlParams=a,g.headers=c,g.body=f,g.errorHandler=hf(e),g}function hV(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const c=$y(u,["active","final"]);let f=null;try{f=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oi(!1)}f||Oi(!1);const d=Number(f);return Oi(!isNaN(d)),new ap(d,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Vu(n,o,i,a);return l.headers=s,l.errorHandler=hf(e),l}const oT=256*1024;function fV(t,e,n,r,s,i,o,a){const l=new ap(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw P2();const u=l.total-l.current;let c=u;s>0&&(c=Math.min(c,s));const f=l.current,d=f+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(f,d);if(_===null)throw cP();function A(O,x){const N=$y(O,["active","final"]),T=l.current+c,w=r.size();let b;return N==="final"?b=Ly(e,i)(O,x):b=null,new ap(T,w,N==="final",b)}const S="POST",M=e.maxUploadRetryTime,k=new Vu(n,S,A,M);return k.headers=g,k.body=_.uploadData(),k.progressCallback=a||null,k.errorHandler=hf(t),k}const Ir={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bg(t){switch(t){case"running":case"pausing":case"canceling":return Ir.RUNNING;case"paused":return Ir.PAUSED;case"success":return Ir.SUCCESS;case"canceled":return Ir.CANCELED;case"error":return Ir.ERROR;default:return Ir.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dV=class{constructor(e,n,r){if(N2(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class pV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw oc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw oc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw oc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw oc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw oc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mV extends pV{initXhr(){this.xhr_.responseType="text"}}function $l(){return new mV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=yP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(dP(s.status,[]))if(i)s=lP();else{this.sleepTime=Math.max(this.sleepTime*2,v2),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ht.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=cV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,$l,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=hV(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,$l,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=oT*this._chunkMultiplier,n=new ap(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=fV(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,$l,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){oT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=oV(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,$l,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=uV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,$l,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=uP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=bg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new dV(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(bg(this._state)){case Ir.SUCCESS:Pl(this._resolve.bind(null,this.snapshot))();break;case Ir.CANCELED:case Ir.ERROR:const n=this._reject;Pl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(bg(this._state)){case Ir.RUNNING:case Ir.PAUSED:e.next&&Pl(e.next.bind(e,this.snapshot))();break;case Ir.SUCCESS:e.complete&&Pl(e.complete.bind(e))();break;case Ir.CANCELED:case Ir.ERROR:e.error&&Pl(e.error.bind(e,this._error))();break;default:e.error&&Pl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this._service=e,n instanceof Wr?this._location=n:this._location=Wr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qa(e,n)}get root(){const e=new Wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vP(this._location.path)}get storage(){return this._service}get parent(){const e=J2(this._location.path);if(e===null)return null;const n=new Wr(this._location.bucket,e);return new Qa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D2(e)}}function _V(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new gV(t,new fo(e),n)}function vV(t){t._throwIfRoot("getDownloadURL");const e=aV(t.storage,t._location,yP());return t.storage.makeRequestWithTokens(e,$l).then(n=>{if(n===null)throw R2();return n})}function yV(t,e){const n=Z2(t._location.path,e),r=new Wr(t._location.bucket,n);return new Qa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){return/^[A-Za-z]+:\/\//.test(t)}function wV(t,e){return new Qa(t,e)}function AP(t,e){if(t instanceof Vy){const n=t;if(n._bucket==null)throw S2();const r=new Qa(n,n._bucket);return e!=null?AP(r,e):r}else return e!==void 0?yV(t,e):t}function TV(t,e){if(e&&bV(e)){if(t instanceof Vy)return wV(t,e);throw N_("To use ref(service, url), the first argument must be a Storage instance.")}else return AP(t,e)}function aT(t,e){const n=e==null?void 0:e[aP];return n==null?null:Wr.makeFromBucketSpec(n,t)}function EV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:TI(s,t.app.options.projectId))}class Vy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=oP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g2,this._maxUploadRetryTime=_2,this._requests=new Set,s!=null?this._bucket=Wr.makeFromBucketSpec(s,this._host):this._bucket=aT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wr.makeFromBucketSpec(this._url,e):this._bucket=aT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qa(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new k2(hP());{const o=j2(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const lT="@firebase/storage",uT="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="storage";function AV(t,e,n){return t=Pn(t),_V(t,e,n)}function IV(t){return t=Pn(t),vV(t)}function SV(t,e){return t=Pn(t),TV(t,e)}function PV(t=Zv(),e){t=Pn(t);const r=rm(t,IP).getImmediate({identifier:e}),s=yI("storage");return s&&RV(r,...s),r}function RV(t,e,n,r={}){EV(t,e,n,r)}function CV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Vy(n,r,s,e,cl)}function DV(){Wa(new Lo(IP,CV,"PUBLIC").setMultipleInstances(!0)),Js(lT,uT,""),Js(lT,uT,"esm2017")}DV();const kV={apiKey:"AIzaSyAnJCuyJXSp7mXu4J2KNOaUVppSbqyAPqU",authDomain:"movie-record-v2.firebaseapp.com",projectId:"movie-record-v2",storageBucket:"movie-record-v2.appspot.com",messagingSenderId:"271614748566",appId:"1:271614748566:web:b01f4f5af80234b3625fb7",measurementId:"G-WM0VMXG3K2"},OV=II(kV),xV=PV(OV);/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Fy(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Nt={},Kl=[],ls=()=>{},MV=()=>!1,vm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Uy=t=>t.startsWith("onUpdate:"),dn=Object.assign,By=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},NV=Object.prototype.hasOwnProperty,mt=(t,e)=>NV.call(t,e),Ve=Array.isArray,Xl=t=>ff(t)==="[object Map]",Fu=t=>ff(t)==="[object Set]",cT=t=>ff(t)==="[object Date]",Xe=t=>typeof t=="function",Jt=t=>typeof t=="string",li=t=>typeof t=="symbol",Rt=t=>t!==null&&typeof t=="object",SP=t=>(Rt(t)||Xe(t))&&Xe(t.then)&&Xe(t.catch),PP=Object.prototype.toString,ff=t=>PP.call(t),LV=t=>ff(t).slice(8,-1),RP=t=>ff(t)==="[object Object]",jy=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Hc=Fy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ym=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},$V=/-(\w)/g,ks=ym(t=>t.replace($V,(e,n)=>n?n.toUpperCase():"")),VV=/\B([A-Z])/g,Go=ym(t=>t.replace(VV,"-$1").toLowerCase()),bm=ym(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sd=ym(t=>t?`on${bm(t)}`:""),ui=(t,e)=>!Object.is(t,e),Pd=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},CP=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},lp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},FV=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let hT;const DP=()=>hT||(hT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ti(t){if(Ve(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Jt(r)?HV(r):ti(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Jt(t)||Rt(t))return t}const UV=/;(?![^(]*\))/g,BV=/:([^]+)/,jV=/\/\*[^]*?\*\//g;function HV(t){const e={};return t.replace(jV,"").split(UV).forEach(n=>{if(n){const r=n.split(BV);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Pt(t){let e="";if(Jt(t))e=t;else if(Ve(t))for(let n=0;n<t.length;n++){const r=Pt(t[n]);r&&(e+=r+" ")}else if(Rt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Ca(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Jt(e)&&(t.class=Pt(e)),n&&(t.style=ti(n)),t}const zV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",YV=Fy(zV);function kP(t){return!!t||t===""}function qV(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Ja(t[r],e[r]);return n}function Ja(t,e){if(t===e)return!0;let n=cT(t),r=cT(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=li(t),r=li(e),n||r)return t===e;if(n=Ve(t),r=Ve(e),n||r)return n&&r?qV(t,e):!1;if(n=Rt(t),r=Rt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ja(t[o],e[o]))return!1}}return String(t)===String(e)}function Hy(t,e){return t.findIndex(n=>Ja(n,e))}const OP=t=>!!(t&&t.__v_isRef===!0),It=t=>Jt(t)?t:t==null?"":Ve(t)||Rt(t)&&(t.toString===PP||!Xe(t.toString))?OP(t)?It(t.value):JSON.stringify(t,xP,2):String(t),xP=(t,e)=>OP(e)?xP(t,e.value):Xl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[wg(r,i)+" =>"]=s,n),{})}:Fu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>wg(n))}:li(e)?wg(e):Rt(e)&&!Ve(e)&&!RP(e)?String(e):e,wg=(t,e="")=>{var n;return li(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Br;class MP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Br,!e&&Br&&(this.index=(Br.scopes||(Br.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Br;try{return Br=this,e()}finally{Br=n}}}on(){Br=this}off(){Br=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function NP(t){return new MP(t)}function WV(t,e=Br){e&&e.active&&e.effects.push(t)}function zy(){return Br}function LP(t){Br&&Br.cleanups.push(t)}let Da;class Yy{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,WV(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ko();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(GV(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Xo()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ko,n=Da;try{return ko=!0,Da=this,this._runnings++,fT(this),this.fn()}finally{dT(this),this._runnings--,Da=n,ko=e}}stop(){this.active&&(fT(this),dT(this),this.onStop&&this.onStop(),this.active=!1)}}function GV(t){return t.value}function fT(t){t._trackId++,t._depsLength=0}function dT(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)$P(t.deps[e],t);t.deps.length=t._depsLength}}function $P(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ko=!0,L_=0;const VP=[];function Ko(){VP.push(ko),ko=!1}function Xo(){const t=VP.pop();ko=t===void 0?!0:t}function qy(){L_++}function Wy(){for(L_--;!L_&&$_.length;)$_.shift()()}function FP(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&$P(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const $_=[];function UP(t,e,n){qy();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&$_.push(r.scheduler)))}Wy()}const BP=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},up=new WeakMap,ka=Symbol(""),V_=Symbol("");function Lr(t,e,n){if(ko&&Da){let r=up.get(t);r||up.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=BP(()=>r.delete(n))),FP(Da,s)}}function xi(t,e,n,r,s,i){const o=up.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Ve(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!li(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Ve(t)?jy(n)&&a.push(o.get("length")):(a.push(o.get(ka)),Xl(t)&&a.push(o.get(V_)));break;case"delete":Ve(t)||(a.push(o.get(ka)),Xl(t)&&a.push(o.get(V_)));break;case"set":Xl(t)&&a.push(o.get(ka));break}qy();for(const l of a)l&&UP(l,4);Wy()}function KV(t,e){const n=up.get(t);return n&&n.get(e)}const XV=Fy("__proto__,__v_isRef,__isVue"),jP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(li)),pT=QV();function QV(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=_t(this);for(let i=0,o=this.length;i<o;i++)Lr(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(_t)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ko(),qy();const r=_t(this)[e].apply(this,n);return Wy(),Xo(),r}}),t}function JV(t){li(t)||(t=String(t));const e=_t(this);return Lr(e,"has",t),e.hasOwnProperty(t)}class HP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?hF:WP:i?qP:YP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ve(e);if(!s){if(o&&mt(pT,n))return Reflect.get(pT,n,r);if(n==="hasOwnProperty")return JV}const a=Reflect.get(e,n,r);return(li(n)?jP.has(n):XV(n))||(s||Lr(e,"get",n),i)?a:jt(a)?o&&jy(n)?a:a.value:Rt(a)?s?GP(a):wr(a):a}}class zP extends HP{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=Sh(i);if(!cp(r)&&!Sh(r)&&(i=_t(i),r=_t(r)),!Ve(e)&&jt(i)&&!jt(r))return l?!1:(i.value=r,!0)}const o=Ve(e)&&jy(n)?Number(n)<e.length:mt(e,n),a=Reflect.set(e,n,r,s);return e===_t(s)&&(o?ui(r,i)&&xi(e,"set",n,r):xi(e,"add",n,r)),a}deleteProperty(e,n){const r=mt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&xi(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!li(n)||!jP.has(n))&&Lr(e,"has",n),r}ownKeys(e){return Lr(e,"iterate",Ve(e)?"length":ka),Reflect.ownKeys(e)}}class ZV extends HP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const eF=new zP,tF=new ZV,nF=new zP(!0);const Gy=t=>t,wm=t=>Reflect.getPrototypeOf(t);function qf(t,e,n=!1,r=!1){t=t.__v_raw;const s=_t(t),i=_t(e);n||(ui(e,i)&&Lr(s,"get",e),Lr(s,"get",i));const{has:o}=wm(s),a=r?Gy:n?Qy:Ph;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function Wf(t,e=!1){const n=this.__v_raw,r=_t(n),s=_t(t);return e||(ui(t,s)&&Lr(r,"has",t),Lr(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Gf(t,e=!1){return t=t.__v_raw,!e&&Lr(_t(t),"iterate",ka),Reflect.get(t,"size",t)}function mT(t){t=_t(t);const e=_t(this);return wm(e).has.call(e,t)||(e.add(t),xi(e,"add",t,t)),this}function gT(t,e){e=_t(e);const n=_t(this),{has:r,get:s}=wm(n);let i=r.call(n,t);i||(t=_t(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?ui(e,o)&&xi(n,"set",t,e):xi(n,"add",t,e),this}function _T(t){const e=_t(this),{has:n,get:r}=wm(e);let s=n.call(e,t);s||(t=_t(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&xi(e,"delete",t,void 0),i}function vT(){const t=_t(this),e=t.size!==0,n=t.clear();return e&&xi(t,"clear",void 0,void 0),n}function Kf(t,e){return function(r,s){const i=this,o=i.__v_raw,a=_t(o),l=e?Gy:t?Qy:Ph;return!t&&Lr(a,"iterate",ka),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function Xf(t,e,n){return function(...r){const s=this.__v_raw,i=_t(s),o=Xl(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),c=n?Gy:e?Qy:Ph;return!e&&Lr(i,"iterate",l?V_:ka),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function Zi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function rF(){const t={get(i){return qf(this,i)},get size(){return Gf(this)},has:Wf,add:mT,set:gT,delete:_T,clear:vT,forEach:Kf(!1,!1)},e={get(i){return qf(this,i,!1,!0)},get size(){return Gf(this)},has:Wf,add:mT,set:gT,delete:_T,clear:vT,forEach:Kf(!1,!0)},n={get(i){return qf(this,i,!0)},get size(){return Gf(this,!0)},has(i){return Wf.call(this,i,!0)},add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear"),forEach:Kf(!0,!1)},r={get(i){return qf(this,i,!0,!0)},get size(){return Gf(this,!0)},has(i){return Wf.call(this,i,!0)},add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear"),forEach:Kf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Xf(i,!1,!1),n[i]=Xf(i,!0,!1),e[i]=Xf(i,!1,!0),r[i]=Xf(i,!0,!0)}),[t,n,e,r]}const[sF,iF,oF,aF]=rF();function Ky(t,e){const n=e?t?aF:oF:t?iF:sF;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(mt(n,s)&&s in r?n:r,s,i)}const lF={get:Ky(!1,!1)},uF={get:Ky(!1,!0)},cF={get:Ky(!0,!1)};const YP=new WeakMap,qP=new WeakMap,WP=new WeakMap,hF=new WeakMap;function fF(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dF(t){return t.__v_skip||!Object.isExtensible(t)?0:fF(LV(t))}function wr(t){return Sh(t)?t:Xy(t,!1,eF,lF,YP)}function jl(t){return Xy(t,!1,nF,uF,qP)}function GP(t){return Xy(t,!0,tF,cF,WP)}function Xy(t,e,n,r,s){if(!Rt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=dF(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Oa(t){return Sh(t)?Oa(t.__v_raw):!!(t&&t.__v_isReactive)}function Sh(t){return!!(t&&t.__v_isReadonly)}function cp(t){return!!(t&&t.__v_isShallow)}function KP(t){return t?!!t.__v_raw:!1}function _t(t){const e=t&&t.__v_raw;return e?_t(e):t}function xa(t){return Object.isExtensible(t)&&CP(t,"__v_skip",!0),t}const Ph=t=>Rt(t)?wr(t):t,Qy=t=>Rt(t)?GP(t):t;class XP{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yy(()=>e(this._value),()=>zc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=_t(this);return(!e._cacheable||e.effect.dirty)&&ui(e._value,e._value=e.effect.run())&&zc(e,4),Jy(e),e.effect._dirtyLevel>=2&&zc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function pF(t,e,n=!1){let r,s;const i=Xe(t);return i?(r=t,s=ls):(r=t.get,s=t.set),new XP(r,s,i||!s,n)}function Jy(t){var e;ko&&Da&&(t=_t(t),FP(Da,(e=t.dep)!=null?e:t.dep=BP(()=>t.dep=void 0,t instanceof XP?t:void 0)))}function zc(t,e=4,n,r){t=_t(t);const s=t.dep;s&&UP(s,e)}function jt(t){return!!(t&&t.__v_isRef===!0)}function xe(t){return QP(t,!1)}function mF(t){return QP(t,!0)}function QP(t,e){return jt(t)?t:new gF(t,e)}class gF{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:_t(e),this._value=n?e:Ph(e)}get value(){return Jy(this),this._value}set value(e){const n=this.__v_isShallow||cp(e)||Sh(e);e=n?e:_t(e),ui(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:Ph(e),zc(this,4))}}function K(t){return jt(t)?t.value:t}const _F={get:(t,e,n)=>K(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return jt(s)&&!jt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function JP(t){return Oa(t)?t:new Proxy(t,_F)}class vF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>Jy(this),()=>zc(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function yF(t){return new vF(t)}function ZP(t){const e=Ve(t)?new Array(t.length):{};for(const n in t)e[n]=eR(t,n);return e}class bF{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return KV(_t(this._object),this._key)}}class wF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ma(t,e,n){return jt(t)?t:Xe(t)?new wF(t):Rt(t)&&arguments.length>1?eR(t,e,n):xe(t)}function eR(t,e,n){const r=t[e];return jt(r)?r:new bF(t,e,n)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Oo(t,e,n,r){try{return r?t(...r):t()}catch(s){Tm(s,e,n)}}function fs(t,e,n,r){if(Xe(t)){const s=Oo(t,e,n,r);return s&&SP(s)&&s.catch(i=>{Tm(i,e,n)}),s}if(Ve(t)){const s=[];for(let i=0;i<t.length;i++)s.push(fs(t[i],e,n,r));return s}}function Tm(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Ko(),Oo(l,null,10,[t,o,a]),Xo();return}}TF(t,n,s,r)}function TF(t,e,n,r=!0){console.error(t)}let Rh=!1,F_=!1;const nr=[];let zs=0;const Ql=[];let lo=null,ya=0;const tR=Promise.resolve();let Zy=null;function An(t){const e=Zy||tR;return t?e.then(this?t.bind(this):t):e}function EF(t){let e=zs+1,n=nr.length;for(;e<n;){const r=e+n>>>1,s=nr[r],i=Ch(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function e0(t){(!nr.length||!nr.includes(t,Rh&&t.allowRecurse?zs+1:zs))&&(t.id==null?nr.push(t):nr.splice(EF(t.id),0,t),nR())}function nR(){!Rh&&!F_&&(F_=!0,Zy=tR.then(sR))}function AF(t){const e=nr.indexOf(t);e>zs&&nr.splice(e,1)}function IF(t){Ve(t)?Ql.push(...t):(!lo||!lo.includes(t,t.allowRecurse?ya+1:ya))&&Ql.push(t),nR()}function yT(t,e,n=Rh?zs+1:0){for(;n<nr.length;n++){const r=nr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;nr.splice(n,1),n--,r()}}}function rR(t){if(Ql.length){const e=[...new Set(Ql)].sort((n,r)=>Ch(n)-Ch(r));if(Ql.length=0,lo){lo.push(...e);return}for(lo=e,ya=0;ya<lo.length;ya++){const n=lo[ya];n.active!==!1&&n()}lo=null,ya=0}}const Ch=t=>t.id==null?1/0:t.id,SF=(t,e)=>{const n=Ch(t)-Ch(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function sR(t){F_=!1,Rh=!0,nr.sort(SF);try{for(zs=0;zs<nr.length;zs++){const e=nr[zs];e&&e.active!==!1&&Oo(e,null,14)}}finally{zs=0,nr.length=0,rR(),Rh=!1,Zy=null,(nr.length||Ql.length)&&sR()}}function PF(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Nt;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=r[c]||Nt;d&&(s=n.map(p=>Jt(p)?p.trim():p)),f&&(s=n.map(lp))}let a,l=r[a=Sd(e)]||r[a=Sd(ks(e))];!l&&i&&(l=r[a=Sd(Go(e))]),l&&fs(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,fs(u,t,6,s)}}function iR(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Xe(t)){const l=u=>{const c=iR(u,e,!0);c&&(a=!0,dn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Rt(t)&&r.set(t,null),null):(Ve(i)?i.forEach(l=>o[l]=null):dn(o,i),Rt(t)&&r.set(t,o),o)}function Em(t,e){return!t||!vm(e)?!1:(e=e.slice(2).replace(/Once$/,""),mt(t,e[0].toLowerCase()+e.slice(1))||mt(t,Go(e))||mt(t,e))}let In=null,Am=null;function hp(t){const e=In;return In=t,Am=t&&t.type.__scopeId||null,e}function df(t){Am=t}function pf(){Am=null}function gt(t,e=In,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&xT(-1);const i=hp(e);let o;try{o=t(...s)}finally{hp(i),r._d&&xT(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Tg(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:d,setupState:p,ctx:g,inheritAttrs:_}=t,A=hp(t);let S,M;try{if(n.shapeFlag&4){const O=s||r,x=O;S=Hs(u.call(x,O,c,f,p,d,g)),M=a}else{const O=e;S=Hs(O.length>1?O(f,{attrs:a,slots:o,emit:l}):O(f,null)),M=e.props?a:RF(a)}}catch(O){Kc.length=0,Tm(O,t,1),S=ye(Pr)}let k=S;if(M&&_!==!1){const O=Object.keys(M),{shapeFlag:x}=k;O.length&&x&7&&(i&&O.some(Uy)&&(M=CF(M,i)),k=Uo(k,M,!1,!0))}return n.dirs&&(k=Uo(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),S=k,hp(A),S}const RF=t=>{let e;for(const n in t)(n==="class"||n==="style"||vm(n))&&((e||(e={}))[n]=t[n]);return e},CF=(t,e)=>{const n={};for(const r in t)(!Uy(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function DF(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?bT(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!Em(u,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?bT(r,o,u):!0:!!o;return!1}function bT(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Em(n,i))return!0}return!1}function kF({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const t0="components",OF="directives";function ss(t,e){return n0(t0,t,!0,e)||t}const oR=Symbol.for("v-ndc");function Yc(t){return Jt(t)?n0(t0,t,!1)||t:t||oR}function xF(t){return n0(OF,t)}function n0(t,e,n=!0,r=!1){const s=In||Mn;if(s){const i=s.type;if(t===t0){const a=OU(i,!1);if(a&&(a===e||a===ks(e)||a===bm(ks(e))))return i}const o=wT(s[t]||i[t],e)||wT(s.appContext[t],e);return!o&&r?i:o}}function wT(t,e){return t&&(t[e]||t[ks(e)]||t[bm(ks(e))])}const MF=t=>t.__isSuspense;function NF(t,e){e&&e.pendingBranch?Ve(t)?e.effects.push(...t):e.effects.push(t):IF(t)}function Im(t,e,n=Mn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ko();const a=gf(n),l=fs(e,n,t,o);return a(),Xo(),l});return r?s.unshift(i):s.push(i),i}}const qi=t=>(e,n=Mn)=>{(!Cm||t==="sp")&&Im(t,(...r)=>e(...r),n)},LF=qi("bm"),Zr=qi("m"),$F=qi("bu"),VF=qi("u"),mf=qi("bum"),Qo=qi("um"),FF=qi("sp"),UF=qi("rtg"),BF=qi("rtc");function jF(t,e=Mn){Im("ec",t,e)}function Sr(t,e){if(In===null)return t;const n=Dm(In),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Nt]=e[s];i&&(Xe(i)&&(i={mounted:i,updated:i}),i.deep&&po(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function aa(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ko(),fs(l,n,8,[t.el,a,t,e]),Xo())}}function Nn(t,e,n,r){let s;const i=n;if(Ve(t)||Jt(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i)}else if(Rt(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=e(t[u],u,a,i)}}else s=[];return s}function HF(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Ve(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function zt(t,e){return Xe(t)?dn({name:t.name},e,{setup:t}):t}const qc=t=>!!t.type.__asyncLoader;function rn(t,e,n={},r,s){if(In.isCE||In.parent&&qc(In.parent)&&In.parent.isCE)return e!=="default"&&(n.name=e),ye("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),ie();const o=i&&aR(i(n)),a=ot(ft,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function aR(t){return t.some(e=>mp(e)?!(e.type===Pr||e.type===ft&&!aR(e.children)):!0)?t:null}function U_(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Sd(r)]=t[r];return n}const B_=t=>t?DR(t)?Dm(t):B_(t.parent):null,Wc=dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>B_(t.parent),$root:t=>B_(t.root),$emit:t=>t.emit,$options:t=>r0(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,e0(t.update)}),$nextTick:t=>t.n||(t.n=An.bind(t.proxy)),$watch:t=>dU.bind(t)}),Eg=(t,e)=>t!==Nt&&!t.__isScriptSetup&&mt(t,e),zF={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Eg(r,e))return o[e]=1,r[e];if(s!==Nt&&mt(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&mt(u,e))return o[e]=3,i[e];if(n!==Nt&&mt(n,e))return o[e]=4,n[e];j_&&(o[e]=0)}}const c=Wc[e];let f,d;if(c)return e==="$attrs"&&Lr(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Nt&&mt(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,mt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Eg(s,e)?(s[e]=n,!0):r!==Nt&&mt(r,e)?(r[e]=n,!0):mt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Nt&&mt(t,o)||Eg(e,o)||(a=i[0])&&mt(a,o)||mt(r,o)||mt(Wc,o)||mt(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:mt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function YF(){return qF().attrs}function qF(){const t=pl();return t.setupContext||(t.setupContext=OR(t))}function fp(t){return Ve(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function lR(t,e){return!t||!e?t||e:Ve(t)&&Ve(e)?t.concat(e):dn({},fp(t),fp(e))}let j_=!0;function WF(t){const e=r0(t),n=t.proxy,r=t.ctx;j_=!1,e.beforeCreate&&TT(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:g,activated:_,deactivated:A,beforeDestroy:S,beforeUnmount:M,destroyed:k,unmounted:O,render:x,renderTracked:N,renderTriggered:T,errorCaptured:w,serverPrefetch:b,expose:I,inheritAttrs:P,components:y,directives:E,filters:B}=e;if(u&&GF(u,r,null),o)for(const j in o){const H=o[j];Xe(H)&&(r[j]=H.bind(n))}if(s){const j=s.call(n,n);Rt(j)&&(t.data=wr(j))}if(j_=!0,i)for(const j in i){const H=i[j],ee=Xe(H)?H.bind(n,n):Xe(H.get)?H.get.bind(n,n):ls,R=!Xe(H)&&Xe(H.set)?H.set.bind(n):ls,ue=X({get:ee,set:R});Object.defineProperty(r,j,{enumerable:!0,configurable:!0,get:()=>ue.value,set:te=>ue.value=te})}if(a)for(const j in a)uR(a[j],r,n,j);if(l){const j=Xe(l)?l.call(n):l;Reflect.ownKeys(j).forEach(H=>{Mi(H,j[H])})}c&&TT(c,t,"c");function F(j,H){Ve(H)?H.forEach(ee=>j(ee.bind(n))):H&&j(H.bind(n))}if(F(LF,f),F(Zr,d),F($F,p),F(VF,g),F(pU,_),F(mU,A),F(jF,w),F(BF,N),F(UF,T),F(mf,M),F(Qo,O),F(FF,b),Ve(I))if(I.length){const j=t.exposed||(t.exposed={});I.forEach(H=>{Object.defineProperty(j,H,{get:()=>n[H],set:ee=>n[H]=ee})})}else t.exposed||(t.exposed={});x&&t.render===ls&&(t.render=x),P!=null&&(t.inheritAttrs=P),y&&(t.components=y),E&&(t.directives=E)}function GF(t,e,n=ls){Ve(t)&&(t=H_(t));for(const r in t){const s=t[r];let i;Rt(s)?"default"in s?i=Ln(s.from||r,s.default,!0):i=Ln(s.from||r):i=Ln(s),jt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function TT(t,e,n){fs(Ve(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function uR(t,e,n,r){const s=r.includes(".")?wR(n,r):()=>n[r];if(Jt(t)){const i=e[t];Xe(i)&&lt(s,i)}else if(Xe(t))lt(s,t.bind(n));else if(Rt(t))if(Ve(t))t.forEach(i=>uR(i,e,n,r));else{const i=Xe(t.handler)?t.handler.bind(n):e[t.handler];Xe(i)&&lt(s,i,t)}}function r0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>dp(l,u,o,!0)),dp(l,e,o)),Rt(e)&&i.set(e,l),l}function dp(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&dp(t,i,n,!0),s&&s.forEach(o=>dp(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=KF[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const KF={data:ET,props:AT,emits:AT,methods:Sc,computed:Sc,beforeCreate:hr,created:hr,beforeMount:hr,mounted:hr,beforeUpdate:hr,updated:hr,beforeDestroy:hr,beforeUnmount:hr,destroyed:hr,unmounted:hr,activated:hr,deactivated:hr,errorCaptured:hr,serverPrefetch:hr,components:Sc,directives:Sc,watch:QF,provide:ET,inject:XF};function ET(t,e){return e?t?function(){return dn(Xe(t)?t.call(this,this):t,Xe(e)?e.call(this,this):e)}:e:t}function XF(t,e){return Sc(H_(t),H_(e))}function H_(t){if(Ve(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hr(t,e){return t?[...new Set([].concat(t,e))]:e}function Sc(t,e){return t?dn(Object.create(null),t,e):e}function AT(t,e){return t?Ve(t)&&Ve(e)?[...new Set([...t,...e])]:dn(Object.create(null),fp(t),fp(e??{})):e}function QF(t,e){if(!t)return e;if(!e)return t;const n=dn(Object.create(null),t);for(const r in e)n[r]=hr(t[r],e[r]);return n}function cR(){return{app:null,config:{isNativeTag:MV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let JF=0;function ZF(t,e){return function(r,s=null){Xe(r)||(r=dn({},r)),s!=null&&!Rt(s)&&(s=null);const i=cR(),o=new WeakSet;let a=!1;const l=i.app={_uid:JF++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:MU,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&Xe(u.install)?(o.add(u),u.install(l,...c)):Xe(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!a){const d=ye(r,s);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&e?e(d,u):t(d,u,f),a=!0,l._container=u,u.__vue_app__=l,Dm(d.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=Jl;Jl=l;try{return u()}finally{Jl=c}}};return l}}let Jl=null;function Mi(t,e){if(Mn){let n=Mn.provides;const r=Mn.parent&&Mn.parent.provides;r===n&&(n=Mn.provides=Object.create(r)),n[t]=e}}function Ln(t,e,n=!1){const r=Mn||In;if(r||Jl){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Jl._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Xe(e)?e.call(r&&r.proxy):e}}function eU(){return!!(Mn||In||Jl)}const hR={},fR=()=>Object.create(hR),dR=t=>Object.getPrototypeOf(t)===hR;function tU(t,e,n,r=!1){const s={},i=fR();t.propsDefaults=Object.create(null),pR(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:jl(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function nU(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=_t(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Em(t.emitsOptions,d))continue;const p=e[d];if(l)if(mt(i,d))p!==i[d]&&(i[d]=p,u=!0);else{const g=ks(d);s[g]=z_(l,a,g,p,t,!1)}else p!==i[d]&&(i[d]=p,u=!0)}}}else{pR(t,e,s,i)&&(u=!0);let c;for(const f in a)(!e||!mt(e,f)&&((c=Go(f))===f||!mt(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(s[f]=z_(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!mt(e,f))&&(delete i[f],u=!0)}u&&xi(t.attrs,"set","")}function pR(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Hc(l))continue;const u=e[l];let c;s&&mt(s,c=ks(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Em(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=_t(n),u=a||Nt;for(let c=0;c<i.length;c++){const f=i[c];n[f]=z_(s,l,f,u[f],t,!mt(u,f))}}return o}function z_(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=mt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Xe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const c=gf(s);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Go(n))&&(r=!0))}return r}function mR(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!Xe(t)){const c=f=>{l=!0;const[d,p]=mR(f,e,!0);dn(o,d),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Rt(t)&&r.set(t,Kl),Kl;if(Ve(i))for(let c=0;c<i.length;c++){const f=ks(i[c]);IT(f)&&(o[f]=Nt)}else if(i)for(const c in i){const f=ks(c);if(IT(f)){const d=i[c],p=o[f]=Ve(d)||Xe(d)?{type:d}:dn({},d);if(p){const g=RT(Boolean,p.type),_=RT(String,p.type);p[0]=g>-1,p[1]=_<0||g<_,(g>-1||mt(p,"default"))&&a.push(f)}}}const u=[o,a];return Rt(t)&&r.set(t,u),u}function IT(t){return t[0]!=="$"&&!Hc(t)}function ST(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function PT(t,e){return ST(t)===ST(e)}function RT(t,e){return Ve(e)?e.findIndex(n=>PT(n,t)):Xe(e)&&PT(e,t)?0:-1}const gR=t=>t[0]==="_"||t==="$stable",s0=t=>Ve(t)?t.map(Hs):[Hs(t)],rU=(t,e,n)=>{if(e._n)return e;const r=gt((...s)=>s0(e(...s)),n);return r._c=!1,r},_R=(t,e,n)=>{const r=t._ctx;for(const s in t){if(gR(s))continue;const i=t[s];if(Xe(i))e[s]=rU(s,i,r);else if(i!=null){const o=s0(i);e[s]=()=>o}}},vR=(t,e)=>{const n=s0(e);t.slots.default=()=>n},sU=(t,e)=>{const n=t.slots=fR();if(t.vnode.shapeFlag&32){const r=e._;r?(dn(n,e),CP(n,"_",r,!0)):_R(e,n)}else e&&vR(t,e)},iU=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Nt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(dn(s,e),!n&&a===1&&delete s._):(i=!e.$stable,_R(e,s)),o=e}else e&&(vR(t,e),o={default:1});if(i)for(const a in s)!gR(a)&&o[a]==null&&delete s[a]};function Y_(t,e,n,r,s=!1){if(Ve(t)){t.forEach((d,p)=>Y_(d,e&&(Ve(e)?e[p]:e),n,r,s));return}if(qc(r)&&!s)return;const i=r.shapeFlag&4?Dm(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Nt?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(Jt(u)?(c[u]=null,mt(f,u)&&(f[u]=null)):jt(u)&&(u.value=null)),Xe(l))Oo(l,a,12,[o,c]);else{const d=Jt(l),p=jt(l);if(d||p){const g=()=>{if(t.f){const _=d?mt(f,l)?f[l]:c[l]:l.value;s?Ve(_)&&By(_,i):Ve(_)?_.includes(i)||_.push(i):d?(c[l]=[i],mt(f,l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else d?(c[l]=o,mt(f,l)&&(f[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};o?(g.id=-1,Er(g,n)):g()}}}const Er=NF;function oU(t){return aU(t)}function aU(t,e){const n=DP();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=ls,insertStaticContent:g}=t,_=(D,L,Y,Q=null,$=null,he=null,de=void 0,le=null,oe=!!L.dynamicChildren)=>{if(D===L)return;D&&!ba(D,L)&&(Q=z(D),te(D,$,he,!0),D=null),L.patchFlag===-2&&(oe=!1,L.dynamicChildren=null);const{type:se,ref:_e,shapeFlag:Pe}=L;switch(se){case Rm:A(D,L,Y,Q);break;case Pr:S(D,L,Y,Q);break;case Sg:D==null&&M(L,Y,Q,de);break;case ft:y(D,L,Y,Q,$,he,de,le,oe);break;default:Pe&1?x(D,L,Y,Q,$,he,de,le,oe):Pe&6?E(D,L,Y,Q,$,he,de,le,oe):(Pe&64||Pe&128)&&se.process(D,L,Y,Q,$,he,de,le,oe,ne)}_e!=null&&$&&Y_(_e,D&&D.ref,he,L||D,!L)},A=(D,L,Y,Q)=>{if(D==null)r(L.el=a(L.children),Y,Q);else{const $=L.el=D.el;L.children!==D.children&&u($,L.children)}},S=(D,L,Y,Q)=>{D==null?r(L.el=l(L.children||""),Y,Q):L.el=D.el},M=(D,L,Y,Q)=>{[D.el,D.anchor]=g(D.children,L,Y,Q,D.el,D.anchor)},k=({el:D,anchor:L},Y,Q)=>{let $;for(;D&&D!==L;)$=d(D),r(D,Y,Q),D=$;r(L,Y,Q)},O=({el:D,anchor:L})=>{let Y;for(;D&&D!==L;)Y=d(D),s(D),D=Y;s(L)},x=(D,L,Y,Q,$,he,de,le,oe)=>{L.type==="svg"?de="svg":L.type==="math"&&(de="mathml"),D==null?N(L,Y,Q,$,he,de,le,oe):b(D,L,$,he,de,le,oe)},N=(D,L,Y,Q,$,he,de,le)=>{let oe,se;const{props:_e,shapeFlag:Pe,transition:be,dirs:Ie}=D;if(oe=D.el=o(D.type,he,_e&&_e.is,_e),Pe&8?c(oe,D.children):Pe&16&&w(D.children,oe,null,Q,$,Ag(D,he),de,le),Ie&&aa(D,null,Q,"created"),T(oe,D,D.scopeId,de,Q),_e){for(const Ye in _e)Ye!=="value"&&!Hc(Ye)&&i(oe,Ye,null,_e[Ye],he,D.children,Q,$,De);"value"in _e&&i(oe,"value",null,_e.value,he),(se=_e.onVnodeBeforeMount)&&Us(se,Q,D)}Ie&&aa(D,null,Q,"beforeMount");const Te=lU($,be);Te&&be.beforeEnter(oe),r(oe,L,Y),((se=_e&&_e.onVnodeMounted)||Te||Ie)&&Er(()=>{se&&Us(se,Q,D),Te&&be.enter(oe),Ie&&aa(D,null,Q,"mounted")},$)},T=(D,L,Y,Q,$)=>{if(Y&&p(D,Y),Q)for(let he=0;he<Q.length;he++)p(D,Q[he]);if($){let he=$.subTree;if(L===he){const de=$.vnode;T(D,de,de.scopeId,de.slotScopeIds,$.parent)}}},w=(D,L,Y,Q,$,he,de,le,oe=0)=>{for(let se=oe;se<D.length;se++){const _e=D[se]=le?co(D[se]):Hs(D[se]);_(null,_e,L,Y,Q,$,he,de,le)}},b=(D,L,Y,Q,$,he,de)=>{const le=L.el=D.el;let{patchFlag:oe,dynamicChildren:se,dirs:_e}=L;oe|=D.patchFlag&16;const Pe=D.props||Nt,be=L.props||Nt;let Ie;if(Y&&la(Y,!1),(Ie=be.onVnodeBeforeUpdate)&&Us(Ie,Y,L,D),_e&&aa(L,D,Y,"beforeUpdate"),Y&&la(Y,!0),se?I(D.dynamicChildren,se,le,Y,Q,Ag(L,$),he):de||H(D,L,le,null,Y,Q,Ag(L,$),he,!1),oe>0){if(oe&16)P(le,L,Pe,be,Y,Q,$);else if(oe&2&&Pe.class!==be.class&&i(le,"class",null,be.class,$),oe&4&&i(le,"style",Pe.style,be.style,$),oe&8){const Te=L.dynamicProps;for(let Ye=0;Ye<Te.length;Ye++){const ze=Te[Ye],st=Pe[ze],qt=be[ze];(qt!==st||ze==="value")&&i(le,ze,st,qt,$,D.children,Y,Q,De)}}oe&1&&D.children!==L.children&&c(le,L.children)}else!de&&se==null&&P(le,L,Pe,be,Y,Q,$);((Ie=be.onVnodeUpdated)||_e)&&Er(()=>{Ie&&Us(Ie,Y,L,D),_e&&aa(L,D,Y,"updated")},Q)},I=(D,L,Y,Q,$,he,de)=>{for(let le=0;le<L.length;le++){const oe=D[le],se=L[le],_e=oe.el&&(oe.type===ft||!ba(oe,se)||oe.shapeFlag&70)?f(oe.el):Y;_(oe,se,_e,null,Q,$,he,de,!0)}},P=(D,L,Y,Q,$,he,de)=>{if(Y!==Q){if(Y!==Nt)for(const le in Y)!Hc(le)&&!(le in Q)&&i(D,le,Y[le],null,de,L.children,$,he,De);for(const le in Q){if(Hc(le))continue;const oe=Q[le],se=Y[le];oe!==se&&le!=="value"&&i(D,le,se,oe,de,L.children,$,he,De)}"value"in Q&&i(D,"value",Y.value,Q.value,de)}},y=(D,L,Y,Q,$,he,de,le,oe)=>{const se=L.el=D?D.el:a(""),_e=L.anchor=D?D.anchor:a("");let{patchFlag:Pe,dynamicChildren:be,slotScopeIds:Ie}=L;Ie&&(le=le?le.concat(Ie):Ie),D==null?(r(se,Y,Q),r(_e,Y,Q),w(L.children||[],Y,_e,$,he,de,le,oe)):Pe>0&&Pe&64&&be&&D.dynamicChildren?(I(D.dynamicChildren,be,Y,$,he,de,le),(L.key!=null||$&&L===$.subTree)&&i0(D,L,!0)):H(D,L,Y,_e,$,he,de,le,oe)},E=(D,L,Y,Q,$,he,de,le,oe)=>{L.slotScopeIds=le,D==null?L.shapeFlag&512?$.ctx.activate(L,Y,Q,de,oe):B(L,Y,Q,$,he,de,oe):U(D,L,oe)},B=(D,L,Y,Q,$,he,de)=>{const le=D.component=RU(D,Q,$);if(Pm(D)&&(le.ctx.renderer=ne),CU(le),le.asyncDep){if($&&$.registerDep(le,F,de),!D.el){const oe=le.subTree=ye(Pr);S(null,oe,L,Y)}}else F(le,D,L,Y,$,he,de)},U=(D,L,Y)=>{const Q=L.component=D.component;if(DF(D,L,Y))if(Q.asyncDep&&!Q.asyncResolved){j(Q,L,Y);return}else Q.next=L,AF(Q.update),Q.effect.dirty=!0,Q.update();else L.el=D.el,Q.vnode=L},F=(D,L,Y,Q,$,he,de)=>{const le=()=>{if(D.isMounted){let{next:_e,bu:Pe,u:be,parent:Ie,vnode:Te}=D;{const tt=yR(D);if(tt){_e&&(_e.el=Te.el,j(D,_e,de)),tt.asyncDep.then(()=>{D.isUnmounted||le()});return}}let Ye=_e,ze;la(D,!1),_e?(_e.el=Te.el,j(D,_e,de)):_e=Te,Pe&&Pd(Pe),(ze=_e.props&&_e.props.onVnodeBeforeUpdate)&&Us(ze,Ie,_e,Te),la(D,!0);const st=Tg(D),qt=D.subTree;D.subTree=st,_(qt,st,f(qt.el),z(qt),D,$,he),_e.el=st.el,Ye===null&&kF(D,st.el),be&&Er(be,$),(ze=_e.props&&_e.props.onVnodeUpdated)&&Er(()=>Us(ze,Ie,_e,Te),$)}else{let _e;const{el:Pe,props:be}=L,{bm:Ie,m:Te,parent:Ye}=D,ze=qc(L);if(la(D,!1),Ie&&Pd(Ie),!ze&&(_e=be&&be.onVnodeBeforeMount)&&Us(_e,Ye,L),la(D,!0),Pe&&Re){const st=()=>{D.subTree=Tg(D),Re(Pe,D.subTree,D,$,null)};ze?L.type.__asyncLoader().then(()=>!D.isUnmounted&&st()):st()}else{const st=D.subTree=Tg(D);_(null,st,Y,Q,D,$,he),L.el=st.el}if(Te&&Er(Te,$),!ze&&(_e=be&&be.onVnodeMounted)){const st=L;Er(()=>Us(_e,Ye,st),$)}(L.shapeFlag&256||Ye&&qc(Ye.vnode)&&Ye.vnode.shapeFlag&256)&&D.a&&Er(D.a,$),D.isMounted=!0,L=Y=Q=null}},oe=D.effect=new Yy(le,ls,()=>e0(se),D.scope),se=D.update=()=>{oe.dirty&&oe.run()};se.id=D.uid,la(D,!0),se()},j=(D,L,Y)=>{L.component=D;const Q=D.vnode.props;D.vnode=L,D.next=null,nU(D,L.props,Q,Y),iU(D,L.children,Y),Ko(),yT(D),Xo()},H=(D,L,Y,Q,$,he,de,le,oe=!1)=>{const se=D&&D.children,_e=D?D.shapeFlag:0,Pe=L.children,{patchFlag:be,shapeFlag:Ie}=L;if(be>0){if(be&128){R(se,Pe,Y,Q,$,he,de,le,oe);return}else if(be&256){ee(se,Pe,Y,Q,$,he,de,le,oe);return}}Ie&8?(_e&16&&De(se,$,he),Pe!==se&&c(Y,Pe)):_e&16?Ie&16?R(se,Pe,Y,Q,$,he,de,le,oe):De(se,$,he,!0):(_e&8&&c(Y,""),Ie&16&&w(Pe,Y,Q,$,he,de,le,oe))},ee=(D,L,Y,Q,$,he,de,le,oe)=>{D=D||Kl,L=L||Kl;const se=D.length,_e=L.length,Pe=Math.min(se,_e);let be;for(be=0;be<Pe;be++){const Ie=L[be]=oe?co(L[be]):Hs(L[be]);_(D[be],Ie,Y,null,$,he,de,le,oe)}se>_e?De(D,$,he,!0,!1,Pe):w(L,Y,Q,$,he,de,le,oe,Pe)},R=(D,L,Y,Q,$,he,de,le,oe)=>{let se=0;const _e=L.length;let Pe=D.length-1,be=_e-1;for(;se<=Pe&&se<=be;){const Ie=D[se],Te=L[se]=oe?co(L[se]):Hs(L[se]);if(ba(Ie,Te))_(Ie,Te,Y,null,$,he,de,le,oe);else break;se++}for(;se<=Pe&&se<=be;){const Ie=D[Pe],Te=L[be]=oe?co(L[be]):Hs(L[be]);if(ba(Ie,Te))_(Ie,Te,Y,null,$,he,de,le,oe);else break;Pe--,be--}if(se>Pe){if(se<=be){const Ie=be+1,Te=Ie<_e?L[Ie].el:Q;for(;se<=be;)_(null,L[se]=oe?co(L[se]):Hs(L[se]),Y,Te,$,he,de,le,oe),se++}}else if(se>be)for(;se<=Pe;)te(D[se],$,he,!0),se++;else{const Ie=se,Te=se,Ye=new Map;for(se=Te;se<=be;se++){const Ct=L[se]=oe?co(L[se]):Hs(L[se]);Ct.key!=null&&Ye.set(Ct.key,se)}let ze,st=0;const qt=be-Te+1;let tt=!1,lr=0;const on=new Array(qt);for(se=0;se<qt;se++)on[se]=0;for(se=Ie;se<=Pe;se++){const Ct=D[se];if(st>=qt){te(Ct,$,he,!0);continue}let re;if(Ct.key!=null)re=Ye.get(Ct.key);else for(ze=Te;ze<=be;ze++)if(on[ze-Te]===0&&ba(Ct,L[ze])){re=ze;break}re===void 0?te(Ct,$,he,!0):(on[re-Te]=se+1,re>=lr?lr=re:tt=!0,_(Ct,L[re],Y,null,$,he,de,le,oe),st++)}const Rn=tt?uU(on):Kl;for(ze=Rn.length-1,se=qt-1;se>=0;se--){const Ct=Te+se,re=L[Ct],V=Ct+1<_e?L[Ct+1].el:Q;on[se]===0?_(null,re,Y,V,$,he,de,le,oe):tt&&(ze<0||se!==Rn[ze]?ue(re,Y,V,2):ze--)}}},ue=(D,L,Y,Q,$=null)=>{const{el:he,type:de,transition:le,children:oe,shapeFlag:se}=D;if(se&6){ue(D.component.subTree,L,Y,Q);return}if(se&128){D.suspense.move(L,Y,Q);return}if(se&64){de.move(D,L,Y,ne);return}if(de===ft){r(he,L,Y);for(let Pe=0;Pe<oe.length;Pe++)ue(oe[Pe],L,Y,Q);r(D.anchor,L,Y);return}if(de===Sg){k(D,L,Y);return}if(Q!==2&&se&1&&le)if(Q===0)le.beforeEnter(he),r(he,L,Y),Er(()=>le.enter(he),$);else{const{leave:Pe,delayLeave:be,afterLeave:Ie}=le,Te=()=>r(he,L,Y),Ye=()=>{Pe(he,()=>{Te(),Ie&&Ie()})};be?be(he,Te,Ye):Ye()}else r(he,L,Y)},te=(D,L,Y,Q=!1,$=!1)=>{const{type:he,props:de,ref:le,children:oe,dynamicChildren:se,shapeFlag:_e,patchFlag:Pe,dirs:be,memoIndex:Ie}=D;if(Pe===-2&&($=!1),le!=null&&Y_(le,null,Y,D,!0),Ie!=null&&(L.renderCache[Ie]=void 0),_e&256){L.ctx.deactivate(D);return}const Te=_e&1&&be,Ye=!qc(D);let ze;if(Ye&&(ze=de&&de.onVnodeBeforeUnmount)&&Us(ze,L,D),_e&6)Ce(D.component,Y,Q);else{if(_e&128){D.suspense.unmount(Y,Q);return}Te&&aa(D,null,L,"beforeUnmount"),_e&64?D.type.remove(D,L,Y,ne,Q):se&&(he!==ft||Pe>0&&Pe&64)?De(se,L,Y,!1,!0):(he===ft&&Pe&384||!$&&_e&16)&&De(oe,L,Y),Q&&ve(D)}(Ye&&(ze=de&&de.onVnodeUnmounted)||Te)&&Er(()=>{ze&&Us(ze,L,D),Te&&aa(D,null,L,"unmounted")},Y)},ve=D=>{const{type:L,el:Y,anchor:Q,transition:$}=D;if(L===ft){ge(Y,Q);return}if(L===Sg){O(D);return}const he=()=>{s(Y),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(D.shapeFlag&1&&$&&!$.persisted){const{leave:de,delayLeave:le}=$,oe=()=>de(Y,he);le?le(D.el,he,oe):oe()}else he()},ge=(D,L)=>{let Y;for(;D!==L;)Y=d(D),s(D),D=Y;s(L)},Ce=(D,L,Y)=>{const{bum:Q,scope:$,update:he,subTree:de,um:le,m:oe,a:se}=D;CT(oe),CT(se),Q&&Pd(Q),$.stop(),he&&(he.active=!1,te(de,D,L,Y)),le&&Er(le,L),Er(()=>{D.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},De=(D,L,Y,Q=!1,$=!1,he=0)=>{for(let de=he;de<D.length;de++)te(D[de],L,Y,Q,$)},z=D=>D.shapeFlag&6?z(D.component.subTree):D.shapeFlag&128?D.suspense.next():d(D.anchor||D.el);let ae=!1;const W=(D,L,Y)=>{D==null?L._vnode&&te(L._vnode,null,null,!0):_(L._vnode||null,D,L,null,null,null,Y),ae||(ae=!0,yT(),rR(),ae=!1),L._vnode=D},ne={p:_,um:te,m:ue,r:ve,mt:B,mc:w,pc:H,pbc:I,n:z,o:t};let me,Re;return{render:W,hydrate:me,createApp:ZF(W,me)}}function Ag({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function la({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function lU(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function i0(t,e,n=!1){const r=t.children,s=e.children;if(Ve(r)&&Ve(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=co(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&i0(o,a)),a.type===Rm&&(a.el=o.el)}}function uU(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function yR(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:yR(e)}function CT(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const cU=Symbol.for("v-scx"),hU=()=>Ln(cU);function bR(t,e){return Sm(t,null,e)}function fU(t,e){return Sm(t,null,{flush:"sync"})}const Qf={};function lt(t,e,n){return Sm(t,e,n)}function Sm(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=Nt){if(e&&i){const N=e;e=(...T)=>{N(...T),x()}}const l=Mn,u=N=>r===!0?N:po(N,r===!1?1:void 0);let c,f=!1,d=!1;if(jt(t)?(c=()=>t.value,f=cp(t)):Oa(t)?(c=()=>u(t),f=!0):Ve(t)?(d=!0,f=t.some(N=>Oa(N)||cp(N)),c=()=>t.map(N=>{if(jt(N))return N.value;if(Oa(N))return u(N);if(Xe(N))return Oo(N,l,2)})):Xe(t)?e?c=()=>Oo(t,l,2):c=()=>(p&&p(),fs(t,l,3,[g])):c=ls,e&&r){const N=c;c=()=>po(N())}let p,g=N=>{p=k.onStop=()=>{Oo(N,l,4),p=k.onStop=void 0}},_;if(Cm)if(g=ls,e?n&&fs(e,l,3,[c(),d?[]:void 0,g]):c(),s==="sync"){const N=hU();_=N.__watcherHandles||(N.__watcherHandles=[])}else return ls;let A=d?new Array(t.length).fill(Qf):Qf;const S=()=>{if(!(!k.active||!k.dirty))if(e){const N=k.run();(r||f||(d?N.some((T,w)=>ui(T,A[w])):ui(N,A)))&&(p&&p(),fs(e,l,3,[N,A===Qf?void 0:d&&A[0]===Qf?[]:A,g]),A=N)}else k.run()};S.allowRecurse=!!e;let M;s==="sync"?M=S:s==="post"?M=()=>Er(S,l&&l.suspense):(S.pre=!0,l&&(S.id=l.uid),M=()=>e0(S));const k=new Yy(c,ls,M),O=zy(),x=()=>{k.stop(),O&&By(O.effects,k)};return e?n?S():A=k.run():s==="post"?Er(k.run.bind(k),l&&l.suspense):k.run(),_&&_.push(x),x}function dU(t,e,n){const r=this.proxy,s=Jt(t)?t.includes(".")?wR(r,t):()=>r[t]:t.bind(r,r);let i;Xe(e)?i=e:(i=e.handler,n=e);const o=gf(this),a=Sm(s,i.bind(r),n);return o(),a}function wR(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function po(t,e=1/0,n){if(e<=0||!Rt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,jt(t))po(t.value,e,n);else if(Ve(t))for(let r=0;r<t.length;r++)po(t[r],e,n);else if(Fu(t)||Xl(t))t.forEach(r=>{po(r,e,n)});else if(RP(t)){for(const r in t)po(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&po(t[r],e,n)}return t}const Pm=t=>t.type.__isKeepAlive;function pU(t,e){TR(t,"a",e)}function mU(t,e){TR(t,"da",e)}function TR(t,e,n=Mn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Im(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Pm(s.parent.vnode)&&gU(r,e,n,s),s=s.parent}}function gU(t,e,n,r){const s=Im(e,t,r,!0);Qo(()=>{By(r[e],s)},n)}const uo=Symbol("_leaveCb"),Jf=Symbol("_enterCb");function _U(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zr(()=>{t.isMounted=!0}),mf(()=>{t.isUnmounting=!0}),t}const ns=[Function,Array],ER={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ns,onEnter:ns,onAfterEnter:ns,onEnterCancelled:ns,onBeforeLeave:ns,onLeave:ns,onAfterLeave:ns,onLeaveCancelled:ns,onBeforeAppear:ns,onAppear:ns,onAfterAppear:ns,onAppearCancelled:ns},AR=t=>{const e=t.subTree;return e.component?AR(e.component):e},vU={name:"BaseTransition",props:ER,setup(t,{slots:e}){const n=pl(),r=_U();return()=>{const s=e.default&&SR(e.default(),!0);if(!s||!s.length)return;let i=s[0];if(s.length>1){for(const d of s)if(d.type!==Pr){i=d;break}}const o=_t(t),{mode:a}=o;if(r.isLeaving)return Ig(i);const l=DT(i);if(!l)return Ig(i);let u=q_(l,o,r,n,d=>u=d);pp(l,u);const c=n.subTree,f=c&&DT(c);if(f&&f.type!==Pr&&!ba(l,f)&&AR(n).type!==Pr){const d=q_(f,o,r,n);if(pp(f,d),a==="out-in"&&l.type!==Pr)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Ig(i);a==="in-out"&&l.type!==Pr&&(d.delayLeave=(p,g,_)=>{const A=IR(r,f);A[String(f.key)]=f,p[uo]=()=>{g(),p[uo]=void 0,delete u.delayedLeave},u.delayedLeave=_})}return i}}},yU=vU;function IR(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function q_(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:_,onBeforeAppear:A,onAppear:S,onAfterAppear:M,onAppearCancelled:k}=e,O=String(t.key),x=IR(n,t),N=(b,I)=>{b&&fs(b,r,9,I)},T=(b,I)=>{const P=I[1];N(b,I),Ve(b)?b.every(y=>y.length<=1)&&P():b.length<=1&&P()},w={mode:o,persisted:a,beforeEnter(b){let I=l;if(!n.isMounted)if(i)I=A||l;else return;b[uo]&&b[uo](!0);const P=x[O];P&&ba(t,P)&&P.el[uo]&&P.el[uo](),N(I,[b])},enter(b){let I=u,P=c,y=f;if(!n.isMounted)if(i)I=S||u,P=M||c,y=k||f;else return;let E=!1;const B=b[Jf]=U=>{E||(E=!0,U?N(y,[b]):N(P,[b]),w.delayedLeave&&w.delayedLeave(),b[Jf]=void 0)};I?T(I,[b,B]):B()},leave(b,I){const P=String(t.key);if(b[Jf]&&b[Jf](!0),n.isUnmounting)return I();N(d,[b]);let y=!1;const E=b[uo]=B=>{y||(y=!0,I(),B?N(_,[b]):N(g,[b]),b[uo]=void 0,x[P]===t&&delete x[P])};x[P]=t,p?T(p,[b,E]):E()},clone(b){const I=q_(b,e,n,r,s);return s&&s(I),I}};return w}function Ig(t){if(Pm(t))return t=Uo(t),t.children=null,t}function DT(t){if(!Pm(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Xe(n.default))return n.default()}}function pp(t,e){t.shapeFlag&6&&t.component?pp(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function SR(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ft?(o.patchFlag&128&&s++,r=r.concat(SR(o.children,e,a))):(e||o.type!==Pr)&&r.push(a!=null?Uo(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}const bU=t=>t.__isTeleport,Gc=t=>t&&(t.disabled||t.disabled===""),kT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,OT=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,W_=(t,e)=>{const n=t&&t.to;return Jt(n)?e?e(n):null:n},wU={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:g,createText:_,createComment:A}}=u,S=Gc(e.props);let{shapeFlag:M,children:k,dynamicChildren:O}=e;if(t==null){const x=e.el=_(""),N=e.anchor=_("");p(x,n,r),p(N,n,r);const T=e.target=W_(e.props,g),w=e.targetAnchor=_("");T&&(p(w,T),o==="svg"||kT(T)?o="svg":(o==="mathml"||OT(T))&&(o="mathml"));const b=(I,P)=>{M&16&&c(k,I,P,s,i,o,a,l)};S?b(n,N):T&&b(T,w)}else{e.el=t.el;const x=e.anchor=t.anchor,N=e.target=t.target,T=e.targetAnchor=t.targetAnchor,w=Gc(t.props),b=w?n:N,I=w?x:T;if(o==="svg"||kT(N)?o="svg":(o==="mathml"||OT(N))&&(o="mathml"),O?(d(t.dynamicChildren,O,b,s,i,o,a),i0(t,e,!0)):l||f(t,e,b,I,s,i,o,a,!1),S)w?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Zf(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=W_(e.props,g);P&&Zf(e,P,null,u,0)}else w&&Zf(e,N,T,u,1)}PR(e)},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetAnchor:u,target:c,props:f}=t;if(c&&s(u),i&&s(l),o&16){const d=i||!Gc(f);for(let p=0;p<a.length;p++){const g=a[p];r(g,e,n,d,!!g.dynamicChildren)}}},move:Zf,hydrate:TU};function Zf(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,f=i===2;if(f&&r(o,e,n),(!f||Gc(c))&&l&16)for(let d=0;d<u.length;d++)s(u[d],e,n,2);f&&r(a,e,n)}function TU(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=W_(e.props,l);if(c){const f=c._lpa||c.firstChild;if(e.shapeFlag&16)if(Gc(e.props))e.anchor=u(o(t),e,a(t),n,r,s,i),e.targetAnchor=f;else{e.anchor=o(t);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(f,e,c,n,r,s,i)}PR(e)}return e.anchor&&o(e.anchor)}const EU=wU;function PR(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const ft=Symbol.for("v-fgt"),Rm=Symbol.for("v-txt"),Pr=Symbol.for("v-cmt"),Sg=Symbol.for("v-stc"),Kc=[];let Ps=null;function ie(t=!1){Kc.push(Ps=t?null:[])}function AU(){Kc.pop(),Ps=Kc[Kc.length-1]||null}let Dh=1;function xT(t){Dh+=t}function RR(t){return t.dynamicChildren=Dh>0?Ps||Kl:null,AU(),Dh>0&&Ps&&Ps.push(t),t}function Se(t,e,n,r,s,i){return RR(pe(t,e,n,r,s,i,!0))}function ot(t,e,n,r,s){return RR(ye(t,e,n,r,s,!0))}function mp(t){return t?t.__v_isVNode===!0:!1}function ba(t,e){return t.type===e.type&&t.key===e.key}const CR=({key:t})=>t??null,Rd=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||jt(t)||Xe(t)?{i:In,r:t,k:e,f:!!n}:t:null);function pe(t,e=null,n=null,r=0,s=null,i=t===ft?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&CR(e),ref:e&&Rd(e),scopeId:Am,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:In};return a?(o0(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Jt(n)?8:16),Dh>0&&!o&&Ps&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ps.push(l),l}const ye=IU;function IU(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===oR)&&(t=Pr),mp(t)){const a=Uo(t,e,!0);return n&&o0(a,n),Dh>0&&!i&&Ps&&(a.shapeFlag&6?Ps[Ps.indexOf(t)]=a:Ps.push(a)),a.patchFlag=-2,a}if(xU(t)&&(t=t.__vccOpts),e){e=kh(e);let{class:a,style:l}=e;a&&!Jt(a)&&(e.class=Pt(a)),Rt(l)&&(KP(l)&&!Ve(l)&&(l=dn({},l)),e.style=ti(l))}const o=Jt(t)?1:MF(t)?128:bU(t)?64:Rt(t)?4:Xe(t)?2:0;return pe(t,e,n,r,s,o,i,!0)}function kh(t){return t?KP(t)||dR(t)?dn({},t):t:null}function Uo(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Gr(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&CR(u),ref:e&&e.ref?n&&i?Ve(i)?i.concat(Rd(e)):[i,Rd(e)]:Rd(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Uo(t.ssContent),ssFallback:t.ssFallback&&Uo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&pp(c,l.clone(c)),c}function $n(t=" ",e=0){return ye(Rm,null,t,e)}function rt(t="",e=!1){return e?(ie(),ot(Pr,null,t)):ye(Pr,null,t)}function Hs(t){return t==null||typeof t=="boolean"?ye(Pr):Ve(t)?ye(ft,null,t.slice()):typeof t=="object"?co(t):ye(Rm,null,String(t))}function co(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Uo(t)}function o0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ve(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),o0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!dR(e)?e._ctx=In:s===3&&In&&(In.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Xe(e)?(e={default:e,_ctx:In},n=32):(e=String(e),r&64?(n=16,e=[$n(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gr(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Pt([e.class,r.class]));else if(s==="style")e.style=ti([e.style,r.style]);else if(vm(s)){const i=e[s],o=r[s];o&&i!==o&&!(Ve(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Us(t,e,n,r=null){fs(t,e,7,[n,r])}const SU=cR();let PU=0;function RU(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||SU,i={uid:PU++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new MP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mR(r,s),emitsOptions:iR(r,s),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=PF.bind(null,i),t.ce&&t.ce(i),i}let Mn=null;const pl=()=>Mn||In;let gp,G_;{const t=DP(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};gp=e("__VUE_INSTANCE_SETTERS__",n=>Mn=n),G_=e("__VUE_SSR_SETTERS__",n=>Cm=n)}const gf=t=>{const e=Mn;return gp(t),t.scope.on(),()=>{t.scope.off(),gp(e)}},MT=()=>{Mn&&Mn.scope.off(),gp(null)};function DR(t){return t.vnode.shapeFlag&4}let Cm=!1;function CU(t,e=!1){e&&G_(e);const{props:n,children:r}=t.vnode,s=DR(t);tU(t,n,s,e),sU(t,r);const i=s?DU(t,e):void 0;return e&&G_(!1),i}function DU(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zF);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?OR(t):null,i=gf(t);Ko();const o=Oo(r,t,0,[t.props,s]);if(Xo(),i(),SP(o)){if(o.then(MT,MT),e)return o.then(a=>{NT(t,a,e)}).catch(a=>{Tm(a,t,0)});t.asyncDep=o}else NT(t,o,e)}else kR(t,e)}function NT(t,e,n){Xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Rt(e)&&(t.setupState=JP(e)),kR(t,n)}let LT;function kR(t,e,n){const r=t.type;if(!t.render){if(!e&&LT&&!r.render){const s=r.template||r0(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=dn(dn({isCustomElement:i,delimiters:a},o),l);r.render=LT(s,u)}}t.render=r.render||ls}{const s=gf(t);Ko();try{WF(t)}finally{Xo(),s()}}}const kU={get(t,e){return Lr(t,"get",""),t[e]}};function OR(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,kU),slots:t.slots,emit:t.emit,expose:e}}function Dm(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(JP(xa(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Wc)return Wc[n](t)},has(e,n){return n in e||n in Wc}})):t.proxy}function OU(t,e=!0){return Xe(t)?t.displayName||t.name:t.name||e&&t.__name}function xU(t){return Xe(t)&&"__vccOpts"in t}const X=(t,e)=>pF(t,e,Cm);function xR(t,e,n=Nt){const r=pl(),s=ks(e),i=Go(e),o=yF((l,u)=>{let c;return fU(()=>{const f=t[e];ui(c,f)&&(c=f,u())}),{get(){return l(),n.get?n.get(c):c},set(f){const d=r.vnode.props;!(d&&(e in d||s in d||i in d)&&(`onUpdate:${e}`in d||`onUpdate:${s}`in d||`onUpdate:${i}`in d))&&ui(f,c)&&(c=f,u()),r.emit(`update:${e}`,n.set?n.set(f):f)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function a0(t,e,n){const r=arguments.length;return r===2?Rt(e)&&!Ve(e)?mp(e)?ye(t,null,[e]):ye(t,e):ye(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&mp(n)&&(n=[n]),ye(t,e,n))}const MU="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const NU="http://www.w3.org/2000/svg",LU="http://www.w3.org/1998/Math/MathML",bi=typeof document<"u"?document:null,$T=bi&&bi.createElement("template"),$U={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?bi.createElementNS(NU,t):e==="mathml"?bi.createElementNS(LU,t):n?bi.createElement(t,{is:n}):bi.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>bi.createTextNode(t),createComment:t=>bi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{$T.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=$T.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},eo="transition",ac="animation",Oh=Symbol("_vtc"),Bo=(t,{slots:e})=>a0(yU,VU(t),e);Bo.displayName="Transition";const MR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Bo.props=dn({},ER,MR);const ua=(t,e=[])=>{Ve(t)?t.forEach(n=>n(...e)):t&&t(...e)},VT=t=>t?Ve(t)?t.some(e=>e.length>1):t.length>1:!1;function VU(t){const e={};for(const y in t)y in MR||(e[y]=t[y]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=FU(s),_=g&&g[0],A=g&&g[1],{onBeforeEnter:S,onEnter:M,onEnterCancelled:k,onLeave:O,onLeaveCancelled:x,onBeforeAppear:N=S,onAppear:T=M,onAppearCancelled:w=k}=e,b=(y,E,B)=>{ca(y,E?c:a),ca(y,E?u:o),B&&B()},I=(y,E)=>{y._isLeaving=!1,ca(y,f),ca(y,p),ca(y,d),E&&E()},P=y=>(E,B)=>{const U=y?T:M,F=()=>b(E,y,B);ua(U,[E,F]),FT(()=>{ca(E,y?l:i),to(E,y?c:a),VT(U)||UT(E,r,_,F)})};return dn(e,{onBeforeEnter(y){ua(S,[y]),to(y,i),to(y,o)},onBeforeAppear(y){ua(N,[y]),to(y,l),to(y,u)},onEnter:P(!1),onAppear:P(!0),onLeave(y,E){y._isLeaving=!0;const B=()=>I(y,E);to(y,f),to(y,d),jU(),FT(()=>{y._isLeaving&&(ca(y,f),to(y,p),VT(O)||UT(y,r,A,B))}),ua(O,[y,B])},onEnterCancelled(y){b(y,!1),ua(k,[y])},onAppearCancelled(y){b(y,!0),ua(w,[y])},onLeaveCancelled(y){I(y),ua(x,[y])}})}function FU(t){if(t==null)return null;if(Rt(t))return[Pg(t.enter),Pg(t.leave)];{const e=Pg(t);return[e,e]}}function Pg(t){return FV(t)}function to(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Oh]||(t[Oh]=new Set)).add(e)}function ca(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Oh];n&&(n.delete(e),n.size||(t[Oh]=void 0))}function FT(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let UU=0;function UT(t,e,n,r){const s=t._endId=++UU,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=BU(t,e);if(!o)return r();const u=o+"end";let c=0;const f=()=>{t.removeEventListener(u,d),i()},d=p=>{p.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),t.addEventListener(u,d)}function BU(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),s=r(`${eo}Delay`),i=r(`${eo}Duration`),o=BT(s,i),a=r(`${ac}Delay`),l=r(`${ac}Duration`),u=BT(a,l);let c=null,f=0,d=0;e===eo?o>0&&(c=eo,f=o,d=i.length):e===ac?u>0&&(c=ac,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?eo:ac:null,d=c?c===eo?i.length:l.length:0);const p=c===eo&&/\b(transform|all)(,|$)/.test(r(`${eo}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:p}}function BT(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>jT(n)+jT(t[r])))}function jT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function jU(){return document.body.offsetHeight}function HU(t,e,n){const r=t[Oh];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _p=Symbol("_vod"),NR=Symbol("_vsh"),Is={beforeMount(t,{value:e},{transition:n}){t[_p]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):lc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),lc(t,!0),r.enter(t)):r.leave(t,()=>{lc(t,!1)}):lc(t,e))},beforeUnmount(t,{value:e}){lc(t,e)}};function lc(t,e){t.style.display=e?t[_p]:"none",t[NR]=!e}const zU=Symbol(""),YU=/(^|;)\s*display\s*:/;function qU(t,e,n){const r=t.style,s=Jt(n);let i=!1;if(n&&!s){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Cd(r,a,"")}else for(const o in e)n[o]==null&&Cd(r,o,"");for(const o in n)o==="display"&&(i=!0),Cd(r,o,n[o])}else if(s){if(e!==n){const o=r[zU];o&&(n+=";"+o),r.cssText=n,i=YU.test(n)}}else e&&t.removeAttribute("style");_p in t&&(t[_p]=i?r.display:"",t[NR]&&(r.display="none"))}const HT=/\s*!important$/;function Cd(t,e,n){if(Ve(n))n.forEach(r=>Cd(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=WU(t,e);HT.test(n)?t.setProperty(Go(r),n.replace(HT,""),"important"):t[r]=n}}const zT=["Webkit","Moz","ms"],Rg={};function WU(t,e){const n=Rg[e];if(n)return n;let r=ks(e);if(r!=="filter"&&r in t)return Rg[e]=r;r=bm(r);for(let s=0;s<zT.length;s++){const i=zT[s]+r;if(i in t)return Rg[e]=i}return e}const YT="http://www.w3.org/1999/xlink";function qT(t,e,n,r,s,i=YV(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(YT,e.slice(6,e.length)):t.setAttributeNS(YT,e,n):n==null||i&&!kP(n)?t.removeAttribute(e):t.setAttribute(e,i?"":li(n)?String(n):n)}function GU(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?"":String(n);(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=kP(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ei(t,e,n,r){t.addEventListener(e,n,r)}function KU(t,e,n,r){t.removeEventListener(e,n,r)}const WT=Symbol("_vei");function XU(t,e,n,r,s=null){const i=t[WT]||(t[WT]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=QU(e);if(r){const u=i[e]=eB(r,s);Ei(t,a,u,l)}else o&&(KU(t,a,o,l),i[e]=void 0)}}const GT=/(?:Once|Passive|Capture)$/;function QU(t){let e;if(GT.test(t)){e={};let r;for(;r=t.match(GT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Go(t.slice(2)),e]}let Cg=0;const JU=Promise.resolve(),ZU=()=>Cg||(JU.then(()=>Cg=0),Cg=Date.now());function eB(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fs(tB(r,n.value),e,5,[r])};return n.value=t,n.attached=ZU(),n}function tB(t,e){if(Ve(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const KT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,nB=(t,e,n,r,s,i,o,a,l)=>{const u=s==="svg";e==="class"?HU(t,r,u):e==="style"?qU(t,n,r):vm(e)?Uy(e)||XU(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):rB(t,e,r,u))?(GU(t,e,r,i,o,a,l),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&qT(t,e,r,u,o,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),qT(t,e,r,u))};function rB(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&KT(e)&&Xe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return KT(e)&&Jt(n)?!1:e in t}const jo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ve(e)?n=>Pd(e,n):e};function sB(t){t.target.composing=!0}function XT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ds=Symbol("_assign"),QT={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[ds]=jo(s);const i=r||s.props&&s.props.type==="number";Ei(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=lp(a)),t[ds](a)}),n&&Ei(t,"change",()=>{t.value=t.value.trim()}),e||(Ei(t,"compositionstart",sB),Ei(t,"compositionend",XT),Ei(t,"change",XT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[ds]=jo(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?lp(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},iB={deep:!0,created(t,e,n){t[ds]=jo(n),Ei(t,"change",()=>{const r=t._modelValue,s=_u(t),i=t.checked,o=t[ds];if(Ve(r)){const a=Hy(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Fu(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(LR(t,i))})},mounted:JT,beforeUpdate(t,e,n){t[ds]=jo(n),JT(t,e,n)}};function JT(t,{value:e,oldValue:n},r){t._modelValue=e,Ve(e)?t.checked=Hy(e,r.props.value)>-1:Fu(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Ja(e,LR(t,!0)))}const oB={created(t,{value:e},n){t.checked=Ja(e,n.props.value),t[ds]=jo(n),Ei(t,"change",()=>{t[ds](_u(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ds]=jo(r),e!==n&&(t.checked=Ja(e,r.props.value))}},aB={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Fu(e);Ei(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?lp(_u(o)):_u(o));t[ds](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,An(()=>{t._assigning=!1})}),t[ds]=jo(r)},mounted(t,{value:e,modifiers:{number:n}}){ZT(t,e)},beforeUpdate(t,e,n){t[ds]=jo(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||ZT(t,e)}};function ZT(t,e,n){const r=t.multiple,s=Ve(e);if(!(r&&!s&&!Fu(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],l=_u(a);if(r)if(s){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=Hy(e,l)>-1}else a.selected=e.has(l);else if(Ja(_u(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function _u(t){return"_value"in t?t._value:t.value}function LR(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const lB={created(t,e,n){ed(t,e,n,null,"created")},mounted(t,e,n){ed(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){ed(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){ed(t,e,n,r,"updated")}};function uB(t,e){switch(t){case"SELECT":return aB;case"TEXTAREA":return QT;default:switch(e){case"checkbox":return iB;case"radio":return oB;default:return QT}}}function ed(t,e,n,r,s){const o=uB(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}const cB=["ctrl","shift","alt","meta"],hB={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cB.some(n=>t[`${n}Key`]&&!e.includes(n))},nn=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=hB[e[o]];if(a&&a(s,e))return}return t(s,...i)})},fB={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ur=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Go(s.key);if(e.some(o=>o===i||fB[o]===i))return t(s)})},dB=dn({patchProp:nB},$U);let eE;function pB(){return eE||(eE=oU(dB))}const mB=(...t)=>{const e=pB().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=_B(r);if(!s)return;const i=e._component;!Xe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,gB(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function gB(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _B(t){return Jt(t)?document.querySelector(t):t}var vB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let $R;const km=t=>$R=t,VR=Symbol();function K_(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xc||(Xc={}));function yB(){const t=NP(!0),e=t.run(()=>xe({}));let n=[],r=[];const s=xa({install(i){km(s),s._a=i,i.provide(VR,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!vB?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const FR=()=>{};function tE(t,e,n,r=FR){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&zy()&&LP(s),s}function Rl(t,...e){t.slice().forEach(n=>{n(...e)})}const bB=t=>t();function X_(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];K_(s)&&K_(r)&&t.hasOwnProperty(n)&&!jt(r)&&!Oa(r)?t[n]=X_(s,r):t[n]=r}return t}const wB=Symbol();function TB(t){return!K_(t)||!t.hasOwnProperty(wB)}const{assign:oo}=Object;function EB(t){return!!(jt(t)&&t.effect)}function AB(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=s?s():{});const c=ZP(n.state.value[t]);return oo(c,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=xa(X(()=>{km(n);const p=n._s.get(t);return o[d].call(p,p)})),f),{}))}return l=UR(t,u,e,n,r,!0),l}function UR(t,e,n={},r,s,i){let o;const a=oo({actions:{}},n),l={deep:!0};let u,c,f=[],d=[],p;const g=r.state.value[t];!i&&!g&&(r.state.value[t]={}),xe({});let _;function A(w){let b;u=c=!1,typeof w=="function"?(w(r.state.value[t]),b={type:Xc.patchFunction,storeId:t,events:p}):(X_(r.state.value[t],w),b={type:Xc.patchObject,payload:w,storeId:t,events:p});const I=_=Symbol();An().then(()=>{_===I&&(u=!0)}),c=!0,Rl(f,b,r.state.value[t])}const S=i?function(){const{state:b}=n,I=b?b():{};this.$patch(P=>{oo(P,I)})}:FR;function M(){o.stop(),f=[],d=[],r._s.delete(t)}function k(w,b){return function(){km(r);const I=Array.from(arguments),P=[],y=[];function E(F){P.push(F)}function B(F){y.push(F)}Rl(d,{args:I,name:w,store:x,after:E,onError:B});let U;try{U=b.apply(this&&this.$id===t?this:x,I)}catch(F){throw Rl(y,F),F}return U instanceof Promise?U.then(F=>(Rl(P,F),F)).catch(F=>(Rl(y,F),Promise.reject(F))):(Rl(P,U),U)}}const O={_p:r,$id:t,$onAction:tE.bind(null,d),$patch:A,$reset:S,$subscribe(w,b={}){const I=tE(f,w,b.detached,()=>P()),P=o.run(()=>lt(()=>r.state.value[t],y=>{(b.flush==="sync"?c:u)&&w({storeId:t,type:Xc.direct,events:p},y)},oo({},l,b)));return I},$dispose:M},x=wr(O);r._s.set(t,x);const T=(r._a&&r._a.runWithContext||bB)(()=>r._e.run(()=>(o=NP()).run(e)));for(const w in T){const b=T[w];if(jt(b)&&!EB(b)||Oa(b))i||(g&&TB(b)&&(jt(b)?b.value=g[w]:X_(b,g[w])),r.state.value[t][w]=b);else if(typeof b=="function"){const I=k(w,b);T[w]=I,a.actions[w]=b}}return oo(x,T),oo(_t(x),T),Object.defineProperty(x,"$state",{get:()=>r.state.value[t],set:w=>{A(b=>{oo(b,w)})}}),r._p.forEach(w=>{oo(x,o.run(()=>w({store:x,app:r._a,pinia:r,options:a})))}),g&&i&&n.hydrate&&n.hydrate(x.$state,g),u=!0,c=!0,x}function BR(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,l){const u=eU();return a=a||(u?Ln(VR,null):null),a&&km(a),a=$R,a._s.has(r)||(i?UR(r,e,s,a):AB(r,s,a)),a._s.get(r)}return o.$id=r,o}function l0(t){return zy()?(LP(t),!0):!1}function u0(t){return typeof t=="function"?t():K(t)}const jR=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const IB=t=>t!=null,SB=Object.prototype.toString,PB=t=>SB.call(t)==="[object Object]",Na=()=>{},RB=CB();function CB(){var t,e;return jR&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function DB(t){return pl()}function kB(t,e){DB()&&Qo(t,e)}function Ii(t){var e;const n=u0(t);return(e=n==null?void 0:n.$el)!=null?e:n}const c0=jR?window:void 0;function Es(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=c0):[e,n,r,s]=t,!e)return Na;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},a=(c,f,d,p)=>(c.addEventListener(f,d,p),()=>c.removeEventListener(f,d,p)),l=lt(()=>[Ii(e),u0(s)],([c,f])=>{if(o(),!c)return;const d=PB(f)?{...f}:f;i.push(...n.flatMap(p=>r.map(g=>a(c,p,g,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return l0(u),u}let nE=!1;function OB(t,e,n={}){const{window:r=c0,ignore:s=[],capture:i=!0,detectIframe:o=!1}=n;if(!r)return Na;RB&&!nE&&(nE=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",Na)),r.document.documentElement.addEventListener("click",Na));let a=!0;const l=d=>s.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(g=>g===d.target||d.composedPath().includes(g));{const g=Ii(p);return g&&(d.target===g||d.composedPath().includes(g))}}),c=[Es(r,"click",d=>{const p=Ii(t);if(!(!p||p===d.target||d.composedPath().includes(p))){if(d.detail===0&&(a=!l(d)),!a){a=!0;return}e(d)}},{passive:!0,capture:i}),Es(r,"pointerdown",d=>{const p=Ii(t);a=!l(d)&&!!(p&&!d.composedPath().includes(p))},{passive:!0}),o&&Es(r,"blur",d=>{setTimeout(()=>{var p;const g=Ii(t);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(g!=null&&g.contains(r.document.activeElement))&&e(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}function xB(){const t=xe(!1),e=pl();return e&&Zr(()=>{t.value=!0},e),t}function MB(t){const e=xB();return X(()=>(e.value,!!t()))}function Aae(t,e,n={}){const{root:r,rootMargin:s="0px",threshold:i=.1,window:o=c0,immediate:a=!0}=n,l=MB(()=>o&&"IntersectionObserver"in o),u=X(()=>{const g=u0(t);return(Array.isArray(g)?g:[g]).map(Ii).filter(IB)});let c=Na;const f=xe(a),d=l.value?lt(()=>[u.value,Ii(r),f.value],([g,_])=>{if(c(),!f.value||!g.length)return;const A=new IntersectionObserver(e,{root:Ii(_),rootMargin:s,threshold:i});g.forEach(S=>S&&A.observe(S)),c=()=>{A.disconnect(),c=Na}},{immediate:a,flush:"post"}):Na,p=()=>{c(),d(),f.value=!1};return l0(p),{isSupported:l,isActive:f,pause(){c(),f.value=!1},resume(){f.value=!0},stop:p}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var HR=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],vp=HR.join(","),zR=typeof Element>"u",Za=zR?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,yp=!zR&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},bp=function t(e,n){var r;n===void 0&&(n=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=s===""||s==="true",o=i||n&&e&&t(e.parentNode);return o},NB=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},YR=function(e,n,r){if(bp(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(vp));return n&&Za.call(e,vp)&&s.unshift(e),s=s.filter(r),s},qR=function t(e,n,r){for(var s=[],i=Array.from(e);i.length;){var o=i.shift();if(!bp(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=t(l,!0,r);r.flatten?s.push.apply(s,u):s.push({scopeParent:o,candidates:u})}else{var c=Za.call(o,vp);c&&r.filter(o)&&(n||!e.includes(o))&&s.push(o);var f=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),d=!bp(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(f&&d){var p=t(f===!0?o.children:f.children,!0,r);r.flatten?s.push.apply(s,p):s.push({scopeParent:o,candidates:p})}else i.unshift.apply(i,o.children)}}return s},WR=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},wa=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||NB(e))&&!WR(e)?0:e.tabIndex},LB=function(e,n){var r=wa(e);return r<0&&n&&!WR(e)?0:r},$B=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},GR=function(e){return e.tagName==="INPUT"},VB=function(e){return GR(e)&&e.type==="hidden"},FB=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},UB=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},BB=function(e){if(!e.name)return!0;var n=e.form||yp(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=UB(s,e.form);return!i||i===e},jB=function(e){return GR(e)&&e.type==="radio"},HB=function(e){return jB(e)&&!BB(e)},zB=function(e){var n,r=e&&yp(e),s=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==e){var o,a,l;for(i=!!((o=s)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(s)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&s;){var u,c,f;r=yp(s),s=(u=r)===null||u===void 0?void 0:u.host,i=!!((c=s)!==null&&c!==void 0&&(f=c.ownerDocument)!==null&&f!==void 0&&f.contains(s))}}return i},rE=function(e){var n=e.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},YB=function(e,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=Za.call(e,"details>summary:first-of-type"),o=i?e.parentElement:e;if(Za.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var l=e.parentElement,u=yp(e);if(l&&!l.shadowRoot&&s(l)===!0)return rE(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(zB(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return rE(e);return!1},qB=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Za.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},wp=function(e,n){return!(n.disabled||bp(n)||VB(n)||YB(n,e)||FB(n)||qB(n))},Q_=function(e,n){return!(HB(n)||wa(n)<0||!wp(e,n))},WB=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},GB=function t(e){var n=[],r=[];return e.forEach(function(s,i){var o=!!s.scopeParent,a=o?s.scopeParent:s,l=LB(a,o),u=o?t(s.candidates):a;l===0?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:l,item:s,isScope:o,content:u})}),r.sort($B).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(n)},KB=function(e,n){n=n||{};var r;return n.getShadowRoot?r=qR([e],n.includeContainer,{filter:Q_.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:WB}):r=YR(e,n.includeContainer,Q_.bind(null,n)),GB(r)},XB=function(e,n){n=n||{};var r;return n.getShadowRoot?r=qR([e],n.includeContainer,{filter:wp.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=YR(e,n.includeContainer,wp.bind(null,n)),r},Cl=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Za.call(e,vp)===!1?!1:Q_(n,e)},QB=HR.concat("iframe").join(","),Dg=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Za.call(e,QB)===!1?!1:wp(n,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function iE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){JB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JB(t,e,n){return e=e4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZB(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e4(t){var e=ZB(t,"string");return typeof e=="symbol"?e:String(e)}var oE={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var s=e.indexOf(n);s===-1||e.splice(s,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},t4=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},n4=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},Qc=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},r4=function(e){return Qc(e)&&!e.shiftKey},s4=function(e){return Qc(e)&&e.shiftKey},aE=function(e){return setTimeout(e,0)},lE=function(e,n){var r=-1;return e.every(function(s,i){return n(s)?(r=i,!1):!0}),r},uc=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return typeof e=="function"?e.apply(void 0,r):e},td=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},i4=[],o4=function(e,n){var r=(n==null?void 0:n.document)||document,s=(n==null?void 0:n.trapStack)||i4,i=iE({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:r4,isKeyBackward:s4},n),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(y,E,B){return y&&y[E]!==void 0?y[E]:i[B||E]},u=function(y,E){var B=typeof(E==null?void 0:E.composedPath)=="function"?E.composedPath():void 0;return o.containerGroups.findIndex(function(U){var F=U.container,j=U.tabbableNodes;return F.contains(y)||(B==null?void 0:B.includes(F))||j.find(function(H){return H===y})})},c=function(y){var E=i[y];if(typeof E=="function"){for(var B=arguments.length,U=new Array(B>1?B-1:0),F=1;F<B;F++)U[F-1]=arguments[F];E=E.apply(void 0,U)}if(E===!0&&(E=void 0),!E){if(E===void 0||E===!1)return E;throw new Error("`".concat(y,"` was specified but was not a node, or did not return a node"))}var j=E;if(typeof E=="string"&&(j=r.querySelector(E),!j))throw new Error("`".concat(y,"` as selector refers to no known node"));return j},f=function(){var y=c("initialFocus");if(y===!1)return!1;if(y===void 0||!Dg(y,i.tabbableOptions))if(u(r.activeElement)>=0)y=r.activeElement;else{var E=o.tabbableGroups[0],B=E&&E.firstTabbableNode;y=B||c("fallbackFocus")}if(!y)throw new Error("Your focus-trap needs to have at least one focusable element");return y},d=function(){if(o.containerGroups=o.containers.map(function(y){var E=KB(y,i.tabbableOptions),B=XB(y,i.tabbableOptions),U=E.length>0?E[0]:void 0,F=E.length>0?E[E.length-1]:void 0,j=B.find(function(R){return Cl(R)}),H=B.slice().reverse().find(function(R){return Cl(R)}),ee=!!E.find(function(R){return wa(R)>0});return{container:y,tabbableNodes:E,focusableNodes:B,posTabIndexesFound:ee,firstTabbableNode:U,lastTabbableNode:F,firstDomTabbableNode:j,lastDomTabbableNode:H,nextTabbableNode:function(ue){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ve=E.indexOf(ue);return ve<0?te?B.slice(B.indexOf(ue)+1).find(function(ge){return Cl(ge)}):B.slice(0,B.indexOf(ue)).reverse().find(function(ge){return Cl(ge)}):E[ve+(te?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(y){return y.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(y){return y.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function P(y){var E=y.activeElement;if(E)return E.shadowRoot&&E.shadowRoot.activeElement!==null?P(E.shadowRoot):E},g=function P(y){if(y!==!1&&y!==p(document)){if(!y||!y.focus){P(f());return}y.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=y,t4(y)&&y.select()}},_=function(y){var E=c("setReturnFocus",y);return E||(E===!1?!1:y)},A=function(y){var E=y.target,B=y.event,U=y.isBackward,F=U===void 0?!1:U;E=E||td(B),d();var j=null;if(o.tabbableGroups.length>0){var H=u(E,B),ee=H>=0?o.containerGroups[H]:void 0;if(H<0)F?j=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:j=o.tabbableGroups[0].firstTabbableNode;else if(F){var R=lE(o.tabbableGroups,function(De){var z=De.firstTabbableNode;return E===z});if(R<0&&(ee.container===E||Dg(E,i.tabbableOptions)&&!Cl(E,i.tabbableOptions)&&!ee.nextTabbableNode(E,!1))&&(R=H),R>=0){var ue=R===0?o.tabbableGroups.length-1:R-1,te=o.tabbableGroups[ue];j=wa(E)>=0?te.lastTabbableNode:te.lastDomTabbableNode}else Qc(B)||(j=ee.nextTabbableNode(E,!1))}else{var ve=lE(o.tabbableGroups,function(De){var z=De.lastTabbableNode;return E===z});if(ve<0&&(ee.container===E||Dg(E,i.tabbableOptions)&&!Cl(E,i.tabbableOptions)&&!ee.nextTabbableNode(E))&&(ve=H),ve>=0){var ge=ve===o.tabbableGroups.length-1?0:ve+1,Ce=o.tabbableGroups[ge];j=wa(E)>=0?Ce.firstTabbableNode:Ce.firstDomTabbableNode}else Qc(B)||(j=ee.nextTabbableNode(E))}}else j=c("fallbackFocus");return j},S=function(y){var E=td(y);if(!(u(E,y)>=0)){if(uc(i.clickOutsideDeactivates,y)){a.deactivate({returnFocus:i.returnFocusOnDeactivate});return}uc(i.allowOutsideClick,y)||y.preventDefault()}},M=function(y){var E=td(y),B=u(E,y)>=0;if(B||E instanceof Document)B&&(o.mostRecentlyFocusedNode=E);else{y.stopImmediatePropagation();var U,F=!0;if(o.mostRecentlyFocusedNode)if(wa(o.mostRecentlyFocusedNode)>0){var j=u(o.mostRecentlyFocusedNode),H=o.containerGroups[j].tabbableNodes;if(H.length>0){var ee=H.findIndex(function(R){return R===o.mostRecentlyFocusedNode});ee>=0&&(i.isKeyForward(o.recentNavEvent)?ee+1<H.length&&(U=H[ee+1],F=!1):ee-1>=0&&(U=H[ee-1],F=!1))}}else o.containerGroups.some(function(R){return R.tabbableNodes.some(function(ue){return wa(ue)>0})})||(F=!1);else F=!1;F&&(U=A({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),g(U||o.mostRecentlyFocusedNode||f())}o.recentNavEvent=void 0},k=function(y){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=y;var B=A({event:y,isBackward:E});B&&(Qc(y)&&y.preventDefault(),g(B))},O=function(y){if(n4(y)&&uc(i.escapeDeactivates,y)!==!1){y.preventDefault(),a.deactivate();return}(i.isKeyForward(y)||i.isKeyBackward(y))&&k(y,i.isKeyBackward(y))},x=function(y){var E=td(y);u(E,y)>=0||uc(i.clickOutsideDeactivates,y)||uc(i.allowOutsideClick,y)||(y.preventDefault(),y.stopImmediatePropagation())},N=function(){if(o.active)return oE.activateTrap(s,a),o.delayInitialFocusTimer=i.delayInitialFocus?aE(function(){g(f())}):g(f()),r.addEventListener("focusin",M,!0),r.addEventListener("mousedown",S,{capture:!0,passive:!1}),r.addEventListener("touchstart",S,{capture:!0,passive:!1}),r.addEventListener("click",x,{capture:!0,passive:!1}),r.addEventListener("keydown",O,{capture:!0,passive:!1}),a},T=function(){if(o.active)return r.removeEventListener("focusin",M,!0),r.removeEventListener("mousedown",S,!0),r.removeEventListener("touchstart",S,!0),r.removeEventListener("click",x,!0),r.removeEventListener("keydown",O,!0),a},w=function(y){var E=y.some(function(B){var U=Array.from(B.removedNodes);return U.some(function(F){return F===o.mostRecentlyFocusedNode})});E&&g(f())},b=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(w):void 0,I=function(){b&&(b.disconnect(),o.active&&!o.paused&&o.containers.map(function(y){b.observe(y,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(y){if(o.active)return this;var E=l(y,"onActivate"),B=l(y,"onPostActivate"),U=l(y,"checkCanFocusTrap");U||d(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,E==null||E();var F=function(){U&&d(),N(),I(),B==null||B()};return U?(U(o.containers.concat()).then(F,F),this):(F(),this)},deactivate:function(y){if(!o.active)return this;var E=iE({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},y);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,T(),o.active=!1,o.paused=!1,I(),oE.deactivateTrap(s,a);var B=l(E,"onDeactivate"),U=l(E,"onPostDeactivate"),F=l(E,"checkCanReturnFocus"),j=l(E,"returnFocus","returnFocusOnDeactivate");B==null||B();var H=function(){aE(function(){j&&g(_(o.nodeFocusedBeforeActivation)),U==null||U()})};return j&&F?(F(_(o.nodeFocusedBeforeActivation)).then(H,H),this):(H(),this)},pause:function(y){if(o.paused||!o.active)return this;var E=l(y,"onPause"),B=l(y,"onPostPause");return o.paused=!0,E==null||E(),T(),I(),B==null||B(),this},unpause:function(y){if(!o.paused||!o.active)return this;var E=l(y,"onUnpause"),B=l(y,"onPostUnpause");return o.paused=!1,E==null||E(),d(),N(),I(),B==null||B(),this},updateContainerElements:function(y){var E=[].concat(y).filter(Boolean);return o.containers=E.map(function(B){return typeof B=="string"?r.querySelector(B):B}),o.active&&d(),I(),this}},a.updateContainerElements(e),a};function a4(t,e={}){let n;const{immediate:r,...s}=e,i=xe(!1),o=xe(!1),a=f=>n&&n.activate(f),l=f=>n&&n.deactivate(f),u=()=>{n&&(n.pause(),o.value=!0)},c=()=>{n&&(n.unpause(),o.value=!1)};return lt(()=>Ii(t),f=>{f&&(n=o4(f,{...s,onActivate(){i.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){i.value=!1,e.onDeactivate&&e.onDeactivate()}}),r&&a())},{flush:"post"}),l0(()=>l()),{hasFocus:i,isPaused:o,activate:a,deactivate:l,pause:u,unpause:c}}const l4=t=>(...e)=>{t&&(t==null||t(...e),t=null)},xh=()=>{};function nd(t,e,n){return t>n?n:t<e?e:t}const h0=t=>typeof t=="string";function kg(t,e){var n;const r=((n=Pc(t,e))==null?void 0:n[0])||e;t.push(r)}function Pc(t,e){const n=t.indexOf(e);if(n!==-1)return t.splice(n,1)}function KR(t){return Object.entries(t)}const u4={teleportTo:{type:[String,null,Boolean,Object],default:"body"},modalId:{type:[String,Number,Symbol],default:void 0},modelValue:{type:Boolean,default:void 0},displayDirective:{type:String,default:"if",validator:t=>["if","show","visible"].includes(t)},hideOverlay:{type:Boolean,default:void 0},overlayBehavior:{type:String,default:"auto",validator:t=>["auto","persist"].includes(t)},overlayTransition:{type:[String,Object],default:void 0},contentTransition:{type:[String,Object],default:void 0},overlayClass:{type:void 0,default:void 0},contentClass:{type:void 0,default:void 0},overlayStyle:{type:[String,Object,Array],default:void 0},contentStyle:{type:[String,Object,Array],default:void 0},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!0},background:{type:String,default:"non-interactive",validator:t=>["interactive","non-interactive"].includes(t)},focusTrap:{type:[Boolean,Object],default:()=>({allowOutsideClick:!0})},lockScroll:{type:Boolean,default:!0},reserveScrollBarGap:{type:Boolean,default:!0},zIndexFn:{type:Function,default:({index:t})=>1e3+2*t},swipeToClose:{type:String,default:"none",validator:t=>["none","up","right","down","left"].includes(t)},threshold:{type:Number,default:0},showSwipeBanner:{type:Boolean,default:void 0},preventNavigationGestures:{type:Boolean,default:void 0}};function uE(t=!1){const e=xe(t),n=xe(e.value?0:void 0);return[e,n,{beforeEnter(){n.value=1},afterEnter(){n.value=0},beforeLeave(){n.value=3},afterLeave(){n.value=2}}]}function c4(t,e){const{modelValueLocal:n,onEntering:r,onEnter:s,onLeaving:i,onLeave:o}=e,a=xe(n.value),[l,u,c]=uE(a.value),[f,d,p]=uE(a.value),g=X(()=>typeof t.contentTransition=="string"?{name:t.contentTransition,appear:!0}:{appear:!0,...t.contentTransition}),_=X(()=>typeof t.overlayTransition=="string"?{name:t.overlayTransition,appear:!0}:{appear:!0,...t.overlayTransition}),A=X(()=>(t.hideOverlay||d.value===2)&&u.value===2);lt(A,k=>{k&&(a.value=!1)}),lt(u,k=>{if(k===1){if(!a.value)return;r==null||r()}else if(k===0){if(!a.value)return;s==null||s()}else k===3?i==null||i():k===2&&(o==null||o())});async function S(){a.value=!0,await An(),l.value=!0,f.value=!0}function M(){l.value=!1,f.value=!1}return{visible:a,contentVisible:l,contentListeners:c,contentTransition:g,overlayVisible:f,overlayListeners:p,overlayTransition:_,enterTransition:S,leaveTransition:M}}function h4(t,e,n){const{vfmRootEl:r,vfmContentEl:s,visible:i,modelValueLocal:o}=n,a=xe();function l(){i.value&&t.escToClose&&(o.value=!1)}function u(f){a.value=f==null?void 0:f.target}function c(){var f;a.value===r.value&&(t.clickToClose?o.value=!1:((f=s.value)==null||f.focus(),e("clickOutside")))}return{onEsc:l,onMouseupRoot:c,onMousedown:u}}function f4(t,e,n){let r=!1;const{open:s,close:i}=n,o=xe(!1),a={get value(){return o.value},set value(u){l(u)}};function l(u){(u?s():i())?(o.value=u,u!==t.modelValue&&e("update:modelValue",u)):(r=!0,e("update:modelValue",!u),An(()=>{r=!1}))}return lt(()=>t.modelValue,u=>{r||(a.value=!!u)}),{modelValueLocal:a}}function d4(t,e){if(t.focusTrap===!1)return{focus(){},blur(){}};const{focusEl:n}=e,{hasFocus:r,activate:s,deactivate:i}=a4(n,t.focusTrap);function o(){requestAnimationFrame(()=>{s()})}function a(){r.value&&i()}return{focus:o,blur:a}}let f0=!1;if(typeof window<"u"){const t={get passive(){f0=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const XR=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let To=[],Tp=!1,Dd=0,QR=-1,Jc,Zc;const p4=t=>{if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},m4=(t,e)=>!(t.scrollTop===0&&e<0||t.scrollTop+t.clientHeight+e>=t.scrollHeight&&e>0),g4=t=>{const e=[];for(;t;){if(e.push(t),t.classList.contains("vfm"))return e;t=t.parentElement}return e},_4=(t,e)=>{let n=!1;return g4(t).forEach(r=>{p4(r)&&m4(r,e)&&(n=!0)}),n},JR=t=>To.some(()=>_4(t,-Dd)),d0=t=>{const e=t||window.event;return JR(e.target)||e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)},v4=t=>{if(Zc===void 0){const e=!!t&&t.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(e&&n>0){const r=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Zc=document.body.style.paddingRight,document.body.style.paddingRight=`${r+n}px`}}Jc===void 0&&(Jc=document.body.style.overflow,document.body.style.overflow="hidden")},y4=()=>{Zc!==void 0&&(document.body.style.paddingRight=Zc,Zc=void 0),Jc!==void 0&&(document.body.style.overflow=Jc,Jc=void 0)},b4=t=>t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1,w4=(t,e)=>(Dd=t.targetTouches[0].clientY-QR,JR(t.target)?!1:e&&e.scrollTop===0&&Dd>0||b4(e)&&Dd<0?d0(t):(t.stopPropagation(),!0)),T4=(t,e)=>{if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(To.some(r=>r.targetElement===t))return;const n={targetElement:t,options:e||{}};To=[...To,n],XR?(t.ontouchstart=r=>{r.targetTouches.length===1&&(QR=r.targetTouches[0].clientY)},t.ontouchmove=r=>{r.targetTouches.length===1&&w4(r,t)},Tp||(document.addEventListener("touchmove",d0,f0?{passive:!1}:void 0),Tp=!0)):v4(e)},E4=t=>{if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}To=To.filter(e=>e.targetElement!==t),XR?(t.ontouchstart=null,t.ontouchmove=null,Tp&&To.length===0&&(document.removeEventListener("touchmove",d0,f0?{passive:!1}:void 0),Tp=!1)):To.length||y4()};function A4(t,e){const{lockScrollEl:n,modelValueLocal:r}=e;let s;lt(n,a=>{a&&(s=a)},{immediate:!0}),lt(()=>t.lockScroll,a=>{a?o():i()}),mf(()=>{i()});function i(){s&&E4(s)}function o(){r.value&&t.lockScroll&&s&&T4(s,{reserveScrollBarGap:t.reserveScrollBarGap,allowTouchMove:a=>{for(;a&&a!==document.body;){if(a.getAttribute("vfm-scroll-lock-ignore")!==null)return!0;a=a.parentElement}return!1}})}return{enableBodyScroll:i,disableBodyScroll:o}}function I4(t){const e=xe();function n(s){var i;e.value=(i=t.zIndexFn)==null?void 0:i.call(t,{index:s<=-1?0:s})}function r(){e.value=void 0}return{zIndex:e,refreshZIndex:n,resetZIndex:r}}const Og={beforeMount(t,{value:e},{transition:n}){t._vov=t.style.visibility==="hidden"?"":t.style.visibility,n&&e?n.beforeEnter(t):cc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),cc(t,!0),r.enter(t)):r.leave(t,()=>{cc(t,!1)}):cc(t,e))},beforeUnmount(t,{value:e}){cc(t,e)}};function cc(t,e){t.style.visibility=e?t._vov:"hidden"}const cE=t=>{if(t instanceof MouseEvent){const{clientX:e,clientY:n}=t;return{x:e,y:n}}else{const{clientX:e,clientY:n}=t.targetTouches[0];return{x:e,y:n}}};function S4(t){if(!t)return!1;let e=!1;const n={get passive(){return e=!0,!1}};return t.addEventListener("x",xh,n),t.removeEventListener("x",xh),e}function P4(t,{threshold:e=0,onSwipeStart:n,onSwipe:r,onSwipeEnd:s,passive:i=!0}){const o=wr({x:0,y:0}),a=wr({x:0,y:0}),l=X(()=>o.x-a.x),u=X(()=>o.y-a.y),{max:c,abs:f}=Math,d=X(()=>c(f(l.value),f(u.value))>=e),p=xe(!1),g=X(()=>d.value?f(l.value)>f(u.value)?l.value>0?"left":"right":u.value>0?"up":"down":"none"),_=(T,w)=>{o.x=T,o.y=w},A=(T,w)=>{a.x=T,a.y=w};let S,M;function k(T){S.capture&&!S.passive&&T.preventDefault();const{x:w,y:b}=cE(T);_(w,b),A(w,b),n==null||n(T),M=[Es(t,"mousemove",O,S),Es(t,"touchmove",O,S),Es(t,"mouseup",x,S),Es(t,"touchend",x,S),Es(t,"touchcancel",x,S)]}function O(T){const{x:w,y:b}=cE(T);A(w,b),!p.value&&d.value&&(p.value=!0),p.value&&(r==null||r(T))}function x(T){p.value&&(s==null||s(T,g.value)),p.value=!1,M.forEach(w=>w())}let N=[];return Zr(()=>{const T=S4(window==null?void 0:window.document);i?S=T?{passive:!0}:{capture:!1}:S=T?{passive:!1,capture:!0}:{capture:!0},N=[Es(t,"mousedown",k,S),Es(t,"touchstart",k,S)]}),{isSwiping:p,direction:g,coordsStart:o,coordsEnd:a,lengthX:l,lengthY:u,stop:()=>{N.forEach(T=>T()),M.forEach(T=>T())}}}function R4(t,e){const{vfmContentEl:n,modelValueLocal:r}=e,s=.1,i=300,o=xe(),a=X(()=>{if(!(t.swipeToClose===void 0||t.swipeToClose==="none"))return t.showSwipeBanner?o.value:n.value}),l=xe(0),u=xe(!0);let c=xh,f=!0,d,p=!1;const{lengthX:g,lengthY:_,direction:A,isSwiping:S}=P4(a,{threshold:t.threshold,onSwipeStart(x){c=Es(document,"selectionchange",()=>{var N;u.value=(N=window.getSelection())==null?void 0:N.isCollapsed}),d=new Date().getTime(),p=O(x==null?void 0:x.target)},onSwipe(){var x,N,T,w;if(p&&u.value&&A.value===t.swipeToClose){if(A.value==="up"){const b=nd(Math.abs(_.value||0),0,((x=a.value)==null?void 0:x.offsetHeight)||0)-(t.threshold||0);l.value=b}else if(A.value==="down"){const b=nd(Math.abs(_.value||0),0,((N=a.value)==null?void 0:N.offsetHeight)||0)-(t.threshold||0);l.value=-b}else if(A.value==="right"){const b=nd(Math.abs(g.value||0),0,((T=a.value)==null?void 0:T.offsetWidth)||0)-(t.threshold||0);l.value=-b}else if(A.value==="left"){const b=nd(Math.abs(g.value||0),0,((w=a.value)==null?void 0:w.offsetWidth)||0)-(t.threshold||0);l.value=b}}},onSwipeEnd(x,N){if(c(),!u.value){u.value=!0;return}const T=new Date().getTime(),w=N===t.swipeToClose,b=(()=>{var P,y;if(N==="up"||N==="down")return Math.abs((_==null?void 0:_.value)||0)>s*(((P=a.value)==null?void 0:P.offsetHeight)||0);if(N==="left"||N==="right")return Math.abs((g==null?void 0:g.value)||0)>s*(((y=a.value)==null?void 0:y.offsetWidth)||0)})(),I=T-d<=i;if(f&&p&&w&&(b||I)){r.value=!1;return}l.value=0}}),M=X(()=>{if(t.swipeToClose==="none")return;const x=(()=>{switch(t.swipeToClose){case"up":case"down":return"translateY";case"left":case"right":return"translateX"}})();return{class:{"vfm-bounce-back":!S.value},style:{transform:`${x}(${-l.value}px)`}}});lt(()=>u.value,x=>{x||(l.value=0)}),lt(()=>r.value,x=>{x&&(l.value=0)}),lt(()=>l.value,(x,N)=>{switch(t.swipeToClose){case"down":case"right":f=x<N;break;case"up":case"left":f=x>N;break}});function k(x){t.preventNavigationGestures&&x.preventDefault()}function O(x){const N=x==null?void 0:x.tagName;if(!N||["INPUT","TEXTAREA"].includes(N))return!1;const T=(()=>{switch(t.swipeToClose){case"up":return(x==null?void 0:x.scrollTop)+(x==null?void 0:x.clientHeight)===(x==null?void 0:x.scrollHeight);case"left":return(x==null?void 0:x.scrollLeft)+(x==null?void 0:x.clientWidth)===(x==null?void 0:x.scrollWidth);case"down":return(x==null?void 0:x.scrollTop)===0;case"right":return(x==null?void 0:x.scrollLeft)===0;default:return!1}})();return x===a.value?T:T&&O(x==null?void 0:x.parentElement)}return{vfmContentEl:n,swipeBannerEl:o,bindSwipe:M,onTouchStartSwipeBanner:k}}const ZR=Symbol("vfm");let Ta;const C4=t=>Ta=t,D4={install:xh,modals:[],openedModals:[],openedModalOverlays:[],dynamicModals:[],modalsContainers:xe([]),get:()=>{},toggle:()=>{},open:()=>{},close:()=>{},closeAll:()=>Promise.allSettled([])},k4=()=>pl()&&Ln(ZR,D4)||Ta;function O4(){const t=jl([]),e=jl([]),n=jl([]),r=jl([]),s=xe([]),i=xa({install(o){o.provide(ZR,i),o.config.globalProperties.$vfm=i},modals:t,openedModals:e,openedModalOverlays:n,dynamicModals:r,modalsContainers:s,get(o){return t.find(a=>{var l,u;return((u=(l=eh(a))==null?void 0:l.value.modalId)==null?void 0:u.value)===o})},toggle(o,a){var l;const u=i.get(o);return(l=eh(u))==null?void 0:l.value.toggle(a)},open(o){return i.toggle(o,!0)},close(o){return i.toggle(o,!1)},closeAll(){return Promise.allSettled(e.reduce((o,a)=>{const l=eh(a),u=l==null?void 0:l.value.toggle(!1);return u&&o.push(u),o},[]))}});return C4(i),i}function eh(t){var e;return(e=t==null?void 0:t.exposed)==null?void 0:e.modalExposed}const x4=zt({inheritAttrs:!1}),p0=zt({...x4,__name:"VueFinalModal",props:u4,emits:["update:modelValue","beforeOpen","opened","beforeClose","closed","clickOutside"],setup(t,{expose:e,emit:n}){const r=t,s=n,i=YF(),o=pl(),{modals:a,openedModals:l,openedModalOverlays:u}=La(),c=xe(),f=xe(),{focus:d,blur:p}=d4(r,{focusEl:c}),{zIndex:g,refreshZIndex:_,resetZIndex:A}=I4(r),{modelValueLocal:S}=f4(r,s,{open:ue,close:te}),{enableBodyScroll:M,disableBodyScroll:k}=A4(r,{lockScrollEl:c,modelValueLocal:S});let O=xh;const{visible:x,contentVisible:N,contentListeners:T,contentTransition:w,overlayVisible:b,overlayListeners:I,overlayTransition:P,enterTransition:y,leaveTransition:E}=c4(r,{modelValueLocal:S,onEntering(){An(()=>{k(),d()})},onEnter(){s("opened"),O("opened")},onLeave(){Pc(l,o),A(),M(),s("closed"),O("closed")}}),{onEsc:B,onMouseupRoot:U,onMousedown:F}=h4(r,s,{vfmRootEl:c,vfmContentEl:f,visible:x,modelValueLocal:S}),{swipeBannerEl:j,bindSwipe:H,onTouchStartSwipeBanner:ee}=R4(r,{vfmContentEl:f,modelValueLocal:S}),R=X(()=>o?l.indexOf(o):-1);lt([()=>r.zIndexFn,R],()=>{x.value&&_(R.value)}),Zr(()=>{kg(a,o)}),r.modelValue&&(S.value=!0);function ue(){let W=!1;return s("beforeOpen",{stop:()=>W=!0}),W?!1:(kg(l,o),kg(u,o),ge(),y(),!0)}function te(){let W=!1;return s("beforeClose",{stop:()=>W=!0}),W?!1:(Pc(u,o),ge(),p(),E(),!0)}function ve(){S.value=!1}mf(()=>{M(),Pc(a,o),Pc(l,o),p(),ge()});async function ge(){await An();const W=u.filter(ne=>{var me;const Re=eh(ne);return(Re==null?void 0:Re.value.overlayBehavior.value)==="auto"&&!((me=Re==null?void 0:Re.value.hideOverlay)!=null&&me.value)});W.forEach((ne,me)=>{const Re=eh(ne);Re!=null&&Re.value&&(Re.value.overlayVisible.value=me===W.length-1)})}const Ce=Ma(()=>r.modalId),De=Ma(()=>r.hideOverlay),z=Ma(()=>r.overlayBehavior),ae=X(()=>({modalId:Ce,hideOverlay:De,overlayBehavior:z,overlayVisible:b,toggle(W){return new Promise(ne=>{O=l4(Re=>ne(Re));const me=typeof W=="boolean"?W:!S.value;S.value=me})}}));return e({modalExposed:ae}),(W,ne)=>(ie(),ot(EU,{to:W.teleportTo?W.teleportTo:void 0,disabled:!W.teleportTo},[W.displayDirective!=="if"||K(x)?Sr((ie(),Se("div",Gr({key:0},K(i),{ref_key:"vfmRootEl",ref:c,class:["vfm vfm--fixed vfm--inset",{"vfm--prevent-none":W.background==="interactive"}],style:{zIndex:K(g)},role:"dialog","aria-modal":"true",onKeydown:ne[7]||(ne[7]=Ur(()=>K(B)(),["esc"])),onMouseup:ne[8]||(ne[8]=nn(()=>K(U)(),["self"])),onMousedown:ne[9]||(ne[9]=nn(me=>K(F)(me),["self"]))}),[De.value?rt("",!0):(ie(),ot(Bo,Gr({key:0},K(P),U_(K(I))),{default:gt(()=>[W.displayDirective!=="if"||K(b)?Sr((ie(),Se("div",{key:0,class:Pt(["vfm__overlay vfm--overlay vfm--absolute vfm--inset vfm--prevent-none",W.overlayClass]),style:ti(W.overlayStyle),"aria-hidden":"true"},null,6)),[[Is,W.displayDirective!=="show"||K(b)],[K(Og),W.displayDirective!=="visible"||K(b)]]):rt("",!0)]),_:1},16)),ye(Bo,Gr(K(w),U_(K(T))),{default:gt(()=>[W.displayDirective!=="if"||K(N)?Sr((ie(),Se("div",Gr({key:0,ref_key:"vfmContentEl",ref:f,class:["vfm__content vfm--outline-none",[W.contentClass,{"vfm--prevent-auto":W.background==="interactive"}]],style:W.contentStyle,tabindex:"0"},K(H),{onMousedown:ne[6]||(ne[6]=()=>K(F)())}),[rn(W.$slots,"default",Ca(kh({close:ve}))),W.showSwipeBanner?(ie(),Se("div",{key:0,ref_key:"swipeBannerEl",ref:j,class:"vfm-swipe-banner-container",onTouchstart:ne[2]||(ne[2]=me=>K(ee)(me))},[rn(W.$slots,"swipe-banner",{},()=>[pe("div",{class:"vfm-swipe-banner-back",onTouchstart:ne[0]||(ne[0]=me=>W.swipeToClose==="left"&&me.preventDefault())},null,32),pe("div",{class:"vfm-swipe-banner-forward",onTouchstart:ne[1]||(ne[1]=me=>W.swipeToClose==="right"&&me.preventDefault())},null,32)])],544)):!W.showSwipeBanner&&W.preventNavigationGestures?(ie(),Se("div",{key:1,class:"vfm-swipe-banner-container",onTouchstart:ne[5]||(ne[5]=me=>K(ee)(me))},[pe("div",{class:"vfm-swipe-banner-back",onTouchstart:ne[3]||(ne[3]=me=>W.swipeToClose==="left"&&me.preventDefault())},null,32),pe("div",{class:"vfm-swipe-banner-forward",onTouchstart:ne[4]||(ne[4]=me=>W.swipeToClose==="right"&&me.preventDefault())},null,32)],32)):rt("",!0)],16)),[[Is,W.displayDirective!=="show"||K(N)],[K(Og),W.displayDirective!=="visible"||K(N)]]):rt("",!0)]),_:3},16)],16)),[[Is,W.displayDirective!=="show"||K(x)],[K(Og),W.displayDirective!=="visible"||K(x)]]):rt("",!0)],8,["to","disabled"]))}});function La(){const t=k4();if(!t)throw new Error(`[Vue Final Modal]: getActiveVfm was called with no active Vfm. Did you forget to install vfm?
	const vfm = createVfm()
	app.use(vfm)
This will fail in production.`);return t}function hE(t,e=p0){const{component:n,slots:r,...s}=t,i=typeof r>"u"?{}:Object.fromEntries(KR(r).map(([o,a])=>h0(a)?[o,a]:Ep(a)?[o,{...a,component:xa(a.component)}]:[o,xa(a)]));return{...s,component:xa(n||e),slots:i}}function fE(t){const e=wr({id:Symbol("useModal"),modelValue:!!(t!=null&&t.defaultModelValue),resolveOpened:()=>{},resolveClosed:()=>{},attrs:{},...hE(t)});kB(()=>{e!=null&&e.keepAlive||a()}),e.modelValue===!0&&(Ta?Ta==null||Ta.dynamicModals.push(e):An(()=>{const l=La();l==null||l.dynamicModals.push(e)}));async function n(){let l;return Ta?l=Ta:(await An(),l=La()),e.modelValue?Promise.resolve("[Vue Final Modal] modal is already opened."):(a(),e.modelValue=!0,l.dynamicModals.push(e),new Promise(u=>{e.resolveOpened=()=>u("opened")}))}function r(){return e.modelValue?(e.modelValue=!1,new Promise(l=>{e.resolveClosed=()=>l("closed")})):Promise.resolve("[Vue Final Modal] modal is already closed.")}function s(l){const{slots:u,...c}=hE(l,e.component);l.defaultModelValue!==void 0&&(e.defaultModelValue=l.defaultModelValue),(l==null?void 0:l.keepAlive)!==void 0&&(e.keepAlive=l==null?void 0:l.keepAlive),i(e,c),u&&KR(u).forEach(([f,d])=>{const p=e.slots[f];h0(p)?e.slots[f]=d:Ep(p)&&Ep(d)?i(p,d):e.slots[f]=d})}function i(l,u){u.component&&(l.component=u.component),u.attrs&&o(l.attrs,u.attrs)}function o(l,u){return Object.entries(u).forEach(([c,f])=>{l[c]=f}),l}function a(){const l=La(),u=l.dynamicModals.indexOf(e);u!==-1&&l.dynamicModals.splice(u,1)}return{options:e,open:n,close:r,patchOptions:s,destroy:a}}function Ep(t){return typeof t=="object"&&t!==null?"component"in t:!1}const M4=["innerHTML"],N4=zt({__name:"ModalsContainer",setup(t){const{modalsContainers:e,dynamicModals:n}=La(),r=Symbol("ModalsContainer"),s=X(()=>{var a;return r===((a=e.value)==null?void 0:a[0])});e.value.push(r),mf(()=>{e.value=e.value.filter(a=>a!==r)});function i(a){var l,u,c;(u=(l=n[a])==null?void 0:l.resolveClosed)==null||u.call(l),(c=n[a])!=null&&c.keepAlive||n.splice(a,1)}function o(a){var l,u;(u=(l=n[a])==null?void 0:l.resolveOpened)==null||u.call(l)}return(a,l)=>s.value?(ie(!0),Se(ft,{key:0},Nn(K(n),(u,c)=>(ie(),ot(Yc(u.component),Gr({key:u.id},{displayDirective:u!=null&&u.keepAlive?"show":void 0,...typeof u.attrs=="object"?u.attrs:{}},{modelValue:u.modelValue,"onUpdate:modelValue":f=>u.modelValue=f,onClosed:()=>i(c),onOpened:()=>o(c)}),HF({_:2},[Nn(u.slots,(f,d)=>({name:d,fn:gt(()=>[K(h0)(f)?(ie(),Se("div",{key:0,innerHTML:f},null,8,M4)):K(Ep)(f)?(ie(),ot(Yc(f.component),Ca(Gr({key:1},f.attrs)),null,16)):(ie(),ot(Yc(f),{key:2}))])}))]),1040,["modelValue","onUpdate:modelValue","onClosed","onOpened"]))),128)):rt("",!0)}});/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function eC(t,e){return e={exports:{}},t(e,e.exports),e.exports}var J_=eC(function(t){const e=Object.prototype.toString,n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;t.exports=(i,...o)=>{if(!s(i))throw new TypeError("expected the first argument to be an object");if(o.length===0||typeof Symbol!="function"||typeof r!="function")return i;for(let a of o){let l=r(a);for(let u of l)n.call(a,u)&&(i[u]=a[u])}return i};function s(i){return typeof i=="function"||e.call(i)==="[object Object]"||Array.isArray(i)}}),dE=Object.freeze({__proto__:null,default:J_,__moduleExports:J_}),L4=dE&&J_||dE,pE=eC(function(t){const e=Object.prototype.toString,n=o=>o!=="__proto__"&&o!=="constructor"&&o!=="prototype",r=t.exports=(o,...a)=>{let l=0;for(i(o)&&(o=a[l++]),o||(o={});l<a.length;l++)if(s(a[l])){for(const u of Object.keys(a[l]))n(u)&&(s(o[u])&&s(a[l][u])?r(o[u],a[l][u]):o[u]=a[l][u]);L4(o,a[l])}return o};function s(o){return typeof o=="function"||e.call(o)==="[object Object]"}function i(o){return typeof o=="object"?o===null:typeof o!="function"}});const Ho=typeof window<"u"&&window!==null,mE=$4();function $4(){return Ho&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const ha={event:"event",observer:"observer"};function Rc(t,e){if(!t.length)return;const n=t.indexOf(e);if(n>-1)return t.splice(n,1)}function gE(t,e){if(t.tagName!=="IMG"||!t.getAttribute("data-srcset"))return"";let n=t.getAttribute("data-srcset").trim().split(",");const r=[],i=t.parentNode.offsetWidth*e;let o,a,l;n.forEach(f=>{f=f.trim(),o=f.lastIndexOf(" "),o===-1?(a=f,l=99999):(a=f.substr(0,o),l=parseInt(f.substr(o+1,f.length-o-2),10)),r.push([l,a])}),r.sort((f,d)=>{if(f[0]<d[0])return 1;if(f[0]>d[0])return-1;if(f[0]===d[0]){if(d[1].indexOf(".webp",d[1].length-5)!==-1)return 1;if(f[1].indexOf(".webp",f[1].length-5)!==-1)return-1}return 0});let u="",c;for(let f=0;f<r.length;f++){c=r[f],u=c[1];const d=r[f+1];if(d&&d[0]<i){u=c[1];break}else if(!d){u=c[1];break}}return u}const V4=(t=1)=>Ho&&window.devicePixelRatio||t;function F4(){if(!Ho)return!1;let t=!0;function e(n,r){const s={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},i=new Image;i.onload=function(){const o=i.width>0&&i.height>0;r(o)},i.onerror=function(){r(!1)},i.src="data:image/webp;base64,"+s[n]}return e("lossy",n=>{t=n}),e("lossless",n=>{t=n}),e("alpha",n=>{t=n}),e("animation",n=>{t=n}),t}function U4(t,e){let n=null,r=0;return function(){if(n)return;const s=Date.now()-r,i=this,o=arguments,a=function(){r=Date.now(),n=!1,t.apply(i,o)};s>=e?a():n=setTimeout(a,e)}}function B4(){if(!Ho)return!1;let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",m0,e)}catch{}return t}const j4=B4(),H4={on(t,e,n,r=!1){j4?t.addEventListener(e,n,{capture:r,passive:!0}):t.addEventListener(e,n,r)},off(t,e,n,r=!1){t.removeEventListener(e,n,r)}},Z_=(t,e,n)=>{let r=new Image;if(!t||!t.src){const s=new Error("image src is required");return n(s)}t.cors&&(r.crossOrigin=t.cors),r.src=t.src,r.onload=function(){e({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src}),r=null},r.onerror=function(s){n(s)}},xg=(t,e)=>typeof getComputedStyle<"u"?getComputedStyle(t,null).getPropertyValue(e):t.style[e],z4=t=>xg(t,"overflow")+xg(t,"overflowY")+xg(t,"overflowX"),Y4=t=>{if(!Ho)return;if(!(t instanceof Element))return window;let e=t;for(;e&&!(e===document.body||e===document.documentElement||!e.parentNode);){if(/(scroll|auto)/.test(z4(e)))return e;e=e.parentNode}return window};function q4(t){return t!==null&&typeof t=="object"}function m0(){}class W4{constructor(e){this.max=e||100,this._caches=[]}has(e){return this._caches.indexOf(e)>-1}add(e){this.has(e)||(this._caches.push(e),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class G4{constructor(e,n,r,s,i,o,a,l,u,c){this.el=e,this.src=n,this.error=r,this.loading=s,this.bindType=i,this.attempt=0,this.cors=l,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=o,this.elRenderer=u,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update(e){const n=this.src;this.src=e.src,this.loading=e.loading,this.error=e.error,this.filter(),n!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const e in this.options.filter)this.options.filter[e](this,this.options)}renderLoading(e){this.state.loading=!0,Z_({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,e()},()=>{e(),this.state.loading=!1,this.options.silent||console.warn(`VueLazyload log: load failed with loading image(${this.loading})`)})}load(e=m0){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`),e();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),Z_({src:this.src,cors:this.cors},n=>{this.naturalHeight=n.naturalHeight,this.naturalWidth=n.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),e()},n=>{!this.options.silent&&console.error(n),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(e,n){this.elRenderer(this,e,n)}performance(){let e="loading",n=0;return this.state.loaded&&(e="loaded",n=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:n}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const _E="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",K4=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],X4={rootMargin:"0px",threshold:0};class Q4{constructor({preLoad:e,error:n,throttleWait:r,preLoadTop:s,dispatchEvent:i,loading:o,attempt:a,silent:l=!0,scale:u,listenEvents:c,filter:f,adapter:d,observer:p,observerOptions:g}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=ha.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:l,dispatchEvent:!!i,throttleWait:r||200,preLoad:e||1.3,preLoadTop:s||0,error:n||_E,loading:o||_E,attempt:a||3,scale:u||V4(u),listenEvents:c||K4,supportWebp:F4(),filter:f||{},adapter:d||{},observer:!!p,observerOptions:g||X4},this._initEvent(),this._imageCache=new W4(200),this.lazyLoadHandler=U4(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?ha.observer:ha.event)}performance(){const e=[];return this.ListenerQueue.map(n=>e.push(n.performance())),e}addLazyBox(e){this.ListenerQueue.push(e),Ho&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}add(e,n,r){if(this.ListenerQueue.some(l=>l.el===e))return this.update(e,n),An(this.lazyLoadHandler);let{src:s,loading:i,error:o,cors:a}=this._valueFormatter(n.value);An(()=>{s=gE(e,this.options.scale)||s,this._observer&&this._observer.observe(e);const l=Object.keys(n.modifiers)[0];let u;l&&(u=n.instance.$refs[l],u=u?u.el||u:document.getElementById(l)),u||(u=Y4(e));const c=new G4(e,s,o,i,n.arg,u,this.options,a,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(c),Ho&&(this._addListenerTarget(window),this._addListenerTarget(u)),An(this.lazyLoadHandler)})}update(e,n,r){let{src:s,loading:i,error:o}=this._valueFormatter(n.value);s=gE(e,this.options.scale)||s;const a=this.ListenerQueue.find(l=>l.el===e);a?a.update({src:s,loading:i,error:o}):(e.getAttribute("lazy")!=="loaded"||e.dataset.src!==s)&&this.add(e,n,r),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),An(this.lazyLoadHandler)}remove(e){if(!e)return;this._observer&&this._observer.unobserve(e);const n=this.ListenerQueue.find(r=>r.el===e);n&&(this._removeListenerTarget(n.$parent),this._removeListenerTarget(window),Rc(this.ListenerQueue,n),n.$destroy&&n.$destroy())}removeComponent(e){e&&(Rc(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}setMode(e){!mE&&e===ha.observer&&(e=ha.event),this.mode=e,e===ha.event?(this._observer&&(this.ListenerQueue.forEach(n=>{this._observer.unobserve(n.el)}),this._observer=null),this.TargetQueue.forEach(n=>{this._initListen(n.el,!0)})):(this.TargetQueue.forEach(n=>{this._initListen(n.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(e){if(!e)return;let n=this.TargetQueue.find(r=>r.el===e);return n?n.childrenCount++:(n={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===ha.event&&this._initListen(n.el,!0),this.TargetQueue.push(n)),this.TargetIndex}_removeListenerTarget(e){this.TargetQueue.forEach((n,r)=>{n.el===e&&(n.childrenCount--,n.childrenCount||(this._initListen(n.el,!1),this.TargetQueue.splice(r,1),n=null))})}_initListen(e,n){this.options.listenEvents.forEach(r=>H4[n?"on":"off"](e,r,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,n)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(n)},this.$once=(e,n)=>{const r=this;function s(){r.$off(e,s),n.apply(r,arguments)}this.$on(e,s)},this.$off=(e,n)=>{if(!n){if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0;return}Rc(this.Event.listeners[e],n)},this.$emit=(e,n,r)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach(s=>s(n,r))}}_lazyLoadHandler(){const e=[];this.ListenerQueue.forEach((n,r)=>{(!n.el||!n.el.parentNode||n.state.loaded)&&e.push(n),n.checkInView()&&(n.state.loaded||n.load())}),e.forEach(n=>{Rc(this.ListenerQueue,n),n.$destroy&&n.$destroy()})}_initIntersectionObserver(){mE&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(e=>{this._observer.observe(e.el)}))}_observerHandler(e){e.forEach(n=>{n.isIntersecting&&this.ListenerQueue.forEach(r=>{if(r.el===n.target){if(r.state.loaded)return this._observer.unobserve(r.el);r.load()}})})}_elRenderer(e,n,r){if(!e.el)return;const{el:s,bindType:i}=e;let o;switch(n){case"loading":o=e.loading;break;case"error":o=e.error;break;default:o=e.src;break}if(i?s.style[i]='url("'+o+'")':s.getAttribute("src")!==o&&s.setAttribute("src",o),s.setAttribute("lazy",n),this.$emit(n,e,r),this.options.adapter[n]&&this.options.adapter[n](e,this.options),this.options.dispatchEvent){const a=new CustomEvent(n,{detail:e});s.dispatchEvent(a)}}_valueFormatter(e){return q4(e)?(!e.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+e),{src:e.src,loading:e.loading||this.options.loading,error:e.error||this.options.error,cors:this.options.cors}):{src:e,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const tC=(t,e)=>{let n=wr({});const r=()=>{n=t.value.getBoundingClientRect()};return{rect:n,checkInView:()=>(r(),Ho&&n.top<window.innerHeight*e&&n.bottom>0&&n.left<window.innerWidth*e&&n.right>0)}};var J4=t=>zt({props:{tag:{type:String,default:"div"}},emits:["show"],setup(e,{emit:n,slots:r}){const s=xe(),i=wr({loaded:!1,error:!1,attempt:0}),o=xe(!1),{rect:a,checkInView:l}=tC(s,t.options.preLoad),u=()=>{o.value=!0,i.loaded=!0,n("show",o.value)},c=X(()=>({el:s.value,rect:a,checkInView:l,load:u,state:i}));return Zr(()=>{t.addLazyBox(c.value),t.lazyLoadHandler()}),Qo(()=>{t.removeComponent(c.value)}),()=>{var f;return ye(e.tag,{ref:s},[o.value&&((f=r.default)===null||f===void 0?void 0:f.call(r))])}}});class Z4{constructor(e){this.lazy=e,e.lazyContainerMananger=this,this._queue=[]}bind(e,n,r){const s=new tj(e,n,r,this.lazy);this._queue.push(s)}update(e,n,r){const s=this._queue.find(i=>i.el===e);s&&s.update(e,n)}unbind(e,n,r){const s=this._queue.find(i=>i.el===e);s&&(s.clear(),Rc(this._queue,s))}}const ej={selector:"img",error:"",loading:""};class tj{constructor(e,n,r,s){this.el=e,this.vnode=r,this.binding=n,this.options={},this.lazy=s,this._queue=[],this.update(e,n)}update(e,n){this.el=e,this.options=pE({},ej,n.value),this.getImgs().forEach(s=>{this.lazy.add(s,pE({},this.binding,{value:{src:s.getAttribute("data-src")||s.dataset.src,error:s.getAttribute("data-error")||s.dataset.error||this.options.error,loading:s.getAttribute("data-loading")||s.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(n=>this.lazy.remove(n)),this.vnode=null,this.binding=null,this.lazy=null}}var nj=t=>zt({setup(e,{slots:n}){const r=xe(),s=wr({src:"",error:"",loading:"",attempt:t.options.attempt}),i=wr({loaded:!1,error:!1,attempt:0}),{rect:o,checkInView:a}=tC(r,t.options.preLoad),l=xe(""),u=(d=m0)=>{if(i.attempt>s.attempt-1&&i.error)return t.options.silent||console.log(`VueLazyload log: ${s.src} tried too more than ${s.attempt} times`),d();const p=s.src;Z_({src:p},({src:g})=>{l.value=g,i.loaded=!0},()=>{i.attempt++,l.value=s.error,i.error=!0})},c=X(()=>({el:r.value,rect:o,checkInView:a,load:u,state:i}));Zr(()=>{t.addLazyBox(c.value),t.lazyLoadHandler()}),Qo(()=>{t.removeComponent(c.value)});const f=()=>{const{src:d,loading:p,error:g}=t._valueFormatter(e.src);i.loaded=!1,s.src=d,s.error=g,s.loading=p,l.value=s.loading};return lt(()=>e.src,()=>{f(),t.addLazyBox(c.value),t.lazyLoadHandler()},{immediate:!0}),()=>{var d;return ye(e.tag||"img",{src:l.value,ref:r},[(d=n.default)===null||d===void 0?void 0:d.call(n)])}}}),rj={install(t,e={}){const n=new Q4(e),r=new Z4(n);if(Number(t.version.split(".")[0])<3)return new Error("Vue version at least 3.0");t.config.globalProperties.$Lazyload=n,t.provide("Lazyload",n),e.lazyComponent&&t.component("lazy-component",J4(n)),e.lazyImage&&t.component("lazy-image",nj(n)),t.directive("lazy",{beforeMount:n.add.bind(n),beforeUpdate:n.update.bind(n),updated:n.lazyLoadHandler.bind(n),unmounted:n.remove.bind(n)}),t.directive("lazy-container",{beforeMount:r.bind.bind(r),updated:r.update.bind(r),unmounted:r.unbind.bind(r)})}};function g0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function nC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sj=nC,rC=new ef("auth","Firebase",nC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Qv("@firebase/auth");function ij(t,...e){Ap.logLevel<=ht.WARN&&Ap.warn(`Auth (${cl}): ${t}`,...e)}function kd(t,...e){Ap.logLevel<=ht.ERROR&&Ap.error(`Auth (${cl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,...e){throw _0(t,...e)}function ni(t,...e){return _0(t,...e)}function sC(t,e,n){const r=Object.assign(Object.assign({},sj()),{[e]:n});return new ef("auth","Firebase",r).create(e,{appName:t.name})}function Ni(t){return sC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rC.create(t,...e)}function qe(t,e,...n){if(!t)throw _0(e,...n)}function Si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function Ui(t,e){t||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oj(){return vE()==="http:"||vE()==="https:"}function vE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oj()||Wx()||"connection"in navigator)?navigator.onLine:!0}function lj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=Yx()||Gx()}get(){return aj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new _f(3e4,6e4);function Jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zo(t,e,n,r,s={}){return oC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=tf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),iC.fetch()(aC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function oC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uj),e);try{const s=new fj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw rd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sC(t,c,u);Os(t,c)}}catch(s){if(s instanceof fi)throw s;Os(t,"network-request-failed",{message:String(s)})}}async function vf(t,e,n,r,s={}){const i=await Zo(t,e,n,r,s);return"mfaPendingCredential"in i&&Os(t,"multi-factor-auth-required",{_serverResponse:i}),i}function aC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?v0(t.config,s):`${t.config.apiScheme}://${s}`}function hj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),cj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ni(t,e,r);return s.customData._tokenResponse=n,s}function yE(t){return t!==void 0&&t.enterprise!==void 0}class dj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function pj(t,e){return Zo(t,"GET","/v2/recaptchaConfig",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e){return Zo(t,"POST","/v1/accounts:delete",e)}async function lC(t,e){return Zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gj(t,e=!1){const n=Pn(t),r=await n.getIdToken(e),s=y0(r);qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:th(Mg(s.auth_time)),issuedAtTime:th(Mg(s.iat)),expirationTime:th(Mg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mg(t){return Number(t)*1e3}function y0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const s=_I(n);return s?JSON.parse(s):(kd("Failed to decode base64 JWT payload"),null)}catch(s){return kd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bE(t){const e=y0(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&_j(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _j({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=th(this.lastLoginAt),this.creationTime=th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Mh(t,lC(n,{idToken:r}));qe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?uC(i.providerUserInfo):[],a=bj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new tv(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function yj(t){const e=Pn(t);await Ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uC(t){return t.map(e=>{var{providerId:n}=e,r=g0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e){const n=await oC(t,{},async()=>{const r=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=aC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tj(t,e){return Zo(t,"POST","/v2/accounts:revokeToken",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await wj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Zl;return r&&(qe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(qe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(qe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=g0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Mh(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gj(this,e)}reload(){return yj(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ip(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qs(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Mh(this,mj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,M=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:k,emailVerified:O,isAnonymous:x,providerData:N,stsTokenManager:T}=n;qe(k&&T,e,"internal-error");const w=Zl.fromJSON(this.name,T);qe(typeof k=="string",e,"internal-error"),no(f,e.name),no(d,e.name),qe(typeof O=="boolean",e,"internal-error"),qe(typeof x=="boolean",e,"internal-error"),no(p,e.name),no(g,e.name),no(_,e.name),no(A,e.name),no(S,e.name),no(M,e.name);const b=new Pi({uid:k,auth:e,email:d,emailVerified:O,displayName:f,isAnonymous:x,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:w,createdAt:S,lastLoginAt:M});return N&&Array.isArray(N)&&(b.providerData=N.map(I=>Object.assign({},I))),A&&(b._redirectEventId=A),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zl;s.updateFromServerResponse(n);const i=new Pi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ip(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];qe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?uC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Zl;a.updateFromIdToken(r);const l=new Pi({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new tv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function Ri(t){Ui(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cC.type="NONE";const TE=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){return`firebase:${t}:${e}:${n}`}class eu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Od(this.userKey,s.apiKey,i),this.fullPersistenceKey=Od("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eu(Ri(TE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ri(TE);const o=Od(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=Pi._fromJSON(e,c);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new eu(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new eu(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mC(e))return"Blackberry";if(gC(e))return"Webos";if(b0(e))return"Safari";if((e.includes("chrome/")||fC(e))&&!e.includes("edge/"))return"Chrome";if(pC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hC(t=zn()){return/firefox\//i.test(t)}function b0(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fC(t=zn()){return/crios\//i.test(t)}function dC(t=zn()){return/iemobile/i.test(t)}function pC(t=zn()){return/android/i.test(t)}function mC(t=zn()){return/blackberry/i.test(t)}function gC(t=zn()){return/webos/i.test(t)}function Om(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ej(t=zn()){var e;return Om(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Aj(){return Kx()&&document.documentMode===10}function _C(t=zn()){return Om(t)||pC(t)||gC(t)||mC(t)||/windows phone/i.test(t)||dC(t)}function Ij(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e=[]){let n;switch(t){case"Browser":n=EE(zn());break;case"Worker":n=`${EE(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e={}){return Zo(t,"GET","/v2/passwordPolicy",Jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=6;class Cj{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Rj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new Sj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await eu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lC(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ip(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qs(this.app))return Promise.reject(Ni(this));const n=e?Pn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qs(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qs(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pj(this),n=new Cj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ef("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ri(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ij(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ml(t){return Pn(t)}class AE{constructor(e){this.auth=e,this.observer=null,this.addObserver=rM(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kj(t){xm=t}function yC(t){return xm.loadJS(t)}function Oj(){return xm.recaptchaEnterpriseScript}function xj(){return xm.gapiScript}function Mj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Nj="recaptcha-enterprise",Lj="NO_RECAPTCHA";class $j{constructor(e){this.type=Nj,this.auth=ml(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{pj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new dj(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;yE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Lj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&yE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Oj();l.length!==0&&(l+=a),yC(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function IE(t,e,n,r=!1){const s=new $j(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function nv(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await IE(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await IE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e){const n=rm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Jd(i,e??{}))return s;Os(s,"already-initialized")}return n.initialize({options:e})}function Fj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Uj(t,e,n){const r=ml(t);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=bC(e),{host:o,port:a}=Bj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),jj()}function bC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bj(t){const e=bC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:SE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:SE(o)}}}function SE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function Hj(t,e){return Zo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e){return vf(t,"POST","/v1/accounts:signInWithPassword",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e){return vf(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}async function qj(t,e){return vf(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends w0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Nh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nv(e,n,"signInWithPassword",zj);case"emailLink":return Yj(e,{email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nv(e,r,"signUpPassword",Hj);case"emailLink":return qj(e,{idToken:n,email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t,e){return vf(t,"POST","/v1/accounts:signInWithIdp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="http://localhost";class el extends w0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=g0(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new el(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tu(e,n)}buildRequest(){const e={requestUri:Wj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kj(t){const e=bc(wc(t)).link,n=e?bc(wc(e)).deep_link_id:null,r=bc(wc(t)).deep_link_id;return(r?bc(wc(r)).link:null)||r||n||e||t}class T0{constructor(e){var n,r,s,i,o,a;const l=bc(wc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Gj((s=l.mode)!==null&&s!==void 0?s:null);qe(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Kj(e);try{return new T0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(e,n){return Nh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=T0.parseLink(n);return qe(r,"argument-error"),Nh._fromEmailAndCode(e,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends wC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends yf{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return el._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return go.credential(n,r)}catch{return null}}}go.GOOGLE_SIGN_IN_METHOD="google.com";go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends yf{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends yf{constructor(){super("twitter.com")}static credential(e,n){return el._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e){return vf(t,"POST","/v1/accounts:signUp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Pi._fromIdTokenResponse(e,r,s),o=PE(r);return new tl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=PE(r);return new tl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function PE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends fi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sp(e,n,r,s)}}function TC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Sp._fromErrorAndOperation(t,i,e,r):i})}async function Qj(t,e,n=!1){const r=await Mh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e,n=!1){const{auth:r}=t;if(qs(r.app))return Promise.reject(Ni(r));const s="reauthenticate";try{const i=await Mh(t,TC(r,s,e,t),n);qe(i.idToken,r,"internal-error");const o=y0(i.idToken);qe(o,r,"internal-error");const{sub:a}=o;return qe(t.uid===a,r,"user-mismatch"),tl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Os(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(t,e,n=!1){if(qs(t.app))return Promise.reject(Ni(t));const r="signIn",s=await TC(t,r,e),i=await tl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Zj(t,e){return EC(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(t){const e=ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eH(t,e,n){if(qs(t.app))return Promise.reject(Ni(t));const r=ml(t),o=await nv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AC(t),l}),a=await tl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function tH(t,e,n){return qs(t.app)?Promise.reject(Ni(t)):Zj(Pn(t),Uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AC(t),r})}function nH(t,e,n,r){return Pn(t).onIdTokenChanged(e,n,r)}function rH(t,e,n){return Pn(t).beforeAuthStateChanged(e,n)}function sH(t,e,n,r){return Pn(t).onAuthStateChanged(e,n,r)}function iH(t){return Pn(t).signOut()}const Pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pp,"1"),this.storage.removeItem(Pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(){const t=zn();return b0(t)||Om(t)}const aH=1e3,lH=10;class SC extends IC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oH()&&Ij(),this.fallbackToPolling=_C(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Aj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,lH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SC.type="LOCAL";const uH=SC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC extends IC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PC.type="SESSION";const RC=PC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Mm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await cH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=E0("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function fH(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function dH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mH(){return CC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firebaseLocalStorageDb",gH=1,Rp="firebaseLocalStorage",kC="fbase_key";class bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(t,e){return t.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function _H(){const t=indexedDB.deleteDatabase(DC);return new bf(t).toPromise()}function rv(){const t=indexedDB.open(DC,gH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rp,{keyPath:kC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),await _H(),e(await rv()))})})}async function RE(t,e,n){const r=Nm(t,!0).put({[kC]:e,value:n});return new bf(r).toPromise()}async function vH(t,e){const n=Nm(t,!1).get(e),r=await new bf(n).toPromise();return r===void 0?null:r.value}function CE(t,e){const n=Nm(t,!0).delete(e);return new bf(n).toPromise()}const yH=800,bH=3;class OC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mm._getInstance(mH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dH(),!this.activeServiceWorker)return;this.sender=new hH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rv();return await RE(e,Pp,"1"),await CE(e,Pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Nm(s,!1).getAll();return new bf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OC.type="LOCAL";const wH=OC;new _f(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t,e){return e?Ri(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends w0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EH(t){return EC(t.auth,new A0(t),t.bypassAuthState)}function AH(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),Jj(n,new A0(t),t.bypassAuthState)}async function IH(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),Qj(n,new A0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EH;case"linkViaPopup":case"linkViaRedirect":return IH;case"reauthViaPopup":case"reauthViaRedirect":return AH;default:Os(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=new _f(2e3,1e4);class Hl extends xC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=E0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SH.get())};e()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="pendingRedirect",xd=new Map;class RH extends xC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const r=await CH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CH(t,e){const n=OH(e),r=kH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function DH(t,e){xd.set(t._key(),e)}function kH(t){return Ri(t._redirectPersistence)}function OH(t){return Od(PH,t.config.apiKey,t.name)}async function xH(t,e,n=!1){if(qs(t.app))return Promise.reject(Ni(t));const r=ml(t),s=TH(r,e),o=await new RH(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=10*60*1e3;class NH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MH&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $H(t,e={}){return Zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FH=/^https?/;async function UH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $H(t);for(const n of e)try{if(BH(n))return}catch{}Os(t,"unauthorized-domain")}function BH(t){const e=ev(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FH.test(n))return!1;if(VH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=new _f(3e4,6e4);function kE(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HH(t){return new Promise((e,n)=>{var r,s,i;function o(){kE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kE(),n(ni(t,"network-request-failed"))},timeout:jH.get()})}if(!((s=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ri().gapi)===null||i===void 0)&&i.load)o();else{const a=Mj("iframefcb");return ri()[a]=()=>{gapi.load?o():n(ni(t,"network-request-failed"))},yC(`${xj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Md=null,e})}let Md=null;function zH(t){return Md=Md||HH(t),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=new _f(5e3,15e3),qH="__/auth/iframe",WH="emulator/auth/iframe",GH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XH(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,WH):`https://${t.config.authDomain}/${qH}`,r={apiKey:e.apiKey,appName:t.name,v:cl},s=KH.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${tf(r).slice(1)}`}async function QH(t){const e=await zH(t),n=ri().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:XH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ni(t,"network-request-failed"),a=ri().setTimeout(()=>{i(o)},YH.get());function l(){ri().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZH=500,e3=600,t3="_blank",n3="http://localhost";class OE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r3(t,e,n,r=ZH,s=e3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JH),{width:r.toString(),height:s.toString(),top:i,left:o}),u=zn().toLowerCase();n&&(a=fC(u)?t3:n),hC(u)&&(e=e||n3,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(Ej(u)&&a!=="_self")return s3(e||"",a),new OE(null);const f=window.open(e||"",a,c);qe(f,t,"popup-blocked");try{f.focus()}catch{}return new OE(f)}function s3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="__/auth/handler",o3="emulator/auth/handler",a3=encodeURIComponent("fac");async function xE(t,e,n,r,s,i){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cl,eventId:s};if(e instanceof wC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof yf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${a3}=${encodeURIComponent(l)}`:"";return`${l3(t)}?${tf(a).slice(1)}${u}`}function l3({config:t}){return t.emulator?v0(t,o3):`https://${t.authDomain}/${i3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class u3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RC,this._completeRedirectFn=xH,this._overrideRedirectResult=DH}async _openPopup(e,n,r,s){var i;Ui((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await xE(e,n,r,ev(),s);return r3(e,o,E0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await xE(e,n,r,ev(),s);return fH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ui(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QH(e),r=new NH(e);return n.register("authEvent",s=>(qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ng,{type:Ng},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ng];o!==void 0&&n(!!o),Os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _C()||b0()||Om()}}const c3=u3;var ME="@firebase/auth",NE="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d3(t){Wa(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vC(t)},u=new Dj(r,s,i,l);return Fj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new Lo("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(r=>new h3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(ME,NE,f3(t)),Js(ME,NE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=5*60,m3=wI("authIdTokenMaxAge")||p3;let LE=null;const g3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m3)return;const s=n==null?void 0:n.token;LE!==s&&(LE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _3(t=Zv()){const e=rm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Vj(t,{popupRedirectResolver:c3,persistence:[wH,uH,RC]}),r=wI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=g3(i.toString());rH(n,o,()=>o(n.currentUser)),nH(n,a=>o(a))}}const s=vI("auth");return s&&Uj(n,`http://${s}`),n}function v3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ni("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",v3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d3("Browser");function NC(t,e){return function(){return t.apply(e,arguments)}}const{toString:y3}=Object.prototype,{getPrototypeOf:I0}=Object,Lm=(t=>e=>{const n=y3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ns=t=>(t=t.toLowerCase(),e=>Lm(e)===t),$m=t=>e=>typeof e===t,{isArray:Bu}=Array,Lh=$m("undefined");function b3(t){return t!==null&&!Lh(t)&&t.constructor!==null&&!Lh(t.constructor)&&ps(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LC=Ns("ArrayBuffer");function w3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LC(t.buffer),e}const T3=$m("string"),ps=$m("function"),$C=$m("number"),Vm=t=>t!==null&&typeof t=="object",E3=t=>t===!0||t===!1,Nd=t=>{if(Lm(t)!=="object")return!1;const e=I0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},A3=Ns("Date"),I3=Ns("File"),S3=Ns("Blob"),P3=Ns("FileList"),R3=t=>Vm(t)&&ps(t.pipe),C3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ps(t.append)&&((e=Lm(t))==="formdata"||e==="object"&&ps(t.toString)&&t.toString()==="[object FormData]"))},D3=Ns("URLSearchParams"),[k3,O3,x3,M3]=["ReadableStream","Request","Response","Headers"].map(Ns),N3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Bu(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function VC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const FC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UC=t=>!Lh(t)&&t!==FC;function sv(){const{caseless:t}=UC(this)&&this||{},e={},n=(r,s)=>{const i=t&&VC(e,s)||s;Nd(e[i])&&Nd(r)?e[i]=sv(e[i],r):Nd(r)?e[i]=sv({},r):Bu(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&wf(arguments[r],n);return e}const L3=(t,e,n,{allOwnKeys:r}={})=>(wf(e,(s,i)=>{n&&ps(s)?t[i]=NC(s,n):t[i]=s},{allOwnKeys:r}),t),$3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),V3=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},F3=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&I0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},U3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},B3=t=>{if(!t)return null;if(Bu(t))return t;let e=t.length;if(!$C(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},j3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&I0(Uint8Array)),H3=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},z3=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Y3=Ns("HTMLFormElement"),q3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$E=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),W3=Ns("RegExp"),BC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};wf(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},G3=t=>{BC(t,(e,n)=>{if(ps(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ps(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},K3=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Bu(t)?r(t):r(String(t).split(e)),n},X3=()=>{},Q3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Lg="abcdefghijklmnopqrstuvwxyz",VE="0123456789",jC={DIGIT:VE,ALPHA:Lg,ALPHA_DIGIT:Lg+Lg.toUpperCase()+VE},J3=(t=16,e=jC.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Z3(t){return!!(t&&ps(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ez=t=>{const e=new Array(10),n=(r,s)=>{if(Vm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Bu(r)?[]:{};return wf(r,(o,a)=>{const l=n(o,s+1);!Lh(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},tz=Ns("AsyncFunction"),nz=t=>t&&(Vm(t)||ps(t))&&ps(t.then)&&ps(t.catch),Z={isArray:Bu,isArrayBuffer:LC,isBuffer:b3,isFormData:C3,isArrayBufferView:w3,isString:T3,isNumber:$C,isBoolean:E3,isObject:Vm,isPlainObject:Nd,isReadableStream:k3,isRequest:O3,isResponse:x3,isHeaders:M3,isUndefined:Lh,isDate:A3,isFile:I3,isBlob:S3,isRegExp:W3,isFunction:ps,isStream:R3,isURLSearchParams:D3,isTypedArray:j3,isFileList:P3,forEach:wf,merge:sv,extend:L3,trim:N3,stripBOM:$3,inherits:V3,toFlatObject:F3,kindOf:Lm,kindOfTest:Ns,endsWith:U3,toArray:B3,forEachEntry:H3,matchAll:z3,isHTMLForm:Y3,hasOwnProperty:$E,hasOwnProp:$E,reduceDescriptors:BC,freezeMethods:G3,toObjectSet:K3,toCamelCase:q3,noop:X3,toFiniteNumber:Q3,findKey:VC,global:FC,isContextDefined:UC,ALPHABET:jC,generateString:J3,isSpecCompliantForm:Z3,toJSONObject:ez,isAsyncFn:tz,isThenable:nz};function Ze(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}Z.inherits(Ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const HC=Ze.prototype,zC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zC[t]={value:t}});Object.defineProperties(Ze,zC);Object.defineProperty(HC,"isAxiosError",{value:!0});Ze.from=(t,e,n,r,s,i)=>{const o=Object.create(HC);return Z.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ze.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const rz=null;function iv(t){return Z.isPlainObject(t)||Z.isArray(t)}function YC(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function FE(t,e,n){return t?t.concat(e).map(function(s,i){return s=YC(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function sz(t){return Z.isArray(t)&&!t.some(iv)}const iz=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function Fm(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!Z.isUndefined(A[_])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Z.isDate(g))return g.toISOString();if(!l&&Z.isBlob(g))throw new Ze("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(g)||Z.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,_,A){let S=g;if(g&&!A&&typeof g=="object"){if(Z.endsWith(_,"{}"))_=r?_:_.slice(0,-2),g=JSON.stringify(g);else if(Z.isArray(g)&&sz(g)||(Z.isFileList(g)||Z.endsWith(_,"[]"))&&(S=Z.toArray(g)))return _=YC(_),S.forEach(function(k,O){!(Z.isUndefined(k)||k===null)&&e.append(o===!0?FE([_],O,i):o===null?_:_+"[]",u(k))}),!1}return iv(g)?!0:(e.append(FE(A,_,i),u(g)),!1)}const f=[],d=Object.assign(iz,{defaultVisitor:c,convertValue:u,isVisitable:iv});function p(g,_){if(!Z.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(g),Z.forEach(g,function(S,M){(!(Z.isUndefined(S)||S===null)&&s.call(e,S,Z.isString(M)?M.trim():M,_,d))===!0&&p(S,_?_.concat(M):[M])}),f.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return p(t),e}function UE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function S0(t,e){this._pairs=[],t&&Fm(t,this,e)}const qC=S0.prototype;qC.append=function(e,n){this._pairs.push([e,n])};qC.toString=function(e){const n=e?function(r){return e.call(this,r,UE)}:UE;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function oz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WC(t,e,n){if(!e)return t;const r=n&&n.encode||oz,s=n&&n.serialize;let i;if(s?i=s(e,n):i=Z.isURLSearchParams(e)?e.toString():new S0(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class BE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const GC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},az=typeof URLSearchParams<"u"?URLSearchParams:S0,lz=typeof FormData<"u"?FormData:null,uz=typeof Blob<"u"?Blob:null,cz={isBrowser:!0,classes:{URLSearchParams:az,FormData:lz,Blob:uz},protocols:["http","https","file","blob","url","data"]},P0=typeof window<"u"&&typeof document<"u",hz=(t=>P0&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),fz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dz=P0&&window.location.href||"http://localhost",pz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:P0,hasStandardBrowserEnv:hz,hasStandardBrowserWebWorkerEnv:fz,origin:dz},Symbol.toStringTag,{value:"Module"})),Cs={...pz,...cz};function mz(t,e){return Fm(t,new Cs.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Cs.isNode&&Z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function gz(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _z(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function KC(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&Z.isArray(s)?s.length:o,l?(Z.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!Z.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&Z.isArray(s[o])&&(s[o]=_z(s[o])),!a)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(r,s)=>{e(gz(r),s,n,0)}),n}return null}function vz(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Tf={transitional:GC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Z.isObject(e);if(i&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return s?JSON.stringify(KC(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mz(e,this.formSerializer).toString();if((a=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Fm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),vz(e)):e}],transformResponse:[function(e){const n=this.transitional||Tf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ze.from(a,Ze.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cs.classes.FormData,Blob:Cs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{Tf.headers[t]={}});const yz=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bz=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&yz[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jE=Symbol("internals");function hc(t){return t&&String(t).trim().toLowerCase()}function Ld(t){return t===!1||t==null?t:Z.isArray(t)?t.map(Ld):String(t)}function wz(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Tz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $g(t,e,n,r,s){if(Z.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function Ez(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Az(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Cr{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const c=hc(l);if(!c)throw new Error("header name must be a non-empty string");const f=Z.findKey(s,c);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=Ld(a))}const o=(a,l)=>Z.forEach(a,(u,c)=>i(u,c,l));if(Z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Z.isString(e)&&(e=e.trim())&&!Tz(e))o(bz(e),n);else if(Z.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=hc(e),e){const r=Z.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return wz(s);if(Z.isFunction(n))return n.call(this,s,r);if(Z.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hc(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$g(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=hc(o),o){const a=Z.findKey(r,o);a&&(!n||$g(r,r[a],a,n))&&(delete r[a],s=!0)}}return Z.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||$g(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return Z.forEach(this,(s,i)=>{const o=Z.findKey(r,i);if(o){n[o]=Ld(s),delete n[i];return}const a=e?Ez(i):String(i).trim();a!==i&&delete n[i],n[a]=Ld(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[jE]=this[jE]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=hc(o);r[a]||(Az(s,o),r[a]=!0)}return Z.isArray(e)?e.forEach(i):i(e),this}}Cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Cr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Z.freezeMethods(Cr);function Vg(t,e){const n=this||Tf,r=e||n,s=Cr.from(r.headers);let i=r.data;return Z.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function XC(t){return!!(t&&t.__CANCEL__)}function ju(t,e,n){Ze.call(this,t??"canceled",Ze.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(ju,Ze,{__CANCEL__:!0});function QC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ze("Request failed with status code "+n.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Iz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Sz(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let f=i,d=0;for(;f!==s;)d+=n[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(d*1e3/p):void 0}}function Pz(t,e){let n=0;const r=1e3/e;let s=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return s&&(clearTimeout(s),s=null),n=a,t.apply(null,arguments);s||(s=setTimeout(()=>(s=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Cp=(t,e,n=3)=>{let r=0;const s=Sz(50,250);return Pz(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),c=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:i,lengthComputable:a!=null};f[e?"download":"upload"]=!0,t(f)},n)},Rz=Cs.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=Z.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),Cz=Cs.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];Z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Z.isString(r)&&o.push("path="+r),Z.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dz(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kz(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function JC(t,e){return t&&!Dz(e)?kz(t,e):e}const HE=t=>t instanceof Cr?{...t}:t;function nl(t,e){e=e||{};const n={};function r(u,c,f){return Z.isPlainObject(u)&&Z.isPlainObject(c)?Z.merge.call({caseless:f},u,c):Z.isPlainObject(c)?Z.merge({},c):Z.isArray(c)?c.slice():c}function s(u,c,f){if(Z.isUndefined(c)){if(!Z.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function i(u,c){if(!Z.isUndefined(c))return r(void 0,c)}function o(u,c){if(Z.isUndefined(c)){if(!Z.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>s(HE(u),HE(c),!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||s,d=f(t[c],e[c],c);Z.isUndefined(d)&&f!==a||(n[c]=d)}),n}const ZC=t=>{const e=nl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Cr.from(o),e.url=WC(JC(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Z.isFormData(n)){if(Cs.hasStandardBrowserEnv||Cs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Cs.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&Rz(e.url))){const u=s&&i&&Cz.read(i);u&&o.set(s,u)}return e},Oz=typeof XMLHttpRequest<"u",xz=Oz&&function(t){return new Promise(function(n,r){const s=ZC(t);let i=s.data;const o=Cr.from(s.headers).normalize();let{responseType:a}=s,l;function u(){s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(s.method.toUpperCase(),s.url,!0),c.timeout=s.timeout;function f(){if(!c)return;const p=Cr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};QC(function(S){n(S),u()},function(S){r(S),u()},_),c=null}"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new Ze("Request aborted",Ze.ECONNABORTED,s,c)),c=null)},c.onerror=function(){r(new Ze("Network Error",Ze.ERR_NETWORK,s,c)),c=null},c.ontimeout=function(){let g=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||GC;s.timeoutErrorMessage&&(g=s.timeoutErrorMessage),r(new Ze(g,_.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,s,c)),c=null},i===void 0&&o.setContentType(null),"setRequestHeader"in c&&Z.forEach(o.toJSON(),function(g,_){c.setRequestHeader(_,g)}),Z.isUndefined(s.withCredentials)||(c.withCredentials=!!s.withCredentials),a&&a!=="json"&&(c.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&c.addEventListener("progress",Cp(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Cp(s.onUploadProgress)),(s.cancelToken||s.signal)&&(l=p=>{c&&(r(!p||p.type?new ju(null,t,c):p),c.abort(),c=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const d=Iz(s.url);if(d&&Cs.protocols.indexOf(d)===-1){r(new Ze("Unsupported protocol "+d+":",Ze.ERR_BAD_REQUEST,t));return}c.send(i||null)})},Mz=(t,e)=>{let n=new AbortController,r;const s=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof Ze?u:new ju(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{s(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",s):l.unsubscribe(s))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{i&&clearTimeout(i),i=null}]},Nz=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Lz=async function*(t,e,n){for await(const r of t)yield*Nz(ArrayBuffer.isView(r)?r:await n(String(r)),e)},zE=(t,e,n,r,s)=>{const i=Lz(t,e,s);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:u}=await i.next();if(l){a.close(),r();return}let c=u.byteLength;n&&n(o+=c),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),i.return()}},{highWaterMark:2})},YE=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},Um=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eD=Um&&typeof ReadableStream=="function",ov=Um&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),$z=eD&&(()=>{let t=!1;const e=new Request(Cs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),qE=64*1024,av=eD&&!!(()=>{try{return Z.isReadableStream(new Response("").body)}catch{}})(),Dp={stream:av&&(t=>t.body)};Um&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dp[e]&&(Dp[e]=Z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ze(`Response type '${e}' is not supported`,Ze.ERR_NOT_SUPPORT,r)})})})(new Response);const Vz=async t=>{if(t==null)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Z.isArrayBufferView(t))return t.byteLength;if(Z.isURLSearchParams(t)&&(t=t+""),Z.isString(t))return(await ov(t)).byteLength},Fz=async(t,e)=>{const n=Z.toFiniteNumber(t.getContentLength());return n??Vz(e)},Uz=Um&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:d}=ZC(t);u=u?(u+"").toLowerCase():"text";let[p,g]=s||i||o?Mz([s,i],o):[],_,A;const S=()=>{!_&&setTimeout(()=>{p&&p.unsubscribe()}),_=!0};let M;try{if(l&&$z&&n!=="get"&&n!=="head"&&(M=await Fz(c,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),T;Z.isFormData(r)&&(T=N.headers.get("content-type"))&&c.setContentType(T),N.body&&(r=zE(N.body,qE,YE(M,Cp(l)),null,ov))}Z.isString(f)||(f=f?"cors":"omit"),A=new Request(e,{...d,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",withCredentials:f});let k=await fetch(A);const O=av&&(u==="stream"||u==="response");if(av&&(a||O)){const N={};["status","statusText","headers"].forEach(w=>{N[w]=k[w]});const T=Z.toFiniteNumber(k.headers.get("content-length"));k=new Response(zE(k.body,qE,a&&YE(T,Cp(a,!0)),O&&S,ov),N)}u=u||"text";let x=await Dp[Z.findKey(Dp,u)||"text"](k,t);return!O&&S(),g&&g(),await new Promise((N,T)=>{QC(N,T,{data:x,headers:Cr.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:A})})}catch(k){throw S(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,t,A),{cause:k.cause||k}):Ze.from(k,k&&k.code,t,A)}}),lv={http:rz,xhr:xz,fetch:Uz};Z.forEach(lv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const WE=t=>`- ${t}`,Bz=t=>Z.isFunction(t)||t===null||t===!1,tD={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!Bz(n)&&(r=lv[(o=String(n)).toLowerCase()],r===void 0))throw new Ze(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(WE).join(`
`):" "+WE(i[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:lv};function Fg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ju(null,t)}function GE(t){return Fg(t),t.headers=Cr.from(t.headers),t.data=Vg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tD.getAdapter(t.adapter||Tf.adapter)(t).then(function(r){return Fg(t),r.data=Vg.call(t,t.transformResponse,r),r.headers=Cr.from(r.headers),r},function(r){return XC(r)||(Fg(t),r&&r.response&&(r.response.data=Vg.call(t,t.transformResponse,r.response),r.response.headers=Cr.from(r.response.headers))),Promise.reject(r)})}const nD="1.7.2",R0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{R0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const KE={};R0.transitional=function(e,n,r){function s(i,o){return"[Axios v"+nD+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Ze(s(o," has been removed"+(n?" in "+n:"")),Ze.ERR_DEPRECATED);return n&&!KE[o]&&(KE[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function jz(t,e,n){if(typeof t!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Ze("option "+i+" must be "+l,Ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ze("Unknown option "+i,Ze.ERR_BAD_OPTION)}}const uv={assertOptions:jz,validators:R0},ro=uv.validators;class $a{constructor(e){this.defaults=e,this.interceptors={request:new BE,response:new BE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=nl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&uv.assertOptions(r,{silentJSONParsing:ro.transitional(ro.boolean),forcedJSONParsing:ro.transitional(ro.boolean),clarifyTimeoutError:ro.transitional(ro.boolean)},!1),s!=null&&(Z.isFunction(s)?n.paramsSerializer={serialize:s}:uv.assertOptions(s,{encode:ro.function,serialize:ro.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Z.merge(i.common,i[n.method]);i&&Z.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Cr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,f=0,d;if(!l){const g=[GE.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),d=g.length,c=Promise.resolve(n);f<d;)c=c.then(g[f++],g[f++]);return c}d=a.length;let p=n;for(f=0;f<d;){const g=a[f++],_=a[f++];try{p=g(p)}catch(A){_.call(this,A);break}}try{c=GE.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=nl(this.defaults,e);const n=JC(e.baseURL,e.url);return WC(n,e.params,e.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(e){$a.prototype[e]=function(n,r){return this.request(nl(r||{},{method:e,url:n,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(nl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}$a.prototype[e]=n(),$a.prototype[e+"Form"]=n(!0)});class C0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new ju(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new C0(function(s){e=s}),cancel:e}}}function Hz(t){return function(n){return t.apply(null,n)}}function zz(t){return Z.isObject(t)&&t.isAxiosError===!0}const cv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cv).forEach(([t,e])=>{cv[e]=t});function rD(t){const e=new $a(t),n=NC($a.prototype.request,e);return Z.extend(n,$a.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return rD(nl(t,s))},n}const bn=rD(Tf);bn.Axios=$a;bn.CanceledError=ju;bn.CancelToken=C0;bn.isCancel=XC;bn.VERSION=nD;bn.toFormData=Fm;bn.AxiosError=Ze;bn.Cancel=bn.CanceledError;bn.all=function(e){return Promise.all(e)};bn.spread=Hz;bn.isAxiosError=zz;bn.mergeConfig=nl;bn.AxiosHeaders=Cr;bn.formToJSON=t=>KC(Z.isHTMLForm(t)?new FormData(t):t);bn.getAdapter=tD.getAdapter;bn.HttpStatusCode=cv;bn.default=bn;const Yz="https://api.themoviedb.org/3/",qz={accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNDRkZWY0OTZkMGMzODdmMDZiNjMyZGYzZjZjYjIwZSIsIm5iZiI6MTcxOTQ3MDM2Mi44OTUzNDksInN1YiI6IjYwNGYzM2NmODcxYjM0MDAzYzk0NDg5ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.GK8vrQP-AmlzaFayj4cNG2zwKd9XpRZdn4NnjxhNV5w"},sD=async({path:t,method:e="get",opts:n})=>{let r=`${Yz+t}`;return console.log(n),await bn({method:e,url:r,...n,headers:qz})},Wz="modulepreload",Gz=function(t){return"/movie-record-vue-v2/"+t},XE={},Dl=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(a=>{if(a=Gz(a),a in XE)return;XE[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":Wz,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((f,d)=>{c.addEventListener("load",f),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Vl=typeof document<"u";function Kz(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const At=Object.assign;function Ug(t,e){const n={};for(const r in e){const s=e[r];n[r]=xs(s)?s.map(t):t(s)}return n}const nh=()=>{},xs=Array.isArray,iD=/#/g,Xz=/&/g,Qz=/\//g,Jz=/=/g,Zz=/\?/g,oD=/\+/g,e9=/%5B/g,t9=/%5D/g,aD=/%5E/g,n9=/%60/g,lD=/%7B/g,r9=/%7C/g,uD=/%7D/g,s9=/%20/g;function D0(t){return encodeURI(""+t).replace(r9,"|").replace(e9,"[").replace(t9,"]")}function i9(t){return D0(t).replace(lD,"{").replace(uD,"}").replace(aD,"^")}function hv(t){return D0(t).replace(oD,"%2B").replace(s9,"+").replace(iD,"%23").replace(Xz,"%26").replace(n9,"`").replace(lD,"{").replace(uD,"}").replace(aD,"^")}function o9(t){return hv(t).replace(Jz,"%3D")}function a9(t){return D0(t).replace(iD,"%23").replace(Zz,"%3F")}function l9(t){return t==null?"":a9(t).replace(Qz,"%2F")}function $h(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const u9=/\/$/,c9=t=>t.replace(u9,"");function Bg(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=p9(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:$h(o)}}function h9(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function QE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function f9(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&vu(e.matched[r],n.matched[s])&&cD(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function vu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function cD(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!d9(t[n],e[n]))return!1;return!0}function d9(t,e){return xs(t)?JE(t,e):xs(e)?JE(e,t):t===e}function JE(t,e){return xs(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function p9(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const so={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vh;(function(t){t.pop="pop",t.push="push"})(Vh||(Vh={}));var rh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rh||(rh={}));function m9(t){if(!t)if(Vl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),c9(t)}const g9=/^[^#]+#/;function _9(t,e){return t.replace(g9,"#")+e}function v9(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Bm=()=>({left:window.scrollX,top:window.scrollY});function y9(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=v9(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ZE(t,e){return(history.state?history.state.position-e:-1)+t}const fv=new Map;function b9(t,e){fv.set(t,e)}function w9(t){const e=fv.get(t);return fv.delete(t),e}let T9=()=>location.protocol+"//"+location.host;function hD(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),QE(l,"")}return QE(n,t)+r+s}function E9(t,e,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const p=hD(t,location),g=n.value,_=e.value;let A=0;if(d){if(n.value=p,e.value=d,o&&o===g){o=null;return}A=_?d.position-_.position:0}else r(p);s.forEach(S=>{S(n.value,g,{delta:A,type:Vh.pop,direction:A?A>0?rh.forward:rh.back:rh.unknown})})};function l(){o=n.value}function u(d){s.push(d);const p=()=>{const g=s.indexOf(d);g>-1&&s.splice(g,1)};return i.push(p),p}function c(){const{history:d}=window;d.state&&d.replaceState(At({},d.state,{scroll:Bm()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function e1(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Bm():null}}function A9(t){const{history:e,location:n}=window,r={value:hD(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:T9()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),s.value=u}catch(p){console.error(p),n[c?"replace":"assign"](d)}}function o(l,u){const c=At({},e.state,e1(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=At({},s.value,e.state,{forward:l,scroll:Bm()});i(c.current,c,!0);const f=At({},e1(r.value,l,null),{position:c.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function I9(t){t=m9(t);const e=A9(t),n=E9(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=At({location:"",base:t,go:r,createHref:_9.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function S9(t){return typeof t=="string"||t&&typeof t=="object"}function fD(t){return typeof t=="string"||typeof t=="symbol"}const dD=Symbol("");var t1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(t1||(t1={}));function yu(t,e){return At(new Error,{type:t,[dD]:!0},e)}function yi(t,e){return t instanceof Error&&dD in t&&(e==null||!!(t.type&e))}const n1="[^/]+?",P9={sensitive:!1,strict:!1,start:!0,end:!0},R9=/[.+*?^${}()[\]/\\]/g;function C9(t,e){const n=At({},P9,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const d=u[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(R9,"\\$&"),p+=40;else if(d.type===1){const{value:g,repeatable:_,optional:A,regexp:S}=d;i.push({name:g,repeatable:_,optional:A});const M=S||n1;if(M!==n1){p+=10;try{new RegExp(`(${M})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${g}" (${M}): `+O.message)}}let k=_?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;f||(k=A&&u.length<2?`(?:/${k})`:"/"+k),A&&(k+="?"),s+=k,p+=20,A&&(p+=-8),_&&(p+=-20),M===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",g=i[d-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:_,optional:A}=p,S=g in u?u[g]:"";if(xs(S)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const M=xs(S)?S.join("/"):S;if(!M)if(A)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);c+=M}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function D9(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function pD(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=D9(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(r1(r))return 1;if(r1(s))return-1}return s.length-r.length}function r1(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const k9={type:0,value:""},O9=/[a-zA-Z0-9_]/;function x9(t){if(!t)return[[]];if(t==="/")return[[k9]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:O9.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function M9(t,e,n){const r=C9(x9(t.path),n),s=At(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function N9(t,e){const n=[],r=new Map;e=o1({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,d,p){const g=!p,_=L9(f);_.aliasOf=p&&p.record;const A=o1(e,f),S=[_];if("alias"in f){const O=typeof f.alias=="string"?[f.alias]:f.alias;for(const x of O)S.push(At({},_,{components:p?p.record.components:_.components,path:x,aliasOf:p?p.record:_}))}let M,k;for(const O of S){const{path:x}=O;if(d&&x[0]!=="/"){const N=d.record.path,T=N[N.length-1]==="/"?"":"/";O.path=d.record.path+(x&&T+x)}if(M=M9(O,d,A),p?p.alias.push(M):(k=k||M,k!==M&&k.alias.push(M),g&&f.name&&!i1(M)&&o(f.name)),mD(M)&&l(M),_.children){const N=_.children;for(let T=0;T<N.length;T++)i(N[T],M,p&&p.children[T])}p=p||M}return k?()=>{o(k)}:nh}function o(f){if(fD(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=F9(f,n);n.splice(d,0,f),f.record.name&&!i1(f)&&r.set(f.record.name,f)}function u(f,d){let p,g={},_,A;if("name"in f&&f.name){if(p=r.get(f.name),!p)throw yu(1,{location:f});A=p.record.name,g=At(s1(d.params,p.keys.filter(k=>!k.optional).concat(p.parent?p.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),f.params&&s1(f.params,p.keys.map(k=>k.name))),_=p.stringify(g)}else if(f.path!=null)_=f.path,p=n.find(k=>k.re.test(_)),p&&(g=p.parse(_),A=p.record.name);else{if(p=d.name?r.get(d.name):n.find(k=>k.re.test(d.path)),!p)throw yu(1,{location:f,currentLocation:d});A=p.record.name,g=At({},d.params,f.params),_=p.stringify(g)}const S=[];let M=p;for(;M;)S.unshift(M.record),M=M.parent;return{name:A,path:_,params:g,matched:S,meta:V9(S)}}t.forEach(f=>i(f));function c(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:s}}function s1(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function L9(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$9(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function $9(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function i1(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function V9(t){return t.reduce((e,n)=>At(e,n.meta),{})}function o1(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function F9(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;pD(t,e[i])<0?r=i:n=i+1}const s=U9(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function U9(t){let e=t;for(;e=e.parent;)if(mD(e)&&pD(t,e)===0)return e}function mD({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function B9(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(oD," "),o=i.indexOf("="),a=$h(o<0?i:i.slice(0,o)),l=o<0?null:$h(i.slice(o+1));if(a in e){let u=e[a];xs(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function a1(t){let e="";for(let n in t){const r=t[n];if(n=o9(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(xs(r)?r.map(i=>i&&hv(i)):[r&&hv(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function j9(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=xs(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const H9=Symbol(""),l1=Symbol(""),jm=Symbol(""),k0=Symbol(""),dv=Symbol("");function fc(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ho(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(yu(4,{from:n,to:e})):d instanceof Error?l(d):S9(d)?l(yu(2,{from:e,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function jg(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(z9(l)){const c=(l.__vccOpts||l)[e];c&&i.push(ho(c,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=Kz(c)?c.default:c;o.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&ho(p,n,r,o,a,s)()}))}}return i}function z9(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function u1(t){const e=Ln(jm),n=Ln(k0),r=X(()=>{const l=K(t.to);return e.resolve(l)}),s=X(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(vu.bind(null,c));if(d>-1)return d;const p=c1(l[u-2]);return u>1&&c1(c)===p&&f[f.length-1].path!==p?f.findIndex(vu.bind(null,l[u-2])):d}),i=X(()=>s.value>-1&&G9(n.params,r.value.params)),o=X(()=>s.value>-1&&s.value===n.matched.length-1&&cD(n.params,r.value.params));function a(l={}){return W9(l)?e[K(t.replace)?"replace":"push"](K(t.to)).catch(nh):Promise.resolve()}return{route:r,href:X(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const Y9=zt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:u1,setup(t,{slots:e}){const n=wr(u1(t)),{options:r}=Ln(jm),s=X(()=>({[h1(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[h1(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:a0("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),q9=Y9;function W9(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function G9(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!xs(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function c1(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const h1=(t,e,n)=>t??e??n,K9=zt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ln(dv),s=X(()=>t.route||r.value),i=Ln(l1,0),o=X(()=>{let u=K(i);const{matched:c}=s.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=X(()=>s.value.matched[o.value]);Mi(l1,X(()=>o.value+1)),Mi(H9,a),Mi(dv,s);const l=xe();return lt(()=>[l.value,a.value,t.name],([u,c,f],[d,p,g])=>{c&&(c.instances[f]=u,p&&p!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!vu(c,p)||!d)&&(c.enterCallbacks[f]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=s.value,c=t.name,f=a.value,d=f&&f.components[c];if(!d)return f1(n.default,{Component:d,route:u});const p=f.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=a0(d,At({},g,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return f1(n.default,{Component:A,route:u})||A}}});function f1(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const gD=K9;function X9(t){const e=N9(t.routes,t),n=t.parseQuery||B9,r=t.stringifyQuery||a1,s=t.history,i=fc(),o=fc(),a=fc(),l=mF(so);let u=so;Vl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ug.bind(null,z=>""+z),f=Ug.bind(null,l9),d=Ug.bind(null,$h);function p(z,ae){let W,ne;return fD(z)?(W=e.getRecordMatcher(z),ne=ae):ne=z,e.addRoute(ne,W)}function g(z){const ae=e.getRecordMatcher(z);ae&&e.removeRoute(ae)}function _(){return e.getRoutes().map(z=>z.record)}function A(z){return!!e.getRecordMatcher(z)}function S(z,ae){if(ae=At({},ae||l.value),typeof z=="string"){const L=Bg(n,z,ae.path),Y=e.resolve({path:L.path},ae),Q=s.createHref(L.fullPath);return At(L,Y,{params:d(Y.params),hash:$h(L.hash),redirectedFrom:void 0,href:Q})}let W;if(z.path!=null)W=At({},z,{path:Bg(n,z.path,ae.path).path});else{const L=At({},z.params);for(const Y in L)L[Y]==null&&delete L[Y];W=At({},z,{params:f(L)}),ae.params=f(ae.params)}const ne=e.resolve(W,ae),me=z.hash||"";ne.params=c(d(ne.params));const Re=h9(r,At({},z,{hash:i9(me),path:ne.path})),D=s.createHref(Re);return At({fullPath:Re,hash:me,query:r===a1?j9(z.query):z.query||{}},ne,{redirectedFrom:void 0,href:D})}function M(z){return typeof z=="string"?Bg(n,z,l.value.path):At({},z)}function k(z,ae){if(u!==z)return yu(8,{from:ae,to:z})}function O(z){return T(z)}function x(z){return O(At(M(z),{replace:!0}))}function N(z){const ae=z.matched[z.matched.length-1];if(ae&&ae.redirect){const{redirect:W}=ae;let ne=typeof W=="function"?W(z):W;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=M(ne):{path:ne},ne.params={}),At({query:z.query,hash:z.hash,params:ne.path!=null?{}:z.params},ne)}}function T(z,ae){const W=u=S(z),ne=l.value,me=z.state,Re=z.force,D=z.replace===!0,L=N(W);if(L)return T(At(M(L),{state:typeof L=="object"?At({},me,L.state):me,force:Re,replace:D}),ae||W);const Y=W;Y.redirectedFrom=ae;let Q;return!Re&&f9(r,ne,W)&&(Q=yu(16,{to:Y,from:ne}),ue(ne,ne,!0,!1)),(Q?Promise.resolve(Q):I(Y,ne)).catch($=>yi($)?yi($,2)?$:R($):H($,Y,ne)).then($=>{if($){if(yi($,2))return T(At({replace:D},M($.to),{state:typeof $.to=="object"?At({},me,$.to.state):me,force:Re}),ae||Y)}else $=y(Y,ne,!0,D,me);return P(Y,ne,$),$})}function w(z,ae){const W=k(z,ae);return W?Promise.reject(W):Promise.resolve()}function b(z){const ae=ge.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(z):z()}function I(z,ae){let W;const[ne,me,Re]=Q9(z,ae);W=jg(ne.reverse(),"beforeRouteLeave",z,ae);for(const L of ne)L.leaveGuards.forEach(Y=>{W.push(ho(Y,z,ae))});const D=w.bind(null,z,ae);return W.push(D),De(W).then(()=>{W=[];for(const L of i.list())W.push(ho(L,z,ae));return W.push(D),De(W)}).then(()=>{W=jg(me,"beforeRouteUpdate",z,ae);for(const L of me)L.updateGuards.forEach(Y=>{W.push(ho(Y,z,ae))});return W.push(D),De(W)}).then(()=>{W=[];for(const L of Re)if(L.beforeEnter)if(xs(L.beforeEnter))for(const Y of L.beforeEnter)W.push(ho(Y,z,ae));else W.push(ho(L.beforeEnter,z,ae));return W.push(D),De(W)}).then(()=>(z.matched.forEach(L=>L.enterCallbacks={}),W=jg(Re,"beforeRouteEnter",z,ae,b),W.push(D),De(W))).then(()=>{W=[];for(const L of o.list())W.push(ho(L,z,ae));return W.push(D),De(W)}).catch(L=>yi(L,8)?L:Promise.reject(L))}function P(z,ae,W){a.list().forEach(ne=>b(()=>ne(z,ae,W)))}function y(z,ae,W,ne,me){const Re=k(z,ae);if(Re)return Re;const D=ae===so,L=Vl?history.state:{};W&&(ne||D?s.replace(z.fullPath,At({scroll:D&&L&&L.scroll},me)):s.push(z.fullPath,me)),l.value=z,ue(z,ae,W,D),R()}let E;function B(){E||(E=s.listen((z,ae,W)=>{if(!Ce.listening)return;const ne=S(z),me=N(ne);if(me){T(At(me,{replace:!0}),ne).catch(nh);return}u=ne;const Re=l.value;Vl&&b9(ZE(Re.fullPath,W.delta),Bm()),I(ne,Re).catch(D=>yi(D,12)?D:yi(D,2)?(T(D.to,ne).then(L=>{yi(L,20)&&!W.delta&&W.type===Vh.pop&&s.go(-1,!1)}).catch(nh),Promise.reject()):(W.delta&&s.go(-W.delta,!1),H(D,ne,Re))).then(D=>{D=D||y(ne,Re,!1),D&&(W.delta&&!yi(D,8)?s.go(-W.delta,!1):W.type===Vh.pop&&yi(D,20)&&s.go(-1,!1)),P(ne,Re,D)}).catch(nh)}))}let U=fc(),F=fc(),j;function H(z,ae,W){R(z);const ne=F.list();return ne.length?ne.forEach(me=>me(z,ae,W)):console.error(z),Promise.reject(z)}function ee(){return j&&l.value!==so?Promise.resolve():new Promise((z,ae)=>{U.add([z,ae])})}function R(z){return j||(j=!z,B(),U.list().forEach(([ae,W])=>z?W(z):ae()),U.reset()),z}function ue(z,ae,W,ne){const{scrollBehavior:me}=t;if(!Vl||!me)return Promise.resolve();const Re=!W&&w9(ZE(z.fullPath,0))||(ne||!W)&&history.state&&history.state.scroll||null;return An().then(()=>me(z,ae,Re)).then(D=>D&&y9(D)).catch(D=>H(D,z,ae))}const te=z=>s.go(z);let ve;const ge=new Set,Ce={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:_,resolve:S,options:t,push:O,replace:x,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:F.add,isReady:ee,install(z){const ae=this;z.component("RouterLink",q9),z.component("RouterView",gD),z.config.globalProperties.$router=ae,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>K(l)}),Vl&&!ve&&l.value===so&&(ve=!0,O(s.location).catch(me=>{}));const W={};for(const me in so)Object.defineProperty(W,me,{get:()=>l.value[me],enumerable:!0});z.provide(jm,ae),z.provide(k0,jl(W)),z.provide(dv,l);const ne=z.unmount;ge.add(z),z.unmount=function(){ge.delete(z),ge.size<1&&(u=so,E&&E(),E=null,l.value=so,ve=!1,j=!1),ne()}}};function De(z){return z.reduce((ae,W)=>ae.then(()=>b(W)),Promise.resolve())}return Ce}function Q9(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>vu(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>vu(u,l))||s.push(l))}return[n,r,s]}function J9(){return Ln(jm)}function Z9(t){return Ln(k0)}const gl=X9({history:I9("/movie-record-vue-v2/"),routes:[{path:"/:pathMatch(.*)*",redirect:"login"},{path:"/",name:"Home",component:()=>Dl(()=>import("./index-Cs0QxrLH.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:()=>Dl(()=>import("./login-BCNEVyW1.js"),__vite__mapDeps([2,3]))},{path:"/register",name:"register",component:()=>Dl(()=>import("./register-CFvntCgr.js"),__vite__mapDeps([4,5]))},{path:"/search",name:"search",component:()=>Dl(()=>import("./search-BCmWxP4v.js"),__vite__mapDeps([6,1])),meta:{requiresAuth:!0}},{path:"/:mediaType/:mediaID",name:"searched",component:()=>Dl(()=>import("./search-detail-rlacqE3g.js"),__vite__mapDeps([7,8])),meta:{requiresAuth:!0}},{path:"/list/:id",name:"MovieDetail",component:()=>Dl(()=>import("./movie-detail-BUm8hgeH.js"),__vite__mapDeps([9,10])),meta:{requiresAuth:!0}}]});gl.beforeEach(async(t,e)=>{if(console.log(t.fullPath),!(t.fullPath==="/login"||t.fullPath==="/register"))try{const n=await _D();return t.meta.requiresAuth&&n,void 0}catch{return t.fullPath==="/login"?"/login":t.fullPath==="/register"?"/register":"/login"}});const Hm=BR("global",{state:()=>({user:{}}),getters:{},actions:{setUserStatus(t){this.user=t}}}),O0={28:"動作",12:"冒險",16:"動畫",35:"喜劇",80:"犯罪",99:"紀錄",18:"劇情",10751:"家庭",14:"奇幻",36:"歷史",27:"恐怖",10402:"音樂",9648:"懸疑",10749:"愛情",878:"科學",10770:"電視電影",53:"驚悚",10752:"戰爭",37:"西部",10759:"動作冒險",10762:"兒童",10763:"新聞",10764:"真人秀",10765:"科幻與奇幻",10766:"肥皂劇",10767:"脱口秀",10768:"戰爭與政治"},eY=Object.entries(O0).map(([t,e])=>({id:Number(t),label:e})),Iae=async t=>sD({path:"search/multi",opts:t}),Sae=async(t,e)=>sD({path:t,opts:e}),_l=Z$(),Fh=_3(),vl=()=>Hm().user.email,_D=async()=>{const t=Hm();return new Promise((e,n)=>{sH(Fh,r=>{r?(t.setUserStatus(r),e(r.email)):n(r)})})},Pae=async(t,e)=>tH(Fh,t,e).then(n=>{console.log(Fh,t,e);const r=n.user;console.log(r),gl.push({path:"/"})}).catch(n=>(console.log(n.code),n.code)),d1=()=>{const t=Hm();iH(Fh).then(()=>{gl.push("/login"),t.user={},console.log("登出成功，跳回首頁")}).catch(e=>{console.log("登出失敗",e)})},Rae=(t,e)=>{eH(Fh,t,e).then(n=>{const r=n.user;iP(uf(_l,"users",r.email),{uuid:r.uid,email:r.email}),gl.push("/")}).catch(n=>{console.log("error: ",n)})},Cae=async(t,e)=>{const{selectedStatusLists:n,selectedYearLists:r,selectedCategoryLists:s,selectedCountryLists:i,order:o}=e,a=vl(),l=[];if(t&&l.push(oa("type","==",t)),n.length>0){const f=n.indexOf("favorite"),d=n.indexOf("watched"),p=n.indexOf("to_be_watching");f!==-1&&l.push(oa("favorite","==",!0)),d!==-1&&l.push(oa("watched","==",!0)),p!==-1&&l.push(oa("watched","==",!1))}r.length>0&&l.push(oa("year","in",r)),i.length>0&&l.push(oa("country","in",i)),s.length>0&&l.push(oa("categoryList","array-contains-any",s));const u=JS(Ey(_l,`users/${a}/post`),...l,ZS("createAt",o)),c=await sP(u);return console.log(c),c.docs},Dae=async t=>{try{const e=vl();if(e){const n=await f2(uf(_l,`users/${e}/post`,`${t}`));if(n.exists())return n.data();gl.push("/"),console.log("No such document!")}}catch(e){console.log(e)}},tY=async()=>{const t=await vl(),e=JS(Ey(_l,`users/${t}/post`),ZS("year","asc")),n=await sP(e),r=new Set,s=new Set,i=new Set;n.docs.forEach(u=>{r.add(u.data().year),s.add(u.data().country),u.data().categoryList.forEach(f=>{i.add(f.id)})});const o=Array.from(r),a=Array.from(s),l=Array.from(i).map(u=>({label:O0[u],id:u}));return{yearOptLists:o,countryOtpLists:a,categoryOtpList:l}},nY=async t=>{const e=vl();if(e)try{await p2(Ey(_l,`users/${e}`,"post"),{...t,createAt:new Date().getTime()})}catch(n){console.log(n)}},rY=async t=>{const e=vl();return await AV(SV(xV,`images/${e}/${t.name}`),t).then(async n=>await IV(n.ref))},kae=async(t,e)=>{const n=vl();await iP(uf(_l,`users/${n}/post/${t}`),e,{merge:!0})},Oae=async t=>{const e=vl();await d2(uf(_l,`users/${e}/post/`,t)),gl.push("/")},sY=BR("filter",{state:()=>({yearLists:[],countryLists:[],categoryLists:[],currOrder:"desc",currStatusLists:[],currYearLists:[],currCategoryLists:[],currCountyLists:[]}),getters:{getFilterList:t=>({selectedStatusLists:t.currStatusLists,selectedYearLists:t.currYearLists,selectedCategoryLists:t.currCategoryLists,selectedCountryLists:t.currCountyLists,order:t.currOrder})},actions:{async setFilterLists(){const{yearOptLists:t,countryOtpLists:e,categoryOtpList:n}=await tY();this.yearLists=t,this.countryLists=e,this.categoryLists=n},setOrder(t){this.currOrder=t},setCurrStatusList(t){this.currStatusLists=t},setCurrYearLists(t){this.currYearLists=t},setCurrCategoryLists(t){this.currCategoryLists=t},setCurrCountryLists(t){this.currCountyLists=t}}}),iY="/movie-record-vue-v2/images/register-logo.png",oY=["type","placeholder"],Hg={__name:"input",props:lR({placeholder:{type:String},type:{type:String,default:"text"}},{text:{},textModifiers:{}}),emits:["update:text"],setup(t){const e=xR(t,"text");return(n,r)=>Sr((ie(),Se("input",{type:t.type,class:"w-full rounded-none border-b bg-transparent px-1 py-2 text-white placeholder:text-placeholder focus:outline-none",placeholder:t.placeholder,"onUpdate:modelValue":r[0]||(r[0]=s=>e.value=s)},null,8,oY)),[[lB,e.value]])}},aY=["disabled"],lY={__name:"button",props:{text:{type:String},disable:{type:Boolean,default:!1}},setup(t){return(e,n)=>(ie(),Se("button",{class:"text-body-l-semibold w-full rounded-[8px] border border-primary py-2 text-center text-primary disabled:border-disable disabled:text-disable md:max-w-[329px]",disabled:!t.disable},It(t.text),9,aY))}},uY={class:"relative"},cY={class:"group flex items-center"},hY=pe("i",{class:"icon-file-arrow-ip text-[24px]"},null,-1),fY={class:"dropdown-image group ml-2 flex-1 px-2"},dY={class:"absolute left-0 top-[-395px] z-10 hidden size-[80%] group-hover:block"},pY=["src"],mY={class:"cursor-pointer"},gY={key:0,class:"text-primary"},_Y={key:1,class:"text-primary"},vY={__name:"upload-image",props:{imgUrl:{type:String},movieName:{type:String}},emits:["imageData"],setup(t,{emit:e}){const n=e,r=t,s=xe(null),i=xe("上傳海報"),o=xe("");xe(!1),r.movieName&&r.imgUrl&&(i.value=r.movieName,o.value=r.imgUrl);const a=l=>{s.value=l.target.files[0],i.value=l.target.files[0].name;const u=new FileReader;u.readAsDataURL(s.value),u.onload=c=>{o.value=c.target.result;let f=new Image;f.src=c.target.result,f.onload=()=>{const d=f.width,p=f.height;if(d>p){alert("圖片比例不對"),o.value="";return}d<420&&p<500&&(o.value="",alert("圖片尺寸沒有420 * 500 "))}},n("imageData",s.value)};return(l,u)=>(ie(),Se("div",uY,[pe("div",cY,[hY,pe("div",fY,[pe("p",null,It(i.value),1),pe("div",dY,[pe("img",{src:o.value,alt:""},null,8,pY)])]),pe("label",mY,[o.value?(ie(),Se("p",_Y,"更換圖片")):(ie(),Se("p",gY,"選擇圖片")),pe("input",{type:"file",accept:"image/*",class:"hidden",onChange:a},null,32)])])]))}},yY={key:0,class:"absolute size-full rounded-[4px] bg-primary"},bY=pe("i",{class:"icon-check text-[20px] text-second"},null,-1),wY=[bY],p1={__name:"checkbox",props:{title:{type:String},current:{type:Boolean,default:()=>!1}},emits:["selected"],setup(t,{emit:e}){const n=t,r=e,s=xe(n.current),i=()=>{s.value=!s.value,r("selected",s.value)};return(o,a)=>(ie(),Se("div",{onClick:a[0]||(a[0]=l=>i()),class:"flex cursor-pointer items-center justify-between"},[pe("p",null,It(t.title),1),pe("div",{class:Pt(["relative size-[20px] rounded-[4px]",{border:!s.value}])},[s.value?(ie(),Se("div",yY,wY)):rt("",!0)],2)]))}},TY={class:"flex justify-between"},EY=pe("p",null,"評分",-1),AY={class:"flex"},IY=["onMouseenter","onClick"],SY={class:"flex"},PY={key:0},RY=pe("i",{class:"icon-star text-[24px]"},null,-1),CY=[RY],DY={key:1},kY=pe("i",{class:"icon-star-fill text-[24px]"},null,-1),OY=[kY],xY={__name:"star",props:{current:{type:Number}},emits:["selected"],setup(t,{emit:e}){const n=t,r=e,s=xe(!1),i=xe(0);n.current&&(i.value=n.current,s.value=!0);const o=u=>{s.value=!s.value,i.value=u,s.value?r("selected",i.value):r("selected",0)},a=u=>{s.value||(i.value=u)},l=()=>{s.value||(i.value=-1)};return(u,c)=>(ie(),Se("div",TY,[EY,pe("div",AY,[(ie(),Se(ft,null,Nn(5,f=>pe("div",{key:f,onMouseenter:d=>a(f),onMouseleave:l,onClick:d=>o(f)},[pe("div",SY,[i.value<f?(ie(),Se("div",PY,CY)):rt("",!0),i.value>=f?(ie(),Se("div",DY,OY)):rt("",!0)])],40,IY)),64))])]))}};function zg(t){return t===0?!1:Array.isArray(t)&&t.length===0?!0:!t}function MY(t){return(...e)=>!t(...e)}function NY(t,e){return t===void 0&&(t="undefined"),t===null&&(t="null"),t===!1&&(t="false"),t.toString().toLowerCase().indexOf(e.trim())!==-1}function vD(t,e,n,r){return e?t.filter(s=>NY(r(s,n),e)).sort((s,i)=>r(s,n).length-r(i,n).length):t}function LY(t){return t.filter(e=>!e.$isLabel)}function Yg(t,e){return n=>n.reduce((r,s)=>s[t]&&s[t].length?(r.push({$groupLabel:s[e],$isLabel:!0}),r.concat(s[t])):r,[])}function $Y(t,e,n,r,s){return i=>i.map(o=>{if(!o[n])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const a=vD(o[n],t,e,s);return a.length?{[r]:o[r],[n]:a}:[]})}const m1=(...t)=>e=>t.reduce((n,r)=>r(n),e);var VY={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(t,e){return zg(t)?"":e?t[e]:t}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const t=this.search||"",e=t.toLowerCase().trim();let n=this.options.concat();return this.internalSearch?n=this.groupValues?this.filterAndFlat(n,e,this.label):vD(n,e,this.label,this.customLabel):n=this.groupValues?Yg(this.groupValues,this.groupLabel)(n):n,n=this.hideSelected?n.filter(MY(this.isSelected)):n,this.taggable&&e.length&&!this.isExistingOption(e)&&(this.tagPosition==="bottom"?n.push({isTag:!0,label:t}):n.unshift({isTag:!0,label:t})),n.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(t=>t[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(e=>this.customLabel(e,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(t,e,n){return m1($Y(e,n,this.groupValues,this.groupLabel,this.customLabel),Yg(this.groupValues,this.groupLabel))(t)},flatAndStrip(t){return m1(Yg(this.groupValues,this.groupLabel),LY)(t)},updateSearch(t){this.search=t},isExistingOption(t){return this.options?this.optionKeys.indexOf(t)>-1:!1},isSelected(t){const e=this.trackBy?t[this.trackBy]:t;return this.valueKeys.indexOf(e)>-1},isOptionDisabled(t){return!!t.$isDisabled},getOptionLabel(t){if(zg(t))return"";if(t.isTag)return t.label;if(t.$isLabel)return t.$groupLabel;const e=this.customLabel(t,this.label);return zg(e)?"":e},select(t,e){if(t.$isLabel&&this.groupSelect){this.selectGroup(t);return}if(!(this.blockKeys.indexOf(e)!==-1||this.disabled||t.$isDisabled||t.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(e==="Tab"&&!this.pointerDirty)){if(t.isTag)this.$emit("tag",t.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(t)){e!=="Tab"&&this.removeElement(t);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([t])):this.$emit("update:modelValue",t),this.$emit("select",t,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(t){const e=this.options.find(n=>n[this.groupLabel]===t.$groupLabel);if(e){if(this.wholeGroupSelected(e)){this.$emit("remove",e[this.groupValues],this.id);const n=this.trackBy?e[this.groupValues].map(s=>s[this.trackBy]):e[this.groupValues],r=this.internalValue.filter(s=>n.indexOf(this.trackBy?s[this.trackBy]:s)===-1);this.$emit("update:modelValue",r)}else{let n=e[this.groupValues].filter(r=>!(this.isOptionDisabled(r)||this.isSelected(r)));this.max&&n.splice(this.max-this.internalValue.length),this.$emit("select",n,this.id),this.$emit("update:modelValue",this.internalValue.concat(n))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(t){return t[this.groupValues].every(e=>this.isSelected(e)||this.isOptionDisabled(e))},wholeGroupDisabled(t){return t[this.groupValues].every(this.isOptionDisabled)},removeElement(t,e=!0){if(this.disabled||t.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const n=typeof t=="object"?this.valueKeys.indexOf(t[this.trackBy]):this.valueKeys.indexOf(t);if(this.multiple){const r=this.internalValue.slice(0,n).concat(this.internalValue.slice(n+1));this.$emit("update:modelValue",r)}else this.$emit("update:modelValue",null);this.$emit("remove",t,this.id),this.closeOnSelect&&e&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const t=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>t||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(t-40,this.maxHeight))}}},FY={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(t,e){return{"multiselect__option--highlight":t===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight(t,e){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":e.$isLabel}];const n=this.options.find(r=>r[this.groupLabel]===e.$groupLabel);return n&&!this.wholeGroupDisabled(n)?["multiselect__option--group",{"multiselect__option--highlight":t===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(n)}]:"multiselect__option--disabled"},addPointerElement({key:t}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(t){this.pointer=t,this.pointerDirty=!0}}},x0={name:"vue-multiselect",mixins:[VY,FY],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:t=>`and ${t} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}};const UY={ref:"tags",class:"multiselect__tags"},BY={class:"multiselect__tags-wrap"},jY={class:"multiselect__spinner"},HY={key:0},zY={class:"multiselect__option"},YY={class:"multiselect__option"},qY=$n("No elements found. Consider changing the search query."),WY={class:"multiselect__option"},GY=$n("List is empty.");function KY(t,e,n,r,s,i){return ie(),ot("div",{tabindex:t.searchable?-1:n.tabindex,class:[{"multiselect--active":t.isOpen,"multiselect--disabled":n.disabled,"multiselect--above":i.isAbove,"multiselect--has-options-group":i.hasOptionGroup},"multiselect"],onFocus:e[14]||(e[14]=o=>t.activate()),onBlur:e[15]||(e[15]=o=>t.searchable?!1:t.deactivate()),onKeydown:[e[16]||(e[16]=Ur(nn(o=>t.pointerForward(),["self","prevent"]),["down"])),e[17]||(e[17]=Ur(nn(o=>t.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:e[18]||(e[18]=Ur(nn(o=>t.addPointerElement(o),["stop","self"]),["enter","tab"])),onKeyup:e[19]||(e[19]=Ur(o=>t.deactivate(),["esc"])),role:"combobox","aria-owns":"listbox-"+t.id},[rn(t.$slots,"caret",{toggle:t.toggle},()=>[ye("div",{onMousedown:e[1]||(e[1]=nn(o=>t.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),rn(t.$slots,"clear",{search:t.search}),ye("div",UY,[rn(t.$slots,"selection",{search:t.search,remove:t.removeElement,values:i.visibleValues,isOpen:t.isOpen},()=>[Sr(ye("div",BY,[(ie(!0),ot(ft,null,Nn(i.visibleValues,(o,a)=>rn(t.$slots,"tag",{option:o,search:t.search,remove:t.removeElement},()=>[(ie(),ot("span",{class:"multiselect__tag",key:a},[ye("span",{textContent:It(t.getOptionLabel(o))},null,8,["textContent"]),ye("i",{tabindex:"1",onKeypress:Ur(nn(l=>t.removeElement(o),["prevent"]),["enter"]),onMousedown:nn(l=>t.removeElement(o),["prevent"]),class:"multiselect__tag-icon"},null,40,["onKeypress","onMousedown"])]))])),256))],512),[[Is,i.visibleValues.length>0]]),t.internalValue&&t.internalValue.length>n.limit?rn(t.$slots,"limit",{key:0},()=>[ye("strong",{class:"multiselect__strong",textContent:It(n.limitText(t.internalValue.length-n.limit))},null,8,["textContent"])]):rt("v-if",!0)]),ye(Bo,{name:"multiselect__loading"},{default:gt(()=>[rn(t.$slots,"loading",{},()=>[Sr(ye("div",jY,null,512),[[Is,n.loading]])])]),_:3}),t.searchable?(ie(),ot("input",{key:0,ref:"search",name:n.name,id:t.id,type:"text",autocomplete:"off",spellcheck:!1,placeholder:t.placeholder,style:i.inputStyle,value:t.search,disabled:n.disabled,tabindex:n.tabindex,onInput:e[2]||(e[2]=o=>t.updateSearch(o.target.value)),onFocus:e[3]||(e[3]=nn(o=>t.activate(),["prevent"])),onBlur:e[4]||(e[4]=nn(o=>t.deactivate(),["prevent"])),onKeyup:e[5]||(e[5]=Ur(o=>t.deactivate(),["esc"])),onKeydown:[e[6]||(e[6]=Ur(nn(o=>t.pointerForward(),["prevent"]),["down"])),e[7]||(e[7]=Ur(nn(o=>t.pointerBackward(),["prevent"]),["up"])),e[9]||(e[9]=Ur(nn(o=>t.removeLastElement(),["stop"]),["delete"]))],onKeypress:e[8]||(e[8]=Ur(nn(o=>t.addPointerElement(o),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+t.id},null,44,["name","id","placeholder","value","disabled","tabindex","aria-controls"])):rt("v-if",!0),i.isSingleLabelVisible?(ie(),ot("span",{key:1,class:"multiselect__single",onMousedown:e[10]||(e[10]=nn((...o)=>t.toggle&&t.toggle(...o),["prevent"]))},[rn(t.$slots,"singleLabel",{option:i.singleValue},()=>[$n(It(t.currentOptionLabel),1)])],32)):rt("v-if",!0),i.isPlaceholderVisible?(ie(),ot("span",{key:2,class:"multiselect__placeholder",onMousedown:e[11]||(e[11]=nn((...o)=>t.toggle&&t.toggle(...o),["prevent"]))},[rn(t.$slots,"placeholder",{},()=>[$n(It(t.placeholder),1)])],32)):rt("v-if",!0)],512),ye(Bo,{name:"multiselect"},{default:gt(()=>[Sr(ye("div",{class:"multiselect__content-wrapper",onFocus:e[12]||(e[12]=(...o)=>t.activate&&t.activate(...o)),tabindex:"-1",onMousedown:e[13]||(e[13]=nn(()=>{},["prevent"])),style:{maxHeight:t.optimizedHeight+"px"},ref:"list"},[ye("ul",{class:"multiselect__content",style:i.contentStyle,role:"listbox",id:"listbox-"+t.id},[rn(t.$slots,"beforeList"),t.multiple&&t.max===t.internalValue.length?(ie(),ot("li",HY,[ye("span",zY,[rn(t.$slots,"maxElements",{},()=>[$n("Maximum of "+It(t.max)+" options selected. First remove a selected option to select another.",1)])])])):rt("v-if",!0),!t.max||t.internalValue.length<t.max?(ie(!0),ot(ft,{key:1},Nn(t.filteredOptions,(o,a)=>(ie(),ot("li",{class:"multiselect__element",key:a,id:t.id+"-"+a,role:o&&(o.$isLabel||o.$isDisabled)?null:"option"},[o&&(o.$isLabel||o.$isDisabled)?rt("v-if",!0):(ie(),ot("span",{key:0,class:[t.optionHighlight(a,o),"multiselect__option"],onClick:nn(l=>t.select(o),["stop"]),onMouseenter:nn(l=>t.pointerSet(a),["self"]),"data-select":o&&o.isTag?t.tagPlaceholder:i.selectLabelText,"data-selected":i.selectedLabelText,"data-deselect":i.deselectLabelText},[rn(t.$slots,"option",{option:o,search:t.search,index:a},()=>[ye("span",null,It(t.getOptionLabel(o)),1)])],42,["onClick","onMouseenter","data-select","data-selected","data-deselect"])),o&&(o.$isLabel||o.$isDisabled)?(ie(),ot("span",{key:1,"data-select":t.groupSelect&&i.selectGroupLabelText,"data-deselect":t.groupSelect&&i.deselectGroupLabelText,class:[t.groupHighlight(a,o),"multiselect__option"],onMouseenter:nn(l=>t.groupSelect&&t.pointerSet(a),["self"]),onMousedown:nn(l=>t.selectGroup(o),["prevent"])},[rn(t.$slots,"option",{option:o,search:t.search,index:a},()=>[ye("span",null,It(t.getOptionLabel(o)),1)])],42,["data-select","data-deselect","onMouseenter","onMousedown"])):rt("v-if",!0)],8,["id","role"]))),128)):rt("v-if",!0),Sr(ye("li",null,[ye("span",YY,[rn(t.$slots,"noResult",{search:t.search},()=>[qY])])],512),[[Is,n.showNoResults&&t.filteredOptions.length===0&&t.search&&!n.loading]]),Sr(ye("li",null,[ye("span",WY,[rn(t.$slots,"noOptions",{},()=>[GY])])],512),[[Is,n.showNoOptions&&(t.options.length===0||i.hasOptionGroup===!0&&t.filteredOptions.length===0)&&!t.search&&!n.loading]]),rn(t.$slots,"afterList")],12,["id"])],36),[[Is,t.isOpen]])]),_:3})],42,["tabindex","aria-owns"])}x0.render=KY;const XY={movie:"電影",tv:"電視劇",cartoon:"動漫"},Ef=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},QY=t=>(df("data-v-a074eb6b"),t=t(),pf(),t),JY=QY(()=>pe("template",{slot:"caret","slot-scope":"{ option }"},[$n(" 123 ")],-1)),ZY={__name:"type-select",props:{attrSelected:{type:String}},emits:["selected"],setup(t,{emit:e}){const n=e,r=t,s=xe(""),i=X(()=>Object.entries(XY).map(([a,l])=>({title:l,slug:a}))),o=i.value.find(a=>a.slug===r.attrSelected);return s.value=o,lt(s,a=>{n("selected",a.slug)}),(a,l)=>(ie(),ot(K(x0),{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=u=>s.value=u),options:i.value,"show-labels":!1,searchable:!1,placeholder:"種類","track-by":"title",label:"title"},{default:gt(()=>[JY]),_:1},8,["modelValue","options"]))}},e6=Ef(ZY,[["__scopeId","data-v-a074eb6b"]]);var Dr="top",vs="bottom",ys="right",kr="left",M0="auto",Af=[Dr,vs,ys,kr],bu="start",Uh="end",t6="clippingParents",yD="viewport",dc="popper",n6="reference",g1=Af.reduce(function(t,e){return t.concat([e+"-"+bu,e+"-"+Uh])},[]),bD=[].concat(Af,[M0]).reduce(function(t,e){return t.concat([e,e+"-"+bu,e+"-"+Uh])},[]),r6="beforeRead",s6="read",i6="afterRead",o6="beforeMain",a6="main",l6="afterMain",u6="beforeWrite",c6="write",h6="afterWrite",f6=[r6,s6,i6,o6,a6,l6,u6,c6,h6];function ci(t){return t?(t.nodeName||"").toLowerCase():null}function Qr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function rl(t){var e=Qr(t).Element;return t instanceof e||t instanceof Element}function ms(t){var e=Qr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function N0(t){if(typeof ShadowRoot>"u")return!1;var e=Qr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function d6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!ms(i)||!ci(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function p6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!ms(s)||!ci(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const m6={name:"applyStyles",enabled:!0,phase:"write",fn:d6,effect:p6,requires:["computeStyles"]};function si(t){return t.split("-")[0]}var Va=Math.max,kp=Math.min,wu=Math.round;function pv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wD(){return!/^((?!chrome|android).)*safari/i.test(pv())}function Tu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&ms(t)&&(s=t.offsetWidth>0&&wu(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&wu(r.height)/t.offsetHeight||1);var o=rl(t)?Qr(t):window,a=o.visualViewport,l=!wD()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/s,c=(r.top+(l&&a?a.offsetTop:0))/i,f=r.width/s,d=r.height/i;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function L0(t){var e=Tu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function TD(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&N0(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bi(t){return Qr(t).getComputedStyle(t)}function g6(t){return["table","td","th"].indexOf(ci(t))>=0}function ea(t){return((rl(t)?t.ownerDocument:t.document)||window.document).documentElement}function zm(t){return ci(t)==="html"?t:t.assignedSlot||t.parentNode||(N0(t)?t.host:null)||ea(t)}function _1(t){return!ms(t)||Bi(t).position==="fixed"?null:t.offsetParent}function _6(t){var e=/firefox/i.test(pv()),n=/Trident/i.test(pv());if(n&&ms(t)){var r=Bi(t);if(r.position==="fixed")return null}var s=zm(t);for(N0(s)&&(s=s.host);ms(s)&&["html","body"].indexOf(ci(s))<0;){var i=Bi(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function If(t){for(var e=Qr(t),n=_1(t);n&&g6(n)&&Bi(n).position==="static";)n=_1(n);return n&&(ci(n)==="html"||ci(n)==="body"&&Bi(n).position==="static")?e:n||_6(t)||e}function $0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function sh(t,e,n){return Va(t,kp(e,n))}function v6(t,e,n){var r=sh(t,e,n);return r>n?n:r}function ED(){return{top:0,right:0,bottom:0,left:0}}function AD(t){return Object.assign({},ED(),t)}function ID(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var y6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,AD(typeof e!="number"?e:ID(e,Af))};function b6(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=si(n.placement),l=$0(a),u=[kr,ys].indexOf(a)>=0,c=u?"height":"width";if(!(!i||!o)){var f=y6(s.padding,n),d=L0(i),p=l==="y"?Dr:kr,g=l==="y"?vs:ys,_=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],A=o[l]-n.rects.reference[l],S=If(i),M=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,k=_/2-A/2,O=f[p],x=M-d[c]-f[g],N=M/2-d[c]/2+k,T=sh(O,N,x),w=l;n.modifiersData[r]=(e={},e[w]=T,e.centerOffset=T-N,e)}}function w6(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||TD(e.elements.popper,s)&&(e.elements.arrow=s))}const T6={name:"arrow",enabled:!0,phase:"main",fn:b6,effect:w6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Eu(t){return t.split("-")[1]}var E6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function A6(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:wu(n*s)/s||0,y:wu(r*s)/s||0}}function v1(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=o.x,p=d===void 0?0:d,g=o.y,_=g===void 0?0:g,A=typeof c=="function"?c({x:p,y:_}):{x:p,y:_};p=A.x,_=A.y;var S=o.hasOwnProperty("x"),M=o.hasOwnProperty("y"),k=kr,O=Dr,x=window;if(u){var N=If(n),T="clientHeight",w="clientWidth";if(N===Qr(n)&&(N=ea(n),Bi(N).position!=="static"&&a==="absolute"&&(T="scrollHeight",w="scrollWidth")),N=N,s===Dr||(s===kr||s===ys)&&i===Uh){O=vs;var b=f&&N===x&&x.visualViewport?x.visualViewport.height:N[T];_-=b-r.height,_*=l?1:-1}if(s===kr||(s===Dr||s===vs)&&i===Uh){k=ys;var I=f&&N===x&&x.visualViewport?x.visualViewport.width:N[w];p-=I-r.width,p*=l?1:-1}}var P=Object.assign({position:a},u&&E6),y=c===!0?A6({x:p,y:_},Qr(n)):{x:p,y:_};if(p=y.x,_=y.y,l){var E;return Object.assign({},P,(E={},E[O]=M?"0":"",E[k]=S?"0":"",E.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",E))}return Object.assign({},P,(e={},e[O]=M?_+"px":"",e[k]=S?p+"px":"",e.transform="",e))}function I6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:si(e.placement),variation:Eu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,v1(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,v1(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const S6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:I6,data:{}};var sd={passive:!0};function P6(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Qr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,sd)}),a&&l.addEventListener("resize",n.update,sd),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,sd)}),a&&l.removeEventListener("resize",n.update,sd)}}const R6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:P6,data:{}};var C6={left:"right",right:"left",bottom:"top",top:"bottom"};function $d(t){return t.replace(/left|right|bottom|top/g,function(e){return C6[e]})}var D6={start:"end",end:"start"};function y1(t){return t.replace(/start|end/g,function(e){return D6[e]})}function V0(t){var e=Qr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function F0(t){return Tu(ea(t)).left+V0(t).scrollLeft}function k6(t,e){var n=Qr(t),r=ea(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var u=wD();(u||!u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+F0(t),y:l}}function O6(t){var e,n=ea(t),r=V0(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Va(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Va(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+F0(t),l=-r.scrollTop;return Bi(s||n).direction==="rtl"&&(a+=Va(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function U0(t){var e=Bi(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function SD(t){return["html","body","#document"].indexOf(ci(t))>=0?t.ownerDocument.body:ms(t)&&U0(t)?t:SD(zm(t))}function ih(t,e){var n;e===void 0&&(e=[]);var r=SD(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Qr(r),o=s?[i].concat(i.visualViewport||[],U0(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(ih(zm(o)))}function mv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function x6(t,e){var n=Tu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function b1(t,e,n){return e===yD?mv(k6(t,n)):rl(e)?x6(e,n):mv(O6(ea(t)))}function M6(t){var e=ih(zm(t)),n=["absolute","fixed"].indexOf(Bi(t).position)>=0,r=n&&ms(t)?If(t):t;return rl(r)?e.filter(function(s){return rl(s)&&TD(s,r)&&ci(s)!=="body"}):[]}function N6(t,e,n,r){var s=e==="clippingParents"?M6(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,u){var c=b1(t,u,r);return l.top=Va(c.top,l.top),l.right=kp(c.right,l.right),l.bottom=kp(c.bottom,l.bottom),l.left=Va(c.left,l.left),l},b1(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function PD(t){var e=t.reference,n=t.element,r=t.placement,s=r?si(r):null,i=r?Eu(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case Dr:l={x:o,y:e.y-n.height};break;case vs:l={x:o,y:e.y+e.height};break;case ys:l={x:e.x+e.width,y:a};break;case kr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=s?$0(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case bu:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Uh:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Bh(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?t6:a,u=n.rootBoundary,c=u===void 0?yD:u,f=n.elementContext,d=f===void 0?dc:f,p=n.altBoundary,g=p===void 0?!1:p,_=n.padding,A=_===void 0?0:_,S=AD(typeof A!="number"?A:ID(A,Af)),M=d===dc?n6:dc,k=t.rects.popper,O=t.elements[g?M:d],x=N6(rl(O)?O:O.contextElement||ea(t.elements.popper),l,c,o),N=Tu(t.elements.reference),T=PD({reference:N,element:k,strategy:"absolute",placement:s}),w=mv(Object.assign({},k,T)),b=d===dc?w:N,I={top:x.top-b.top+S.top,bottom:b.bottom-x.bottom+S.bottom,left:x.left-b.left+S.left,right:b.right-x.right+S.right},P=t.modifiersData.offset;if(d===dc&&P){var y=P[s];Object.keys(I).forEach(function(E){var B=[ys,vs].indexOf(E)>=0?1:-1,U=[Dr,vs].indexOf(E)>=0?"y":"x";I[E]+=y[U]*B})}return I}function L6(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?bD:l,c=Eu(r),f=c?a?g1:g1.filter(function(g){return Eu(g)===c}):Af,d=f.filter(function(g){return u.indexOf(g)>=0});d.length===0&&(d=f);var p=d.reduce(function(g,_){return g[_]=Bh(t,{placement:_,boundary:s,rootBoundary:i,padding:o})[si(_)],g},{});return Object.keys(p).sort(function(g,_){return p[g]-p[_]})}function $6(t){if(si(t)===M0)return[];var e=$d(t);return[y1(t),e,y1(e)]}function V6(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,_=n.allowedAutoPlacements,A=e.options.placement,S=si(A),M=S===A,k=l||(M||!g?[$d(A)]:$6(A)),O=[A].concat(k).reduce(function(ge,Ce){return ge.concat(si(Ce)===M0?L6(e,{placement:Ce,boundary:c,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:_}):Ce)},[]),x=e.rects.reference,N=e.rects.popper,T=new Map,w=!0,b=O[0],I=0;I<O.length;I++){var P=O[I],y=si(P),E=Eu(P)===bu,B=[Dr,vs].indexOf(y)>=0,U=B?"width":"height",F=Bh(e,{placement:P,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),j=B?E?ys:kr:E?vs:Dr;x[U]>N[U]&&(j=$d(j));var H=$d(j),ee=[];if(i&&ee.push(F[y]<=0),a&&ee.push(F[j]<=0,F[H]<=0),ee.every(function(ge){return ge})){b=P,w=!1;break}T.set(P,ee)}if(w)for(var R=g?3:1,ue=function(Ce){var De=O.find(function(z){var ae=T.get(z);if(ae)return ae.slice(0,Ce).every(function(W){return W})});if(De)return b=De,"break"},te=R;te>0;te--){var ve=ue(te);if(ve==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const F6={name:"flip",enabled:!0,phase:"main",fn:V6,requiresIfExists:["offset"],data:{_skip:!1}};function w1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function T1(t){return[Dr,ys,vs,kr].some(function(e){return t[e]>=0})}function U6(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=Bh(e,{elementContext:"reference"}),a=Bh(e,{altBoundary:!0}),l=w1(o,r),u=w1(a,s,i),c=T1(l),f=T1(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const B6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:U6};function j6(t,e,n){var r=si(t),s=[kr,Dr].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[kr,ys].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function H6(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=bD.reduce(function(c,f){return c[f]=j6(f,e.rects,i),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const z6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:H6};function Y6(t){var e=t.state,n=t.name;e.modifiersData[n]=PD({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const q6={name:"popperOffsets",enabled:!0,phase:"read",fn:Y6,data:{}};function W6(t){return t==="x"?"y":"x"}function G6(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,g=n.tetherOffset,_=g===void 0?0:g,A=Bh(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),S=si(e.placement),M=Eu(e.placement),k=!M,O=$0(S),x=W6(O),N=e.modifiersData.popperOffsets,T=e.rects.reference,w=e.rects.popper,b=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,I=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,y={x:0,y:0};if(N){if(i){var E,B=O==="y"?Dr:kr,U=O==="y"?vs:ys,F=O==="y"?"height":"width",j=N[O],H=j+A[B],ee=j-A[U],R=p?-w[F]/2:0,ue=M===bu?T[F]:w[F],te=M===bu?-w[F]:-T[F],ve=e.elements.arrow,ge=p&&ve?L0(ve):{width:0,height:0},Ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ED(),De=Ce[B],z=Ce[U],ae=sh(0,T[F],ge[F]),W=k?T[F]/2-R-ae-De-I.mainAxis:ue-ae-De-I.mainAxis,ne=k?-T[F]/2+R+ae+z+I.mainAxis:te+ae+z+I.mainAxis,me=e.elements.arrow&&If(e.elements.arrow),Re=me?O==="y"?me.clientTop||0:me.clientLeft||0:0,D=(E=P==null?void 0:P[O])!=null?E:0,L=j+W-D-Re,Y=j+ne-D,Q=sh(p?kp(H,L):H,j,p?Va(ee,Y):ee);N[O]=Q,y[O]=Q-j}if(a){var $,he=O==="x"?Dr:kr,de=O==="x"?vs:ys,le=N[x],oe=x==="y"?"height":"width",se=le+A[he],_e=le-A[de],Pe=[Dr,kr].indexOf(S)!==-1,be=($=P==null?void 0:P[x])!=null?$:0,Ie=Pe?se:le-T[oe]-w[oe]-be+I.altAxis,Te=Pe?le+T[oe]+w[oe]-be-I.altAxis:_e,Ye=p&&Pe?v6(Ie,le,Te):sh(p?Ie:se,le,p?Te:_e);N[x]=Ye,y[x]=Ye-le}e.modifiersData[r]=y}}const K6={name:"preventOverflow",enabled:!0,phase:"main",fn:G6,requiresIfExists:["offset"]};function X6(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Q6(t){return t===Qr(t)||!ms(t)?V0(t):X6(t)}function J6(t){var e=t.getBoundingClientRect(),n=wu(e.width)/t.offsetWidth||1,r=wu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Z6(t,e,n){n===void 0&&(n=!1);var r=ms(e),s=ms(e)&&J6(e),i=ea(e),o=Tu(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ci(e)!=="body"||U0(i))&&(a=Q6(e)),ms(e)?(l=Tu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=F0(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function eq(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function tq(t){var e=eq(t);return f6.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function nq(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rq(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var E1={placement:"bottom",modifiers:[],strategy:"absolute"};function A1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function sq(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?E1:s;return function(a,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},E1,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(S){var M=typeof S=="function"?S(c.options):S;_(),c.options=Object.assign({},i,c.options,M),c.scrollParents={reference:rl(a)?ih(a):a.contextElement?ih(a.contextElement):[],popper:ih(l)};var k=tq(rq([].concat(r,c.options.modifiers)));return c.orderedModifiers=k.filter(function(O){return O.enabled}),g(),p.update()},forceUpdate:function(){if(!d){var S=c.elements,M=S.reference,k=S.popper;if(A1(M,k)){c.rects={reference:Z6(M,If(k),c.options.strategy==="fixed"),popper:L0(k)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var O=0;O<c.orderedModifiers.length;O++){if(c.reset===!0){c.reset=!1,O=-1;continue}var x=c.orderedModifiers[O],N=x.fn,T=x.options,w=T===void 0?{}:T,b=x.name;typeof N=="function"&&(c=N({state:c,options:w,name:b,instance:p})||c)}}}},update:nq(function(){return new Promise(function(A){p.forceUpdate(),A(c)})}),destroy:function(){_(),d=!0}};if(!A1(a,l))return p;p.setOptions(u).then(function(A){!d&&u.onFirstUpdate&&u.onFirstUpdate(A)});function g(){c.orderedModifiers.forEach(function(A){var S=A.name,M=A.options,k=M===void 0?{}:M,O=A.effect;if(typeof O=="function"){var x=O({state:c,name:S,instance:p,options:k}),N=function(){};f.push(x||N)}})}function _(){f.forEach(function(A){return A()}),f=[]}return p}}var iq=[R6,q6,S6,m6,z6,F6,K6,T6,B6],oq=sq({defaultModifiers:iq}),aq=Object.defineProperty,lq=(t,e,n)=>e in t?aq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ue=(t,e,n)=>(lq(t,typeof e!="symbol"?e+"":e,n),n),id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uq=Object.prototype,cq=uq.hasOwnProperty;function hq(t,e){return t!=null&&cq.call(t,e)}var fq=hq,dq=Array.isArray,Ls=dq,pq=typeof id=="object"&&id&&id.Object===Object&&id,CD=pq,mq=CD,gq=typeof self=="object"&&self&&self.Object===Object&&self,_q=mq||gq||Function("return this")(),di=_q,vq=di,yq=vq.Symbol,Ym=yq,I1=Ym,DD=Object.prototype,bq=DD.hasOwnProperty,wq=DD.toString,pc=I1?I1.toStringTag:void 0;function Tq(t){var e=bq.call(t,pc),n=t[pc];try{t[pc]=void 0;var r=!0}catch{}var s=wq.call(t);return r&&(e?t[pc]=n:delete t[pc]),s}var Eq=Tq,Aq=Object.prototype,Iq=Aq.toString;function Sq(t){return Iq.call(t)}var Pq=Sq,S1=Ym,Rq=Eq,Cq=Pq,Dq="[object Null]",kq="[object Undefined]",P1=S1?S1.toStringTag:void 0;function Oq(t){return t==null?t===void 0?kq:Dq:P1&&P1 in Object(t)?Rq(t):Cq(t)}var pi=Oq;function xq(t){return t!=null&&typeof t=="object"}var $s=xq,Mq=pi,Nq=$s,Lq="[object Symbol]";function $q(t){return typeof t=="symbol"||Nq(t)&&Mq(t)==Lq}var B0=$q,Vq=Ls,Fq=B0,Uq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bq=/^\w*$/;function jq(t,e){if(Vq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Fq(t)?!0:Bq.test(t)||!Uq.test(t)||e!=null&&t in Object(e)}var j0=jq;function Hq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wi=Hq,zq=pi,Yq=Wi,qq="[object AsyncFunction]",Wq="[object Function]",Gq="[object GeneratorFunction]",Kq="[object Proxy]";function Xq(t){if(!Yq(t))return!1;var e=zq(t);return e==Wq||e==Gq||e==qq||e==Kq}var yl=Xq,Qq=di,Jq=Qq["__core-js_shared__"],Zq=Jq,qg=Zq,R1=function(){var t=/[^.]+$/.exec(qg&&qg.keys&&qg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function eW(t){return!!R1&&R1 in t}var tW=eW,nW=Function.prototype,rW=nW.toString;function sW(t){if(t!=null){try{return rW.call(t)}catch{}try{return t+""}catch{}}return""}var kD=sW,iW=yl,oW=tW,aW=Wi,lW=kD,uW=/[\\^$.*+?()[\]{}|]/g,cW=/^\[object .+?Constructor\]$/,hW=Function.prototype,fW=Object.prototype,dW=hW.toString,pW=fW.hasOwnProperty,mW=RegExp("^"+dW.call(pW).replace(uW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gW(t){if(!aW(t)||oW(t))return!1;var e=iW(t)?mW:cW;return e.test(lW(t))}var _W=gW;function vW(t,e){return t==null?void 0:t[e]}var yW=vW,bW=_W,wW=yW;function TW(t,e){var n=wW(t,e);return bW(n)?n:void 0}var bl=TW,EW=bl,AW=EW(Object,"create"),qm=AW,C1=qm;function IW(){this.__data__=C1?C1(null):{},this.size=0}var SW=IW;function PW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var RW=PW,CW=qm,DW="__lodash_hash_undefined__",kW=Object.prototype,OW=kW.hasOwnProperty;function xW(t){var e=this.__data__;if(CW){var n=e[t];return n===DW?void 0:n}return OW.call(e,t)?e[t]:void 0}var MW=xW,NW=qm,LW=Object.prototype,$W=LW.hasOwnProperty;function VW(t){var e=this.__data__;return NW?e[t]!==void 0:$W.call(e,t)}var FW=VW,UW=qm,BW="__lodash_hash_undefined__";function jW(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=UW&&e===void 0?BW:e,this}var HW=jW,zW=SW,YW=RW,qW=MW,WW=FW,GW=HW;function Hu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hu.prototype.clear=zW;Hu.prototype.delete=YW;Hu.prototype.get=qW;Hu.prototype.has=WW;Hu.prototype.set=GW;var KW=Hu;function XW(){this.__data__=[],this.size=0}var QW=XW;function JW(t,e){return t===e||t!==t&&e!==e}var zu=JW,ZW=zu;function e5(t,e){for(var n=t.length;n--;)if(ZW(t[n][0],e))return n;return-1}var Wm=e5,t5=Wm,n5=Array.prototype,r5=n5.splice;function s5(t){var e=this.__data__,n=t5(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():r5.call(e,n,1),--this.size,!0}var i5=s5,o5=Wm;function a5(t){var e=this.__data__,n=o5(e,t);return n<0?void 0:e[n][1]}var l5=a5,u5=Wm;function c5(t){return u5(this.__data__,t)>-1}var h5=c5,f5=Wm;function d5(t,e){var n=this.__data__,r=f5(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var p5=d5,m5=QW,g5=i5,_5=l5,v5=h5,y5=p5;function Yu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yu.prototype.clear=m5;Yu.prototype.delete=g5;Yu.prototype.get=_5;Yu.prototype.has=v5;Yu.prototype.set=y5;var Gm=Yu,b5=bl,w5=di,T5=b5(w5,"Map"),H0=T5,D1=KW,E5=Gm,A5=H0;function I5(){this.size=0,this.__data__={hash:new D1,map:new(A5||E5),string:new D1}}var S5=I5;function P5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var R5=P5,C5=R5;function D5(t,e){var n=t.__data__;return C5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Km=D5,k5=Km;function O5(t){var e=k5(this,t).delete(t);return this.size-=e?1:0,e}var x5=O5,M5=Km;function N5(t){return M5(this,t).get(t)}var L5=N5,$5=Km;function V5(t){return $5(this,t).has(t)}var F5=V5,U5=Km;function B5(t,e){var n=U5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var j5=B5,H5=S5,z5=x5,Y5=L5,q5=F5,W5=j5;function qu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qu.prototype.clear=H5;qu.prototype.delete=z5;qu.prototype.get=Y5;qu.prototype.has=q5;qu.prototype.set=W5;var z0=qu,OD=z0,G5="Expected a function";function Y0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(G5);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(Y0.Cache||OD),n}Y0.Cache=OD;var K5=Y0,X5=K5,Q5=500;function J5(t){var e=X5(t,function(r){return n.size===Q5&&n.clear(),r}),n=e.cache;return e}var Z5=J5,eG=Z5,tG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nG=/\\(\\)?/g,rG=eG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tG,function(n,r,s,i){e.push(s?i.replace(nG,"$1"):r||n)}),e}),sG=rG;function iG(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var oG=iG,k1=Ym,aG=oG,lG=Ls,uG=B0,cG=1/0,O1=k1?k1.prototype:void 0,x1=O1?O1.toString:void 0;function xD(t){if(typeof t=="string")return t;if(lG(t))return aG(t,xD)+"";if(uG(t))return x1?x1.call(t):"";var e=t+"";return e=="0"&&1/t==-cG?"-0":e}var hG=xD,fG=hG;function dG(t){return t==null?"":fG(t)}var pG=dG,mG=Ls,gG=j0,_G=sG,vG=pG;function yG(t,e){return mG(t)?t:gG(t,e)?[t]:_G(vG(t))}var MD=yG,bG=pi,wG=$s,TG="[object Arguments]";function EG(t){return wG(t)&&bG(t)==TG}var AG=EG,M1=AG,IG=$s,ND=Object.prototype,SG=ND.hasOwnProperty,PG=ND.propertyIsEnumerable,RG=M1(function(){return arguments}())?M1:function(t){return IG(t)&&SG.call(t,"callee")&&!PG.call(t,"callee")},q0=RG,CG=9007199254740991,DG=/^(?:0|[1-9]\d*)$/;function kG(t,e){var n=typeof t;return e=e??CG,!!e&&(n=="number"||n!="symbol"&&DG.test(t))&&t>-1&&t%1==0&&t<e}var W0=kG,OG=9007199254740991;function xG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OG}var G0=xG,MG=B0,NG=1/0;function LG(t){if(typeof t=="string"||MG(t))return t;var e=t+"";return e=="0"&&1/t==-NG?"-0":e}var Xm=LG,$G=MD,VG=q0,FG=Ls,UG=W0,BG=G0,jG=Xm;function HG(t,e,n){e=$G(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=jG(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&BG(s)&&UG(o,s)&&(FG(t)||VG(t)))}var LD=HG,zG=fq,YG=LD;function qG(t,e){return t!=null&&YG(t,e,zG)}var $D=qG,WG=pi,GG=$s,KG="[object Date]";function XG(t){return GG(t)&&WG(t)==KG}var QG=XG;function JG(t){return function(e){return t(e)}}var VD=JG,jh={},ZG={get exports(){return jh},set exports(t){jh=t}};(function(t,e){var n=CD,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(ZG,jh);var eK=QG,tK=VD,N1=jh,L1=N1&&N1.isDate,nK=L1?tK(L1):eK,rK=nK,sK=pi,iK=Ls,oK=$s,aK="[object String]";function lK(t){return typeof t=="string"||!iK(t)&&oK(t)&&sK(t)==aK}var Gs=lK;function uK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var FD=uK,cK=Gm;function hK(){this.__data__=new cK,this.size=0}var fK=hK;function dK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var pK=dK;function mK(t){return this.__data__.get(t)}var gK=mK;function _K(t){return this.__data__.has(t)}var vK=_K,yK=Gm,bK=H0,wK=z0,TK=200;function EK(t,e){var n=this.__data__;if(n instanceof yK){var r=n.__data__;if(!bK||r.length<TK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wK(r)}return n.set(t,e),this.size=n.size,this}var AK=EK,IK=Gm,SK=fK,PK=pK,RK=gK,CK=vK,DK=AK;function Wu(t){var e=this.__data__=new IK(t);this.size=e.size}Wu.prototype.clear=SK;Wu.prototype.delete=PK;Wu.prototype.get=RK;Wu.prototype.has=CK;Wu.prototype.set=DK;var K0=Wu,kK="__lodash_hash_undefined__";function OK(t){return this.__data__.set(t,kK),this}var xK=OK;function MK(t){return this.__data__.has(t)}var NK=MK,LK=z0,$K=xK,VK=NK;function Op(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new LK;++e<n;)this.add(t[e])}Op.prototype.add=Op.prototype.push=$K;Op.prototype.has=VK;var FK=Op;function UK(t,e){return t.has(e)}var BK=UK,jK=FK,HK=FD,zK=BK,YK=1,qK=2;function WK(t,e,n,r,s,i){var o=n&YK,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=i.get(t),c=i.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&qK?new jK:void 0;for(i.set(t,e),i.set(e,t);++f<a;){var g=t[f],_=e[f];if(r)var A=o?r(_,g,f,e,t,i):r(g,_,f,t,e,i);if(A!==void 0){if(A)continue;d=!1;break}if(p){if(!HK(e,function(S,M){if(!zK(p,M)&&(g===S||s(g,S,n,r,i)))return p.push(M)})){d=!1;break}}else if(!(g===_||s(g,_,n,r,i))){d=!1;break}}return i.delete(t),i.delete(e),d}var UD=WK,GK=di,KK=GK.Uint8Array,BD=KK;function XK(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var QK=XK;function JK(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ZK=JK,$1=Ym,V1=BD,e8=zu,t8=UD,n8=QK,r8=ZK,s8=1,i8=2,o8="[object Boolean]",a8="[object Date]",l8="[object Error]",u8="[object Map]",c8="[object Number]",h8="[object RegExp]",f8="[object Set]",d8="[object String]",p8="[object Symbol]",m8="[object ArrayBuffer]",g8="[object DataView]",F1=$1?$1.prototype:void 0,Wg=F1?F1.valueOf:void 0;function _8(t,e,n,r,s,i,o){switch(n){case g8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m8:return!(t.byteLength!=e.byteLength||!i(new V1(t),new V1(e)));case o8:case a8:case c8:return e8(+t,+e);case l8:return t.name==e.name&&t.message==e.message;case h8:case d8:return t==e+"";case u8:var a=n8;case f8:var l=r&s8;if(a||(a=r8),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=i8,o.set(t,e);var c=t8(a(t),a(e),r,s,i,o);return o.delete(t),c;case p8:if(Wg)return Wg.call(t)==Wg.call(e)}return!1}var v8=_8;function y8(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var b8=y8,w8=b8,T8=Ls;function E8(t,e,n){var r=e(t);return T8(t)?r:w8(r,n(t))}var A8=E8;function I8(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var S8=I8;function P8(){return[]}var R8=P8,C8=S8,D8=R8,k8=Object.prototype,O8=k8.propertyIsEnumerable,U1=Object.getOwnPropertySymbols,x8=U1?function(t){return t==null?[]:(t=Object(t),C8(U1(t),function(e){return O8.call(t,e)}))}:D8,M8=x8;function N8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var L8=N8,Au={},$8={get exports(){return Au},set exports(t){Au=t}};function V8(){return!1}var F8=V8;(function(t,e){var n=di,r=F8,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})($8,Au);var U8=pi,B8=G0,j8=$s,H8="[object Arguments]",z8="[object Array]",Y8="[object Boolean]",q8="[object Date]",W8="[object Error]",G8="[object Function]",K8="[object Map]",X8="[object Number]",Q8="[object Object]",J8="[object RegExp]",Z8="[object Set]",e7="[object String]",t7="[object WeakMap]",n7="[object ArrayBuffer]",r7="[object DataView]",s7="[object Float32Array]",i7="[object Float64Array]",o7="[object Int8Array]",a7="[object Int16Array]",l7="[object Int32Array]",u7="[object Uint8Array]",c7="[object Uint8ClampedArray]",h7="[object Uint16Array]",f7="[object Uint32Array]",Ft={};Ft[s7]=Ft[i7]=Ft[o7]=Ft[a7]=Ft[l7]=Ft[u7]=Ft[c7]=Ft[h7]=Ft[f7]=!0;Ft[H8]=Ft[z8]=Ft[n7]=Ft[Y8]=Ft[r7]=Ft[q8]=Ft[W8]=Ft[G8]=Ft[K8]=Ft[X8]=Ft[Q8]=Ft[J8]=Ft[Z8]=Ft[e7]=Ft[t7]=!1;function d7(t){return j8(t)&&B8(t.length)&&!!Ft[U8(t)]}var p7=d7,m7=p7,g7=VD,B1=jh,j1=B1&&B1.isTypedArray,_7=j1?g7(j1):m7,X0=_7,v7=L8,y7=q0,b7=Ls,w7=Au,T7=W0,E7=X0,A7=Object.prototype,I7=A7.hasOwnProperty;function S7(t,e){var n=b7(t),r=!n&&y7(t),s=!n&&!r&&w7(t),i=!n&&!r&&!s&&E7(t),o=n||r||s||i,a=o?v7(t.length,String):[],l=a.length;for(var u in t)(e||I7.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||T7(u,l)))&&a.push(u);return a}var jD=S7,P7=Object.prototype;function R7(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||P7;return t===n}var Q0=R7;function C7(t,e){return function(n){return t(e(n))}}var HD=C7,D7=HD,k7=D7(Object.keys,Object),O7=k7,x7=Q0,M7=O7,N7=Object.prototype,L7=N7.hasOwnProperty;function $7(t){if(!x7(t))return M7(t);var e=[];for(var n in Object(t))L7.call(t,n)&&n!="constructor"&&e.push(n);return e}var V7=$7,F7=yl,U7=G0;function B7(t){return t!=null&&U7(t.length)&&!F7(t)}var Sf=B7,j7=jD,H7=V7,z7=Sf;function Y7(t){return z7(t)?j7(t):H7(t)}var J0=Y7,q7=A8,W7=M8,G7=J0;function K7(t){return q7(t,G7,W7)}var X7=K7,H1=X7,Q7=1,J7=Object.prototype,Z7=J7.hasOwnProperty;function eX(t,e,n,r,s,i){var o=n&Q7,a=H1(t),l=a.length,u=H1(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=a[f];if(!(o?d in e:Z7.call(e,d)))return!1}var p=i.get(t),g=i.get(e);if(p&&g)return p==e&&g==t;var _=!0;i.set(t,e),i.set(e,t);for(var A=o;++f<l;){d=a[f];var S=t[d],M=e[d];if(r)var k=o?r(M,S,d,e,t,i):r(S,M,d,t,e,i);if(!(k===void 0?S===M||s(S,M,n,r,i):k)){_=!1;break}A||(A=d=="constructor")}if(_&&!A){var O=t.constructor,x=e.constructor;O!=x&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof x=="function"&&x instanceof x)&&(_=!1)}return i.delete(t),i.delete(e),_}var tX=eX,nX=bl,rX=di,sX=nX(rX,"DataView"),iX=sX,oX=bl,aX=di,lX=oX(aX,"Promise"),uX=lX,cX=bl,hX=di,fX=cX(hX,"Set"),dX=fX,pX=bl,mX=di,gX=pX(mX,"WeakMap"),_X=gX,gv=iX,_v=H0,vv=uX,yv=dX,bv=_X,zD=pi,Gu=kD,z1="[object Map]",vX="[object Object]",Y1="[object Promise]",q1="[object Set]",W1="[object WeakMap]",G1="[object DataView]",yX=Gu(gv),bX=Gu(_v),wX=Gu(vv),TX=Gu(yv),EX=Gu(bv),ma=zD;(gv&&ma(new gv(new ArrayBuffer(1)))!=G1||_v&&ma(new _v)!=z1||vv&&ma(vv.resolve())!=Y1||yv&&ma(new yv)!=q1||bv&&ma(new bv)!=W1)&&(ma=function(t){var e=zD(t),n=e==vX?t.constructor:void 0,r=n?Gu(n):"";if(r)switch(r){case yX:return G1;case bX:return z1;case wX:return Y1;case TX:return q1;case EX:return W1}return e});var AX=ma,Gg=K0,IX=UD,SX=v8,PX=tX,K1=AX,X1=Ls,Q1=Au,RX=X0,CX=1,J1="[object Arguments]",Z1="[object Array]",od="[object Object]",DX=Object.prototype,eA=DX.hasOwnProperty;function kX(t,e,n,r,s,i){var o=X1(t),a=X1(e),l=o?Z1:K1(t),u=a?Z1:K1(e);l=l==J1?od:l,u=u==J1?od:u;var c=l==od,f=u==od,d=l==u;if(d&&Q1(t)){if(!Q1(e))return!1;o=!0,c=!1}if(d&&!c)return i||(i=new Gg),o||RX(t)?IX(t,e,n,r,s,i):SX(t,e,l,n,r,s,i);if(!(n&CX)){var p=c&&eA.call(t,"__wrapped__"),g=f&&eA.call(e,"__wrapped__");if(p||g){var _=p?t.value():t,A=g?e.value():e;return i||(i=new Gg),s(_,A,n,r,i)}}return d?(i||(i=new Gg),PX(t,e,n,r,s,i)):!1}var OX=kX,xX=OX,tA=$s;function YD(t,e,n,r,s){return t===e?!0:t==null||e==null||!tA(t)&&!tA(e)?t!==t&&e!==e:xX(t,e,n,r,YD,s)}var qD=YD,MX=K0,NX=qD,LX=1,$X=2;function VX(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var a=n[s];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++s<i;){a=n[s];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new MX;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?NX(c,u,LX|$X,r,f):d))return!1}}return!0}var FX=VX,UX=Wi;function BX(t){return t===t&&!UX(t)}var WD=BX,jX=WD,HX=J0;function zX(t){for(var e=HX(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,jX(s)]}return e}var YX=zX;function qX(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var GD=qX,WX=FX,GX=YX,KX=GD;function XX(t){var e=GX(t);return e.length==1&&e[0][2]?KX(e[0][0],e[0][1]):function(n){return n===t||WX(n,t,e)}}var QX=XX,JX=MD,ZX=Xm;function eQ(t,e){e=JX(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ZX(e[n++])];return n&&n==r?t:void 0}var KD=eQ,tQ=KD;function nQ(t,e,n){var r=t==null?void 0:tQ(t,e);return r===void 0?n:r}var Aa=nQ;function rQ(t,e){return t!=null&&e in Object(t)}var sQ=rQ,iQ=sQ,oQ=LD;function aQ(t,e){return t!=null&&oQ(t,e,iQ)}var lQ=aQ,uQ=qD,cQ=Aa,hQ=lQ,fQ=j0,dQ=WD,pQ=GD,mQ=Xm,gQ=1,_Q=2;function vQ(t,e){return fQ(t)&&dQ(e)?pQ(mQ(t),e):function(n){var r=cQ(n,t);return r===void 0&&r===e?hQ(n,t):uQ(e,r,gQ|_Q)}}var yQ=vQ;function bQ(t){return t}var Z0=bQ;function wQ(t){return function(e){return e==null?void 0:e[t]}}var TQ=wQ,EQ=KD;function AQ(t){return function(e){return EQ(e,t)}}var IQ=AQ,SQ=TQ,PQ=IQ,RQ=j0,CQ=Xm;function DQ(t){return RQ(t)?SQ(CQ(t)):PQ(t)}var kQ=DQ,OQ=QX,xQ=yQ,MQ=Z0,NQ=Ls,LQ=kQ;function $Q(t){return typeof t=="function"?t:t==null?MQ:typeof t=="object"?NQ(t)?xQ(t[0],t[1]):OQ(t):LQ(t)}var XD=$Q;function VQ(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++s];if(n(i[l],l,i)===!1)break}return e}}var FQ=VQ,UQ=FQ,BQ=UQ(),QD=BQ,jQ=QD,HQ=J0;function zQ(t,e){return t&&jQ(t,e,HQ)}var JD=zQ,YQ=Sf;function qQ(t,e){return function(n,r){if(n==null)return n;if(!YQ(n))return t(n,r);for(var s=n.length,i=e?s:-1,o=Object(n);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var WQ=qQ,GQ=JD,KQ=WQ,XQ=KQ(GQ),QQ=XQ,JQ=QQ;function ZQ(t,e){var n;return JQ(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}var eJ=ZQ,tJ=zu,nJ=Sf,rJ=W0,sJ=Wi;function iJ(t,e,n){if(!sJ(n))return!1;var r=typeof e;return(r=="number"?nJ(n)&&rJ(e,n.length):r=="string"&&e in n)?tJ(n[e],t):!1}var eb=iJ,oJ=FD,aJ=XD,lJ=eJ,uJ=Ls,cJ=eb;function hJ(t,e,n){var r=uJ(t)?oJ:lJ;return n&&cJ(t,e,n)&&(e=void 0),r(t,aJ(e))}var fJ=hJ,dJ=pi,pJ=$s,mJ="[object Boolean]";function gJ(t){return t===!0||t===!1||pJ(t)&&dJ(t)==mJ}var _J=gJ,vJ=pi,yJ=$s,bJ="[object Number]";function wJ(t){return typeof t=="number"||yJ(t)&&vJ(t)==bJ}var Ms=wJ,TJ=bl,EJ=function(){try{var t=TJ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ZD=EJ,nA=ZD;function AJ(t,e,n){e=="__proto__"&&nA?nA(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Qm=AJ,IJ=Qm,SJ=zu,PJ=Object.prototype,RJ=PJ.hasOwnProperty;function CJ(t,e,n){var r=t[e];(!(RJ.call(t,e)&&SJ(r,n))||n===void 0&&!(e in t))&&IJ(t,e,n)}var DJ=CJ,kJ=Qm,OJ=JD,xJ=XD;function MJ(t,e){var n={};return e=xJ(e),OJ(t,function(r,s,i){kJ(n,s,e(r,s,i))}),n}var NJ=MJ;function LJ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ek=LJ,$J=ek,rA=Math.max;function VJ(t,e,n){return e=rA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=rA(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=r[s];return a[e]=n(o),$J(t,this,a)}}var FJ=VJ;function UJ(t){return function(){return t}}var BJ=UJ,jJ=BJ,sA=ZD,HJ=Z0,zJ=sA?function(t,e){return sA(t,"toString",{configurable:!0,enumerable:!1,value:jJ(e),writable:!0})}:HJ,YJ=zJ,qJ=800,WJ=16,GJ=Date.now;function KJ(t){var e=0,n=0;return function(){var r=GJ(),s=WJ-(r-n);if(n=r,s>0){if(++e>=qJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var XJ=KJ,QJ=YJ,JJ=XJ,ZJ=JJ(QJ),eZ=ZJ,tZ=Z0,nZ=FJ,rZ=eZ;function sZ(t,e){return rZ(nZ(t,e,tZ),t+"")}var tb=sZ;function iZ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var oZ=iZ,aZ=Wi,lZ=Q0,uZ=oZ,cZ=Object.prototype,hZ=cZ.hasOwnProperty;function fZ(t){if(!aZ(t))return uZ(t);var e=lZ(t),n=[];for(var r in t)r=="constructor"&&(e||!hZ.call(t,r))||n.push(r);return n}var dZ=fZ,pZ=jD,mZ=dZ,gZ=Sf;function _Z(t){return gZ(t)?pZ(t,!0):mZ(t)}var nb=_Z,vZ=tb,yZ=zu,bZ=eb,wZ=nb,tk=Object.prototype,TZ=tk.hasOwnProperty,EZ=vZ(function(t,e){t=Object(t);var n=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&bZ(e[0],e[1],s)&&(r=1);++n<r;)for(var i=e[n],o=wZ(i),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||yZ(c,tk[u])&&!TZ.call(t,u))&&(t[u]=i[u])}return t}),iA=EZ,AZ=Qm,IZ=zu;function SZ(t,e,n){(n!==void 0&&!IZ(t[e],n)||n===void 0&&!(e in t))&&AZ(t,e,n)}var nk=SZ,xp={},PZ={get exports(){return xp},set exports(t){xp=t}};(function(t,e){var n=di,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=a?a(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(PZ,xp);var oA=BD;function RZ(t){var e=new t.constructor(t.byteLength);return new oA(e).set(new oA(t)),e}var CZ=RZ,DZ=CZ;function kZ(t,e){var n=e?DZ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var OZ=kZ;function xZ(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var MZ=xZ,NZ=Wi,aA=Object.create,LZ=function(){function t(){}return function(e){if(!NZ(e))return{};if(aA)return aA(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),$Z=LZ,VZ=HD,FZ=VZ(Object.getPrototypeOf,Object),rk=FZ,UZ=$Z,BZ=rk,jZ=Q0;function HZ(t){return typeof t.constructor=="function"&&!jZ(t)?UZ(BZ(t)):{}}var zZ=HZ,YZ=Sf,qZ=$s;function WZ(t){return qZ(t)&&YZ(t)}var GZ=WZ,KZ=pi,XZ=rk,QZ=$s,JZ="[object Object]",ZZ=Function.prototype,eee=Object.prototype,sk=ZZ.toString,tee=eee.hasOwnProperty,nee=sk.call(Object);function ree(t){if(!QZ(t)||KZ(t)!=JZ)return!1;var e=XZ(t);if(e===null)return!0;var n=tee.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&sk.call(n)==nee}var see=ree;function iee(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var ik=iee,oee=DJ,aee=Qm;function lee(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),s?aee(n,a,l):oee(n,a,l)}return n}var uee=lee,cee=uee,hee=nb;function fee(t){return cee(t,hee(t))}var dee=fee,lA=nk,pee=xp,mee=OZ,gee=MZ,_ee=zZ,uA=q0,cA=Ls,vee=GZ,yee=Au,bee=yl,wee=Wi,Tee=see,Eee=X0,hA=ik,Aee=dee;function Iee(t,e,n,r,s,i,o){var a=hA(t,n),l=hA(e,n),u=o.get(l);if(u){lA(t,n,u);return}var c=i?i(a,l,n+"",t,e,o):void 0,f=c===void 0;if(f){var d=cA(l),p=!d&&yee(l),g=!d&&!p&&Eee(l);c=l,d||p||g?cA(a)?c=a:vee(a)?c=gee(a):p?(f=!1,c=pee(l,!0)):g?(f=!1,c=mee(l,!0)):c=[]:Tee(l)||uA(l)?(c=a,uA(a)?c=Aee(a):(!wee(a)||bee(a))&&(c=_ee(l))):f=!1}f&&(o.set(l,c),s(c,l,r,i,o),o.delete(l)),lA(t,n,c)}var See=Iee,Pee=K0,Ree=nk,Cee=QD,Dee=See,kee=Wi,Oee=nb,xee=ik;function ok(t,e,n,r,s){t!==e&&Cee(e,function(i,o){if(s||(s=new Pee),kee(i))Dee(t,e,o,n,ok,r,s);else{var a=r?r(xee(t,o),i,o+"",t,e,s):void 0;a===void 0&&(a=i),Ree(t,o,a)}},Oee)}var ak=ok,Mee=ak,fA=Wi;function lk(t,e,n,r,s,i){return fA(t)&&fA(e)&&(i.set(e,t),Mee(t,e,void 0,lk,i),i.delete(e)),t}var Nee=lk,Lee=tb,$ee=eb;function Vee(t){return Lee(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&$ee(n[0],n[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var a=n[r];a&&t(e,a,r,i)}return e})}var Fee=Vee,Uee=ak,Bee=Fee,jee=Bee(function(t,e,n,r){Uee(t,e,n,r)}),Hee=jee,zee=ek,Yee=tb,qee=Nee,Wee=Hee,Gee=Yee(function(t){return t.push(void 0,qee),zee(Wee,void 0,t)}),Hh=Gee;function Kee(t){return t&&t.length?t[0]:void 0}var uk=Kee;function Xee(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var zl=Xee;const Qee=t=>Object.prototype.toString.call(t).slice(8,-1),nu=t=>rK(t)&&!isNaN(t.getTime()),ji=t=>Qee(t)==="Object",ck=$D,dA=(t,e)=>fJ(e,n=>$D(t,n)),St=(t,e,n="0")=>{for(t=t!=null?String(t):"",e=e||2;t.length<e;)t=`${n}${t}`;return t},gs=t=>Array.isArray(t),Ci=t=>gs(t)&&t.length>0,Mp=t=>t==null?null:document&&Gs(t)?document.querySelector(t):t.$el??t,yo=(t,e,n,r=void 0)=>{t.removeEventListener(e,n,r)},bo=(t,e,n,r=void 0)=>(t.addEventListener(e,n,r),()=>yo(t,e,n,r)),Vd=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),ad=(t,e)=>{(t.key===" "||t.key==="Enter")&&(e(t),t.preventDefault())},hk=(t,...e)=>{const n={};let r;for(r in t)e.includes(r)||(n[r]=t[r]);return n},fk=(t,e)=>{const n={};return e.forEach(r=>{r in t&&(n[r]=t[r])}),n};function Jee(t,e,n){return Math.min(Math.max(t,e),n)}var Np={},Zee={get exports(){return Np},set exports(t){Np=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=e.default})(Zee,Np);const ete=RD(Np);var Lp={},tte={get exports(){return Lp},set exports(t){Lp=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}t.exports=e.default})(tte,Lp);const pA=RD(Lp);function nte(t,e){var n=ote(e);return n.formatToParts?ste(n,t):ite(n,t)}var rte={year:0,month:1,day:2,hour:3,minute:4,second:5};function ste(t,e){try{for(var n=t.formatToParts(e),r=[],s=0;s<n.length;s++){var i=rte[n[s].type];i>=0&&(r[i]=parseInt(n[s].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function ite(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Kg={};function ote(t){if(!Kg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Kg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Kg[t]}function dk(t,e,n,r,s,i,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,s,i,o),a}var mA=36e5,ate=6e4,Xg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function lte(t,e,n){var r,s;if(!t||(r=Xg.timezoneZ.exec(t),r))return 0;var i;if(r=Xg.timezoneHH.exec(t),r)return i=parseInt(r[1],10),gA(i)?-(i*mA):NaN;if(r=Xg.timezoneHHMM.exec(t),r){i=parseInt(r[1],10);var o=parseInt(r[2],10);return gA(i,o)?(s=Math.abs(i)*mA+o*ate,i>0?-s:s):NaN}if(hte(t)){e=new Date(e||Date.now());var a=ute(e),l=wv(a,t),u=cte(e,l,t);return-u}return NaN}function ute(t){return dk(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function wv(t,e){var n=nte(t,e),r=dk(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),s=t.getTime(),i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function cte(t,e,n){var r=t.getTime(),s=r-e,i=wv(new Date(s),n);if(e===i)return e;s-=i-e;var o=wv(new Date(s),n);return i===o?i:Math.max(i,o)}function gA(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var _A={};function hte(t){if(_A[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),_A[t]=!0,!0}catch{return!1}}var fte=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const dte=fte;var Qg=36e5,vA=6e4,pte=2,_r={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:dte};function mte(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?pte:ete(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=gte(t),i=_te(s.date,r),o=i.year,a=i.restDateString,l=vte(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,f;if(s.time&&(c=yte(s.time),isNaN(c)))return new Date(NaN);if(s.timeZone||n.timeZone){if(f=lte(s.timeZone||n.timeZone,new Date(u+c)),isNaN(f))return new Date(NaN)}else f=pA(new Date(u+c)),f=pA(new Date(u+c+f));return new Date(u+c+f)}else return new Date(NaN)}function gte(t){var e={},n=_r.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=_r.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var s=_r.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function _te(t,e){var n=_r.YYY[e],r=_r.YYYYY[e],s;if(s=_r.YYYY.exec(t)||r.exec(t),s){var i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=_r.YY.exec(t)||n.exec(t),s){var o=s[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function vte(t,e){if(e===null)return null;var n,r,s,i;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=_r.MM.exec(t),n)return r=new Date(0),s=parseInt(n[1],10)-1,bA(e,s)?(r.setUTCFullYear(e,s),r):new Date(NaN);if(n=_r.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return Tte(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=_r.MMDD.exec(t),n){r=new Date(0),s=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return bA(e,s,a)?(r.setUTCFullYear(e,s,a),r):new Date(NaN)}if(n=_r.Www.exec(t),n)return i=parseInt(n[1],10)-1,wA(e,i)?yA(e,i):new Date(NaN);if(n=_r.WwwD.exec(t),n){i=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return wA(e,i,l)?yA(e,i,l):new Date(NaN)}return null}function yte(t){var e,n,r;if(e=_r.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),Jg(n)?n%24*Qg:NaN;if(e=_r.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),Jg(n,r)?n%24*Qg+r*vA:NaN;if(e=_r.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return Jg(n,r,s)?n%24*Qg+r*vA+s*1e3:NaN}return null}function yA(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var bte=[31,28,31,30,31,30,31,31,30,31,30,31],wte=[31,29,31,30,31,30,31,31,30,31,30,31];function pk(t){return t%400===0||t%4===0&&t%100!==0}function bA(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=pk(t);if(r&&n>wte[e]||!r&&n>bte[e])return!1}return!0}function Tte(t,e){if(e<1)return!1;var n=pk(t);return!(n&&e>366||!n&&e>365)}function wA(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function Jg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function ar(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Fd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fd=function(n){return typeof n}:Fd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fd(t)}function Gi(t){ar(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Fd(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ku(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var Ete={};function rb(){return Ete}function sl(t,e){var n,r,s,i,o,a,l,u;ar(1,arguments);var c=rb(),f=Ku((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Gi(t),p=d.getDay(),g=(p<f?7:0)+p-f;return d.setDate(d.getDate()-g),d.setHours(0,0,0,0),d}function TA(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var Ate=6048e5;function Ite(t,e,n){ar(2,arguments);var r=sl(t,n),s=sl(e,n),i=r.getTime()-TA(r),o=s.getTime()-TA(s);return Math.round((i-o)/Ate)}function Ste(t){ar(1,arguments);var e=Gi(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Pte(t){ar(1,arguments);var e=Gi(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Rte(t,e){return ar(1,arguments),Ite(Ste(t),Pte(t),e)+1}function Cte(t,e){var n,r,s,i,o,a,l,u;ar(1,arguments);var c=Gi(t),f=c.getFullYear(),d=rb(),p=Ku((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,p),g.setHours(0,0,0,0);var _=sl(g,e),A=new Date(0);A.setFullYear(f,0,p),A.setHours(0,0,0,0);var S=sl(A,e);return c.getTime()>=_.getTime()?f+1:c.getTime()>=S.getTime()?f:f-1}function Dte(t,e){var n,r,s,i,o,a,l,u;ar(1,arguments);var c=rb(),f=Ku((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=Cte(t,e),p=new Date(0);p.setFullYear(d,0,f),p.setHours(0,0,0,0);var g=sl(p,e);return g}var kte=6048e5;function Ote(t,e){ar(1,arguments);var n=Gi(t),r=sl(n,e).getTime()-Dte(n,e).getTime();return Math.round(r/kte)+1}function $p(t){return ar(1,arguments),sl(t,{weekStartsOn:1})}function xte(t){ar(1,arguments);var e=Gi(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=$p(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=$p(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Mte(t){ar(1,arguments);var e=xte(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=$p(n);return r}var Nte=6048e5;function Lte(t){ar(1,arguments);var e=Gi(t),n=$p(e).getTime()-Mte(e).getTime();return Math.round(n/Nte)+1}function gr(t,e){ar(2,arguments);var n=Gi(t),r=Ku(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Vp(t,e){ar(2,arguments);var n=Gi(t),r=Ku(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function EA(t,e){ar(2,arguments);var n=Ku(e);return Vp(t,n*12)}const $te={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function Vte({monthComps:t,prevMonthComps:e,nextMonthComps:n},r){const s=[],{firstDayOfWeek:i,firstWeekday:o,isoWeeknumbers:a,weeknumbers:l,numDays:u,numWeeks:c}=t,f=o+(o<i?Jn:0)-i;let d=!0,p=!1,g=!1,_=0;const A=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let S=e.numDays-f+1,M=e.numDays-S+1,k=Math.floor((S-1)/Jn+1),O=1,x=e.numWeeks,N=1,T=e.month,w=e.year;const b=new Date,I=b.getDate(),P=b.getMonth()+1,y=b.getFullYear();for(let E=1;E<=Dne;E++){for(let B=1,U=i;B<=Jn;B++,U+=U===Jn?1-Jn:1){d&&U===o&&(S=1,M=t.numDays,k=Math.floor((S-1)/Jn+1),O=Math.floor((u-S)/Jn+1),x=1,N=c,T=t.month,w=t.year,d=!1,p=!0);const F=r.getDateFromParams(w,T,S,0,0,0,0),j=r.getDateFromParams(w,T,S,12,0,0,0),H=r.getDateFromParams(w,T,S,23,59,59,999),ee=F,R=`${St(w,4)}-${St(T,2)}-${St(S,2)}`,ue=B,te=Jn-B,ve=l[E-1],ge=a[E-1],Ce=S===I&&T===P&&w===y,De=p&&S===1,z=p&&S===u,ae=E===1,W=E===c,ne=B===1,me=B===Jn,Re=Sk(w,T,S);s.push({locale:r,id:R,position:++_,label:S.toString(),ariaLabel:A.format(new Date(w,T-1,S)),day:S,dayFromEnd:M,weekday:U,weekdayPosition:ue,weekdayPositionFromEnd:te,weekdayOrdinal:k,weekdayOrdinalFromEnd:O,week:x,weekFromEnd:N,weekPosition:E,weeknumber:ve,isoWeeknumber:ge,month:T,year:w,date:ee,startDate:F,endDate:H,noonDate:j,dayIndex:Re,isToday:Ce,isFirstDay:De,isLastDay:z,isDisabled:!p,isFocusable:!p,isFocused:!1,inMonth:p,inPrevMonth:d,inNextMonth:g,onTop:ae,onBottom:W,onLeft:ne,onRight:me,classes:[`id-${R}`,`day-${S}`,`day-from-end-${M}`,`weekday-${U}`,`weekday-position-${ue}`,`weekday-ordinal-${k}`,`weekday-ordinal-from-end-${O}`,`week-${x}`,`week-from-end-${N}`,{"is-today":Ce,"is-first-day":De,"is-last-day":z,"in-month":p,"in-prev-month":d,"in-next-month":g,"on-top":ae,"on-bottom":W,"on-left":ne,"on-right":me}]}),p&&z?(p=!1,g=!0,S=1,M=u,k=1,O=Math.floor((u-S)/Jn+1),x=1,N=n.numWeeks,T=n.month,w=n.year):(S++,M--,k=Math.floor((S-1)/Jn+1),O=Math.floor((u-S)/Jn+1))}x++,N--}return s}function Fte(t,e,n,r){const s=t.reduce((i,o,a)=>{const l=Math.floor(a/7);let u=i[l];return u||(u={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:e?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},i[l]=u),u.days.push(o),i},Array(t.length/Jn));return s.forEach(i=>{const o=i.days[0],a=i.days[i.days.length-1];o.month===a.month?i.title=`${r.formatDate(o.date,"MMMM YYYY")}`:o.year===a.year?i.title=`${r.formatDate(o.date,"MMM")} - ${r.formatDate(a.date,"MMM YYYY")}`:i.title=`${r.formatDate(o.date,"MMM YYYY")} - ${r.formatDate(a.date,"MMM YYYY")}`}),s}function Ute(t,e){return t.days.map(n=>({label:e.formatDate(n.date,e.masks.weekdays),weekday:n.weekday}))}function Bte(t,e){return`${e}.${St(t,2)}`}function mk(t,e,n){return fk(n.getDateParts(n.toDate(t)),$te[e])}function gk({day:t,week:e,month:n,year:r},s,i,o){if(i==="daily"&&t){const a=new Date(r,n-1,t),l=gr(a,s);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(i==="weekly"&&e){const l=o.getMonthParts(n,r).firstDayOfMonth,u=gr(l,(e-1+s)*7),c=o.getDateParts(u);return{week:c.week,month:c.month,year:c.year}}else{const a=new Date(r,n-1,1),l=Vp(a,s);return{month:l.getMonth()+1,year:l.getFullYear()}}}function Ks(t){return t!=null&&t.month!=null&&t.year!=null}function Tv(t,e){return!Ks(t)||!Ks(e)?!1:(t=t,e=e,t.year!==e.year?t.year<e.year:t.month&&e.month&&t.month!==e.month?t.month<e.month:t.week&&e.week&&t.week!==e.week?t.week<e.week:t.day&&e.day&&t.day!==e.day?t.day<e.day:!1)}function Fp(t,e){return!Ks(t)||!Ks(e)?!1:(t=t,e=e,t.year!==e.year?t.year>e.year:t.month&&e.month&&t.month!==e.month?t.month>e.month:t.week&&e.week&&t.week!==e.week?t.week>e.week:t.day&&e.day&&t.day!==e.day?t.day>e.day:!1)}function jte(t,e,n){return(t||!1)&&!Tv(t,e)&&!Fp(t,n)}function Hte(t,e){return!t&&e||t&&!e?!1:!t&&!e?!0:(t=t,e=e,t.year===e.year&&t.month===e.month&&t.week===e.week&&t.day===e.day)}function zte(t,e,n,r){if(!Ks(t)||!Ks(e))return[];const s=[];for(;!Fp(t,e);)s.push(t),t=gk(t,1,n,r);return s}function _k(t){const{day:e,week:n,month:r,year:s}=t;let i=`${s}-${St(r,2)}`;return n&&(i=`${i}-w${n}`),e&&(i=`${i}-${St(e,2)}`),i}function Yte(t,e){const{month:n,year:r,showWeeknumbers:s,showIsoWeeknumbers:i}=t,o=new Date(r,n-1,15),a=e.getMonthParts(n,r),l=e.getPrevMonthParts(n,r),u=e.getNextMonthParts(n,r),c=Vte({monthComps:a,prevMonthComps:l,nextMonthComps:u},e),f=Fte(c,s,i,e),d=Ute(f[0],e);return{id:_k(t),month:n,year:r,monthTitle:e.formatDate(o,e.masks.title),shortMonthLabel:e.formatDate(o,"MMM"),monthLabel:e.formatDate(o,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:u,days:c,weeks:f,weekdays:d}}function qte(t,e){const{day:n,week:r,view:s,trimWeeks:i}=t,o={...e,...t,title:"",viewDays:[],viewWeeks:[]};switch(s){case"daily":{let a=o.days.find(u=>u.inMonth);n?a=o.days.find(u=>u.day===n&&u.inMonth)||a:r&&(a=o.days.find(u=>u.week===r&&u.inMonth));const l=o.weeks[a.week-1];o.viewWeeks=[l],o.viewDays=[a],o.week=a.week,o.weekTitle=l.title,o.day=a.day,o.dayTitle=a.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=r||1;const a=o.weeks[o.week-1];o.viewWeeks=[a],o.viewDays=a.days,o.weekTitle=a.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,i?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class AA{constructor(e,n,r){Ue(this,"keys",[]),Ue(this,"store",{}),this.size=e,this.createKey=n,this.createItem=r}get(...e){const n=this.createKey(...e);return this.store[n]}getOrSet(...e){const n=this.createKey(...e);if(this.store[n])return this.store[n];const r=this.createItem(...e);if(this.keys.length>=this.size){const s=this.keys.shift();s!=null&&delete this.store[s]}return this.keys.push(n),this.store[n]=r,r}}class ru{constructor(e,n=new Up){Ue(this,"order"),Ue(this,"locale"),Ue(this,"start",null),Ue(this,"end",null),Ue(this,"repeat",null);var r;this.locale=n;const{start:s,end:i,span:o,order:a,repeat:l}=e;nu(s)&&(this.start=n.getDateParts(s)),nu(i)?this.end=n.getDateParts(i):this.start!=null&&o&&(this.end=n.getDateParts(gr(this.start.date,o-1))),this.order=a??0,l&&(this.repeat=new Bp({from:(r=this.start)==null?void 0:r.date,...l},{locale:this.locale}))}static fromMany(e,n){return(gs(e)?e:[e]).filter(r=>r).map(r=>ru.from(r,n))}static from(e,n){if(e instanceof ru)return e;const r={start:null,end:null};return e!=null&&(gs(e)?(r.start=e[0]??null,r.end=e[1]??null):ji(e)?Object.assign(r,e):(r.start=e,r.end=e)),r.start!=null&&(r.start=new Date(r.start)),r.end!=null&&(r.end=new Date(r.end)),new ru(r,n)}get opts(){const{order:e,locale:n}=this;return{order:e,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:n}=this;return e&&n&&e.year===n.year&&e.month===n.month&&e.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var n,r;return((n=this.start)==null?void 0:n.dayIndex)===e.dayIndex||!!((r=this.repeat)!=null&&r.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var n,r;return this.intersectsDayRange(((n=e.start)==null?void 0:n.dayIndex)??-1/0,((r=e.end)==null?void 0:r.dayIndex)??1/0)}intersectsDayRange(e,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<e)}}class Wte{constructor(){Ue(this,"records",{})}render(e,n,r){var s,i,o,a;let l=null;const u=r[0].dayIndex,c=r[r.length-1].dayIndex;return n.hasRepeat?r.forEach(f=>{var d,p;if(n.startsOnDay(f)){const g=n.daySpan<1/0?n.daySpan:1;l={startDay:f.dayIndex,startTime:((d=n.start)==null?void 0:d.time)??0,endDay:f.dayIndex+g-1,endTime:((p=n.end)==null?void 0:p.time)??Ud},this.getRangeRecords(e).push(l)}}):n.intersectsDayRange(u,c)&&(l={startDay:((s=n.start)==null?void 0:s.dayIndex)??-1/0,startTime:((i=n.start)==null?void 0:i.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((a=n.end)==null?void 0:a.time)??1/0},this.getRangeRecords(e).push(l)),l}getRangeRecords(e){let n=this.records[e.key];return n||(n={ranges:[],data:e},this.records[e.key]=n),n.ranges}getCell(e,n){return this.getCells(n).find(i=>i.data.key===e)}cellExists(e,n){const r=this.records[e];return r==null?!1:r.ranges.some(s=>s.startDay<=n&&s.endDay>=n)}getCells(e){const n=Object.values(this.records),r=[],{dayIndex:s}=e;return n.forEach(({data:i,ranges:o})=>{o.filter(a=>a.startDay<=s&&a.endDay>=s).forEach(a=>{const l=s===a.startDay,u=s===a.endDay,c=l?a.startTime:0,f=new Date(e.startDate.getTime()+c),d=u?a.endTime:Ud,p=new Date(e.endDate.getTime()+d),g=c===0&&d===Ud,_=i.order||0;r.push({...a,data:i,onStart:l,onEnd:u,startTime:c,startDate:f,endTime:d,endDate:p,allDay:g,order:_})})}),r.sort((i,o)=>i.order-o.order),r}}const Hi={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Hi.en=Hi["en-US"];Hi.es=Hi["es-ES"];Hi.no=Hi.nb;Hi.zh=Hi["zh-CN"];const Gte=Object.entries(Hi).reduce((t,[e,{dow:n,L:r}])=>(t[e]={id:e,firstDayOfWeek:n,masks:{L:r}},t),{}),Kte="MMMM YYYY",Xte="W",Qte="MMM",Jte="h A",Zte=["L","YYYY-MM-DD","YYYY/MM/DD"],ene=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],tne=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],nne=["h:mm A"],rne=["HH:mm"],sne="WWW, MMM D, YYYY",ine=["L","YYYY-MM-DD","YYYY/MM/DD"],one="iso",ane="YYYY-MM-DDTHH:mm:ss.SSSZ",lne={title:Kte,weekdays:Xte,navMonths:Qte,hours:Jte,input:Zte,inputDateTime:ene,inputDateTime24hr:tne,inputTime:nne,inputTime24hr:rne,dayPopover:sne,data:ine,model:one,iso:ane},une=300,cne=60,hne=80,fne={maxSwipeTime:une,minHorizontalSwipeDistance:cne,maxVerticalSwipeDistance:hne},dne={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:fne,masks:lne,locales:Gte,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Ev=wr(dne),pne=X(()=>NJ(Ev.locales,t=>(t.masks=Hh(t.masks,Ev.masks),t))),zo=t=>typeof window<"u"&&ck(window.__vcalendar__,t)?Aa(window.__vcalendar__,t):Aa(Ev,t),mne=12,gne=5;function _ne(t,e){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let r;Gs(t)?r=t:ck(t,"id")&&(r=t.id),r=(r||n).toLowerCase();const s=Object.keys(e),i=l=>s.find(u=>u.toLowerCase()===l);r=i(r)||i(r.substring(0,2))||n;const o={...e["en-IE"],...e[r],id:r,monthCacheSize:mne,pageCacheSize:gne};return ji(t)?Hh(t,o):o}class Up{constructor(e=void 0,n){Ue(this,"id"),Ue(this,"daysInWeek"),Ue(this,"firstDayOfWeek"),Ue(this,"masks"),Ue(this,"timezone"),Ue(this,"hourLabels"),Ue(this,"dayNames"),Ue(this,"dayNamesShort"),Ue(this,"dayNamesShorter"),Ue(this,"dayNamesNarrow"),Ue(this,"monthNames"),Ue(this,"monthNamesShort"),Ue(this,"relativeTimeNames"),Ue(this,"amPm",["am","pm"]),Ue(this,"monthCache"),Ue(this,"pageCache");const{id:r,firstDayOfWeek:s,masks:i,monthCacheSize:o,pageCacheSize:a}=_ne(e,pne.value);this.monthCache=new AA(o,Fne,Une),this.pageCache=new AA(a,_k,Yte),this.id=r,this.daysInWeek=Jn,this.firstDayOfWeek=Jee(s,1,Jn),this.masks=i,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=Zg("long",this.id),this.dayNamesShort=Zg("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=Zg("narrow",this.id),this.monthNames=DA("long",this.id),this.monthNamesShort=DA("short",this.id),this.relativeTimeNames=Hne(this.id)}formatDate(e,n){return Gne(e,n,this)}parseDate(e,n){return kA(e,n,this)}toDate(e,n={}){const r=new Date(NaN);let s=r;const{fillDate:i,mask:o,patch:a,rules:l}=n;if(Ms(e)?(n.type="number",s=new Date(+e)):Gs(e)?(n.type="string",s=e?kA(e,o||"iso",this):r):nu(e)?(n.type="date",s=new Date(e.getTime())):sb(e)&&(n.type="object",s=this.getDateFromParts(e)),s&&(a||l)){let u=this.getDateParts(s);if(a&&i!=null){const c=this.getDateParts(this.toDate(i));u=this.getDateParts(this.toDate({...c,...fk(u,Cne[a])}))}l&&(u=Wne(u,l)),s=this.getDateFromParts(u)}return s||r}toDateOrNull(e,n={}){const r=this.toDate(e,n);return isNaN(r.getTime())?null:r}fromDate(e,{type:n,mask:r}={}){switch(n){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,r||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return ru.from(e,this)}ranges(e){return ru.fromMany(e,this)}getDateParts(e){return Vne(e,this)}getDateFromParts(e){return Rk(e,this.timezone)}getDateFromParams(e,n,r,s,i,o,a){return this.getDateFromParts({year:e,month:n,day:r,hours:s,minutes:i,seconds:o,milliseconds:a})}getPage(e){const n=this.pageCache.getOrSet(e,this);return qte(e,n)}getMonthParts(e,n){const{firstDayOfWeek:r}=this;return this.monthCache.getOrSet(e,n,r)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,n){return e===1?this.getMonthParts(12,n-1):this.getMonthParts(e-1,n)}getNextMonthParts(e,n){return e===12?this.getMonthParts(1,n+1):this.getMonthParts(e+1,n)}getHourLabels(){return jne().map(e=>this.formatDate(e,this.masks.hours))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var Fl=(t=>(t.Any="any",t.All="all",t))(Fl||{}),vk=(t=>(t.Days="days",t.Weeks="weeks",t.Months="months",t.Years="years",t))(vk||{}),yk=(t=>(t.Days="days",t.Weekdays="weekdays",t.Weeks="weeks",t.Months="months",t.Years="years",t))(yk||{}),bk=(t=>(t.OrdinalWeekdays="ordinalWeekdays",t))(bk||{});class vne{constructor(e,n,r){Ue(this,"validated",!0),this.type=e,this.interval=n,this.from=r,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:n}=e;switch(this.type){case"days":return ib(this.from.date,n)%this.interval===0;case"weeks":return Lne(this.from.date,n)%this.interval===0;case"months":return $ne(this.from.date,n)%this.interval===0;case"years":return Pk(this.from.date,n)%this.interval===0;default:return!1}}}class Xu{constructor(e,n,r,s){Ue(this,"components",[]),this.type=e,this.validator=r,this.getter=s,this.components=this.normalizeComponents(n)}static create(e,n){switch(e){case"days":return new yne(n);case"weekdays":return new bne(n);case"weeks":return new wne(n);case"months":return new Tne(n);case"years":return new Ene(n)}}normalizeComponents(e){if(this.validator(e))return[e];if(!gs(e))return[];const n=[];return e.forEach(r=>{if(!this.validator(r)){console.error(`Component value ${r} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(r)}),n}passes(e){return this.getter(e).some(s=>this.components.includes(s))}}class yne extends Xu{constructor(e){super("days",e,Sne,({day:n,dayFromEnd:r})=>[n,-r])}}class bne extends Xu{constructor(e){super("weekdays",e,Av,({weekday:n})=>[n])}}class wne extends Xu{constructor(e){super("weeks",e,Pne,({week:n,weekFromEnd:r})=>[n,-r])}}class Tne extends Xu{constructor(e){super("months",e,Rne,({month:n})=>[n])}}class Ene extends Xu{constructor(e){super("years",e,Ms,({year:n})=>[n])}}class Ane{constructor(e,n){Ue(this,"components"),this.type=e,this.components=this.normalizeComponents(n)}normalizeArrayConfig(e){const n=[];return e.forEach((r,s)=>{if(Ms(r)){if(s===0)return;if(!IA(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!Av(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else gs(r)&&n.push(...this.normalizeArrayConfig(r))}),n}normalizeComponents(e){const n=[];return e.forEach((r,s)=>{if(Ms(r)){if(s===0)return;if(!IA(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!Av(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else gs(r)&&n.push(...this.normalizeArrayConfig(r))}),n}passes(e){const{weekday:n,weekdayOrdinal:r,weekdayOrdinalFromEnd:s}=e;return this.components.some(([i,o])=>(i===r||i===-s)&&n===o)}}class Ine{constructor(e){Ue(this,"type","function"),Ue(this,"validated",!0),this.fn=e,yl(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return this.validated?this.fn(e):!0}}class Bp{constructor(e,n={},r){Ue(this,"validated",!0),Ue(this,"config"),Ue(this,"type",Fl.Any),Ue(this,"from"),Ue(this,"until"),Ue(this,"rules",[]),Ue(this,"locale",new Up),this.parent=r,n.locale&&(this.locale=n.locale),this.config=e,yl(e)?(this.type=Fl.All,this.rules=[new Ine(e)]):gs(e)?(this.type=Fl.Any,this.rules=e.map(s=>new Bp(s,n,this))):ji(e)?(this.type=Fl.All,this.from=e.from?this.locale.getDateParts(e.from):r==null?void 0:r.from,this.until=e.until?this.locale.getDateParts(e.until):r==null?void 0:r.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const n=[];if(e.every&&(Gs(e.every)&&(e.every=[1,`${e.every}s`]),gs(e.every))){const[r=1,s=vk.Days]=e.every;n.push(new vne(s,r,this.from))}return Object.values(yk).forEach(r=>{r in e&&n.push(Xu.create(r,e[r]))}),Object.values(bk).forEach(r=>{r in e&&n.push(new Ane(r,e[r]))}),e.on!=null&&(gs(e.on)||(e.on=[e.on]),n.push(new Bp(e.on,{locale:this.locale},this.parent))),n}passes(e){return this.validated?this.from&&e.dayIndex<=this.from.dayIndex||this.until&&e.dayIndex>=this.until.dayIndex?!1:this.type===Fl.Any?this.rules.some(n=>n.passes(e)):this.rules.every(n=>n.passes(e)):!0}}function Sne(t){return Ms(t)?t>=1&&t<=31:!1}function Av(t){return Ms(t)?t>=1&&t<=7:!1}function Pne(t){return Ms(t)?t>=-6&&t<=-1||t>=1&&t<=6:!1}function Rne(t){return Ms(t)?t>=1&&t<=12:!1}function IA(t){return!(!Ms(t)||t<-5||t>5||t===0)}const Cne={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},Jn=7,Dne=6,wk=1e3,Tk=wk*60,Ek=Tk*60,Ud=Ek*24,kne=[31,28,31,30,31,30,31,31,30,31,30,31],One=["L","iso"],Cc={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},Ak=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,xne=/\[([^]*?)\]/gm,SA={D(t){return t.day},DD(t){return St(t.day,2)},d(t){return t.weekday-1},dd(t){return St(t.weekday-1,2)},W(t,e){return e.dayNamesNarrow[t.weekday-1]},WW(t,e){return e.dayNamesShorter[t.weekday-1]},WWW(t,e){return e.dayNamesShort[t.weekday-1]},WWWW(t,e){return e.dayNames[t.weekday-1]},M(t){return t.month},MM(t){return St(t.month,2)},MMM(t,e){return e.monthNamesShort[t.month-1]},MMMM(t,e){return e.monthNames[t.month-1]},YY(t){return String(t.year).substr(2)},YYYY(t){return St(t.year,4)},h(t){return t.hours%12||12},hh(t){return St(t.hours%12||12,2)},H(t){return t.hours},HH(t){return St(t.hours,2)},m(t){return t.minutes},mm(t){return St(t.minutes,2)},s(t){return t.seconds},ss(t){return St(t.seconds,2)},S(t){return Math.round(t.milliseconds/100)},SS(t){return St(Math.round(t.milliseconds/10),2)},SSS(t){return St(t.milliseconds,3)},a(t,e){return t.hours<12?e.amPm[0]:e.amPm[1]},A(t,e){return t.hours<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60),2)}`},ZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}`},ZZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${St(Math.floor(Math.abs(e)/60),2)}:${St(Math.abs(e)%60,2)}`}},io=/\d\d?/,Mne=/\d{3}/,Nne=/\d{4}/,mc=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,PA=()=>{},RA=t=>(e,n,r)=>{const s=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~s&&(e.month=s)},Mt={D:[io,(t,e)=>{t.day=e}],Do:[new RegExp(io.source+mc.source),(t,e)=>{t.day=parseInt(e,10)}],d:[io,PA],W:[mc,PA],M:[io,(t,e)=>{t.month=e-1}],MMM:[mc,RA("monthNamesShort")],MMMM:[mc,RA("monthNames")],YY:[io,(t,e)=>{const r=+new Date().getFullYear().toString().substr(0,2);t.year=+`${e>68?r-1:r}${e}`}],YYYY:[Nne,(t,e)=>{t.year=e}],S:[/\d/,(t,e)=>{t.milliseconds=e*100}],SS:[/\d{2}/,(t,e)=>{t.milliseconds=e*10}],SSS:[Mne,(t,e)=>{t.milliseconds=e}],h:[io,(t,e)=>{t.hours=e}],m:[io,(t,e)=>{t.minutes=e}],s:[io,(t,e)=>{t.seconds=e}],a:[mc,(t,e,n)=>{const r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(t,e)=>{e==="Z"&&(e="+00:00");const n=`${e}`.match(/([+-]|\d\d)/gi);if(n){const r=+n[1]*60+parseInt(n[2],10);t.timezoneOffset=n[0]==="+"?r:-r}}]};Mt.DD=Mt.D;Mt.dd=Mt.d;Mt.WWWW=Mt.WWW=Mt.WW=Mt.W;Mt.MM=Mt.M;Mt.mm=Mt.m;Mt.hh=Mt.H=Mt.HH=Mt.h;Mt.ss=Mt.s;Mt.A=Mt.a;Mt.ZZZZ=Mt.ZZZ=Mt.ZZ=Mt.Z;function Ik(t,e){return(Ci(t)&&t||[Gs(t)&&t||"YYYY-MM-DD"]).map(n=>One.reduce((r,s)=>r.replace(s,e.masks[s]||""),n))}function sb(t){return ji(t)&&"year"in t&&"month"in t&&"day"in t}function CA(t,e=1){const n=t.getDay()+1,r=n>=e?e-n:-(7-(e-n));return gr(t,r)}function Sk(t,e,n){const r=Date.UTC(t,e-1,n);return ib(new Date(0),new Date(r))}function ib(t,e){return Math.round((e.getTime()-t.getTime())/Ud)}function Lne(t,e){return Math.ceil(ib(CA(t),CA(e))/7)}function Pk(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function $ne(t,e){return Pk(t,e)*12+(e.getMonth()-t.getMonth())}function Rk(t,e=""){const n=new Date,{year:r=n.getFullYear(),month:s=n.getMonth()+1,day:i=n.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:u=0}=t;if(e){const c=`${St(r,4)}-${St(s,2)}-${St(i,2)}T${St(o,2)}:${St(a,2)}:${St(l,2)}.${St(u,3)}`;return mte(c,{timeZone:e})}return new Date(r,s-1,i,o,a,l,u)}function Vne(t,e){let n=new Date(t.getTime());e.timezone&&(n=new Date(t.toLocaleString("en-US",{timeZone:e.timezone})),n.setMilliseconds(t.getMilliseconds()));const r=n.getMilliseconds(),s=n.getSeconds(),i=n.getMinutes(),o=n.getHours(),a=r+s*wk+i*Tk+o*Ek,l=n.getMonth()+1,u=n.getFullYear(),c=e.getMonthParts(l,u),f=n.getDate(),d=c.numDays-f+1,p=n.getDay()+1,g=Math.floor((f-1)/7+1),_=Math.floor((c.numDays-f)/7+1),A=Math.ceil((f+Math.abs(c.firstWeekday-c.firstDayOfWeek))/7),S=c.numWeeks-A+1,M=c.weeknumbers[A],k=Sk(u,l,f);return{milliseconds:r,seconds:s,minutes:i,hours:o,time:a,day:f,dayFromEnd:d,weekday:p,weekdayOrdinal:g,weekdayOrdinalFromEnd:_,week:A,weekFromEnd:S,weeknumber:M,month:l,year:u,date:n,dateTime:n.getTime(),dayIndex:k,timezoneOffset:0,isValid:!0}}function Fne(t,e,n){return`${e}-${t}-${n}`}function Une(t,e,n){const r=e%4===0&&e%100!==0||e%400===0,s=new Date(e,t-1,1),i=s.getDay()+1,o=t===2&&r?29:kne[t-1],a=n-1,l=Rte(s,{weekStartsOn:a}),u=[],c=[];for(let f=0;f<l;f++){const d=gr(s,f*7);u.push(Ote(d,{weekStartsOn:a})),c.push(Lte(d))}return{firstDayOfWeek:n,firstDayOfMonth:s,inLeapYear:r,firstWeekday:i,numDays:o,numWeeks:l,month:t,year:e,weeknumbers:u,isoWeeknumbers:c}}function Bne(){const t=[];for(let s=0;s<Jn;s++)t.push(Rk({year:2020,month:1,day:5+s,hours:12}));return t}function Zg(t,e=void 0){const n=new Intl.DateTimeFormat(e,{weekday:t});return Bne().map(r=>n.format(r))}function jne(){const t=[];for(let e=0;e<=24;e++)t.push(new Date(2e3,0,1,e));return t}function Hne(t=void 0){const e=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(t);return e.reduce((r,s)=>{const i=n.formatToParts(100,s);return r[s]=i[1].unit,r},{})}function Ck(){const t=[];for(let e=0;e<12;e++)t.push(new Date(2e3,e,15));return t}function DA(t,e=void 0){const n=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return Ck().map(r=>n.format(r))}function zne(t,e,n){return Ms(e)?e===t:gs(e)?e.includes(t):yl(e)?e(t,n):!(e.min!=null&&e.min>t||e.max!=null&&e.max<t||e.interval!=null&&t%e.interval!==0)}function Dc(t,e,n){const r=[],[s,i,o]=e;for(let a=s;a<=i;a++)(n==null||zne(a,n,t))&&r.push({value:a,label:St(a,o)});return r}function Yne(t,e){return{milliseconds:Dc(t,Cc.milliseconds,e.milliseconds),seconds:Dc(t,Cc.seconds,e.seconds),minutes:Dc(t,Cc.minutes,e.minutes),hours:Dc(t,Cc.hours,e.hours)}}function qne(t,e,n,r){const i=Dc(t,e,r).reduce((o,a)=>{if(a.disabled)return o;if(isNaN(o))return a.value;const l=Math.abs(o-n);return Math.abs(a.value-n)<l?a.value:o},NaN);return isNaN(i)?n:i}function Wne(t,e){const n={...t};return Object.entries(e).forEach(([r,s])=>{const i=Cc[r],o=t[r];n[r]=qne(t,i,o,s)}),n}function kA(t,e,n){return Ik(e,n).map(s=>{if(typeof s!="string")throw new Error("Invalid mask");let i=t;if(i.length>1e3)return!1;let o=!0;const a={};if(s.replace(Ak,c=>{if(Mt[c]){const f=Mt[c],d=i.search(f[0]);~d?i.replace(f[0],p=>(f[1](a,p,n),i=i.substr(d+p.length),p)):o=!1}return Mt[c]?"":c.slice(1,c.length-1)}),!o)return!1;const l=new Date;a.hours!=null&&(a.isPm===!0&&+a.hours!=12?a.hours=+a.hours+12:a.isPm===!1&&+a.hours==12&&(a.hours=0));let u;return a.timezoneOffset!=null?(a.minutes=+(a.minutes||0)-+a.timezoneOffset,u=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hours||0,a.minutes||0,a.seconds||0,a.milliseconds||0))):u=n.getDateFromParts({year:a.year||l.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hours||0,minutes:a.minutes||0,seconds:a.seconds||0,milliseconds:a.milliseconds||0}),u}).find(s=>s)||new Date(t)}function Gne(t,e,n){if(t==null)return"";let r=Ik(e,n)[0];/Z$/.test(r)&&(n.timezone="utc");const s=[];r=r.replace(xne,(o,a)=>(s.push(a),"??"));const i=n.getDateParts(t);return r=r.replace(Ak,o=>o in SA?SA[o](i,n):o.slice(1,o.length-1)),r.replace(/\?\?/g,()=>s.shift())}let Kne=0;class Dk{constructor(e,n,r){Ue(this,"key",""),Ue(this,"hashcode",""),Ue(this,"highlight",null),Ue(this,"content",null),Ue(this,"dot",null),Ue(this,"bar",null),Ue(this,"event",null),Ue(this,"popover",null),Ue(this,"customData",null),Ue(this,"ranges"),Ue(this,"hasRanges",!1),Ue(this,"order",0),Ue(this,"pinPage",!1),Ue(this,"maxRepeatSpan",0),Ue(this,"locale");const{dates:s}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++Kne),this.locale=r,n.normalizeGlyphs(this),this.ranges=r.ranges(s??[]),this.hasRanges=!!Ci(this.ranges),this.maxRepeatSpan=this.ranges.filter(i=>i.hasRepeat).map(i=>i.daySpan).reduce((i,o)=>Math.max(i,o),0)}intersectsRange({start:e,end:n}){if(e==null||n==null)return!1;const r=this.ranges.filter(o=>!o.hasRepeat);for(const o of r)if(o.intersectsDayRange(e.dayIndex,n.dayIndex))return!0;const s=this.ranges.filter(o=>o.hasRepeat);if(!s.length)return!1;let i=e;for(this.maxRepeatSpan>1&&(i=this.locale.getDateParts(gr(i.date,-this.maxRepeatSpan)));i.dayIndex<=n.dayIndex;){for(const o of s)if(o.startsOnDay(i))return!0;i=this.locale.getDateParts(gr(i.date,1))}return!1}}function Iv(t){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:t}))}function zh(t){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:t}))}function kk(t){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:t}))}function Ok(t){const{visibility:e}=t,n=e==="click",r=e==="hover",s=e==="hover-focus",i=e==="focus";t.autoHide=!n;let o=!1,a=!1;const l=g=>{n&&(kk({...t,target:t.target||g.currentTarget}),g.stopPropagation())},u=g=>{o||(o=!0,(r||s)&&Iv({...t,target:t.target||g.currentTarget}))},c=()=>{o&&(o=!1,(r||s&&!a)&&zh(t))},f=g=>{a||(a=!0,(i||s)&&Iv({...t,target:t.target||g.currentTarget}))},d=g=>{a&&!Vd(g.currentTarget,g.relatedTarget)&&(a=!1,(i||s&&!o)&&zh(t))},p={};switch(t.visibility){case"click":p.click=l;break;case"hover":p.mousemove=u,p.mouseleave=c;break;case"focus":p.focusin=f,p.focusout=d;break;case"hover-focus":p.mousemove=u,p.mouseleave=c,p.focusin=f,p.focusout=d;break}return p}const OA=t=>{const e=Mp(t);if(e==null)return;const n=e.popoverHandlers;!n||!n.length||(n.forEach(r=>r()),delete e.popoverHandlers)},xA=(t,e)=>{const n=Mp(t);if(n==null)return;const r=[],s=Ok(e);Object.entries(s).forEach(([i,o])=>{r.push(bo(n,i,o))}),n.popoverHandlers=r},xk={mounted(t,e){const{value:n}=e;n&&xA(t,n)},updated(t,e){const{oldValue:n,value:r}=e,s=n==null?void 0:n.visibility,i=r==null?void 0:r.visibility;s!==i&&(s&&(OA(t),i||zh(n)),i&&xA(t,r))},unmounted(t){OA(t)}},Xne=(t,e,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:s})=>{if(!t||!t.addEventListener||!yl(e))return null;let i=0,o=0,a=null,l=!1;function u(f){const d=f.changedTouches[0];i=d.screenX,o=d.screenY,a=new Date().getTime(),l=!0}function c(f){if(!l||!a)return;l=!1;const d=f.changedTouches[0],p=d.screenX-i,g=d.screenY-o;if(new Date().getTime()-a<n&&Math.abs(p)>=r&&Math.abs(g)<=s){const A={toLeft:!1,toRight:!1};p<0?A.toLeft=!0:A.toRight=!0,e(A)}}return bo(t,"touchstart",u,{passive:!0}),bo(t,"touchend",c,{passive:!0}),()=>{yo(t,"touchstart",u),yo(t,"touchend",c)}},Bd={},Qne=(t,e=10)=>{Bd[t]=Date.now()+e},Jne=(t,e)=>{if(t in Bd){const n=Bd[t];if(Date.now()<n)return;delete Bd[t]}e()};function Mk(){return typeof window<"u"}function Zne(t){return Mk()&&t in window}function ere(t){const e=xe(!1),n=X(()=>e.value?"dark":"light");let r,s;function i(p){e.value=p.matches}function o(){Zne("matchMedia")&&(r=window.matchMedia("(prefers-color-scheme: dark)"),r.addEventListener("change",i),e.value=r.matches)}function a(){const{selector:p=":root",darkClass:g="dark"}=t.value,_=document.querySelector(p);e.value=_.classList.contains(g)}function l(p){const{selector:g=":root",darkClass:_="dark"}=p;if(Mk()&&g&&_){const A=document.querySelector(g);A&&(s=new MutationObserver(a),s.observe(A,{attributes:!0,attributeFilter:["class"]}),e.value=A.classList.contains(_))}}function u(){f();const p=typeof t.value;p==="string"&&t.value.toLowerCase()==="system"?o():p==="object"?l(t.value):e.value=!!t.value}const c=lt(()=>t.value,()=>u(),{immediate:!0});function f(){r&&(r.removeEventListener("change",i),r=void 0),s&&(s.disconnect(),s=void 0)}function d(){f(),c()}return Qo(()=>d()),{isDark:e,displayMode:n,cleanup:d}}const tre=["base","start","end","startEnd"],nre=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],rre={base:{},start:{},end:{}};function ob(t,e,n=rre){let r=t,s={};e===!0||Gs(e)?(r=Gs(e)?e:r,s={...n}):ji(e)&&(dA(e,tre)?s={...e}:s={base:{...e},start:{...e},end:{...e}});const i=Hh(s,{start:s.startEnd,end:s.startEnd},n);return Object.entries(i).forEach(([o,a])=>{let l=r;a===!0||Gs(a)?(l=Gs(a)?a:l,i[o]={color:l}):ji(a)&&(dA(a,nre)?i[o]={...a}:i[o]={}),Hh(i[o],{color:l})}),i}class sre{constructor(){Ue(this,"type","highlight")}normalizeConfig(e,n){return ob(e,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:n,onEnd:r},s){const{key:i,highlight:o}=e;if(!o)return;const{highlights:a}=s,{base:l,start:u,end:c}=o;n&&r?a.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]}):n?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):r?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):a.push({...l,key:`${i}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class ab{constructor(e,n){Ue(this,"type",""),Ue(this,"collectionType",""),this.type=e,this.collectionType=n}normalizeConfig(e,n){return ob(e,n)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:n,onEnd:r},s){const{key:i}=e,o=e[this.type];if(!i||!o)return;const a=s[this.collectionType],{base:l,start:u,end:c}=o;n?a.push({...u,key:i,class:[`vc-${this.type} vc-${this.type}-start vc-${u.color} vc-attr`,u.class]}):r?a.push({...c,key:i,class:[`vc-${this.type} vc-${this.type}-end vc-${c.color} vc-attr`,c.class]}):a.push({...l,key:i,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class ire extends ab{constructor(){super("content","content")}normalizeConfig(e,n){return ob("base",n)}}class ore extends ab{constructor(){super("dot","dots")}}class are extends ab{constructor(){super("bar","bars")}}class lre{constructor(e){Ue(this,"color"),Ue(this,"renderers",[new ire,new sre,new ore,new are]),this.color=e}normalizeGlyphs(e){this.renderers.forEach(n=>{const r=n.type;e[r]!=null&&(e[r]=n.normalizeConfig(this.color,e[r]))})}prepareRender(e={}){return this.renderers.forEach(n=>{n.prepareRender(e)}),e}render(e,n){this.renderers.forEach(r=>{r.render(e,n)})}}const Nk=Symbol("__vc_base_context__"),Lk={color:{type:String,default:()=>zo("color")},isDark:{type:[Boolean,String,Object],default:()=>zo("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function $k(t){const e=X(()=>t.color??""),n=X(()=>t.isDark??!1),{displayMode:r}=ere(n),s=X(()=>new lre(e.value)),i=X(()=>{if(t.locale instanceof Up)return t.locale;const d=ji(t.locale)?t.locale:{id:t.locale,firstDayOfWeek:t.firstDayOfWeek,masks:t.masks};return new Up(d,t.timezone)}),o=X(()=>i.value.masks),a=X(()=>t.minDate),l=X(()=>t.maxDate),u=X(()=>{const d=t.disabledDates?[...t.disabledDates]:[];return a.value!=null&&d.push({start:null,end:gr(i.value.toDate(a.value),-1)}),l.value!=null&&d.push({start:gr(i.value.toDate(l.value),1),end:null}),i.value.ranges(d)}),c=X(()=>new Dk({key:"disabled",dates:u.value,order:100},s.value,i.value)),f={color:e,isDark:n,displayMode:r,theme:s,locale:i,masks:o,minDate:a,maxDate:l,disabledDates:u,disabledAttribute:c};return Mi(Nk,f),f}function ure(t){return Ln(Nk,()=>$k(t),!0)}function Vk(t){return`__vc_slot_${t}__`}function Fk(t,e={}){Object.keys(t).forEach(n=>{Mi(Vk(e[n]??n),t[n])})}function Uk(t){return Ln(Vk(t),null)}const cre={...Lk,view:{type:String,default:"monthly",validator(t){return["daily","weekly","monthly"].includes(t)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>zo("titlePosition")},navVisibility:{type:String,default:()=>zo("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},hre=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],Bk=Symbol("__vc_calendar_context__");function fre(t,{slots:e,emit:n}){const r=xe(null),s=xe(null),i=xe(new Date().getDate()),o=xe(!1),a=xe(Symbol()),l=xe(Symbol()),u=xe(t.view),c=xe([]),f=xe("");let d=null,p=null;Fk(e);const{theme:g,color:_,displayMode:A,locale:S,masks:M,minDate:k,maxDate:O,disabledAttribute:x,disabledDates:N}=ure(t),T=X(()=>t.rows*t.columns),w=X(()=>t.step||T.value),b=X(()=>uk(c.value)??null),I=X(()=>zl(c.value)??null),P=X(()=>t.minPage||(k.value?te(k.value):null)),y=X(()=>t.maxPage||(O.value?te(O.value):null)),E=X(()=>t.navVisibility),B=X(()=>!!t.showWeeknumbers),U=X(()=>!!t.showIsoWeeknumbers),F=X(()=>u.value==="monthly"),j=X(()=>u.value==="weekly"),H=X(()=>u.value==="daily"),ee=()=>{o.value=!0,n("transition-start")},R=()=>{o.value=!1,n("transition-end"),d&&(d.resolve(!0),d=null)},ue=(re,V,G=u.value)=>gk(re,V,G,S.value),te=re=>mk(re,u.value,S.value),ve=re=>{!x.value||!W.value||(re.isDisabled=W.value.cellExists(x.value.key,re.dayIndex))},ge=re=>{re.isFocusable=re.inMonth&&re.day===i.value},Ce=(re,V)=>{for(const G of re)for(const we of G.days)if(V(we)===!1)return},De=X(()=>c.value.reduce((re,V)=>(re.push(...V.viewDays),re),[])),z=X(()=>{const re=[];return(t.attributes||[]).forEach((V,G)=>{!V||!V.dates||re.push(new Dk({...V,order:V.order||0},g.value,S.value))}),x.value&&re.push(x.value),re}),ae=X(()=>Ci(z.value)),W=X(()=>{const re=new Wte;return z.value.forEach(V=>{V.ranges.forEach(G=>{re.render(V,G,De.value)})}),re}),ne=X(()=>De.value.reduce((re,V)=>(re[V.dayIndex]={day:V,cells:[]},re[V.dayIndex].cells.push(...W.value.getCells(V)),re),{})),me=(re,V)=>{const G=t.showWeeknumbers||t.showIsoWeeknumbers;return G==null?"":_J(G)?G?"left":"":G.startsWith("right")?V>1?"right":G:re>1?"left":G},Re=()=>{var re,V;if(!ae.value)return null;const G=z.value.find(et=>et.pinPage)||z.value[0];if(!G||!G.hasRanges)return null;const[we]=G.ranges,Le=((re=we.start)==null?void 0:re.date)||((V=we.end)==null?void 0:V.date);return Le?te(Le):null},D=()=>{if(Ks(b.value))return b.value;const re=Re();return Ks(re)?re:te(new Date)},L=(re,V={})=>{const{view:G=u.value,position:we=1,force:Le}=V,et=we>0?1-we:-(T.value+we);let bt=ue(re,et,G),Et=ue(bt,T.value-1,G);return Le||(Tv(bt,P.value)?bt=P.value:Fp(Et,y.value)&&(bt=ue(y.value,1-T.value)),Et=ue(bt,T.value-1)),{fromPage:bt,toPage:Et}},Y=(re,V,G="")=>{if(G==="none"||G==="fade")return G;if((re==null?void 0:re.view)!==(V==null?void 0:V.view))return"fade";const we=Fp(V,re),Le=Tv(V,re);return!we&&!Le?"fade":G==="slide-v"?Le?"slide-down":"slide-up":Le?"slide-right":"slide-left"},Q=(re={})=>new Promise((V,G)=>{const{position:we=1,force:Le=!1,transition:et}=re,bt=Ks(re.page)?re.page:D(),{fromPage:Et}=L(bt,{position:we,force:Le}),Yn=[];for(let an=0;an<T.value;an++){const es=ue(Et,an),Me=an+1,Fe=Math.ceil(Me/t.columns),He=t.rows-Fe+1,Ee=Me%t.columns||t.columns,Be=t.columns-Ee+1,$e=me(Ee,Be);Yn.push(S.value.getPage({...es,view:u.value,titlePosition:t.titlePosition,trimWeeks:t.trimWeeks,position:Me,row:Fe,rowFromEnd:He,column:Ee,columnFromEnd:Be,showWeeknumbers:B.value,showIsoWeeknumbers:U.value,weeknumberPosition:$e}))}f.value=Y(c.value[0],Yn[0],et),c.value=Yn,f.value&&f.value!=="none"?d={resolve:V,reject:G}:V(!0)}),$=re=>{const V=b.value??te(new Date);return ue(V,re)},he=(re,V={})=>{const G=Ks(re)?re:te(re);return Object.assign(V,L(G,{...V,force:!0})),zte(V.fromPage,V.toPage,u.value,S.value).map(Le=>jte(Le,P.value,y.value)).some(Le=>Le)},de=(re,V={})=>he($(re),V),le=X(()=>de(-w.value)),oe=X(()=>de(w.value)),se=async(re,V={})=>!V.force&&!he(re,V)?!1:(V.fromPage&&!Hte(V.fromPage,b.value)&&(zh({id:a.value,hideDelay:0}),V.view&&(Qne("view",10),u.value=V.view),await Q({...V,page:V.fromPage,position:1,force:!0}),n("did-move",c.value)),!0),_e=(re,V={})=>se($(re),V),Pe=()=>_e(-w.value),be=()=>_e(w.value),Ie=re=>{const V=F.value?".in-month":"",G=`.id-${S.value.getDayId(re)}${V}`,we=`${G}.vc-focusable, ${G} .vc-focusable`,Le=r.value;if(Le){const et=Le.querySelector(we);if(et)return et.focus(),!0}return!1},Te=async(re,V={})=>Ie(re)?!0:(await se(re,V),Ie(re)),Ye=(re,V)=>{i.value=re.day,n("dayclick",re,V)},ze=(re,V)=>{n("daymouseenter",re,V)},st=(re,V)=>{n("daymouseleave",re,V)},qt=(re,V)=>{i.value=re.day,s.value=re,re.isFocused=!0,n("dayfocusin",re,V)},tt=(re,V)=>{s.value=null,re.isFocused=!1,n("dayfocusout",re,V)},lr=(re,V)=>{n("daykeydown",re,V);const G=re.noonDate;let we=null;switch(V.key){case"ArrowLeft":{we=gr(G,-1);break}case"ArrowRight":{we=gr(G,1);break}case"ArrowUp":{we=gr(G,-7);break}case"ArrowDown":{we=gr(G,7);break}case"Home":{we=gr(G,-re.weekdayPosition+1);break}case"End":{we=gr(G,re.weekdayPositionFromEnd);break}case"PageUp":{V.altKey?we=EA(G,-1):we=Vp(G,-1);break}case"PageDown":{V.altKey?we=EA(G,1):we=Vp(G,1);break}}we&&(V.preventDefault(),Te(we).catch())},on=re=>{const V=s.value;V!=null&&lr(V,re)},Rn=(re,V)=>{n("weeknumberclick",re,V)};Q({page:t.initialPage,position:t.initialPagePosition}),Zr(()=>{!t.disablePageSwipe&&r.value&&(p=Xne(r.value,({toLeft:re=!1,toRight:V=!1})=>{re?be():V&&Pe()},zo("touch")))}),Qo(()=>{c.value=[],p&&p()}),lt(()=>S.value,()=>{Q()}),lt(()=>T.value,()=>Q()),lt(()=>t.view,()=>u.value=t.view),lt(()=>u.value,()=>{Jne("view",()=>{Q()}),n("update:view",u.value)}),lt(()=>i.value,()=>{Ce(c.value,re=>ge(re))}),bR(()=>{n("update:pages",c.value),Ce(c.value,re=>{ve(re),ge(re)})});const Ct={emit:n,containerRef:r,focusedDay:s,inTransition:o,navPopoverId:a,dayPopoverId:l,view:u,pages:c,transitionName:f,theme:g,color:_,displayMode:A,locale:S,masks:M,attributes:z,disabledAttribute:x,disabledDates:N,attributeContext:W,days:De,dayCells:ne,count:T,step:w,firstPage:b,lastPage:I,canMovePrev:le,canMoveNext:oe,minPage:P,maxPage:y,isMonthly:F,isWeekly:j,isDaily:H,navVisibility:E,showWeeknumbers:B,showIsoWeeknumbers:U,getDateAddress:te,canMove:he,canMoveBy:de,move:se,moveBy:_e,movePrev:Pe,moveNext:be,onTransitionBeforeEnter:ee,onTransitionAfterEnter:R,tryFocusDate:Ie,focusDate:Te,onKeydown:on,onDayKeydown:lr,onDayClick:Ye,onDayMouseenter:ze,onDayMouseleave:st,onDayFocusin:qt,onDayFocusout:tt,onWeeknumberClick:Rn};return Mi(Bk,Ct),Ct}function wl(){const t=Ln(Bk);if(t)return t;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const dre=zt({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(t,{emit:e}){let n;const r=xe();let s=null,i=null;const o=wr({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function a(R){R&&(o.direction=R.split("-")[0])}function l({placement:R,options:ue}){a(R||(ue==null?void 0:ue.placement))}const u=X(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),c=X(()=>{const R=o.direction==="left"||o.direction==="right";let ue="";if(o.placement){const te=o.placement.split("-");te.length>1&&(ue=te[1])}return["start","top","left"].includes(ue)?R?"top":"left":["end","bottom","right"].includes(ue)?R?"bottom":"right":R?"middle":"center"});function f(){i&&(i.destroy(),i=null)}function d(){An(()=>{const R=Mp(o.target);!R||!r.value||(i&&i.state.elements.reference!==R&&f(),i?i.update():i=oq(R,r.value,u.value))})}function p(R){Object.assign(o,hk(R,"force"))}function g(R,ue){clearTimeout(n),R>0?n=setTimeout(ue,R):ue()}function _(R){return!R||!i?!1:Mp(R)===i.state.elements.reference}async function A(R={}){o.force||(R.force&&(o.force=!0),g(R.showDelay??t.showDelay,()=>{o.isVisible&&(o.force=!1),p({...R,isVisible:!0}),d()}))}function S(R={}){i&&(R.target&&!_(R.target)||o.force||(R.force&&(o.force=!0),g(R.hideDelay??t.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function M(R={}){R.target!=null&&(o.isVisible&&_(R.target)?S(R):A(R))}function k(R){if(!i)return;const ue=i.state.elements.reference;if(!r.value||!ue)return;const te=R.target;Vd(r.value,te)||Vd(ue,te)||S({force:!0})}function O(R){(R.key==="Esc"||R.key==="Escape")&&S()}function x({detail:R}){!R.id||R.id!==t.id||A(R)}function N({detail:R}){!R.id||R.id!==t.id||S(R)}function T({detail:R}){!R.id||R.id!==t.id||M(R)}function w(){bo(document,"keydown",O),bo(document,"click",k),bo(document,"show-popover",x),bo(document,"hide-popover",N),bo(document,"toggle-popover",T)}function b(){yo(document,"keydown",O),yo(document,"click",k),yo(document,"show-popover",x),yo(document,"hide-popover",N),yo(document,"toggle-popover",T)}function I(R){e("before-show",R)}function P(R){o.force=!1,e("after-show",R)}function y(R){e("before-hide",R)}function E(R){o.force=!1,f(),e("after-hide",R)}function B(R){R.stopPropagation()}function U(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&A()}function F(){if(o.isHovered=!1,!i)return;const R=i.state.elements.reference;o.autoHide&&!o.isFocused&&(!R||R!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&S()}function j(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&A()}function H(R){["focus","hover-focus"].includes(o.visibility)&&(!R.relatedTarget||!Vd(r.value,R.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&S())}function ee(){s!=null&&(s.disconnect(),s=null)}return lt(()=>r.value,R=>{ee(),R&&(s=new ResizeObserver(()=>{i&&i.update()}),s.observe(R))}),lt(()=>o.placement,a,{immediate:!0}),Zr(()=>{w()}),Qo(()=>{f(),ee(),b()}),{...ZP(o),popoverRef:r,alignment:c,hide:S,setupPopper:d,beforeEnter:I,afterEnter:P,beforeLeave:y,afterLeave:E,onClick:B,onMouseOver:U,onMouseLeave:F,onFocusIn:j,onFocusOut:H}}}),ta=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};function pre(t,e,n,r,s,i){return ie(),Se("div",{class:Pt(["vc-popover-content-wrapper",{"is-interactive":t.isInteractive}]),ref:"popoverRef",onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o)),onMouseover:e[1]||(e[1]=(...o)=>t.onMouseOver&&t.onMouseOver(...o)),onMouseleave:e[2]||(e[2]=(...o)=>t.onMouseLeave&&t.onMouseLeave(...o)),onFocusin:e[3]||(e[3]=(...o)=>t.onFocusIn&&t.onFocusIn(...o)),onFocusout:e[4]||(e[4]=(...o)=>t.onFocusOut&&t.onFocusOut(...o))},[ye(Bo,{name:`vc-${t.transition}`,appear:"",onBeforeEnter:t.beforeEnter,onAfterEnter:t.afterEnter,onBeforeLeave:t.beforeLeave,onAfterLeave:t.afterLeave},{default:gt(()=>[t.isVisible?(ie(),Se("div",Gr({key:0,tabindex:"-1",class:`vc-popover-content direction-${t.direction}`},t.$attrs),[rn(t.$slots,"default",{direction:t.direction,alignment:t.alignment,data:t.data,hide:t.hide},()=>[$n(It(t.data),1)]),pe("span",{class:Pt(["vc-popover-caret",`direction-${t.direction}`,`align-${t.alignment}`])},null,2)],16)):rt("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const lb=ta(dre,[["render",pre]]),mre={class:"vc-day-popover-row"},gre={key:0,class:"vc-day-popover-row-indicator"},_re={class:"vc-day-popover-row-label"},vre=zt({__name:"PopoverRow",props:{attribute:null},setup(t){const e=t,n=X(()=>{const{content:r,highlight:s,dot:i,bar:o,popover:a}=e.attribute;return a&&a.hideIndicator?null:r?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${r.base.color}`}:s?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${s.base.color}`}:i?{class:`vc-dot vc-attr vc-${i.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(r,s)=>(ie(),Se("div",mre,[K(n)?(ie(),Se("div",gre,[pe("span",{class:Pt(K(n).class)},null,2)])):rt("",!0),pe("div",_re,[rn(r.$slots,"default",{},()=>[$n(It(t.attribute.popover?t.attribute.popover.label:"No content provided"),1)])])]))}}),yre={inheritAttrs:!1},us=zt({...yre,__name:"CalendarSlot",props:{name:null},setup(t){const n=Uk(t.name);return(r,s)=>K(n)?(ie(),ot(Yc(K(n)),Ca(Gr({key:0},r.$attrs)),null,16)):rn(r.$slots,"default",{key:1})}}),bre={class:"vc-day-popover-container"},wre={key:0,class:"vc-day-popover-header"},Tre=zt({__name:"CalendarDayPopover",setup(t){const{dayPopoverId:e,displayMode:n,color:r,masks:s,locale:i}=wl();function o(l,u){return i.value.formatDate(l,u)}function a(l){return i.value.formatDate(l.date,s.value.dayPopover)}return(l,u)=>(ie(),ot(lb,{id:K(e),class:Pt([`vc-${K(r)}`,`vc-${K(n)}`])},{default:gt(({data:{day:c,attributes:f},hide:d})=>[ye(us,{name:"day-popover",day:c,"day-title":a(c),attributes:f,format:o,masks:K(s),hide:d},{default:gt(()=>[pe("div",bre,[K(s).dayPopover?(ie(),Se("div",wre,It(a(c)),1)):rt("",!0),(ie(!0),Se(ft,null,Nn(f,p=>(ie(),ot(vre,{key:p.key,attribute:p},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),Ere={},Are={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},Ire=pe("polyline",{points:"9 18 15 12 9 6"},null,-1),Sre=[Ire];function Pre(t,e){return ie(),Se("svg",Are,Sre)}const Rre=ta(Ere,[["render",Pre]]),Cre={},Dre={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},kre=pe("polyline",{points:"15 18 9 12 15 6"},null,-1),Ore=[kre];function xre(t,e){return ie(),Se("svg",Dre,Ore)}const Mre=ta(Cre,[["render",xre]]),Nre={},Lre={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},$re=pe("polyline",{points:"6 9 12 15 18 9"},null,-1),Vre=[$re];function Fre(t,e){return ie(),Se("svg",Lre,Vre)}const Ure=ta(Nre,[["render",Fre]]),Bre={},jre={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},Hre=pe("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),zre=[Hre];function Yre(t,e){return ie(),Se("svg",jre,zre)}const qre=ta(Bre,[["render",Yre]]),Wre=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:Ure,IconChevronLeft:Mre,IconChevronRight:Rre,IconClock:qre},Symbol.toStringTag,{value:"Module"})),Iu=zt({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(t){const e=t,n=X(()=>e.width||e.size),r=X(()=>e.height||e.size),s=X(()=>Wre[`Icon${e.name}`]);return(i,o)=>(ie(),ot(Yc(K(s)),{width:K(n),height:K(r),class:"vc-base-icon"},null,8,["width","height"]))}}),Gre=["disabled"],Kre={key:1,class:"vc-title-wrapper"},Xre={type:"button",class:"vc-title"},Qre=["disabled"],jk=zt({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(t){const e=t,{navPopoverId:n,navVisibility:r,canMovePrev:s,movePrev:i,canMoveNext:o,moveNext:a}=wl(),l=X(()=>{switch(e.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),u=X(()=>{const{page:_}=e;return{id:n.value,visibility:r.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:_},isInteractive:!0}}),c=X(()=>e.page.titlePosition.includes("left")),f=X(()=>e.page.titlePosition.includes("right")),d=X(()=>e.layout?e.layout:c.value?"tu-pn":f.value?"pn-tu":"p-tu-n;"),p=X(()=>({prev:d.value.includes("p")&&!e.hideArrows,title:d.value.includes("t")&&!e.hideTitle,next:d.value.includes("n")&&!e.hideArrows})),g=X(()=>({gridTemplateColumns:d.value.split("").map(A=>{switch(A){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(_,A)=>(ie(),Se("div",{class:Pt(["vc-header",{"is-lg":t.isLg,"is-xl":t.isXl,"is-2xl":t.is2xl}]),style:ti(K(g))},[K(p).prev?(ie(),Se("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!K(s),onClick:A[0]||(A[0]=(...S)=>K(i)&&K(i)(...S)),onKeydown:A[1]||(A[1]=Ur((...S)=>K(i)&&K(i)(...S),["space","enter"]))},[ye(us,{name:"header-prev-button",disabled:!K(s)},{default:gt(()=>[ye(Iu,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,Gre)):rt("",!0),K(p).title?(ie(),Se("div",Kre,[ye(us,{name:"header-title-wrapper"},{default:gt(()=>[Sr((ie(),Se("button",Xre,[ye(us,{name:"header-title",title:t.page.title},{default:gt(()=>[pe("span",null,It(t.page.title),1)]),_:1},8,["title"])])),[[K(xk),K(u)]])]),_:1})])):rt("",!0),K(p).next?(ie(),Se("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!K(o),onClick:A[2]||(A[2]=(...S)=>K(a)&&K(a)(...S)),onKeydown:A[3]||(A[3]=Ur((...S)=>K(a)&&K(a)(...S),["space","enter"]))},[ye(us,{name:"header-next-button",disabled:!K(o)},{default:gt(()=>[ye(Iu,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,Qre)):rt("",!0)],6))}}),Hk=Symbol("__vc_page_context__");function Jre(t){const{locale:e,getDateAddress:n,canMove:r}=wl();function s(a,l){const{month:u,year:c}=n(new Date);return Ck().map((f,d)=>{const p=d+1;return{month:p,year:a,id:Bte(p,a),label:e.value.formatDate(f,l),ariaLabel:e.value.formatDate(f,"MMMM"),isActive:p===t.value.month&&a===t.value.year,isCurrent:p===u&&a===c,isDisabled:!r({month:p,year:a},{position:t.value.position})}})}function i(a,l){const{year:u}=n(new Date),{position:c}=t.value,f=[];for(let d=a;d<=l;d+=1){const p=[...Array(12).keys()].some(g=>r({month:g+1,year:d},{position:c}));f.push({year:d,id:d.toString(),label:d.toString(),ariaLabel:d.toString(),isActive:d===t.value.year,isCurrent:d===u,isDisabled:!p})}return f}const o={page:t,getMonthItems:s,getYearItems:i};return Mi(Hk,o),o}function zk(){const t=Ln(Hk);if(t)return t;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const Zre={class:"vc-nav-header"},ese=["disabled"],tse=["disabled"],nse={class:"vc-nav-items"},rse=["data-id","aria-label","disabled","onClick","onKeydown"],sse=zt({__name:"CalendarNav",setup(t){const{masks:e,move:n}=wl(),{page:r,getMonthItems:s,getYearItems:i}=zk(),o=xe(!0),a=12,l=xe(r.value.year),u=xe(d(r.value.year)),c=xe(null);function f(){setTimeout(()=>{if(c.value==null)return;const te=c.value.querySelector(".vc-nav-item:not(:disabled)");te&&te.focus()},10)}function d(te){return Math.floor(te/a)}function p(){o.value=!o.value}function g(te){return te*a}function _(te){return a*(te+1)-1}function A(){j.value&&(o.value&&M(),O())}function S(){H.value&&(o.value&&k(),x())}function M(){l.value--}function k(){l.value++}function O(){u.value--}function x(){u.value++}const N=X(()=>s(l.value,e.value.navMonths).map(te=>({...te,click:()=>n({month:te.month,year:te.year},{position:r.value.position})}))),T=X(()=>s(l.value-1,e.value.navMonths)),w=X(()=>T.value.some(te=>!te.isDisabled)),b=X(()=>s(l.value+1,e.value.navMonths)),I=X(()=>b.value.some(te=>!te.isDisabled)),P=X(()=>i(g(u.value),_(u.value)).map(te=>({...te,click:()=>{l.value=te.year,o.value=!0,f()}}))),y=X(()=>i(g(u.value-1),_(u.value-1))),E=X(()=>y.value.some(te=>!te.isDisabled)),B=X(()=>i(g(u.value+1),_(u.value+1))),U=X(()=>B.value.some(te=>!te.isDisabled)),F=X(()=>o.value?N.value:P.value),j=X(()=>o.value?w.value:E.value),H=X(()=>o.value?I.value:U.value),ee=X(()=>uk(P.value.map(te=>te.year))),R=X(()=>zl(P.value.map(te=>te.year))),ue=X(()=>o.value?l.value:`${ee.value} - ${R.value}`);return bR(()=>{l.value=r.value.year,f()}),lt(()=>l.value,te=>u.value=d(te)),Zr(()=>f()),(te,ve)=>(ie(),Se("div",{class:"vc-nav-container",ref_key:"navContainer",ref:c},[pe("div",Zre,[pe("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!K(j),onClick:A,onKeydown:ve[0]||(ve[0]=ge=>K(ad)(ge,A))},[ye(us,{name:"nav-prev-button",move:A,disabled:!K(j)},{default:gt(()=>[ye(Iu,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,ese),pe("button",{type:"button",class:"vc-nav-title vc-focus",onClick:p,onKeydown:ve[1]||(ve[1]=ge=>K(ad)(ge,p))},It(K(ue)),33),pe("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!K(H),onClick:S,onKeydown:ve[2]||(ve[2]=ge=>K(ad)(ge,S))},[ye(us,{name:"nav-next-button",move:S,disabled:!K(H)},{default:gt(()=>[ye(Iu,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,tse)]),pe("div",nse,[(ie(!0),Se(ft,null,Nn(K(F),ge=>(ie(),Se("button",{key:ge.label,type:"button","data-id":ge.id,"aria-label":ge.ariaLabel,class:Pt(["vc-nav-item vc-focus",[ge.isActive?"is-active":ge.isCurrent?"is-current":""]]),disabled:ge.isDisabled,onClick:ge.click,onKeydown:Ce=>K(ad)(Ce,ge.click)},It(ge.label),43,rse))),128))])],512))}}),Yk=zt({__name:"CalendarPageProvider",props:{page:null},setup(t){return Jre(Ma(t,"page")),(n,r)=>rn(n.$slots,"default")}}),ise=zt({__name:"CalendarNavPopover",setup(t){const{navPopoverId:e,color:n,displayMode:r}=wl();return(s,i)=>(ie(),ot(lb,{id:K(e),class:Pt(["vc-nav-popover-container",`vc-${K(n)}`,`vc-${K(r)}`])},{default:gt(({data:o})=>[ye(Yk,{page:o.page},{default:gt(()=>[ye(us,{name:"nav"},{default:gt(()=>[ye(sse)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),ose=zt({directives:{popover:xk},components:{CalendarSlot:us},props:{day:{type:Object,required:!0}},setup(t){const{locale:e,theme:n,attributeContext:r,dayPopoverId:s,onDayClick:i,onDayMouseenter:o,onDayMouseleave:a,onDayFocusin:l,onDayFocusout:u,onDayKeydown:c}=wl(),f=X(()=>t.day),d=X(()=>r.value.getCells(f.value)),p=X(()=>d.value.map(U=>U.data)),g=X(()=>({...f.value,attributes:p.value,attributeCells:d.value}));function _({data:U},{popovers:F}){const{key:j,customData:H,popover:ee}=U;if(!ee)return;const R=iA({key:j,customData:H,attribute:U},{...ee},{visibility:ee.label?"hover":"click",placement:"bottom",isInteractive:!ee.label});F.splice(0,0,R)}const A=X(()=>{const U={...n.value.prepareRender({}),popovers:[]};return d.value.forEach(F=>{n.value.render(F,U),_(F,U)}),U}),S=X(()=>A.value.highlights),M=X(()=>!!Ci(S.value)),k=X(()=>A.value.content),O=X(()=>A.value.dots),x=X(()=>!!Ci(O.value)),N=X(()=>A.value.bars),T=X(()=>!!Ci(N.value)),w=X(()=>A.value.popovers),b=X(()=>w.value.map(U=>U.attribute)),I=Uk("day-content"),P=X(()=>["vc-day",...f.value.classes,{"vc-day-box-center-center":!I},{"is-not-in-month":!t.day.inMonth}]),y=X(()=>{let U;f.value.isFocusable?U="0":U="-1";const F=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":f.value.isDisabled},Aa(zl(S.value),"contentClass"),Aa(zl(k.value),"class")||""],j={...Aa(zl(S.value),"contentStyle"),...Aa(zl(k.value),"style")};return{class:F,style:j,tabindex:U,"aria-label":f.value.ariaLabel,"aria-disabled":!!f.value.isDisabled,role:"button"}}),E=X(()=>({click(U){i(g.value,U)},mouseenter(U){o(g.value,U)},mouseleave(U){a(g.value,U)},focusin(U){l(g.value,U)},focusout(U){u(g.value,U)},keydown(U){c(g.value,U)}})),B=X(()=>Ci(w.value)?iA({id:s.value,data:{day:f,attributes:b.value}},...w.value):null);return{attributes:p,attributeCells:d,bars:N,dayClasses:P,dayContentProps:y,dayContentEvents:E,dayPopover:B,glyphs:A,dots:O,hasDots:x,hasBars:T,highlights:S,hasHighlights:M,locale:e,popovers:w}}}),ase={key:0,class:"vc-highlights vc-day-layer"},lse={key:1,class:"vc-day-layer vc-day-box-center-bottom"},use={class:"vc-dots"},cse={key:2,class:"vc-day-layer vc-day-box-center-bottom"},hse={class:"vc-bars"};function fse(t,e,n,r,s,i){const o=ss("CalendarSlot"),a=xF("popover");return ie(),Se("div",{class:Pt(t.dayClasses)},[t.hasHighlights?(ie(),Se("div",ase,[(ie(!0),Se(ft,null,Nn(t.highlights,({key:l,wrapperClass:u,class:c,style:f})=>(ie(),Se("div",{key:l,class:Pt(u)},[pe("div",{class:Pt(c),style:ti(f)},null,6)],2))),128))])):rt("",!0),ye(o,{name:"day-content",day:t.day,attributes:t.attributes,"attribute-cells":t.attributeCells,dayProps:t.dayContentProps,dayEvents:t.dayContentEvents,locale:t.locale},{default:gt(()=>[Sr((ie(),Se("div",Gr(t.dayContentProps,U_(t.dayContentEvents,!0)),[$n(It(t.day.label),1)],16)),[[a,t.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),t.hasDots?(ie(),Se("div",lse,[pe("div",use,[(ie(!0),Se(ft,null,Nn(t.dots,({key:l,class:u,style:c})=>(ie(),Se("span",{key:l,class:Pt(u),style:ti(c)},null,6))),128))])])):rt("",!0),t.hasBars?(ie(),Se("div",cse,[pe("div",hse,[(ie(!0),Se(ft,null,Nn(t.bars,({key:l,class:u,style:c})=>(ie(),Se("span",{key:l,class:Pt(u),style:ti(c)},null,6))),128))])])):rt("",!0)],2)}const dse=ta(ose,[["render",fse]]),pse={class:"vc-weekdays"},mse=["onClick"],gse={inheritAttrs:!1},_se=zt({...gse,__name:"CalendarPage",setup(t){const{page:e}=zk(),{onWeeknumberClick:n}=wl();return(r,s)=>(ie(),Se("div",{class:Pt(["vc-pane",`row-${K(e).row}`,`row-from-end-${K(e).rowFromEnd}`,`column-${K(e).column}`,`column-from-end-${K(e).columnFromEnd}`]),ref:"pane"},[ye(jk,{page:K(e),"is-lg":"","hide-arrows":""},null,8,["page"]),pe("div",{class:Pt(["vc-weeks",{[`vc-show-weeknumbers-${K(e).weeknumberPosition}`]:K(e).weeknumberPosition}])},[pe("div",pse,[(ie(!0),Se(ft,null,Nn(K(e).weekdays,({weekday:i,label:o},a)=>(ie(),Se("div",{key:a,class:Pt(`vc-weekday vc-weekday-${i}`)},It(o),3))),128))]),(ie(!0),Se(ft,null,Nn(K(e).viewWeeks,i=>(ie(),Se("div",{key:`weeknumber-${i.weeknumber}`,class:"vc-week"},[K(e).weeknumberPosition?(ie(),Se("div",{key:0,class:Pt(["vc-weeknumber",`is-${K(e).weeknumberPosition}`])},[pe("span",{class:Pt(["vc-weeknumber-content"]),onClick:o=>K(n)(i,o)},It(i.weeknumberDisplay),9,mse)],2)):rt("",!0),(ie(!0),Se(ft,null,Nn(i.days,o=>(ie(),ot(dse,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),vse=zt({components:{CalendarHeader:jk,CalendarPage:_se,CalendarNavPopover:ise,CalendarDayPopover:Tre,CalendarPageProvider:Yk,CalendarSlot:us},props:cre,emit:hre,setup(t,{emit:e,slots:n}){return fre(t,{emit:e,slots:n})}}),yse={class:"vc-pane-header-wrapper"};function bse(t,e,n,r,s,i){const o=ss("CalendarHeader"),a=ss("CalendarPage"),l=ss("CalendarSlot"),u=ss("CalendarPageProvider"),c=ss("CalendarDayPopover"),f=ss("CalendarNavPopover");return ie(),Se(ft,null,[pe("div",Gr({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},t.$attrs,{class:["vc-container",`vc-${t.view}`,`vc-${t.color}`,`vc-${t.displayMode}`,{"vc-expanded":t.expanded,"vc-bordered":!t.borderless,"vc-transparent":t.transparent}],onMouseup:e[0]||(e[0]=nn(()=>{},["prevent"])),ref:"containerRef"}),[pe("div",{class:Pt(["vc-pane-container",{"in-transition":t.inTransition}])},[pe("div",yse,[t.firstPage?(ie(),ot(o,{key:0,page:t.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):rt("",!0)]),ye(Bo,{name:`vc-${t.transitionName}`,onBeforeEnter:t.onTransitionBeforeEnter,onAfterEnter:t.onTransitionAfterEnter},{default:gt(()=>[(ie(),Se("div",{key:t.pages[0].id,class:"vc-pane-layout",style:ti({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(ie(!0),Se(ft,null,Nn(t.pages,d=>(ie(),ot(u,{key:d.id,page:d},{default:gt(()=>[ye(l,{name:"page",page:d},{default:gt(()=>[ye(a)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),ye(l,{name:"footer"})],2)],16),ye(c),ye(f)],64)}const wse=ta(vse,[["render",bse]]),qk=Symbol("__vc_date_picker_context__"),Tse={...Lk,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>zo("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>zo("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},Ese=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function Ase(t,{emit:e,slots:n}){Fk(n,{footer:"dp-footer"});const r=$k(t),{locale:s,masks:i,disabledAttribute:o}=r,a=xe(!1),l=xe(Symbol()),u=xe(null),c=xe(null),f=xe(["",""]),d=xe(null),p=xe(null);let g,_,A=!0;const S=X(()=>t.isRange||t.modelModifiers.range===!0),M=X(()=>S.value&&u.value!=null?u.value.start:null),k=X(()=>S.value&&u.value!=null?u.value.end:null),O=X(()=>t.mode.toLowerCase()==="date"),x=X(()=>t.mode.toLowerCase()==="datetime"),N=X(()=>t.mode.toLowerCase()==="time"),T=X(()=>!!c.value),w=X(()=>{let V="date";t.modelModifiers.number&&(V="number"),t.modelModifiers.string&&(V="string");const G=i.value.modelValue||"iso";return ve({type:V,mask:G})}),b=X(()=>de(c.value??u.value)),I=X(()=>N.value?t.is24hr?i.value.inputTime24hr:i.value.inputTime:x.value?t.is24hr?i.value.inputDateTime24hr:i.value.inputDateTime:i.value.input),P=X(()=>/[Hh]/g.test(I.value)),y=X(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(I.value)),E=X(()=>{if(P.value&&y.value)return"dateTime";if(y.value)return"date";if(P.value)return"time"}),B=X(()=>{var V;const G=((V=d.value)==null?void 0:V.$el.previousElementSibling)??void 0;return Hh({},t.popover,zo("datePicker.popover"),{target:G})}),U=X(()=>Ok({...B.value,id:l.value})),F=X(()=>S.value?{start:f.value[0],end:f.value[1]}:f.value[0]),j=X(()=>{const V=["start","end"].map(G=>({input:Q(G),change:$(G),keyup:he,...t.popover&&U.value}));return S.value?{start:V[0],end:V[1]}:V[0]}),H=X(()=>{if(!z(u.value))return null;const V={key:"select-drag",...t.selectAttribute,dates:u.value,pinPage:!0},{dot:G,bar:we,highlight:Le,content:et}=V;return!G&&!we&&!Le&&!et&&(V.highlight=!0),V}),ee=X(()=>{if(!S.value||!z(c.value))return null;const V={key:"select-drag",...t.dragAttribute,dates:c.value},{dot:G,bar:we,highlight:Le,content:et}=V;return!G&&!we&&!Le&&!et&&(V.highlight={startEnd:{fillMode:"outline"}}),V}),R=X(()=>{const V=gs(t.attributes)?[...t.attributes]:[];return ee.value?V.unshift(ee.value):H.value&&V.unshift(H.value),V}),ue=X(()=>ve(t.rules==="auto"?te():t.rules??{}));function te(){const V={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},G=O.value?0:t.timeAccuracy;return[0,1].map(we=>{switch(G){case 0:return{hours:V.hr[we],minutes:V.min[we],seconds:V.sec[we],milliseconds:V.ms[we]};case 1:return{minutes:V.min[we],seconds:V.sec[we],milliseconds:V.ms[we]};case 3:return{milliseconds:V.ms[we]};case 4:return{};default:return{seconds:V.sec[we],milliseconds:V.ms[we]}}})}function ve(V){return gs(V)?V.length===1?[V[0],V[0]]:V:[V,V]}function ge(V){return ve(V).map((G,we)=>({...G,rules:ue.value[we]}))}function Ce(V){return V==null?!1:Ms(V)?!isNaN(V):nu(V)?!isNaN(V.getTime()):Gs(V)?V!=="":sb(V)}function De(V){return ji(V)&&"start"in V&&"end"in V&&Ce(V.start??null)&&Ce(V.end??null)}function z(V){return De(V)||Ce(V)}function ae(V,G){if(V==null&&G==null)return!0;if(V==null||G==null)return!1;const we=nu(V),Le=nu(G);return we&&Le?V.getTime()===G.getTime():we||Le?!1:ae(V.start,G.start)&&ae(V.end,G.end)}function W(V){return!z(V)||!o.value?!1:o.value.intersectsRange(s.value.range(V))}function ne(V,G,we,Le){if(!z(V))return null;if(De(V)){const et=s.value.toDate(V.start,{...G[0],fillDate:M.value??void 0,patch:we}),bt=s.value.toDate(V.end,{...G[1],fillDate:k.value??void 0,patch:we});return tt({start:et,end:bt},Le)}return s.value.toDateOrNull(V,{...G[0],fillDate:u.value,patch:we})}function me(V,G){return De(V)?{start:s.value.fromDate(V.start,G[0]),end:s.value.fromDate(V.end,G[1])}:S.value?null:s.value.fromDate(V,G[0])}function Re(V,G={}){return clearTimeout(g),new Promise(we=>{const{debounce:Le=0,...et}=G;Le>0?g=window.setTimeout(()=>{we(D(V,et))},Le):we(D(V,et))})}function D(V,{config:G=w.value,patch:we="dateTime",clearIfEqual:Le=!1,formatInput:et=!0,hidePopover:bt=!1,dragging:Et=T.value,targetPriority:Yn,moveToValue:an=!1}={}){const es=ge(G);let Me=ne(V,es,we,Yn);if(W(Me)){if(Et)return null;Me=u.value,bt=!1}else Me==null&&t.isRequired?Me=u.value:Me!=null&&ae(u.value,Me)&&Le&&(Me=null);const He=Et?c:u,Ee=!ae(He.value,Me);He.value=Me,Et||(c.value=null);const Be=me(Me,w.value);return Ee&&(A=!1,e(Et?"drag":"update:modelValue",Be),An(()=>A=!0)),bt&&!Et&&st(),et&&L(),an&&An(()=>Rn(Yn??"start")),Be}function L(){An(()=>{const V=ge({type:"string",mask:I.value}),G=me(c.value??u.value,V);S.value?f.value=[G&&G.start,G&&G.end]:f.value=[G,""]})}function Y(V,G,we){f.value.splice(G==="start"?0:1,1,V);const Le=S.value?{start:f.value[0],end:f.value[1]||f.value[0]}:V,et={type:"string",mask:I.value};Re(Le,{...we,config:et,patch:E.value,targetPriority:G,moveToValue:!0})}function Q(V){return G=>{t.updateOnInput&&Y(G.currentTarget.value,V,{formatInput:!1,hidePopover:!1,debounce:t.inputDebounce})}}function $(V){return G=>{Y(G.currentTarget.value,V,{formatInput:!0,hidePopover:!1})}}function he(V){V.key==="Escape"&&Re(u.value,{formatInput:!0,hidePopover:!0})}function de(V){return S.value?[V&&V.start?s.value.getDateParts(V.start):null,V&&V.end?s.value.getDateParts(V.end):null]:[V?s.value.getDateParts(V):null]}function le(){c.value=null,L()}function oe(V){e("popover-will-show",V)}function se(V){e("popover-did-show",V)}function _e(V){le(),e("popover-will-hide",V)}function Pe(V){e("popover-did-hide",V)}function be(V){const G={patch:"date",formatInput:!0,hidePopover:!0};if(S.value){const we=!T.value;we?_={start:V.startDate,end:V.endDate}:_!=null&&(_.end=V.date),Re(_,{...G,dragging:we})}else Re(V.date,{...G,clearIfEqual:!t.isRequired})}function Ie(V,G){be(V),e("dayclick",V,G)}function Te(V,G){switch(G.key){case" ":case"Enter":{be(V),G.preventDefault();break}case"Escape":st()}e("daykeydown",V,G)}function Ye(V,G){!T.value||_==null||(_.end=V.date,Re(tt(_),{patch:"date",formatInput:!0}))}function ze(V={}){Iv({...B.value,...V,isInteractive:!0,id:l.value})}function st(V={}){zh({hideDelay:10,force:!0,...B.value,...V,id:l.value})}function qt(V){kk({...B.value,...V,isInteractive:!0,id:l.value})}function tt(V,G){const{start:we,end:Le}=V;if(we>Le)switch(G){case"start":return{start:we,end:we};case"end":return{start:Le,end:Le};default:return{start:Le,end:we}}return{start:we,end:Le}}async function lr(V,G={}){return p.value==null?!1:p.value.move(V,G)}async function on(V,G={}){return p.value==null?!1:p.value.moveBy(V,G)}async function Rn(V,G={}){const we=u.value;if(p.value==null||!z(we))return!1;const Le=V!=="end",et=Le?1:-1,bt=De(we)?Le?we.start:we.end:we,Et=mk(bt,"monthly",s.value);return p.value.move(Et,{position:et,...G})}lt(()=>t.isRange,V=>{V&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),lt(()=>S.value,()=>{D(null,{formatInput:!0})}),lt(()=>I.value,()=>L()),lt(()=>t.modelValue,V=>{A&&D(V,{formatInput:!0,hidePopover:!1})}),lt(()=>ue.value,()=>{ji(t.rules)&&D(t.modelValue,{formatInput:!0,hidePopover:!1})}),lt(()=>t.timezone,()=>{D(u.value,{formatInput:!0})});const Ct=ve(w.value);u.value=ne(t.modelValue??null,Ct,"dateTime"),Zr(()=>{D(t.modelValue,{formatInput:!0,hidePopover:!1})}),An(()=>a.value=!0);const re={...r,showCalendar:a,datePickerPopoverId:l,popoverRef:d,popoverEvents:U,calendarRef:p,isRange:S,isTimeMode:N,isDateTimeMode:x,is24hr:Ma(t,"is24hr"),hideTimeHeader:Ma(t,"hideTimeHeader"),timeAccuracy:Ma(t,"timeAccuracy"),isDragging:T,inputValue:F,inputEvents:j,dateParts:b,attributes:R,rules:ue,move:lr,moveBy:on,moveToValue:Rn,updateValue:Re,showPopover:ze,hidePopover:st,togglePopover:qt,onDayClick:Ie,onDayKeydown:Te,onDayMouseEnter:Ye,onPopoverBeforeShow:oe,onPopoverAfterShow:se,onPopoverBeforeHide:_e,onPopoverAfterHide:Pe};return Mi(qk,re),re}function ub(){const t=Ln(qk);if(t)return t;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const Ise=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],Sse=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function Pse(t){const e=ub(),{locale:n,isRange:r,isTimeMode:s,dateParts:i,rules:o,is24hr:a,hideTimeHeader:l,timeAccuracy:u,updateValue:c}=e;function f(y){y=Object.assign(p.value,y);let E=null;if(r.value){const B=d.value?y:i.value[0],U=d.value?i.value[1]:y;E={start:B,end:U}}else E=y;c(E,{patch:"time",targetPriority:d.value?"start":"end",moveToValue:!0})}const d=X(()=>t.position===0),p=X(()=>i.value[t.position]||{isValid:!1}),g=X(()=>sb(p.value)),_=X(()=>!!p.value.isValid),A=X(()=>!l.value&&_.value),S=X(()=>{if(!g.value)return null;let y=n.value.toDate(p.value);return p.value.hours===24&&(y=new Date(y.getTime()-1)),y}),M=X({get(){return p.value.hours},set(y){f({hours:y})}}),k=X({get(){return p.value.minutes},set(y){f({minutes:y})}}),O=X({get(){return p.value.seconds},set(y){f({seconds:y})}}),x=X({get(){return p.value.milliseconds},set(y){f({milliseconds:y})}}),N=X({get(){return p.value.hours<12},set(y){y=String(y).toLowerCase()=="true";let E=M.value;y&&E>=12?E-=12:!y&&E<12&&(E+=12),f({hours:E})}}),T=X(()=>Yne(p.value,o.value[t.position])),w=X(()=>Ise.filter(y=>T.value.hours.some(E=>E.value===y.value))),b=X(()=>Sse.filter(y=>T.value.hours.some(E=>E.value===y.value))),I=X(()=>a.value?T.value.hours:N.value?w.value:b.value),P=X(()=>{const y=[];return Ci(w.value)&&y.push({value:!0,label:"AM"}),Ci(b.value)&&y.push({value:!1,label:"PM"}),y});return{...e,showHeader:A,timeAccuracy:u,parts:p,isValid:_,date:S,hours:M,minutes:k,seconds:O,milliseconds:x,options:T,hourOptions:I,isAM:N,isAMOptions:P,is24hr:a}}const Rse=["value"],Cse=["value","disabled"],Dse={key:1,class:"vc-base-sizer","aria-hidden":"true"},kse={inheritAttrs:!1},gc=zt({...kse,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(t){const e=t,n=X(()=>{const r=e.options.find(s=>s.value===e.modelValue);return r==null?void 0:r.label});return(r,s)=>(ie(),Se("div",{class:Pt(["vc-base-select",{"vc-fit-content":t.fitContent,"vc-has-icon":t.showIcon}])},[pe("select",Gr(r.$attrs,{value:t.modelValue,class:["vc-focus",{"vc-align-right":t.alignRight,"vc-align-left":t.alignLeft}],onChange:s[0]||(s[0]=i=>r.$emit("update:modelValue",i.target.value))}),[(ie(!0),Se(ft,null,Nn(t.options,i=>(ie(),Se("option",{key:i.value,value:i.value,disabled:i.disabled},It(i.label),9,Cse))),128))],16,Rse),t.showIcon?(ie(),ot(Iu,{key:0,name:"ChevronDown",size:"18"})):rt("",!0),t.fitContent?(ie(),Se("div",Dse,It(K(n)),1)):rt("",!0)],2))}}),Ose={key:0,class:"vc-time-header"},xse={class:"vc-time-weekday"},Mse={class:"vc-time-month"},Nse={class:"vc-time-day"},Lse={class:"vc-time-year"},$se={class:"vc-time-select-group"},Vse=pe("span",{class:"vc-time-colon"},":",-1),Fse=pe("span",{class:"vc-time-colon"},":",-1),Use=pe("span",{class:"vc-time-decimal"},".",-1),MA=zt({__name:"TimePicker",props:{position:null},setup(t,{expose:e}){const r=Pse(t);e(r);const{locale:s,isValid:i,date:o,hours:a,minutes:l,seconds:u,milliseconds:c,options:f,hourOptions:d,isTimeMode:p,isAM:g,isAMOptions:_,is24hr:A,showHeader:S,timeAccuracy:M}=r;return(k,O)=>(ie(),Se("div",{class:Pt(["vc-time-picker",[{"vc-invalid":!K(i),"vc-attached":!K(p)}]])},[ye(us,{name:"time-header"},{default:gt(()=>[K(S)&&K(o)?(ie(),Se("div",Ose,[pe("span",xse,It(K(s).formatDate(K(o),"WWW")),1),pe("span",Mse,It(K(s).formatDate(K(o),"MMM")),1),pe("span",Nse,It(K(s).formatDate(K(o),"D")),1),pe("span",Lse,It(K(s).formatDate(K(o),"YYYY")),1)])):rt("",!0)]),_:1}),pe("div",$se,[ye(Iu,{name:"Clock",size:"17"}),ye(gc,{modelValue:K(a),"onUpdate:modelValue":O[0]||(O[0]=x=>jt(a)?a.value=x:null),modelModifiers:{number:!0},options:K(d),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),K(M)>1?(ie(),Se(ft,{key:0},[Vse,ye(gc,{modelValue:K(l),"onUpdate:modelValue":O[1]||(O[1]=x=>jt(l)?l.value=x:null),modelModifiers:{number:!0},options:K(f).minutes,class:"vc-time-select-minutes","align-left":K(M)===2},null,8,["modelValue","options","align-left"])],64)):rt("",!0),K(M)>2?(ie(),Se(ft,{key:1},[Fse,ye(gc,{modelValue:K(u),"onUpdate:modelValue":O[2]||(O[2]=x=>jt(u)?u.value=x:null),modelModifiers:{number:!0},options:K(f).seconds,class:"vc-time-select-seconds","align-left":K(M)===3},null,8,["modelValue","options","align-left"])],64)):rt("",!0),K(M)>3?(ie(),Se(ft,{key:2},[Use,ye(gc,{modelValue:K(c),"onUpdate:modelValue":O[3]||(O[3]=x=>jt(c)?c.value=x:null),modelModifiers:{number:!0},options:K(f).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):rt("",!0),K(A)?rt("",!0):(ie(),ot(gc,{key:3,modelValue:K(g),"onUpdate:modelValue":O[4]||(O[4]=x=>jt(g)?g.value=x:null),options:K(_)},null,8,["modelValue","options"]))])],2))}}),Wk=zt({__name:"DatePickerBase",setup(t){const{attributes:e,calendarRef:n,color:r,displayMode:s,isDateTimeMode:i,isTimeMode:o,isRange:a,onDayClick:l,onDayMouseEnter:u,onDayKeydown:c}=ub(),f=a.value?[0,1]:[0];return(d,p)=>K(o)?(ie(),Se("div",{key:0,class:Pt(`vc-container vc-bordered vc-${K(r)} vc-${K(s)}`)},[(ie(!0),Se(ft,null,Nn(K(f),g=>(ie(),ot(MA,{key:g,position:g},null,8,["position"]))),128))],2)):(ie(),ot(wse,{key:1,attributes:K(e),ref_key:"calendarRef",ref:n,onDayclick:K(l),onDaymouseenter:K(u),onDaykeydown:K(c)},{footer:gt(()=>[K(i)?(ie(!0),Se(ft,{key:0},Nn(K(f),g=>(ie(),ot(MA,{key:g,position:g},null,8,["position"]))),128)):rt("",!0),ye(us,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),Bse={inheritAttrs:!1},jse=zt({...Bse,__name:"DatePickerPopover",setup(t){const{datePickerPopoverId:e,color:n,displayMode:r,popoverRef:s,onPopoverBeforeShow:i,onPopoverAfterShow:o,onPopoverBeforeHide:a,onPopoverAfterHide:l}=ub();return(u,c)=>(ie(),ot(lb,{id:K(e),placement:"bottom-start",class:Pt(`vc-date-picker-content vc-${K(n)} vc-${K(r)}`),ref_key:"popoverRef",ref:s,onBeforeShow:K(i),onAfterShow:K(o),onBeforeHide:K(a),onAfterHide:K(l)},{default:gt(()=>[ye(Wk,Ca(kh(u.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),Hse=zt({inheritAttrs:!1,emits:Ese,props:Tse,components:{DatePickerBase:Wk,DatePickerPopover:jse},setup(t,e){const n=Ase(t,e),r=wr(hk(n,"calendarRef","popoverRef"));return{...n,slotCtx:r}}});function zse(t,e,n,r,s,i){const o=ss("DatePickerPopover"),a=ss("DatePickerBase");return t.$slots.default?(ie(),Se(ft,{key:0},[rn(t.$slots,"default",Ca(kh(t.slotCtx))),ye(o,Ca(kh(t.$attrs)),null,16)],64)):(ie(),ot(a,Ca(Gr({key:1},t.$attrs)),null,16))}const Yse=ta(Hse,[["render",zse]]);var qse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wse(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gk={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qse,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",o="second",a="minute",l="hour",u="day",c="week",f="month",d="quarter",p="year",g="date",_="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var U=["th","st","nd","rd"],F=B%100;return"["+B+(U[(F-20)%10]||U[F]||U[0])+"]"}},k=function(B,U,F){var j=String(B);return!j||j.length>=U?B:""+Array(U+1-j.length).join(F)+B},O={s:k,z:function(B){var U=-B.utcOffset(),F=Math.abs(U),j=Math.floor(F/60),H=F%60;return(U<=0?"+":"-")+k(j,2,"0")+":"+k(H,2,"0")},m:function B(U,F){if(U.date()<F.date())return-B(F,U);var j=12*(F.year()-U.year())+(F.month()-U.month()),H=U.clone().add(j,f),ee=F-H<0,R=U.clone().add(j+(ee?-1:1),f);return+(-(j+(F-H)/(ee?H-R:R-H))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:f,y:p,w:c,d:u,D:g,h:l,m:a,s:o,ms:i,Q:d}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},x="en",N={};N[x]=M;var T="$isDayjsObject",w=function(B){return B instanceof y||!(!B||!B[T])},b=function B(U,F,j){var H;if(!U)return x;if(typeof U=="string"){var ee=U.toLowerCase();N[ee]&&(H=ee),F&&(N[ee]=F,H=ee);var R=U.split("-");if(!H&&R.length>1)return B(R[0])}else{var ue=U.name;N[ue]=U,H=ue}return!j&&H&&(x=H),H||!j&&x},I=function(B,U){if(w(B))return B.clone();var F=typeof U=="object"?U:{};return F.date=B,F.args=arguments,new y(F)},P=O;P.l=b,P.i=w,P.w=function(B,U){return I(B,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var y=function(){function B(F){this.$L=b(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[T]=!0}var U=B.prototype;return U.parse=function(F){this.$d=function(j){var H=j.date,ee=j.utc;if(H===null)return new Date(NaN);if(P.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var R=H.match(A);if(R){var ue=R[2]-1||0,te=(R[7]||"0").substring(0,3);return ee?new Date(Date.UTC(R[1],ue,R[3]||1,R[4]||0,R[5]||0,R[6]||0,te)):new Date(R[1],ue,R[3]||1,R[4]||0,R[5]||0,R[6]||0,te)}}return new Date(H)}(F),this.init()},U.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},U.$utils=function(){return P},U.isValid=function(){return this.$d.toString()!==_},U.isSame=function(F,j){var H=I(F);return this.startOf(j)<=H&&H<=this.endOf(j)},U.isAfter=function(F,j){return I(F)<this.startOf(j)},U.isBefore=function(F,j){return this.endOf(j)<I(F)},U.$g=function(F,j,H){return P.u(F)?this[j]:this.set(H,F)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(F,j){var H=this,ee=!!P.u(j)||j,R=P.p(F),ue=function(W,ne){var me=P.w(H.$u?Date.UTC(H.$y,ne,W):new Date(H.$y,ne,W),H);return ee?me:me.endOf(u)},te=function(W,ne){return P.w(H.toDate()[W].apply(H.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(ne)),H)},ve=this.$W,ge=this.$M,Ce=this.$D,De="set"+(this.$u?"UTC":"");switch(R){case p:return ee?ue(1,0):ue(31,11);case f:return ee?ue(1,ge):ue(0,ge+1);case c:var z=this.$locale().weekStart||0,ae=(ve<z?ve+7:ve)-z;return ue(ee?Ce-ae:Ce+(6-ae),ge);case u:case g:return te(De+"Hours",0);case l:return te(De+"Minutes",1);case a:return te(De+"Seconds",2);case o:return te(De+"Milliseconds",3);default:return this.clone()}},U.endOf=function(F){return this.startOf(F,!1)},U.$set=function(F,j){var H,ee=P.p(F),R="set"+(this.$u?"UTC":""),ue=(H={},H[u]=R+"Date",H[g]=R+"Date",H[f]=R+"Month",H[p]=R+"FullYear",H[l]=R+"Hours",H[a]=R+"Minutes",H[o]=R+"Seconds",H[i]=R+"Milliseconds",H)[ee],te=ee===u?this.$D+(j-this.$W):j;if(ee===f||ee===p){var ve=this.clone().set(g,1);ve.$d[ue](te),ve.init(),this.$d=ve.set(g,Math.min(this.$D,ve.daysInMonth())).$d}else ue&&this.$d[ue](te);return this.init(),this},U.set=function(F,j){return this.clone().$set(F,j)},U.get=function(F){return this[P.p(F)]()},U.add=function(F,j){var H,ee=this;F=Number(F);var R=P.p(j),ue=function(ge){var Ce=I(ee);return P.w(Ce.date(Ce.date()+Math.round(ge*F)),ee)};if(R===f)return this.set(f,this.$M+F);if(R===p)return this.set(p,this.$y+F);if(R===u)return ue(1);if(R===c)return ue(7);var te=(H={},H[a]=r,H[l]=s,H[o]=n,H)[R]||1,ve=this.$d.getTime()+F*te;return P.w(ve,this)},U.subtract=function(F,j){return this.add(-1*F,j)},U.format=function(F){var j=this,H=this.$locale();if(!this.isValid())return H.invalidDate||_;var ee=F||"YYYY-MM-DDTHH:mm:ssZ",R=P.z(this),ue=this.$H,te=this.$m,ve=this.$M,ge=H.weekdays,Ce=H.months,De=H.meridiem,z=function(ne,me,Re,D){return ne&&(ne[me]||ne(j,ee))||Re[me].slice(0,D)},ae=function(ne){return P.s(ue%12||12,ne,"0")},W=De||function(ne,me,Re){var D=ne<12?"AM":"PM";return Re?D.toLowerCase():D};return ee.replace(S,function(ne,me){return me||function(Re){switch(Re){case"YY":return String(j.$y).slice(-2);case"YYYY":return P.s(j.$y,4,"0");case"M":return ve+1;case"MM":return P.s(ve+1,2,"0");case"MMM":return z(H.monthsShort,ve,Ce,3);case"MMMM":return z(Ce,ve);case"D":return j.$D;case"DD":return P.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return z(H.weekdaysMin,j.$W,ge,2);case"ddd":return z(H.weekdaysShort,j.$W,ge,3);case"dddd":return ge[j.$W];case"H":return String(ue);case"HH":return P.s(ue,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return W(ue,te,!0);case"A":return W(ue,te,!1);case"m":return String(te);case"mm":return P.s(te,2,"0");case"s":return String(j.$s);case"ss":return P.s(j.$s,2,"0");case"SSS":return P.s(j.$ms,3,"0");case"Z":return R}return null}(ne)||R.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(F,j,H){var ee,R=this,ue=P.p(j),te=I(F),ve=(te.utcOffset()-this.utcOffset())*r,ge=this-te,Ce=function(){return P.m(R,te)};switch(ue){case p:ee=Ce()/12;break;case f:ee=Ce();break;case d:ee=Ce()/3;break;case c:ee=(ge-ve)/6048e5;break;case u:ee=(ge-ve)/864e5;break;case l:ee=ge/s;break;case a:ee=ge/r;break;case o:ee=ge/n;break;default:ee=ge}return H?ee:P.a(ee)},U.daysInMonth=function(){return this.endOf(f).$D},U.$locale=function(){return N[this.$L]},U.locale=function(F,j){if(!F)return this.$L;var H=this.clone(),ee=b(F,j,!0);return ee&&(H.$L=ee),H},U.clone=function(){return P.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},B}(),E=y.prototype;return I.prototype=E,[["$ms",i],["$s",o],["$m",a],["$H",l],["$W",u],["$M",f],["$y",p],["$D",g]].forEach(function(B){E[B[1]]=function(U){return this.$g(U,B[0],B[1])}}),I.extend=function(B,U){return B.$i||(B(U,y,I),B.$i=!0),I},I.locale=b,I.isDayjs=w,I.unix=function(B){return I(1e3*B)},I.en=N[x],I.Ls=N,I.p={},I})})(Gk);var Gse=Gk.exports;const jp=Wse(Gse),Kse=t=>(df("data-v-17fb86a6"),t=t(),pf(),t),Xse={class:"relative"},Qse=Kse(()=>pe("i",{class:"icon-calendar cursor-pointer text-[24px]"},null,-1)),Jse={__name:"pick-calendar",emits:["selected"],setup(t,{emit:e}){const n=e,r=xe(!1),s=xe(new Date),i=xe(null);return lt(s,o=>{n("selected",jp(o).format("DD-MM-YYYY"))}),OB(i,o=>r.value=!1),(o,a)=>(ie(),Se("div",Xse,[pe("div",{class:"flex justify-between border-b px-1 py-2 text-white",ref:"test",onClick:a[0]||(a[0]=l=>r.value=!r.value)},[pe("p",null,It(K(jp)(s.value).format("DD-MM-YYYY")),1),Qse],512),Sr(pe("div",{class:"absolute left-0 top-14 z-10 w-full",ref_key:"calendar",ref:i},[ye(K(Yse),{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=l=>s.value=l)},null,8,["modelValue"])],512),[[Is,r.value]])]))}},Zse=Ef(Jse,[["__scopeId","data-v-17fb86a6"]]),eie=t=>(df("data-v-573d7321"),t=t(),pf(),t),tie={class:"flex flex-wrap items-center gap-3"},nie=["onClick"],rie=eie(()=>pe("i",{class:"icon-tag-close ml-[10px]"},null,-1)),sie=[rie],iie={__name:"category-select",props:lR({data:{type:Object}},{category:{},categoryModifiers:{}}),emits:["update:category"],setup(t){var s;const e=t,n=xR(t,"category");if(e.data){const i=(s=e.data)==null?void 0:s.map(o=>{const a=O0[o.id]??o.id;return{id:o.id,label:a}});n.value=i}const r=i=>{const o=n.value.findIndex(a=>a.slug===i);o!==-1&&n.value.splice(o,1)};return(i,o)=>(ie(),Se(ft,null,[pe("div",null,[ye(K(x0),{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),options:K(eY),multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"分類",label:"label","track-by":"id",selectedLabel:"已選擇",selectLabel:"點擊選擇",deselectLabel:"點擊刪除"},{selection:gt(({values:a,search:l,isOpen:u})=>[a.length?Sr((ie(),Se("span",{key:0,class:"multiselect__single"},"已選擇"+It(a.length)+"項",513)),[[Is,!u]]):rt("",!0)]),selectLabel:gt(a=>[$n(" 123 ")]),_:1},8,["modelValue","options"])]),pe("div",tie,[(ie(!0),Se(ft,null,Nn(n.value,a=>(ie(),Se("div",{class:"text-body-l-semibold flex items-center space-x-3 rounded-[8px] border border-enable px-2 py-1 text-enable",key:a.slug},[$n(It(a.label)+" ",1),pe("button",{type:"button",class:"flex",onClick:l=>r(a==null?void 0:a.slug)},sie,8,nie)]))),128))])],64))}},oie=Ef(iie,[["__scopeId","data-v-573d7321"]]),Kk=t=>(df("data-v-729206a2"),t=t(),pf(),t),aie={class:"absolute inset-0 h-full overflow-auto"},lie={class:"main-gradient relative mx-auto my-[64px] w-[90%] rounded-[50px] border border-[#FFFFFF33] bg-black p-14 md:p-20 md:mt-[128px] md:w-[489px]"},uie=Kk(()=>pe("p",{class:"text-heading-s"},"添加記錄",-1)),cie={class:"mt-8 space-y-6"},hie={class:"space-y-3"},fie=Kk(()=>pe("i",{class:"icon-close text-[32px]"},null,-1)),die=[fie],pie={__name:"add-modal",setup(t){const e=La();xe("");const n=xe(!1),r=xe({record_date:jp(new Date).format("DD-MM-YYYY"),type:"",name:"",year:"",country:"",mark:0,favorite:!1,watched:!1,postImageUrl:""}),s=xe(null),i=d=>r.value.record_date=d,o=d=>r.value.type=d,a=d=>r.value.favorite=d,l=d=>r.value.watched=d,u=d=>r.value.mark=d,c=async d=>s.value=d,f=async()=>{r.value={...r.value,watched_date:r.value.watched?jp(new Date).format("DD-MM-YYYY"):""},r.value.postImageUrl=await rY(s.value),await nY(r.value),console.log("added movie"),e.close("add-movie-id")};return lt(r,d=>{d.country&&d.type&&d.name&&d.year&&(n.value=!0)},{deep:!0}),(d,p)=>(ie(),ot(K(p0),{"modal-id":"add-record-id",class:"absolute inset-0 bg-[#30313299]","content-transition":"vfm-fade","overlay-transition":"vfm-fade"},{default:gt(()=>[pe("div",aie,[pe("div",lie,[pe("div",null,[uie,pe("div",cie,[ye(Zse,{onSelected:i,date:r.value.record_date,"onUpdate:date":p[0]||(p[0]=g=>r.value.record_date=g)},null,8,["date"]),ye(e6,{onSelected:o}),ye(Hg,{placeholder:"名稱",text:r.value.name,"onUpdate:text":p[1]||(p[1]=g=>r.value.name=g)},null,8,["text"]),ye(Hg,{placeholder:"年份",text:r.value.year,"onUpdate:text":p[2]||(p[2]=g=>r.value.year=g)},null,8,["text"]),ye(Hg,{placeholder:"產地",text:r.value.country,"onUpdate:text":p[3]||(p[3]=g=>r.value.country=g)},null,8,["text"]),ye(oie,{category:r.value.categoryList,"onUpdate:category":p[4]||(p[4]=g=>r.value.categoryList=g)},null,8,["category"])]),ye(vY,{class:"my-8",onImageData:c}),pe("div",hie,[ye(p1,{title:"最愛",onSelected:a}),ye(p1,{title:"已觀看",onSelected:l}),ye(xY,{onSelected:u})]),ye(lY,{text:"添加",class:"mt-8",disable:n.value,onClick:p[5]||(p[5]=g=>f())},null,8,["disable"])]),pe("button",{type:"button",class:"absolute right-10 top-10",onClick:p[6]||(p[6]=g=>K(e).close("add-record-id"))},die)])])]),_:1}))}},mie=Ef(pie,[["__scopeId","data-v-729206a2"]]),gie={class:"text-heading-m flex h-full flex-col justify-between"},_ie={class:"flex flex-col gap-y-4"},vie={class:"flex justify-end"},yie={type:"button",class:""},bie=pe("i",{class:"icon-plus-square"},null,-1),wie=pe("i",{class:"icon-search"},null,-1),Tie=pe("i",{class:"icon-sign-in"},null,-1),Eie=zt({__name:"mobile-menu",props:{clickAddRecord:{type:Function},clickLogout:{type:Function}},setup(t){const e=La();return(n,r)=>{const s=ss("routerLink");return ie(),ot(K(p0),{"modal-id":"mobile-menu","content-class":"absolute bottom-0 w-[70%] h-dvh right-0 p-4 bg-second ","content-transition":"vfm-slide-right","overlay-transition":"vfm-fade"},{default:gt(()=>[pe("div",gie,[pe("div",_ie,[pe("div",vie,[pe("button",yie,[pe("i",{class:"icon-close text-[24px]",onClick:r[0]||(r[0]=i=>K(e).close("mobile-menu"))})])]),pe("button",{type:"button",class:"flex items-center justify-center gap-x-2",onClick:r[1]||(r[1]=i=>t.clickAddRecord())},[bie,$n(" 添加 ")]),ye(s,{to:"/search",class:"flex items-center justify-center gap-x-2",onClick:r[2]||(r[2]=i=>K(e).close("mobile-menu"))},{default:gt(()=>[wie,$n(" 搜尋 ")]),_:1})]),pe("button",{type:"button",class:"flex w-full items-center justify-center gap-x-2 rounded-lg border border-primary text-primary",onClick:r[3]||(r[3]=i=>t.clickLogout())},[Tie,$n(" 登出 ")])])]),_:1})}}});function wi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Xr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Su={duration:.5,overwrite:!1,delay:0},cb,sr,Yt,cs=1e8,Lt=1/cs,Sv=Math.PI*2,Aie=Sv/4,Iie=0,Qk=Math.sqrt,Sie=Math.cos,Pie=Math.sin,Vn=function(e){return typeof e=="string"},sn=function(e){return typeof e=="function"},zi=function(e){return typeof e=="number"},hb=function(e){return typeof e>"u"},hi=function(e){return typeof e=="object"},Or=function(e){return e!==!1},fb=function(){return typeof window<"u"},ld=function(e){return sn(e)||Vn(e)},Jk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ir=Array.isArray,Pv=/(?:-?\.?\d|\.)+/gi,Zk=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Yl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,e_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,eO=/[+-]=-?[.\d]+/,tO=/[^,'"\[\]\s]+/gi,Rie=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Kt,Bs,Rv,db,Jr={},Hp={},nO,rO=function(e){return(Hp=il(e,Jr))&&$r},pb=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Yh=function(e,n){return!n&&console.warn(e)},sO=function(e,n){return e&&(Jr[e]=n)&&Hp&&(Hp[e]=n)||Jr},qh=function(){return 0},Cie={suppressEvents:!0,isStart:!0,kill:!1},jd={suppressEvents:!0,kill:!1},Die={suppressEvents:!0},mb={},xo=[],Cv={},iO,zr={},t_={},NA=30,Hd=[],gb="",_b=function(e){var n=e[0],r,s;if(hi(n)||sn(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(s=Hd.length;s--&&!Hd[s].targetTest(n););r=Hd[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new CO(e[s],r)))||e.splice(s,1);return e},Fa=function(e){return e._gsap||_b(hs(e))[0]._gsap},oO=function(e,n,r){return(r=e[n])&&sn(r)?e[n]():hb(r)&&e.getAttribute&&e.getAttribute(n)||r},xr=function(e,n){return(e=e.split(",")).forEach(n)||e},hn=function(e){return Math.round(e*1e5)/1e5||0},xn=function(e){return Math.round(e*1e7)/1e7||0},su=function(e,n){var r=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},kie=function(e,n){for(var r=n.length,s=0;e.indexOf(n[s])<0&&++s<r;);return s<r},zp=function(){var e=xo.length,n=xo.slice(0),r,s;for(Cv={},xo.length=0,r=0;r<e;r++)s=n[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},aO=function(e,n,r,s){xo.length&&!sr&&zp(),e.render(n,r,sr&&n<0&&(e._initted||e._startAt)),xo.length&&!sr&&zp()},lO=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(tO).length<2?n:Vn(e)?e.trim():e},uO=function(e){return e},bs=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Oie=function(e){return function(n,r){for(var s in r)s in n||s==="duration"&&e||s==="ease"||(n[s]=r[s])}},il=function(e,n){for(var r in n)e[r]=n[r];return e},LA=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=hi(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Yp=function(e,n){var r={},s;for(s in e)s in n||(r[s]=e[s]);return r},oh=function(e){var n=e.parent||Kt,r=e.keyframes?Oie(ir(e.keyframes)):bs;if(Or(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},xie=function(e,n){for(var r=e.length,s=r===n.length;s&&r--&&e[r]===n[r];);return r<0},cO=function(e,n,r,s,i){var o=e[s],a;if(i)for(a=n[i];o&&o[i]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[s]=n,n._prev=o,n.parent=n._dp=e,n},Jm=function(e,n,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var i=n._prev,o=n._next;i?i._next=o:e[r]===n&&(e[r]=o),o?o._prev=i:e[s]===n&&(e[s]=i),n._next=n._prev=n.parent=null},Yo=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ua=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Mie=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Dv=function(e,n,r,s){return e._startAt&&(sr?e._startAt.revert(jd):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},Nie=function t(e){return!e||e._ts&&t(e.parent)},$A=function(e){return e._repeat?Pu(e._tTime,e=e.duration()+e._rDelay)*e:0},Pu=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},qp=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Zm=function(e){return e._end=xn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Lt)||0))},eg=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=xn(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Zm(e),r._dirty||Ua(r,e)),e},hO=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=qp(e.rawTime(),n),(!n._dur||Pf(0,n.totalDuration(),r)-n._tTime>Lt)&&n.render(r,!0)),Ua(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Lt}},Ys=function(e,n,r,s){return n.parent&&Yo(n),n._start=xn((zi(r)?r:r||e!==Kt?rs(e,r,n):e._time)+n._delay),n._end=xn(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),cO(e,n,"_first","_last",e._sort?"_start":0),kv(n)||(e._recent=n),s||hO(e,n),e._ts<0&&eg(e,e._tTime),e},fO=function(e,n){return(Jr.ScrollTrigger||pb("scrollTrigger",n))&&Jr.ScrollTrigger.create(n,e)},dO=function(e,n,r,s,i){if(yb(e,n,i),!e._initted)return 1;if(!r&&e._pt&&!sr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&iO!==Yr.frame)return xo.push(e),e._lazy=[i,s],1},Lie=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},kv=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},$ie=function(e,n,r,s){var i=e.ratio,o=n<0||!n&&(!e._start&&Lie(e)&&!(!e._initted&&kv(e))||(e._ts<0||e._dp._ts<0)&&!kv(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=Pf(0,e._tDur,n),c=Pu(l,a),e._yoyo&&c&1&&(o=1-o),c!==Pu(e._tTime,a)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||sr||s||e._zTime===Lt||!n&&e._zTime){if(!e._initted&&dO(e,n,s,r,l))return;for(f=e._zTime,e._zTime=n||(r?Lt:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&Dv(e,n,r,!0),e._onUpdate&&!r&&Kr(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Kr(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Yo(e,1),!r&&!sr&&(Kr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Vie=function(e,n,r){var s;if(r>n)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},Ru=function(e,n,r,s){var i=e._repeat,o=xn(n)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:xn(o*(i+1)+e._rDelay*i):o,a>0&&!s&&eg(e,e._tTime=e._tDur*a),e.parent&&Zm(e),r||Ua(e.parent,e),e},VA=function(e){return e instanceof vr?Ua(e):Ru(e,e._dur)},Fie={_start:0,endTime:qh,totalDuration:qh},rs=function t(e,n,r){var s=e.labels,i=e._recent||Fie,o=e.duration()>=cs?i.endTime(!1):e._dur,a,l,u;return Vn(n)&&(isNaN(n)||n in s)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?i:r).totalDuration()/100:1)):a<0?(n in s||(s[n]=o),s[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(ir(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},ah=function(e,n,r){var s=zi(n[1]),i=(s?2:1)+(e<2?0:1),o=n[i],a,l;if(s&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Or(l.vars.inherit)&&l.parent;o.immediateRender=Or(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[i-1]}return new vn(n[0],o,n[i+1])},na=function(e,n){return e||e===0?n(e):n},Pf=function(e,n,r){return r<e?e:r>n?n:r},rr=function(e,n){return!Vn(e)||!(n=Rie.exec(e))?"":n[1]},Uie=function(e,n,r){return na(r,function(s){return Pf(e,n,s)})},Ov=[].slice,pO=function(e,n){return e&&hi(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&hi(e[0]))&&!e.nodeType&&e!==Bs},Bie=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(s){var i;return Vn(s)&&!n||pO(s,1)?(i=r).push.apply(i,hs(s)):r.push(s)})||r},hs=function(e,n,r){return Yt&&!n&&Yt.selector?Yt.selector(e):Vn(e)&&!r&&(Rv||!Cu())?Ov.call((n||db).querySelectorAll(e),0):ir(e)?Bie(e,r):pO(e)?Ov.call(e,0):e?[e]:[]},xv=function(e){return e=hs(e)[0]||Yh("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return hs(n,r.querySelectorAll?r:r===e?Yh("Invalid scope")||db.createElement("div"):e)}},mO=function(e){return e.sort(function(){return .5-Math.random()})},gO=function(e){if(sn(e))return e;var n=hi(e)?e:{each:e},r=Ba(n.ease),s=n.from||0,i=parseFloat(n.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,u=n.axis,c=s,f=s;return Vn(s)?c=f={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(c=s[0],f=s[1]),function(d,p,g){var _=(g||n).length,A=o[_],S,M,k,O,x,N,T,w,b;if(!A){if(b=n.grid==="auto"?0:(n.grid||[1,cs])[1],!b){for(T=-cs;T<(T=g[b++].getBoundingClientRect().left)&&b<_;);b<_&&b--}for(A=o[_]=[],S=l?Math.min(b,_)*c-.5:s%b,M=b===cs?0:l?_*f/b-.5:s/b|0,T=0,w=cs,N=0;N<_;N++)k=N%b-S,O=M-(N/b|0),A[N]=x=u?Math.abs(u==="y"?O:k):Qk(k*k+O*O),x>T&&(T=x),x<w&&(w=x);s==="random"&&mO(A),A.max=T-w,A.min=w,A.v=_=(parseFloat(n.amount)||parseFloat(n.each)*(b>_?_-1:u?u==="y"?_/b:b:Math.max(b,_/b))||0)*(s==="edges"?-1:1),A.b=_<0?i-_:i,A.u=rr(n.amount||n.each)||0,r=r&&_<0?SO(r):r}return _=(A[d]-A.min)/A.max||0,xn(A.b+(r?r(_):_)*A.v)+A.u}},Mv=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=xn(Math.round(parseFloat(r)/e)*e*n);return(s-s%1)/n+(zi(r)?0:rr(r))}},_O=function(e,n){var r=ir(e),s,i;return!r&&hi(e)&&(s=r=e.radius||cs,e.values?(e=hs(e.values),(i=!zi(e[0]))&&(s*=s)):e=Mv(e.increment)),na(n,r?sn(e)?function(o){return i=e(o),Math.abs(i-o)<=s?i:o}:function(o){for(var a=parseFloat(i?o.x:o),l=parseFloat(i?o.y:0),u=cs,c=0,f=e.length,d,p;f--;)i?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<u&&(u=d,c=f);return c=!s||u<=s?e[c]:o,i||c===o||zi(o)?c:c+rr(o)}:Mv(e))},vO=function(e,n,r,s){return na(ir(e)?!n:r===!0?!!(r=0):!s,function(){return ir(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*s)/s})},jie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduce(function(i,o){return o(i)},s)}},Hie=function(e,n){return function(r){return e(parseFloat(r))+(n||rr(r))}},zie=function(e,n,r){return bO(e,n,0,1,r)},yO=function(e,n,r){return na(r,function(s){return e[~~n(s)]})},Yie=function t(e,n,r){var s=n-e;return ir(e)?yO(e,t(0,e.length),n):na(r,function(i){return(s+(i-e)%s)%s+e})},qie=function t(e,n,r){var s=n-e,i=s*2;return ir(e)?yO(e,t(0,e.length-1),n):na(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>s?i-o:o)})},Wh=function(e){for(var n=0,r="",s,i,o,a;~(s=e.indexOf("random(",n));)o=e.indexOf(")",s),a=e.charAt(s+7)==="[",i=e.substr(s+7,o-s-7).match(a?tO:Pv),r+=e.substr(n,s-n)+vO(a?i:+i[0],a?0:+i[1],+i[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},bO=function(e,n,r,s,i){var o=n-e,a=s-r;return na(i,function(l){return r+((l-e)/o*a||0)})},Wie=function t(e,n,r,s){var i=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!i){var o=Vn(e),a={},l,u,c,f,d;if(r===!0&&(s=1)&&(r=null),o)e={p:e},n={p:n};else if(ir(e)&&!ir(n)){for(c=[],f=e.length,d=f-2,u=1;u<f;u++)c.push(t(e[u-1],e[u]));f--,i=function(g){g*=f;var _=Math.min(d,~~g);return c[_](g-_)},r=n}else s||(e=il(ir(e)?[]:{},e));if(!c){for(l in n)vb.call(a,e,l,"get",n[l]);i=function(g){return Tb(g,a)||(o?e.p:e)}}}return na(r,i)},FA=function(e,n,r){var s=e.labels,i=cs,o,a,l;for(o in s)a=s[o]-n,a<0==!!r&&a&&i>(a=Math.abs(a))&&(l=o,i=a);return l},Kr=function(e,n,r){var s=e.vars,i=s[n],o=Yt,a=e._ctx,l,u,c;if(i)return l=s[n+"Params"],u=s.callbackScope||e,r&&xo.length&&zp(),a&&(Yt=a),c=l?i.apply(u,l):i.call(u),Yt=o,c},kc=function(e){return Yo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!sr),e.progress()<1&&Kr(e,"onInterrupt"),e},ql,wO=[],TO=function(e){if(e)if(e=!e.name&&e.default||e,fb()||e.headless){var n=e.name,r=sn(e),s=n&&!r&&e.init?function(){this._props=[]}:e,i={init:qh,render:Tb,add:vb,kill:uoe,modifier:loe,rawVars:0},o={targetTest:0,get:0,getSetter:wb,aliases:{},register:0};if(Cu(),e!==s){if(zr[n])return;bs(s,bs(Yp(e,i),o)),il(s.prototype,il(i,Yp(e,o))),zr[s.prop=n]=s,e.targetTest&&(Hd.push(s),mb[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}sO(n,s),e.register&&e.register($r,s,Mr)}else wO.push(e)},xt=255,Oc={aqua:[0,xt,xt],lime:[0,xt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xt],navy:[0,0,128],white:[xt,xt,xt],olive:[128,128,0],yellow:[xt,xt,0],orange:[xt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xt,0,0],pink:[xt,192,203],cyan:[0,xt,xt],transparent:[xt,xt,xt,0]},n_=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*xt+.5|0},EO=function(e,n,r){var s=e?zi(e)?[e>>16,e>>8&xt,e&xt]:0:Oc.black,i,o,a,l,u,c,f,d,p,g;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Oc[e])s=Oc[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+i+i+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&xt,s&xt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&xt,e&xt]}else if(e.substr(0,3)==="hsl"){if(s=g=e.match(Pv),!n)l=+s[0]%360/360,u=+s[1]/100,c=+s[2]/100,o=c<=.5?c*(u+1):c+u-c*u,i=c*2-o,s.length>3&&(s[3]*=1),s[0]=n_(l+1/3,i,o),s[1]=n_(l,i,o),s[2]=n_(l-1/3,i,o);else if(~e.indexOf("="))return s=e.match(Zk),r&&s.length<4&&(s[3]=1),s}else s=e.match(Pv)||Oc.transparent;s=s.map(Number)}return n&&!g&&(i=s[0]/xt,o=s[1]/xt,a=s[2]/xt,f=Math.max(i,o,a),d=Math.min(i,o,a),c=(f+d)/2,f===d?l=u=0:(p=f-d,u=c>.5?p/(2-f-d):p/(f+d),l=f===i?(o-a)/p+(o<a?6:0):f===o?(a-i)/p+2:(i-o)/p+4,l*=60),s[0]=~~(l+.5),s[1]=~~(u*100+.5),s[2]=~~(c*100+.5)),r&&s.length<4&&(s[3]=1),s},AO=function(e){var n=[],r=[],s=-1;return e.split(Mo).forEach(function(i){var o=i.match(Yl)||[];n.push.apply(n,o),r.push(s+=o.length+1)}),n.c=r,n},UA=function(e,n,r){var s="",i=(e+s).match(Mo),o=n?"hsla(":"rgba(",a=0,l,u,c,f;if(!i)return e;if(i=i.map(function(d){return(d=EO(d,n,1))&&o+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(c=AO(e),l=r.c,l.join(s)!==c.c.join(s)))for(u=e.replace(Mo,"1").split(Yl),f=u.length-1;a<f;a++)s+=u[a]+(~l.indexOf(a)?i.shift()||o+"0,0,0,0)":(c.length?c:i.length?i:r).shift());if(!u)for(u=e.split(Mo),f=u.length-1;a<f;a++)s+=u[a]+i[a];return s+u[f]},Mo=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Oc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Gie=/hsl[a]?\(/,IO=function(e){var n=e.join(" "),r;if(Mo.lastIndex=0,Mo.test(n))return r=Gie.test(n),e[1]=UA(e[1],r),e[0]=UA(e[0],r,AO(e[1])),!0},Gh,Yr=function(){var t=Date.now,e=500,n=33,r=t(),s=r,i=1e3/240,o=i,a=[],l,u,c,f,d,p,g=function _(A){var S=t()-s,M=A===!0,k,O,x,N;if((S>e||S<0)&&(r+=S-n),s+=S,x=s-r,k=x-o,(k>0||M)&&(N=++f.frame,d=x-f.time*1e3,f.time=x=x/1e3,o+=k+(k>=i?4:i-k),O=1),M||(l=u(_)),O)for(p=0;p<a.length;p++)a[p](x,d,N,A)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(A){return d/(1e3/(A||60))},wake:function(){nO&&(!Rv&&fb()&&(Bs=Rv=window,db=Bs.document||{},Jr.gsap=$r,(Bs.gsapVersions||(Bs.gsapVersions=[])).push($r.version),rO(Hp||Bs.GreenSockGlobals||!Bs.gsap&&Bs||{}),wO.forEach(TO)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),u=c||function(A){return setTimeout(A,o-f.time*1e3+1|0)},Gh=1,g(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),Gh=0,u=qh},lagSmoothing:function(A,S){e=A||1/0,n=Math.min(S||33,e)},fps:function(A){i=1e3/(A||240),o=f.time*1e3+i},add:function(A,S,M){var k=S?function(O,x,N,T){A(O,x,N,T),f.remove(k)}:A;return f.remove(A),a[M?"unshift":"push"](k),Cu(),k},remove:function(A,S){~(S=a.indexOf(A))&&a.splice(S,1)&&p>=S&&p--},_listeners:a},f}(),Cu=function(){return!Gh&&Yr.wake()},dt={},Kie=/^[\d.\-M][\d.\-,\s]/,Xie=/["']/g,Qie=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),s=r[0],i=1,o=r.length,a,l,u;i<o;i++)l=r[i],a=i!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[s]=isNaN(u)?u.replace(Xie,"").trim():+u,s=l.substr(a+1).trim();return n},Jie=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<r?e.indexOf(")",r+1):r)},Zie=function(e){var n=(e+"").split("("),r=dt[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Qie(n[1])]:Jie(e).split(",").map(lO)):dt._CE&&Kie.test(e)?dt._CE("",e):r},SO=function(e){return function(n){return 1-e(1-n)}},PO=function t(e,n){for(var r=e._first,s;r;)r instanceof vr?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=n)),r=r._next},Ba=function(e,n){return e&&(sn(e)?e:dt[e]||Zie(e))||n},Tl=function(e,n,r,s){r===void 0&&(r=function(l){return 1-n(1-l)}),s===void 0&&(s=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var i={easeIn:n,easeOut:r,easeInOut:s},o;return xr(e,function(a){dt[a]=Jr[a]=i,dt[o=a.toLowerCase()]=r;for(var l in i)dt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=dt[a+"."+l]=i[l]}),i},RO=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},r_=function t(e,n,r){var s=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),o=i/Sv*(Math.asin(1/s)||0),a=function(c){return c===1?1:s*Math.pow(2,-10*c)*Pie((c-o)*i)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:RO(a);return i=Sv/i,l.config=function(u,c){return t(e,u,c)},l},s_=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},s=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:RO(r);return s.config=function(i){return t(e,i)},s};xr("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Tl(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});dt.Linear.easeNone=dt.none=dt.Linear.easeIn;Tl("Elastic",r_("in"),r_("out"),r_());(function(t,e){var n=1/e,r=2*n,s=2.5*n,i=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<s?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Tl("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Tl("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Tl("Circ",function(t){return-(Qk(1-t*t)-1)});Tl("Sine",function(t){return t===1?1:-Sie(t*Aie)+1});Tl("Back",s_("in"),s_("out"),s_());dt.SteppedEase=dt.steps=Jr.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,s=e+(n?0:1),i=n?1:0,o=1-Lt;return function(a){return((s*Pf(0,o,a)|0)+i)*r}}};Su.ease=dt["quad.out"];xr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return gb+=t+","+t+"Params,"});var CO=function(e,n){this.id=Iie++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:oO,this.set=n?n.getSetter:wb},Kh=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Ru(this,+n.duration,1,1),this.data=n.data,Yt&&(this._ctx=Yt,Yt.data.push(this)),Gh||Yr.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Ru(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(Cu(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(eg(this,r),!i._dp||i.parent||hO(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Ys(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Lt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),aO(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+$A(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+$A(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,s):this._repeat?Pu(this._tTime,i)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-Lt?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?qp(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Lt?0:this._rts,this.totalTime(Pf(-Math.abs(this._delay),this._tDur,i),s!==!1),Zm(this),Mie(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Cu(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Lt&&(this._tTime-=Lt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Ys(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Or(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?qp(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Die);var s=sr;return sr=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),sr=s,this},e.globalTime=function(r){for(var s=this,i=arguments.length?r:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,VA(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,VA(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(rs(this,r),Or(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,Or(s))},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Lt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Lt,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=s&&i<this.endTime(!0)-Lt)},e.eventCallback=function(r,s,i){var o=this.vars;return arguments.length>1?(s?(o[r]=s,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(i){var o=sn(r)?r:uO,a=function(){var u=s.then;s.then=null,sn(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=u),i(o),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){kc(this)},t}();bs(Kh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Lt,_prom:0,_ps:!1,_rts:1});var vr=function(t){Xk(e,t);function e(r,s){var i;return r===void 0&&(r={}),i=t.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=Or(r.sortChildren),Kt&&Ys(r.parent||Kt,wi(i),s),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&fO(wi(i),r.scrollTrigger),i}var n=e.prototype;return n.to=function(s,i,o){return ah(0,arguments,this),this},n.from=function(s,i,o){return ah(1,arguments,this),this},n.fromTo=function(s,i,o,a){return ah(2,arguments,this),this},n.set=function(s,i,o){return i.duration=0,i.parent=this,oh(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new vn(s,i,rs(this,o),1),this},n.call=function(s,i,o){return Ys(this,vn.delayedCall(0,s,i),o)},n.staggerTo=function(s,i,o,a,l,u,c){return o.duration=i,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new vn(s,o,rs(this,l)),this},n.staggerFrom=function(s,i,o,a,l,u,c){return o.runBackwards=1,oh(o).immediateRender=Or(o.immediateRender),this.staggerTo(s,i,o,a,l,u,c)},n.staggerFromTo=function(s,i,o,a,l,u,c,f){return a.startAt=o,oh(a).immediateRender=Or(a.immediateRender),this.staggerTo(s,i,a,l,u,c,f)},n.render=function(s,i,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=s<=0?0:xn(s),f=this._zTime<0!=s<0&&(this._initted||!u),d,p,g,_,A,S,M,k,O,x,N,T;if(this!==Kt&&c>l&&s>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,s+=this._time-a),d=c,O=this._start,k=this._ts,S=!k,f&&(u||(a=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(N=this._yoyo,A=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(A*100+s,i,o);if(d=xn(c%A),c===l?(_=this._repeat,d=u):(_=~~(c/A),_&&_===c/A&&(d=u,_--),d>u&&(d=u)),x=Pu(this._tTime,A),!a&&this._tTime&&x!==_&&this._tTime-x*A-this._dur<=0&&(x=_),N&&_&1&&(d=u-d,T=1),_!==x&&!this._lock){var w=N&&x&1,b=w===(N&&_&1);if(_<x&&(w=!w),a=w?0:c%u?u:c,this._lock=1,this.render(a||(T?0:xn(_*A)),i,!u)._lock=0,this._tTime=c,!i&&this.parent&&Kr(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,b&&(this._lock=2,a=w?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;PO(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=Vie(this,xn(a),xn(d)),M&&(c-=d-(d=M._start))),this._tTime=c,this._time=d,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&d&&!i&&!_&&(Kr(this,"onStart"),this._tTime!==c))return this;if(d>=a&&s>=0)for(p=this._first;p;){if(g=p._next,(p._act||d>=p._start)&&p._ts&&M!==p){if(p.parent!==this)return this.render(s,i,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,i,o),d!==this._time||!this._ts&&!S){M=0,g&&(c+=this._zTime=-Lt);break}}p=g}else{p=this._last;for(var I=s<0?s:d;p;){if(g=p._prev,(p._act||I<=p._end)&&p._ts&&M!==p){if(p.parent!==this)return this.render(s,i,o);if(p.render(p._ts>0?(I-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(I-p._start)*p._ts,i,o||sr&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!S){M=0,g&&(c+=this._zTime=I?-Lt:Lt);break}}p=g}}if(M&&!i&&(this.pause(),M.render(d>=a?0:-Lt)._zTime=d>=a?1:-1,this._ts))return this._start=O,Zm(this),this.render(s,i,o);this._onUpdate&&!i&&Kr(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(O===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Yo(this,1),!i&&!(s<0&&!a)&&(c||a||!l)&&(Kr(this,c===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,i){var o=this;if(zi(i)||(i=rs(this,i,s)),!(s instanceof Kh)){if(ir(s))return s.forEach(function(a){return o.add(a,i)}),this;if(Vn(s))return this.addLabel(s,i);if(sn(s))s=vn.delayedCall(0,s);else return this}return this!==s?Ys(this,s,i):this},n.getChildren=function(s,i,o,a){s===void 0&&(s=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=-cs);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof vn?i&&l.push(u):(o&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,i,o)))),u=u._next;return l},n.getById=function(s){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===s)return i[o]},n.remove=function(s){return Vn(s)?this.removeLabel(s):sn(s)?this.killTweensOf(s):(Jm(this,s),s===this._recent&&(this._recent=this._last),Ua(this))},n.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=xn(Yr.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},n.addLabel=function(s,i){return this.labels[s]=rs(this,i),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,i,o){var a=vn.delayedCall(0,i||qh,o);return a.data="isPause",this._hasPause=1,Ys(this,a,rs(this,s))},n.removePause=function(s){var i=this._first;for(s=rs(this,s);i;)i._start===s&&i.data==="isPause"&&Yo(i),i=i._next},n.killTweensOf=function(s,i,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)Eo!==a[l]&&a[l].kill(s,i);return this},n.getTweensOf=function(s,i){for(var o=[],a=hs(s),l=this._first,u=zi(i),c;l;)l instanceof vn?kie(l._targets,a)&&(u?(!Eo||l._initted&&l._ts)&&l.globalTime(0)<=i&&l.globalTime(l.totalDuration())>i:!i||l.isActive())&&o.push(l):(c=l.getTweensOf(a,i)).length&&o.push.apply(o,c),l=l._next;return o},n.tweenTo=function(s,i){i=i||{};var o=this,a=rs(o,s),l=i,u=l.startAt,c=l.onStart,f=l.onStartParams,d=l.immediateRender,p,g=vn.to(o,bs({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||Lt,onStart:function(){if(o.pause(),!p){var A=i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());g._dur!==A&&Ru(g,A,0,1).render(g._time,!0,!0),p=1}c&&c.apply(g,f||[])}},i));return d?g.render(0):g},n.tweenFromTo=function(s,i,o){return this.tweenTo(i,bs({startAt:{time:rs(this,s)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),FA(this,rs(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),FA(this,rs(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Lt)},n.shiftChildren=function(s,i,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(i)for(u in l)l[u]>=o&&(l[u]+=s);return Ua(this)},n.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return t.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Ua(this)},n.totalDuration=function(s){var i=0,o=this,a=o._last,l=cs,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Ys(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(i-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>i&&a._ts&&(i=a._end),a=u;Ru(o,o===Kt&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Kt._ts&&(aO(Kt,qp(s,Kt)),iO=Yr.frame),Yr.frame>=NA){NA+=Xr.autoSleep||120;var i=Kt._first;if((!i||!i._ts)&&Xr.autoSleep&&Yr._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Yr.sleep()}}},e}(Kh);bs(vr.prototype,{_lock:0,_hasPause:0,_forcing:0});var eoe=function(e,n,r,s,i,o,a){var l=new Mr(this._pt,e,n,0,1,NO,null,i),u=0,c=0,f,d,p,g,_,A,S,M;for(l.b=r,l.e=s,r+="",s+="",(S=~s.indexOf("random("))&&(s=Wh(s)),o&&(M=[r,s],o(M,e,n),r=M[0],s=M[1]),d=r.match(e_)||[];f=e_.exec(s);)g=f[0],_=s.substring(u,f.index),p?p=(p+1)%5:_.substr(-5)==="rgba("&&(p=1),g!==d[c++]&&(A=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:_||c===1?_:",",s:A,c:g.charAt(1)==="="?su(A,g)-A:parseFloat(g)-A,m:p&&p<4?Math.round:0},u=e_.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=a,(eO.test(s)||S)&&(l.e=0),this._pt=l,l},vb=function(e,n,r,s,i,o,a,l,u,c){sn(s)&&(s=s(i||0,e,o));var f=e[n],d=r!=="get"?r:sn(f)?u?e[n.indexOf("set")||!sn(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,p=sn(f)?u?ioe:xO:bb,g;if(Vn(s)&&(~s.indexOf("random(")&&(s=Wh(s)),s.charAt(1)==="="&&(g=su(d,s)+(rr(d)||0),(g||g===0)&&(s=g))),!c||d!==s||Nv)return!isNaN(d*s)&&s!==""?(g=new Mr(this._pt,e,n,+d||0,s-(d||0),typeof f=="boolean"?aoe:MO,0,p),u&&(g.fp=u),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(n in e)&&pb(n,s),eoe.call(this,e,n,d,s,p,l||Xr.stringFilter,u))},toe=function(e,n,r,s,i){if(sn(e)&&(e=lh(e,i,n,r,s)),!hi(e)||e.style&&e.nodeType||ir(e)||Jk(e))return Vn(e)?lh(e,i,n,r,s):e;var o={},a;for(a in e)o[a]=lh(e[a],i,n,r,s);return o},DO=function(e,n,r,s,i,o){var a,l,u,c;if(zr[e]&&(a=new zr[e]).init(i,a.rawVars?n[e]:toe(n[e],s,i,o,r),r,s,o)!==!1&&(r._pt=l=new Mr(r._pt,i,e,0,1,a.render,a,0,a.priority),r!==ql))for(u=r._ptLookup[r._targets.indexOf(i)],c=a._props.length;c--;)u[a._props[c]]=l;return a},Eo,Nv,yb=function t(e,n,r){var s=e.vars,i=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,u=s.onUpdate,c=s.runBackwards,f=s.yoyoEase,d=s.keyframes,p=s.autoRevert,g=e._dur,_=e._startAt,A=e._targets,S=e.parent,M=S&&S.data==="nested"?S.vars.targets:A,k=e._overwrite==="auto"&&!cb,O=e.timeline,x,N,T,w,b,I,P,y,E,B,U,F,j;if(O&&(!d||!i)&&(i="none"),e._ease=Ba(i,Su.ease),e._yEase=f?SO(Ba(f===!0?i:f,Su.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!O&&!!s.runBackwards,!O||d&&!s.stagger){if(y=A[0]?Fa(A[0]).harness:0,F=y&&s[y.prop],x=Yp(s,mb),_&&(_._zTime<0&&_.progress(1),n<0&&c&&a&&!p?_.render(-1,!0):_.revert(c&&g?jd:Cie),_._lazy=0),o){if(Yo(e._startAt=vn.set(A,bs({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!_&&Or(l),startAt:null,delay:0,onUpdate:u&&function(){return Kr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(sr||!a&&!p)&&e._startAt.revert(jd),a&&g&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(c&&g&&!_){if(n&&(a=!1),T=bs({overwrite:!1,data:"isFromStart",lazy:a&&!_&&Or(l),immediateRender:a,stagger:0,parent:S},x),F&&(T[y.prop]=F),Yo(e._startAt=vn.set(A,T)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(sr?e._startAt.revert(jd):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Lt,Lt);else if(!n)return}for(e._pt=e._ptCache=0,l=g&&Or(l)||l&&!g,N=0;N<A.length;N++){if(b=A[N],P=b._gsap||_b(A)[N]._gsap,e._ptLookup[N]=B={},Cv[P.id]&&xo.length&&zp(),U=M===A?N:M.indexOf(b),y&&(E=new y).init(b,F||x,e,U,M)!==!1&&(e._pt=w=new Mr(e._pt,b,E.name,0,1,E.render,E,0,E.priority),E._props.forEach(function(H){B[H]=w}),E.priority&&(I=1)),!y||F)for(T in x)zr[T]&&(E=DO(T,x,e,U,b,M))?E.priority&&(I=1):B[T]=w=vb.call(e,b,T,"get",x[T],U,M,0,s.stringFilter);e._op&&e._op[N]&&e.kill(b,e._op[N]),k&&e._pt&&(Eo=e,Kt.killTweensOf(b,B,e.globalTime(n)),j=!e.parent,Eo=0),e._pt&&l&&(Cv[P.id]=1)}I&&LO(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!j,d&&n<=0&&O.render(cs,!0,!0)},noe=function(e,n,r,s,i,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,f,d,p;if(!u)for(u=e._ptCache[n]=[],d=e._ptLookup,p=e._targets.length;p--;){if(c=d[p][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return Nv=1,e.vars[n]="+=0",yb(e,a),Nv=0,l?Yh(n+" not eligible for reset"):1;u.push(c)}for(p=u.length;p--;)f=u[p],c=f._pt||f,c.s=(s||s===0)&&!i?s:c.s+(s||0)+o*c.c,c.c=r-c.s,f.e&&(f.e=hn(r)+rr(f.e)),f.b&&(f.b=c.s+rr(f.b))},roe=function(e,n){var r=e[0]?Fa(e[0]).harness:0,s=r&&r.aliases,i,o,a,l;if(!s)return n;i=il({},n);for(o in s)if(o in i)for(l=s[o].split(","),a=l.length;a--;)i[l[a]]=i[o];return i},soe=function(e,n,r,s){var i=n.ease||s||"power1.inOut",o,a;if(ir(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:i})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:i})},lh=function(e,n,r,s,i){return sn(e)?e.call(n,r,s,i):Vn(e)&&~e.indexOf("random(")?Wh(e):e},kO=gb+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",OO={};xr(kO+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return OO[t]=1});var vn=function(t){Xk(e,t);function e(r,s,i,o){var a;typeof s=="number"&&(i.duration=s,s=i,i=null),a=t.call(this,o?s:oh(s))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,g=l.keyframes,_=l.defaults,A=l.scrollTrigger,S=l.yoyoEase,M=s.parent||Kt,k=(ir(r)||Jk(r)?zi(r[0]):"length"in s)?[r]:hs(r),O,x,N,T,w,b,I,P;if(a._targets=k.length?_b(k):Yh("GSAP target "+r+" not found. https://gsap.com",!Xr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,g||d||ld(u)||ld(c)){if(s=a.vars,O=a.timeline=new vr({data:"nested",defaults:_||{},targets:M&&M.data==="nested"?M.vars.targets:k}),O.kill(),O.parent=O._dp=wi(a),O._start=0,d||ld(u)||ld(c)){if(T=k.length,I=d&&gO(d),hi(d))for(w in d)~kO.indexOf(w)&&(P||(P={}),P[w]=d[w]);for(x=0;x<T;x++)N=Yp(s,OO),N.stagger=0,S&&(N.yoyoEase=S),P&&il(N,P),b=k[x],N.duration=+lh(u,wi(a),x,b,k),N.delay=(+lh(c,wi(a),x,b,k)||0)-a._delay,!d&&T===1&&N.delay&&(a._delay=c=N.delay,a._start+=c,N.delay=0),O.to(b,N,I?I(x,b,k):0),O._ease=dt.none;O.duration()?u=c=0:a.timeline=0}else if(g){oh(bs(O.vars.defaults,{ease:"none"})),O._ease=Ba(g.ease||s.ease||"none");var y=0,E,B,U;if(ir(g))g.forEach(function(F){return O.to(k,F,">")}),O.duration();else{N={};for(w in g)w==="ease"||w==="easeEach"||soe(w,g[w],N,g.easeEach);for(w in N)for(E=N[w].sort(function(F,j){return F.t-j.t}),y=0,x=0;x<E.length;x++)B=E[x],U={ease:B.e,duration:(B.t-(x?E[x-1].t:0))/100*u},U[w]=B.v,O.to(k,U,y),y+=U.duration;O.duration()<u&&O.to({},{duration:u-O.duration()})}}u||a.duration(u=O.duration())}else a.timeline=0;return p===!0&&!cb&&(Eo=wi(a),Kt.killTweensOf(k),Eo=0),Ys(M,wi(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(f||!u&&!g&&a._start===xn(M._time)&&Or(f)&&Nie(wi(a))&&M.data!=="nested")&&(a._tTime=-Lt,a.render(Math.max(0,-c)||0)),A&&fO(wi(a),A),a}var n=e.prototype;return n.render=function(s,i,o){var a=this._time,l=this._tDur,u=this._dur,c=s<0,f=s>l-Lt&&!c?l:s<Lt?0:s,d,p,g,_,A,S,M,k,O;if(!u)$ie(this,s,i,o);else if(f!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(d=f,k=this.timeline,this._repeat){if(_=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(_*100+s,i,o);if(d=xn(f%_),f===l?(g=this._repeat,d=u):(g=~~(f/_),g&&g===xn(f/_)&&(d=u,g--),d>u&&(d=u)),S=this._yoyo&&g&1,S&&(O=this._yEase,d=u-d),A=Pu(this._tTime,_),d===a&&!o&&this._initted&&g===A)return this._tTime=f,this;g!==A&&(k&&this._yEase&&PO(k,S),this.vars.repeatRefresh&&!S&&!this._lock&&this._time!==_&&this._initted&&(this._lock=o=1,this.render(xn(_*g),!0).invalidate()._lock=0))}if(!this._initted){if(dO(this,c?s:d,o,i,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==A))return this;if(u!==this._dur)return this.render(s,i,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(O||this._ease)(d/u),this._from&&(this.ratio=M=1-M),d&&!a&&!i&&!g&&(Kr(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(M,p.d),p=p._next;k&&k.render(s<0?s:k._dur*k._ease(d/this._dur),i,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(c&&Dv(this,s,i,o),Kr(this,"onUpdate")),this._repeat&&g!==A&&this.vars.onRepeat&&!i&&this.parent&&Kr(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&Dv(this,s,!0,!0),(s||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Yo(this,1),!i&&!(c&&!a)&&(f||a||S)&&(Kr(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},n.resetTo=function(s,i,o,a,l){Gh||Yr.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||yb(this,u),c=this._ease(u/this._dur),noe(this,s,i,o,a,c,u,l)?this.resetTo(s,i,o,a,1):(eg(this,0),this.parent||cO(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?kc(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,Eo&&Eo.vars.overwrite!==!0)._first||kc(this),this.parent&&o!==this.timeline.totalDuration()&&Ru(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?hs(s):a,u=this._ptLookup,c=this._pt,f,d,p,g,_,A,S;if((!i||i==="all")&&xie(a,l))return i==="all"&&(this._pt=0),kc(this);for(f=this._op=this._op||[],i!=="all"&&(Vn(i)&&(_={},xr(i,function(M){return _[M]=1}),i=_),i=roe(a,i)),S=a.length;S--;)if(~l.indexOf(a[S])){d=u[S],i==="all"?(f[S]=i,g=d,p={}):(p=f[S]=f[S]||{},g=i);for(_ in g)A=d&&d[_],A&&((!("kill"in A.d)||A.d.kill(_)===!0)&&Jm(this,A,"_pt"),delete d[_]),p!=="all"&&(p[_]=1)}return this._initted&&!this._pt&&c&&kc(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return ah(1,arguments)},e.delayedCall=function(s,i,o,a){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(s,i,o){return ah(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,o){return Kt.killTweensOf(s,i,o)},e}(Kh);bs(vn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xr("staggerTo,staggerFrom,staggerFromTo",function(t){vn[t]=function(){var e=new vr,n=Ov.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var bb=function(e,n,r){return e[n]=r},xO=function(e,n,r){return e[n](r)},ioe=function(e,n,r,s){return e[n](s.fp,r)},ooe=function(e,n,r){return e.setAttribute(n,r)},wb=function(e,n){return sn(e[n])?xO:hb(e[n])&&e.setAttribute?ooe:bb},MO=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},aoe=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},NO=function(e,n){var r=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},Tb=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},loe=function(e,n,r,s){for(var i=this._pt,o;i;)o=i._next,i.p===s&&i.modifier(e,n,r),i=o},uoe=function(e){for(var n=this._pt,r,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?Jm(this,n,"_pt"):n.dep||(r=1),n=s;return!r},coe=function(e,n,r,s){s.mSet(e,n,s.m.call(s.tween,r,s.mt),s)},LO=function(e){for(var n=e._pt,r,s,i,o;n;){for(r=n._next,s=i;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:o)?n._prev._next=n:i=n,(n._next=s)?s._prev=n:o=n,n=r}e._pt=i},Mr=function(){function t(n,r,s,i,o,a,l,u,c){this.t=r,this.s=i,this.c=o,this.p=s,this.r=a||MO,this.d=l||this,this.set=u||bb,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,s,i){this.mSet=this.mSet||this.set,this.set=coe,this.m=r,this.mt=i,this.tween=s},t}();xr(gb+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return mb[t]=1});Jr.TweenMax=Jr.TweenLite=vn;Jr.TimelineLite=Jr.TimelineMax=vr;Kt=new vr({sortChildren:!1,defaults:Su,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Xr.stringFilter=IO;var ja=[],zd={},hoe=[],BA=0,foe=0,i_=function(e){return(zd[e]||hoe).map(function(n){return n()})},Lv=function(){var e=Date.now(),n=[];e-BA>2&&(i_("matchMediaInit"),ja.forEach(function(r){var s=r.queries,i=r.conditions,o,a,l,u;for(a in s)o=Bs.matchMedia(s[a]).matches,o&&(l=1),o!==i[a]&&(i[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),i_("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),BA=e,i_("matchMedia"))},$O=function(){function t(n,r){this.selector=r&&xv(r),this.data=[],this._r=[],this.isReverted=!1,this.id=foe++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,s,i){sn(r)&&(i=s,s=r,r=sn);var o=this,a=function(){var u=Yt,c=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=xv(i)),Yt=o,f=s.apply(o,arguments),sn(f)&&o._r.push(f),Yt=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===sn?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var s=Yt;Yt=null,r(this),Yt=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof t?r.push.apply(r,s.getTweens()):s instanceof vn&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var i=this;if(r?function(){for(var a=i.getTweens(),l=i.data.length,u;l--;)u=i.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=i.data.length;l--;)u=i.data[l],u instanceof vr?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof vn)&&u.revert&&u.revert(r);i._r.forEach(function(c){return c(r,i)}),i.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=ja.length;o--;)ja[o].id===this.id&&ja.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),doe=function(){function t(n){this.contexts=[],this.scope=n,Yt&&Yt.data.push(this)}var e=t.prototype;return e.add=function(r,s,i){hi(r)||(r={matches:r});var o=new $O(0,i||this.scope),a=o.conditions={},l,u,c;Yt&&!o.selector&&(o.selector=Yt.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(u in r)u==="all"?c=1:(l=Bs.matchMedia(r[u]),l&&(ja.indexOf(o)<0&&ja.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(Lv):l.addEventListener("change",Lv)));return c&&s(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},t}(),Wp={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(s){return TO(s)})},timeline:function(e){return new vr(e)},getTweensOf:function(e,n){return Kt.getTweensOf(e,n)},getProperty:function(e,n,r,s){Vn(e)&&(e=hs(e)[0]);var i=Fa(e||{}).get,o=r?uO:lO;return r==="native"&&(r=""),e&&(n?o((zr[n]&&zr[n].get||i)(e,n,r,s)):function(a,l,u){return o((zr[a]&&zr[a].get||i)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=hs(e),e.length>1){var s=e.map(function(c){return $r.quickSetter(c,n,r)}),i=s.length;return function(c){for(var f=i;f--;)s[f](c)}}e=e[0]||{};var o=zr[n],a=Fa(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(c){var f=new o;ql._pt=0,f.init(e,r?c+r:c,ql,0,[e]),f.render(1,f),ql._pt&&Tb(1,ql)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,n,r){var s,i=$r.to(e,il((s={},s[n]="+=0.1",s.paused=!0,s),r||{})),o=function(l,u,c){return i.resetTo(n,l,u,c)};return o.tween=i,o},isTweening:function(e){return Kt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ba(e.ease,Su.ease)),LA(Su,e||{})},config:function(e){return LA(Xr,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,s=e.plugins,i=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!zr[a]&&!Jr[a]&&Yh(n+" effect requires "+a+" plugin.")}),t_[n]=function(a,l,u){return r(hs(a),bs(l||{},i),u)},o&&(vr.prototype[n]=function(a,l,u){return this.add(t_[n](a,hi(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){dt[e]=Ba(n)},parseEase:function(e,n){return arguments.length?Ba(e,n):dt},getById:function(e){return Kt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new vr(e),s,i;for(r.smoothChildTiming=Or(e.smoothChildTiming),Kt.remove(r),r._dp=0,r._time=r._tTime=Kt._time,s=Kt._first;s;)i=s._next,(n||!(!s._dur&&s instanceof vn&&s.vars.onComplete===s._targets[0]))&&Ys(r,s,s._start-s._delay),s=i;return Ys(Kt,r,0),r},context:function(e,n){return e?new $O(e,n):Yt},matchMedia:function(e){return new doe(e)},matchMediaRefresh:function(){return ja.forEach(function(e){var n=e.conditions,r,s;for(s in n)n[s]&&(n[s]=!1,r=1);r&&e.revert()})||Lv()},addEventListener:function(e,n){var r=zd[e]||(zd[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=zd[e],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},utils:{wrap:Yie,wrapYoyo:qie,distribute:gO,random:vO,snap:_O,normalize:zie,getUnit:rr,clamp:Uie,splitColor:EO,toArray:hs,selector:xv,mapRange:bO,pipe:jie,unitize:Hie,interpolate:Wie,shuffle:mO},install:rO,effects:t_,ticker:Yr,updateRoot:vr.updateRoot,plugins:zr,globalTimeline:Kt,core:{PropTween:Mr,globals:sO,Tween:vn,Timeline:vr,Animation:Kh,getCache:Fa,_removeLinkedListItem:Jm,reverting:function(){return sr},context:function(e){return e&&Yt&&(Yt.data.push(e),e._ctx=Yt),Yt},suppressOverwrites:function(e){return cb=e}}};xr("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Wp[t]=vn[t]});Yr.add(vr.updateRoot);ql=Wp.to({},{duration:0});var poe=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},moe=function(e,n){var r=e._targets,s,i,o;for(s in n)for(i=r.length;i--;)o=e._ptLookup[i][s],o&&(o=o.d)&&(o._pt&&(o=poe(o,s)),o&&o.modifier&&o.modifier(n[s],e,r[i],s))},o_=function(e,n){return{name:e,rawVars:1,init:function(s,i,o){o._onInit=function(a){var l,u;if(Vn(i)&&(l={},xr(i,function(c){return l[c]=1}),i=l),n){l={};for(u in i)l[u]=n(i[u]);i=l}moe(a,i)}}}},$r=Wp.registerPlugin({name:"attr",init:function(e,n,r,s,i){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],s,i,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)sr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},o_("roundProps",Mv),o_("modifiers"),o_("snap",_O))||Wp;vn.version=vr.version=$r.version="3.12.5";nO=1;fb()&&Cu();dt.Power0;dt.Power1;dt.Power2;dt.Power3;dt.Power4;dt.Linear;dt.Quad;dt.Cubic;dt.Quart;dt.Quint;dt.Strong;dt.Elastic;dt.Back;dt.SteppedEase;dt.Bounce;dt.Sine;dt.Expo;dt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var jA,Ao,iu,Eb,Ia,HA,Ab,goe=function(){return typeof window<"u"},Yi={},ga=180/Math.PI,ou=Math.PI/180,kl=Math.atan2,zA=1e8,Ib=/([A-Z])/g,_oe=/(left|right|width|margin|padding|x)/i,voe=/[\s,\(]\S/,Xs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$v=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},yoe=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},boe=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},woe=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},VO=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},FO=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Toe=function(e,n,r){return e.style[n]=r},Eoe=function(e,n,r){return e.style.setProperty(n,r)},Aoe=function(e,n,r){return e._gsap[n]=r},Ioe=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},Soe=function(e,n,r,s,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},Poe=function(e,n,r,s,i){var o=e._gsap;o[n]=r,o.renderTransform(i,o)},Xt="transform",Nr=Xt+"Origin",Roe=function t(e,n){var r=this,s=this.target,i=s.style,o=s._gsap;if(e in Yi&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Xs[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Ti(s,a)}):this.tfm[e]=o.x?o[e]:Ti(s,e),e===Nr&&(this.tfm.zOrigin=o.zOrigin);else return Xs.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(Xt)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Nr,n,"")),e=Xt}(i||n)&&this.props.push(e,n,i[e])},UO=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Coe=function(){var e=this.props,n=this.target,r=n.style,s=n._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?n[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(Ib,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=Ab(),(!i||!i.isStart)&&!r[Xt]&&(UO(r),s.zOrigin&&r[Nr]&&(r[Nr]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},BO=function(e,n){var r={target:e,props:[],revert:Coe,save:Roe};return e._gsap||$r.core.getCache(e),n&&n.split(",").forEach(function(s){return r.save(s)}),r},jO,Vv=function(e,n){var r=Ao.createElementNS?Ao.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ao.createElement(e);return r&&r.style?r:Ao.createElement(e)},ii=function t(e,n,r){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(Ib,"-$1").toLowerCase())||s.getPropertyValue(n)||!r&&t(e,Du(n)||n,1)||""},YA="O,Moz,ms,Ms,Webkit".split(","),Du=function(e,n,r){var s=n||Ia,i=s.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(YA[o]+e in i););return o<0?null:(o===3?"ms":o>=0?YA[o]:"")+e},Fv=function(){goe()&&window.document&&(jA=window,Ao=jA.document,iu=Ao.documentElement,Ia=Vv("div")||{style:{}},Vv("div"),Xt=Du(Xt),Nr=Xt+"Origin",Ia.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",jO=!!Du("perspective"),Ab=$r.core.reverting,Eb=1)},a_=function t(e){var n=Vv("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,s=this.nextSibling,i=this.style.cssText,o;if(iu.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),iu.removeChild(n),this.style.cssText=i,o},qA=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},HO=function(e){var n;try{n=e.getBBox()}catch{n=a_.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===a_||(n=a_.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+qA(e,["x","cx","x1"])||0,y:+qA(e,["y","cy","y1"])||0,width:0,height:0}:n},zO=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&HO(e))},ol=function(e,n){if(n){var r=e.style,s;n in Yi&&n!==Nr&&(n=Xt),r.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(s==="--"?n:n.replace(Ib,"-$1").toLowerCase())):r.removeAttribute(n)}},Io=function(e,n,r,s,i,o){var a=new Mr(e._pt,n,r,0,1,o?FO:VO);return e._pt=a,a.b=s,a.e=i,e._props.push(r),a},WA={deg:1,rad:1,turn:1},Doe={grid:1,flex:1},qo=function t(e,n,r,s){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",a=Ia.style,l=_oe.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,d=s==="px",p=s==="%",g,_,A,S;if(s===o||!i||WA[s]||WA[o])return i;if(o!=="px"&&!d&&(i=t(e,n,r,"px")),S=e.getCTM&&zO(e),(p||o==="%")&&(Yi[n]||~n.indexOf("adius")))return g=S?e.getBBox()[l?"width":"height"]:e[c],hn(p?i/g*f:i/100*g);if(a[l?"width":"height"]=f+(d?o:s),_=~n.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,S&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===Ao||!_.appendChild)&&(_=Ao.body),A=_._gsap,A&&p&&A.width&&l&&A.time===Yr.time&&!A.uncache)return hn(i/A.width*f);if(p&&(n==="height"||n==="width")){var M=e.style[n];e.style[n]=f+s,g=e[c],M?e.style[n]=M:ol(e,n)}else(p||o==="%")&&!Doe[ii(_,"display")]&&(a.position=ii(e,"position")),_===e&&(a.position="static"),_.appendChild(Ia),g=Ia[c],_.removeChild(Ia),a.position="absolute";return l&&p&&(A=Fa(_),A.time=Yr.time,A.width=_[c]),hn(d?g*i/f:g&&i?f/g*i:0)},Ti=function(e,n,r,s){var i;return Eb||Fv(),n in Xs&&n!=="transform"&&(n=Xs[n],~n.indexOf(",")&&(n=n.split(",")[0])),Yi[n]&&n!=="transform"?(i=Qh(e,s),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:Kp(ii(e,Nr))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=Gp[n]&&Gp[n](e,n,r)||ii(e,n)||oO(e,n)||(n==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?qo(e,n,i,r)+r:i},koe=function(e,n,r,s){if(!r||r==="none"){var i=Du(n,e,1),o=i&&ii(e,i,1);o&&o!==r?(n=i,r=o):n==="borderColor"&&(r=ii(e,"borderTopColor"))}var a=new Mr(this._pt,e.style,n,0,1,NO),l=0,u=0,c,f,d,p,g,_,A,S,M,k,O,x;if(a.b=r,a.e=s,r+="",s+="",s==="auto"&&(_=e.style[n],e.style[n]=s,s=ii(e,n)||s,_?e.style[n]=_:ol(e,n)),c=[r,s],IO(c),r=c[0],s=c[1],d=r.match(Yl)||[],x=s.match(Yl)||[],x.length){for(;f=Yl.exec(s);)A=f[0],M=s.substring(l,f.index),g?g=(g+1)%5:(M.substr(-5)==="rgba("||M.substr(-5)==="hsla(")&&(g=1),A!==(_=d[u++]||"")&&(p=parseFloat(_)||0,O=_.substr((p+"").length),A.charAt(1)==="="&&(A=su(p,A)+O),S=parseFloat(A),k=A.substr((S+"").length),l=Yl.lastIndex-k.length,k||(k=k||Xr.units[n]||O,l===s.length&&(s+=k,a.e+=k)),O!==k&&(p=qo(e,n,_,k)||0),a._pt={_next:a._pt,p:M||u===1?M:",",s:p,c:S-p,m:g&&g<4||n==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=n==="display"&&s==="none"?FO:VO;return eO.test(s)&&(a.e=0),this._pt=a,a},GA={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ooe=function(e){var n=e.split(" "),r=n[0],s=n[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),n[0]=GA[r]||r,n[1]=GA[s]||s,n.join(" ")},xoe=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,s=r.style,i=n.u,o=r._gsap,a,l,u;if(i==="all"||i===!0)s.cssText="",l=1;else for(i=i.split(","),u=i.length;--u>-1;)a=i[u],Yi[a]&&(l=1,a=a==="transformOrigin"?Nr:Xt),ol(r,a);l&&(ol(r,Xt),o&&(o.svg&&r.removeAttribute("transform"),Qh(r,1),o.uncache=1,UO(s)))}},Gp={clearProps:function(e,n,r,s,i){if(i.data!=="isFromStart"){var o=e._pt=new Mr(e._pt,n,r,0,0,xoe);return o.u=s,o.pr=-10,o.tween=i,e._props.push(r),1}}},Xh=[1,0,0,1,0,0],YO={},qO=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},KA=function(e){var n=ii(e,Xt);return qO(n)?Xh:n.substr(7).match(Zk).map(hn)},Sb=function(e,n){var r=e._gsap||Fa(e),s=e.style,i=KA(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,i=[l.a,l.b,l.c,l.d,l.e,l.f],i.join(",")==="1,0,0,1,0,0"?Xh:i):(i===Xh&&!e.offsetParent&&e!==iu&&!r.svg&&(l=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,iu.appendChild(e)),i=KA(e),l?s.display=l:ol(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):iu.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},Uv=function(e,n,r,s,i,o){var a=e._gsap,l=i||Sb(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],g=l[1],_=l[2],A=l[3],S=l[4],M=l[5],k=n.split(" "),O=parseFloat(k[0])||0,x=parseFloat(k[1])||0,N,T,w,b;r?l!==Xh&&(T=p*A-g*_)&&(w=O*(A/T)+x*(-_/T)+(_*M-A*S)/T,b=O*(-g/T)+x*(p/T)-(p*M-g*S)/T,O=w,x=b):(N=HO(e),O=N.x+(~k[0].indexOf("%")?O/100*N.width:O),x=N.y+(~(k[1]||k[0]).indexOf("%")?x/100*N.height:x)),s||s!==!1&&a.smooth?(S=O-u,M=x-c,a.xOffset=f+(S*p+M*_)-S,a.yOffset=d+(S*g+M*A)-M):a.xOffset=a.yOffset=0,a.xOrigin=O,a.yOrigin=x,a.smooth=!!s,a.origin=n,a.originIsAbsolute=!!r,e.style[Nr]="0px 0px",o&&(Io(o,a,"xOrigin",u,O),Io(o,a,"yOrigin",c,x),Io(o,a,"xOffset",f,a.xOffset),Io(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",O+" "+x)},Qh=function(e,n){var r=e._gsap||new CO(e);if("x"in r&&!n&&!r.uncache)return r;var s=e.style,i=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=ii(e,Nr)||"0",c,f,d,p,g,_,A,S,M,k,O,x,N,T,w,b,I,P,y,E,B,U,F,j,H,ee,R,ue,te,ve,ge,Ce;return c=f=d=_=A=S=M=k=O=0,p=g=1,r.svg=!!(e.getCTM&&zO(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Xt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Xt]!=="none"?l[Xt]:"")),s.scale=s.rotate=s.translate="none"),T=Sb(e,r.svg),r.svg&&(r.uncache?(H=e.getBBox(),u=r.xOrigin-H.x+"px "+(r.yOrigin-H.y)+"px",j=""):j=!n&&e.getAttribute("data-svg-origin"),Uv(e,j||u,!!j||r.originIsAbsolute,r.smooth!==!1,T)),x=r.xOrigin||0,N=r.yOrigin||0,T!==Xh&&(P=T[0],y=T[1],E=T[2],B=T[3],c=U=T[4],f=F=T[5],T.length===6?(p=Math.sqrt(P*P+y*y),g=Math.sqrt(B*B+E*E),_=P||y?kl(y,P)*ga:0,M=E||B?kl(E,B)*ga+_:0,M&&(g*=Math.abs(Math.cos(M*ou))),r.svg&&(c-=x-(x*P+N*E),f-=N-(x*y+N*B))):(Ce=T[6],ve=T[7],R=T[8],ue=T[9],te=T[10],ge=T[11],c=T[12],f=T[13],d=T[14],w=kl(Ce,te),A=w*ga,w&&(b=Math.cos(-w),I=Math.sin(-w),j=U*b+R*I,H=F*b+ue*I,ee=Ce*b+te*I,R=U*-I+R*b,ue=F*-I+ue*b,te=Ce*-I+te*b,ge=ve*-I+ge*b,U=j,F=H,Ce=ee),w=kl(-E,te),S=w*ga,w&&(b=Math.cos(-w),I=Math.sin(-w),j=P*b-R*I,H=y*b-ue*I,ee=E*b-te*I,ge=B*I+ge*b,P=j,y=H,E=ee),w=kl(y,P),_=w*ga,w&&(b=Math.cos(w),I=Math.sin(w),j=P*b+y*I,H=U*b+F*I,y=y*b-P*I,F=F*b-U*I,P=j,U=H),A&&Math.abs(A)+Math.abs(_)>359.9&&(A=_=0,S=180-S),p=hn(Math.sqrt(P*P+y*y+E*E)),g=hn(Math.sqrt(F*F+Ce*Ce)),w=kl(U,F),M=Math.abs(w)>2e-4?w*ga:0,O=ge?1/(ge<0?-ge:ge):0),r.svg&&(j=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!qO(ii(e,Xt)),j&&e.setAttribute("transform",j))),Math.abs(M)>90&&Math.abs(M)<270&&(i?(p*=-1,M+=_<=0?180:-180,_+=_<=0?180:-180):(g*=-1,M+=M<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=hn(p),r.scaleY=hn(g),r.rotation=hn(_)+a,r.rotationX=hn(A)+a,r.rotationY=hn(S)+a,r.skewX=M+a,r.skewY=k+a,r.transformPerspective=O+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(s[Nr]=Kp(u)),r.xOffset=r.yOffset=0,r.force3D=Xr.force3D,r.renderTransform=r.svg?Noe:jO?WO:Moe,r.uncache=0,r},Kp=function(e){return(e=e.split(" "))[0]+" "+e[1]},l_=function(e,n,r){var s=rr(n);return hn(parseFloat(n)+parseFloat(qo(e,"x",r+"px",s)))+s},Moe=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,WO(e,n)},fa="0deg",_c="0px",da=") ",WO=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,g=r.scaleX,_=r.scaleY,A=r.transformPerspective,S=r.force3D,M=r.target,k=r.zOrigin,O="",x=S==="auto"&&e&&e!==1||S===!0;if(k&&(f!==fa||c!==fa)){var N=parseFloat(c)*ou,T=Math.sin(N),w=Math.cos(N),b;N=parseFloat(f)*ou,b=Math.cos(N),o=l_(M,o,T*b*-k),a=l_(M,a,-Math.sin(N)*-k),l=l_(M,l,w*b*-k+k)}A!==_c&&(O+="perspective("+A+da),(s||i)&&(O+="translate("+s+"%, "+i+"%) "),(x||o!==_c||a!==_c||l!==_c)&&(O+=l!==_c||x?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+da),u!==fa&&(O+="rotate("+u+da),c!==fa&&(O+="rotateY("+c+da),f!==fa&&(O+="rotateX("+f+da),(d!==fa||p!==fa)&&(O+="skew("+d+", "+p+da),(g!==1||_!==1)&&(O+="scale("+g+", "+_+da),M.style[Xt]=O||"translate(0, 0)"},Noe=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,g=r.xOrigin,_=r.yOrigin,A=r.xOffset,S=r.yOffset,M=r.forceCSS,k=parseFloat(o),O=parseFloat(a),x,N,T,w,b;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=ou,u*=ou,x=Math.cos(l)*f,N=Math.sin(l)*f,T=Math.sin(l-u)*-d,w=Math.cos(l-u)*d,u&&(c*=ou,b=Math.tan(u-c),b=Math.sqrt(1+b*b),T*=b,w*=b,c&&(b=Math.tan(c),b=Math.sqrt(1+b*b),x*=b,N*=b)),x=hn(x),N=hn(N),T=hn(T),w=hn(w)):(x=f,w=d,N=T=0),(k&&!~(o+"").indexOf("px")||O&&!~(a+"").indexOf("px"))&&(k=qo(p,"x",o,"px"),O=qo(p,"y",a,"px")),(g||_||A||S)&&(k=hn(k+g-(g*x+_*T)+A),O=hn(O+_-(g*N+_*w)+S)),(s||i)&&(b=p.getBBox(),k=hn(k+s/100*b.width),O=hn(O+i/100*b.height)),b="matrix("+x+","+N+","+T+","+w+","+k+","+O+")",p.setAttribute("transform",b),M&&(p.style[Xt]=b)},Loe=function(e,n,r,s,i){var o=360,a=Vn(i),l=parseFloat(i)*(a&&~i.indexOf("rad")?ga:1),u=l-s,c=s+u+"deg",f,d;return a&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*zA)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*zA)%o-~~(u/o)*o)),e._pt=d=new Mr(e._pt,n,r,s,u,yoe),d.e=c,d.u="deg",e._props.push(r),d},XA=function(e,n){for(var r in n)e[r]=n[r];return e},$oe=function(e,n,r){var s=XA({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,d,p,g;s.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Xt]=n,a=Qh(r,1),ol(r,Xt),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Xt],o[Xt]=n,a=Qh(r,1),o[Xt]=u);for(l in Yi)u=s[l],c=a[l],u!==c&&i.indexOf(l)<0&&(p=rr(u),g=rr(c),f=p!==g?qo(r,l,u,g):parseFloat(u),d=parseFloat(c),e._pt=new Mr(e._pt,a,l,f,d-f,$v),e._pt.u=g||0,e._props.push(l));XA(a,s)};xr("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",s="Bottom",i="Left",o=(e<3?[n,r,s,i]:[n+i,n+r,s+r,s+i]).map(function(a){return e<2?t+a:"border"+a+t});Gp[e>1?"border"+t:t]=function(a,l,u,c,f){var d,p;if(arguments.length<4)return d=o.map(function(g){return Ti(a,g,u)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(c+"").split(" "),p={},o.forEach(function(g,_){return p[g]=d[_]=d[_]||d[(_-1)/2|0]}),a.init(l,p,f)}});var GO={name:"css",register:Fv,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,s,i){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,d,p,g,_,A,S,M,k,O,x,N,T,w;Eb||Fv(),this.styles=this.styles||BO(e),w=this.styles.props,this.tween=r;for(_ in n)if(_!=="autoRound"&&(c=n[_],!(zr[_]&&DO(_,n,r,s,e,i)))){if(p=typeof c,g=Gp[_],p==="function"&&(c=c.call(r,s,e,i),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=Wh(c)),g)g(this,e,_,c,r)&&(T=1);else if(_.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(_)+"").trim(),c+="",Mo.lastIndex=0,Mo.test(u)||(A=rr(u),S=rr(c)),S?A!==S&&(u=qo(e,_,u,S)+S):A&&(c+=A),this.add(a,"setProperty",u,c,s,i,0,0,_),o.push(_),w.push(_,0,a[_]);else if(p!=="undefined"){if(l&&_ in l?(u=typeof l[_]=="function"?l[_].call(r,s,e,i):l[_],Vn(u)&&~u.indexOf("random(")&&(u=Wh(u)),rr(u+"")||u==="auto"||(u+=Xr.units[_]||rr(Ti(e,_))||""),(u+"").charAt(1)==="="&&(u=Ti(e,_))):u=Ti(e,_),d=parseFloat(u),M=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),M&&(c=c.substr(2)),f=parseFloat(c),_ in Xs&&(_==="autoAlpha"&&(d===1&&Ti(e,"visibility")==="hidden"&&f&&(d=0),w.push("visibility",0,a.visibility),Io(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),_!=="scale"&&_!=="transform"&&(_=Xs[_],~_.indexOf(",")&&(_=_.split(",")[0]))),k=_ in Yi,k){if(this.styles.save(_),O||(x=e._gsap,x.renderTransform&&!n.parseTransform||Qh(e,n.parseTransform),N=n.smoothOrigin!==!1&&x.smooth,O=this._pt=new Mr(this._pt,a,Xt,0,1,x.renderTransform,x,0,-1),O.dep=1),_==="scale")this._pt=new Mr(this._pt,x,"scaleY",x.scaleY,(M?su(x.scaleY,M+f):f)-x.scaleY||0,$v),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){w.push(Nr,0,a[Nr]),c=Ooe(c),x.svg?Uv(e,c,0,N,0,this):(S=parseFloat(c.split(" ")[2])||0,S!==x.zOrigin&&Io(this,x,"zOrigin",x.zOrigin,S),Io(this,a,_,Kp(u),Kp(c)));continue}else if(_==="svgOrigin"){Uv(e,c,1,N,0,this);continue}else if(_ in YO){Loe(this,x,_,d,M?su(d,M+c):c);continue}else if(_==="smoothOrigin"){Io(this,x,"smooth",x.smooth,c);continue}else if(_==="force3D"){x[_]=c;continue}else if(_==="transform"){$oe(this,c,e);continue}}else _ in a||(_=Du(_)||_);if(k||(f||f===0)&&(d||d===0)&&!voe.test(c)&&_ in a)A=(u+"").substr((d+"").length),f||(f=0),S=rr(c)||(_ in Xr.units?Xr.units[_]:A),A!==S&&(d=qo(e,_,u,S)),this._pt=new Mr(this._pt,k?x:a,_,d,(M?su(d,M+f):f)-d,!k&&(S==="px"||_==="zIndex")&&n.autoRound!==!1?woe:$v),this._pt.u=S||0,A!==S&&S!=="%"&&(this._pt.b=u,this._pt.r=boe);else if(_ in a)koe.call(this,e,_,u,M?M+c:c);else if(_ in e)this.add(e,_,u||e[_],M?M+c:c,s,i);else if(_!=="parseTransform"){pb(_,c);continue}k||(_ in a?w.push(_,0,a[_]):w.push(_,1,u||e[_])),o.push(_)}}T&&LO(this)},render:function(e,n){if(n.tween._time||!Ab())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Ti,aliases:Xs,getSetter:function(e,n,r){var s=Xs[n];return s&&s.indexOf(",")<0&&(n=s),n in Yi&&n!==Nr&&(e._gsap.x||Ti(e,"x"))?r&&HA===r?n==="scale"?Ioe:Aoe:(HA=r||{})&&(n==="scale"?Soe:Poe):e.style&&!hb(e.style[n])?Toe:~n.indexOf("-")?Eoe:wb(e,n)},core:{_removeProperty:ol,_getMatrix:Sb}};$r.utils.checkPrefix=Du;$r.core.getStyleSaver=BO;(function(t,e,n,r){var s=xr(t+","+e+","+n,function(i){Yi[i]=1});xr(e,function(i){Xr.units[i]="deg",YO[i]=1}),Xs[s[13]]=t+","+e,xr(r,function(i){var o=i.split(":");Xs[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Xr.units[t]="px"});$r.registerPlugin(GO);var Xp=$r.registerPlugin(GO)||$r;Xp.core.Tween;const Rf=t=>(df("data-v-a61f5bdb"),t=t(),pf(),t),Voe={class:"container py-6 transition-all duration-500 md:py-8"},Foe={class:"flex h-[32px] w-full justify-between md:h-[48px]"},Uoe=Rf(()=>pe("img",{src:iY,alt:"",class:"relative h-full"},null,-1)),Boe={class:"hidden space-x-10 md:flex"},joe=Rf(()=>pe("i",{class:"icon-plus-square"},null,-1)),Hoe=Rf(()=>pe("i",{class:"icon-search"},null,-1)),zoe=Rf(()=>pe("i",{class:"icon-sign-in"},null,-1)),Yoe=Rf(()=>pe("i",{class:"icon-mobile-menu !text-[16px]"},null,-1)),qoe=[Yoe],Woe={__name:"header",setup(t){const e=fE({component:mie,attrs:{}}),n=fE({component:Eie,attrs:{clickAddRecord:()=>{n.close(),e.open()},clickLogout:()=>{n.close(),d1()}}}),r=()=>{e.open(),console.log("test open")},s=()=>{n.open()};let i=Xp.timeline();const o=()=>{i.fromTo("#logo",{x:-100,opacity:0},{duration:1,opacity:1,x:0}),i.fromTo(".an-btn",{x:100,opacity:0},{duration:.5,opacity:1,stagger:.2,x:0},"-=0.5")};return Zr(()=>{o()}),(a,l)=>{const u=ss("router-link"),c=ss("routerLink");return ie(),Se("div",Voe,[pe("div",Foe,[ye(u,{to:"/",class:"relative h-full",id:"logo"},{default:gt(()=>[Uoe]),_:1}),pe("div",Boe,[pe("button",{type:"button",class:"an-btn flex items-center gap-x-2 hover:text-primary",onClick:l[0]||(l[0]=f=>r())},[joe,$n(" 添加 ")]),ye(c,{to:"/search",class:"an-btn flex items-center gap-x-2 hover:text-primary"},{default:gt(()=>[Hoe,$n(" 搜尋 ")]),_:1}),pe("button",{type:"button",class:"an-btn flex items-center gap-x-[10px] rounded-lg border border-primary px-6 py-2 text-primary",onClick:l[1]||(l[1]=f=>K(d1)())},[zoe,$n(" 登出 ")])]),pe("button",{class:"flex items-center md:hidden",onClick:l[2]||(l[2]=f=>s())},qoe)])])}}},Goe=Ef(Woe,[["__scopeId","data-v-a61f5bdb"]]);function Koe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xoe(t,e,n){return e&&Koe(t.prototype,e),t}/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var jn,Yd,qr,So,Po,au,KO,_a,uh,XO,Di,Ts,QO,JO=function(){return jn||typeof window<"u"&&(jn=window.gsap)&&jn.registerPlugin&&jn},ZO=1,Wl=[],it=[],oi=[],ch=Date.now,Bv=function(e,n){return n},Qoe=function(){var e=uh.core,n=e.bridge||{},r=e._scrollers,s=e._proxies;r.push.apply(r,it),s.push.apply(s,oi),it=r,oi=s,Bv=function(o,a){return n[o](a)}},No=function(e,n){return~oi.indexOf(e)&&oi[oi.indexOf(e)+1][n]},hh=function(e){return!!~XO.indexOf(e)},fr=function(e,n,r,s,i){return e.addEventListener(n,r,{passive:s!==!1,capture:!!i})},cr=function(e,n,r,s){return e.removeEventListener(n,r,!!s)},ud="scrollLeft",cd="scrollTop",jv=function(){return Di&&Di.isPressed||it.cache++},Qp=function(e,n){var r=function s(i){if(i||i===0){ZO&&(qr.history.scrollRestoration="manual");var o=Di&&Di.isPressed;i=s.v=Math.round(i)||(Di&&Di.iOS?1:0),e(i),s.cacheID=it.cache,o&&Bv("ss",i)}else(n||it.cache!==s.cacheID||Bv("ref"))&&(s.cacheID=it.cache,s.v=e());return s.v+s.offset};return r.offset=0,e&&r},yr={s:ud,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Qp(function(t){return arguments.length?qr.scrollTo(t,En.sc()):qr.pageXOffset||So[ud]||Po[ud]||au[ud]||0})},En={s:cd,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:yr,sc:Qp(function(t){return arguments.length?qr.scrollTo(yr.sc(),t):qr.pageYOffset||So[cd]||Po[cd]||au[cd]||0})},Ar=function(e,n){return(n&&n._ctx&&n._ctx.selector||jn.utils.toArray)(e)[0]||(typeof e=="string"&&jn.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},Wo=function(e,n){var r=n.s,s=n.sc;hh(e)&&(e=So.scrollingElement||Po);var i=it.indexOf(e),o=s===En.sc?1:2;!~i&&(i=it.push(e)-1),it[i+o]||fr(e,"scroll",jv);var a=it[i+o],l=a||(it[i+o]=Qp(No(e,r),!0)||(hh(e)?s:Qp(function(u){return arguments.length?e[r]=u:e[r]})));return l.target=e,a||(l.smooth=jn.getProperty(e,"scrollBehavior")==="smooth"),l},Hv=function(e,n,r){var s=e,i=e,o=ch(),a=o,l=n||50,u=Math.max(500,l*3),c=function(g,_){var A=ch();_||A-o>l?(i=s,s=g,a=o,o=A):r?s+=g:s=i+(g-i)/(A-a)*(o-a)},f=function(){i=s=r?0:s,a=o=0},d=function(g){var _=a,A=i,S=ch();return(g||g===0)&&g!==s&&c(g),o===a||S-a>u?0:(s+(r?A:-A))/((r?S:o)-_)*1e3};return{update:c,reset:f,getVelocity:d}},vc=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},QA=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},ex=function(){uh=jn.core.globals().ScrollTrigger,uh&&uh.core&&Qoe()},tx=function(e){return jn=e||JO(),!Yd&&jn&&typeof document<"u"&&document.body&&(qr=window,So=document,Po=So.documentElement,au=So.body,XO=[qr,So,Po,au],jn.utils.clamp,QO=jn.core.context||function(){},_a="onpointerenter"in au?"pointer":"mouse",KO=fn.isTouch=qr.matchMedia&&qr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in qr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ts=fn.eventTypes=("ontouchstart"in Po?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Po?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return ZO=0},500),ex(),Yd=1),Yd};yr.op=En;it.cache=0;var fn=function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){Yd||tx(jn)||console.warn("Please gsap.registerPlugin(Observer)"),uh||ex();var s=r.tolerance,i=r.dragMinimum,o=r.type,a=r.target,l=r.lineHeight,u=r.debounce,c=r.preventDefault,f=r.onStop,d=r.onStopDelay,p=r.ignore,g=r.wheelSpeed,_=r.event,A=r.onDragStart,S=r.onDragEnd,M=r.onDrag,k=r.onPress,O=r.onRelease,x=r.onRight,N=r.onLeft,T=r.onUp,w=r.onDown,b=r.onChangeX,I=r.onChangeY,P=r.onChange,y=r.onToggleX,E=r.onToggleY,B=r.onHover,U=r.onHoverEnd,F=r.onMove,j=r.ignoreCheck,H=r.isNormalizer,ee=r.onGestureStart,R=r.onGestureEnd,ue=r.onWheel,te=r.onEnable,ve=r.onDisable,ge=r.onClick,Ce=r.scrollSpeed,De=r.capture,z=r.allowClicks,ae=r.lockAxis,W=r.onLockAxis;this.target=a=Ar(a)||Po,this.vars=r,p&&(p=jn.utils.toArray(p)),s=s||1e-9,i=i||0,g=g||1,Ce=Ce||1,o=o||"wheel,touch,pointer",u=u!==!1,l||(l=parseFloat(qr.getComputedStyle(au).lineHeight)||22);var ne,me,Re,D,L,Y,Q,$=this,he=0,de=0,le=r.passive||!c,oe=Wo(a,yr),se=Wo(a,En),_e=oe(),Pe=se(),be=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Ts[0]==="pointerdown",Ie=hh(a),Te=a.ownerDocument||So,Ye=[0,0,0],ze=[0,0,0],st=0,qt=function(){return st=ch()},tt=function(Fe,He){return($.event=Fe)&&p&&~p.indexOf(Fe.target)||He&&be&&Fe.pointerType!=="touch"||j&&j(Fe,He)},lr=function(){$._vx.reset(),$._vy.reset(),me.pause(),f&&f($)},on=function(){var Fe=$.deltaX=QA(Ye),He=$.deltaY=QA(ze),Ee=Math.abs(Fe)>=s,Be=Math.abs(He)>=s;P&&(Ee||Be)&&P($,Fe,He,Ye,ze),Ee&&(x&&$.deltaX>0&&x($),N&&$.deltaX<0&&N($),b&&b($),y&&$.deltaX<0!=he<0&&y($),he=$.deltaX,Ye[0]=Ye[1]=Ye[2]=0),Be&&(w&&$.deltaY>0&&w($),T&&$.deltaY<0&&T($),I&&I($),E&&$.deltaY<0!=de<0&&E($),de=$.deltaY,ze[0]=ze[1]=ze[2]=0),(D||Re)&&(F&&F($),Re&&(M($),Re=!1),D=!1),Y&&!(Y=!1)&&W&&W($),L&&(ue($),L=!1),ne=0},Rn=function(Fe,He,Ee){Ye[Ee]+=Fe,ze[Ee]+=He,$._vx.update(Fe),$._vy.update(He),u?ne||(ne=requestAnimationFrame(on)):on()},Ct=function(Fe,He){ae&&!Q&&($.axis=Q=Math.abs(Fe)>Math.abs(He)?"x":"y",Y=!0),Q!=="y"&&(Ye[2]+=Fe,$._vx.update(Fe,!0)),Q!=="x"&&(ze[2]+=He,$._vy.update(He,!0)),u?ne||(ne=requestAnimationFrame(on)):on()},re=function(Fe){if(!tt(Fe,1)){Fe=vc(Fe,c);var He=Fe.clientX,Ee=Fe.clientY,Be=He-$.x,$e=Ee-$.y,Ge=$.isDragging;$.x=He,$.y=Ee,(Ge||Math.abs($.startX-He)>=i||Math.abs($.startY-Ee)>=i)&&(M&&(Re=!0),Ge||($.isDragging=!0),Ct(Be,$e),Ge||A&&A($))}},V=$.onPress=function(Me){tt(Me,1)||Me&&Me.button||($.axis=Q=null,me.pause(),$.isPressed=!0,Me=vc(Me),he=de=0,$.startX=$.x=Me.clientX,$.startY=$.y=Me.clientY,$._vx.reset(),$._vy.reset(),fr(H?a:Te,Ts[1],re,le,!0),$.deltaX=$.deltaY=0,k&&k($))},G=$.onRelease=function(Me){if(!tt(Me,1)){cr(H?a:Te,Ts[1],re,!0);var Fe=!isNaN($.y-$.startY),He=$.isDragging,Ee=He&&(Math.abs($.x-$.startX)>3||Math.abs($.y-$.startY)>3),Be=vc(Me);!Ee&&Fe&&($._vx.reset(),$._vy.reset(),c&&z&&jn.delayedCall(.08,function(){if(ch()-st>300&&!Me.defaultPrevented){if(Me.target.click)Me.target.click();else if(Te.createEvent){var $e=Te.createEvent("MouseEvents");$e.initMouseEvent("click",!0,!0,qr,1,Be.screenX,Be.screenY,Be.clientX,Be.clientY,!1,!1,!1,!1,0,null),Me.target.dispatchEvent($e)}}})),$.isDragging=$.isGesturing=$.isPressed=!1,f&&He&&!H&&me.restart(!0),S&&He&&S($),O&&O($,Ee)}},we=function(Fe){return Fe.touches&&Fe.touches.length>1&&($.isGesturing=!0)&&ee(Fe,$.isDragging)},Le=function(){return($.isGesturing=!1)||R($)},et=function(Fe){if(!tt(Fe)){var He=oe(),Ee=se();Rn((He-_e)*Ce,(Ee-Pe)*Ce,1),_e=He,Pe=Ee,f&&me.restart(!0)}},bt=function(Fe){if(!tt(Fe)){Fe=vc(Fe,c),ue&&(L=!0);var He=(Fe.deltaMode===1?l:Fe.deltaMode===2?qr.innerHeight:1)*g;Rn(Fe.deltaX*He,Fe.deltaY*He,0),f&&!H&&me.restart(!0)}},Et=function(Fe){if(!tt(Fe)){var He=Fe.clientX,Ee=Fe.clientY,Be=He-$.x,$e=Ee-$.y;$.x=He,$.y=Ee,D=!0,f&&me.restart(!0),(Be||$e)&&Ct(Be,$e)}},Yn=function(Fe){$.event=Fe,B($)},an=function(Fe){$.event=Fe,U($)},es=function(Fe){return tt(Fe)||vc(Fe,c)&&ge($)};me=$._dc=jn.delayedCall(d||.25,lr).pause(),$.deltaX=$.deltaY=0,$._vx=Hv(0,50,!0),$._vy=Hv(0,50,!0),$.scrollX=oe,$.scrollY=se,$.isDragging=$.isGesturing=$.isPressed=!1,QO(this),$.enable=function(Me){return $.isEnabled||(fr(Ie?Te:a,"scroll",jv),o.indexOf("scroll")>=0&&fr(Ie?Te:a,"scroll",et,le,De),o.indexOf("wheel")>=0&&fr(a,"wheel",bt,le,De),(o.indexOf("touch")>=0&&KO||o.indexOf("pointer")>=0)&&(fr(a,Ts[0],V,le,De),fr(Te,Ts[2],G),fr(Te,Ts[3],G),z&&fr(a,"click",qt,!0,!0),ge&&fr(a,"click",es),ee&&fr(Te,"gesturestart",we),R&&fr(Te,"gestureend",Le),B&&fr(a,_a+"enter",Yn),U&&fr(a,_a+"leave",an),F&&fr(a,_a+"move",Et)),$.isEnabled=!0,Me&&Me.type&&V(Me),te&&te($)),$},$.disable=function(){$.isEnabled&&(Wl.filter(function(Me){return Me!==$&&hh(Me.target)}).length||cr(Ie?Te:a,"scroll",jv),$.isPressed&&($._vx.reset(),$._vy.reset(),cr(H?a:Te,Ts[1],re,!0)),cr(Ie?Te:a,"scroll",et,De),cr(a,"wheel",bt,De),cr(a,Ts[0],V,De),cr(Te,Ts[2],G),cr(Te,Ts[3],G),cr(a,"click",qt,!0),cr(a,"click",es),cr(Te,"gesturestart",we),cr(Te,"gestureend",Le),cr(a,_a+"enter",Yn),cr(a,_a+"leave",an),cr(a,_a+"move",Et),$.isEnabled=$.isPressed=$.isDragging=!1,ve&&ve($))},$.kill=$.revert=function(){$.disable();var Me=Wl.indexOf($);Me>=0&&Wl.splice(Me,1),Di===$&&(Di=0)},Wl.push($),H&&hh(a)&&(Di=$),$.enable(_)},Xoe(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();fn.version="3.12.5";fn.create=function(t){return new fn(t)};fn.register=tx;fn.getAll=function(){return Wl.slice()};fn.getById=function(t){return Wl.filter(function(e){return e.vars.id===t})[0]};JO()&&jn.registerPlugin(fn);/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Oe,Ul,ct,Gt,As,Ut,nx,Jp,Jh,fh,xc,hd,Qn,tg,zv,pr,JA,ZA,Bl,rx,u_,sx,dr,Yv,ix,ox,ao,qv,Pb,lu,Rb,Zp,Wv,c_,fd=1,er=Date.now,h_=er(),_s=0,Mc=0,eI=function(e,n,r){var s=Hr(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=s,s?e.substr(6,e.length-7):e},tI=function(e,n){return n&&(!Hr(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},Joe=function t(){return Mc&&requestAnimationFrame(t)},nI=function(){return tg=1},rI=function(){return tg=0},js=function(e){return e},Nc=function(e){return Math.round(e*1e5)/1e5||0},ax=function(){return typeof window<"u"},lx=function(){return Oe||ax()&&(Oe=window.gsap)&&Oe.registerPlugin&&Oe},al=function(e){return!!~nx.indexOf(e)},ux=function(e){return(e==="Height"?Rb:ct["inner"+e])||As["client"+e]||Ut["client"+e]},cx=function(e){return No(e,"getBoundingClientRect")||(al(e)?function(){return Xd.width=ct.innerWidth,Xd.height=Rb,Xd}:function(){return Ai(e)})},Zoe=function(e,n,r){var s=r.d,i=r.d2,o=r.a;return(o=No(e,"getBoundingClientRect"))?function(){return o()[s]}:function(){return(n?ux(i):e["client"+i])||0}},eae=function(e,n){return!n||~oi.indexOf(e)?cx(e):function(){return Xd}},Qs=function(e,n){var r=n.s,s=n.d2,i=n.d,o=n.a;return Math.max(0,(r="scroll"+s)&&(o=No(e,r))?o()-cx(e)()[i]:al(e)?(As[r]||Ut[r])-ux(s):e[r]-e["offset"+s])},dd=function(e,n){for(var r=0;r<Bl.length;r+=3)(!n||~n.indexOf(Bl[r+1]))&&e(Bl[r],Bl[r+1],Bl[r+2])},Hr=function(e){return typeof e=="string"},br=function(e){return typeof e=="function"},Lc=function(e){return typeof e=="number"},va=function(e){return typeof e=="object"},yc=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},f_=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},Ol=Math.abs,hx="left",fx="top",Cb="right",Db="bottom",Ha="width",za="height",dh="Right",ph="Left",mh="Top",gh="Bottom",gn="padding",is="margin",ku="Width",kb="Height",Tn="px",os=function(e){return ct.getComputedStyle(e)},tae=function(e){var n=os(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},sI=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Ai=function(e,n){var r=n&&os(e)[zv]!=="matrix(1, 0, 0, 1, 0, 0)"&&Oe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=e.getBoundingClientRect();return r&&r.progress(0).kill(),s},em=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},dx=function(e){var n=[],r=e.labels,s=e.duration(),i;for(i in r)n.push(r[i]/s);return n},nae=function(e){return function(n){return Oe.utils.snap(dx(e),n)}},Ob=function(e){var n=Oe.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(s,i){return s-i});return r?function(s,i,o){o===void 0&&(o=.001);var a;if(!i)return n(s);if(i>0){for(s-=o,a=0;a<r.length;a++)if(r[a]>=s)return r[a];return r[a-1]}else for(a=r.length,s+=o;a--;)if(r[a]<=s)return r[a];return r[0]}:function(s,i,o){o===void 0&&(o=.001);var a=n(s);return!i||Math.abs(a-s)<o||a-s<0==i<0?a:n(i<0?s-e:s+e)}},rae=function(e){return function(n,r){return Ob(dx(e))(n,r.direction)}},pd=function(e,n,r,s){return r.split(",").forEach(function(i){return e(n,i,s)})},kn=function(e,n,r,s,i){return e.addEventListener(n,r,{passive:!s,capture:!!i})},Dn=function(e,n,r,s){return e.removeEventListener(n,r,!!s)},md=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},iI={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},gd={toggleActions:"play",anticipatePin:0},tm={top:0,left:0,center:.5,bottom:1,right:1},qd=function(e,n){if(Hr(e)){var r=e.indexOf("="),s=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(s*=n/100),e=e.substr(0,r-1)),e=s+(e in tm?tm[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},_d=function(e,n,r,s,i,o,a,l){var u=i.startColor,c=i.endColor,f=i.fontSize,d=i.indent,p=i.fontWeight,g=Gt.createElement("div"),_=al(r)||No(r,"pinType")==="fixed",A=e.indexOf("scroller")!==-1,S=_?Ut:r,M=e.indexOf("start")!==-1,k=M?u:c,O="border-color:"+k+";font-size:"+f+";color:"+k+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return O+="position:"+((A||l)&&_?"fixed;":"absolute;"),(A||l||!_)&&(O+=(s===En?Cb:Db)+":"+(o+parseFloat(d))+"px;"),a&&(O+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),g._isStart=M,g.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),g.style.cssText=O,g.innerText=n||n===0?e+"-"+n:e,S.children[0]?S.insertBefore(g,S.children[0]):S.appendChild(g),g._offset=g["offset"+s.op.d2],Wd(g,0,s,M),g},Wd=function(e,n,r,s){var i={display:"block"},o=r[s?"os2":"p2"],a=r[s?"p2":"os2"];e._isFlipped=s,i[r.a+"Percent"]=s?-100:0,i[r.a]=s?"1px":0,i["border"+o+ku]=1,i["border"+a+ku]=0,i[r.p]=n+"px",Oe.set(e,i)},nt=[],Gv={},Zh,oI=function(){return er()-_s>34&&(Zh||(Zh=requestAnimationFrame(Li)))},xl=function(){(!dr||!dr.isPressed||dr.startX>Ut.clientWidth)&&(it.cache++,dr?Zh||(Zh=requestAnimationFrame(Li)):Li(),_s||ul("scrollStart"),_s=er())},d_=function(){ox=ct.innerWidth,ix=ct.innerHeight},$c=function(){it.cache++,!Qn&&!sx&&!Gt.fullscreenElement&&!Gt.webkitFullscreenElement&&(!Yv||ox!==ct.innerWidth||Math.abs(ct.innerHeight-ix)>ct.innerHeight*.25)&&Jp.restart(!0)},ll={},sae=[],px=function t(){return Dn(ut,"scrollEnd",t)||Sa(!0)},ul=function(e){return ll[e]&&ll[e].map(function(n){return n()})||sae},jr=[],mx=function(e){for(var n=0;n<jr.length;n+=5)(!e||jr[n+4]&&jr[n+4].query===e)&&(jr[n].style.cssText=jr[n+1],jr[n].getBBox&&jr[n].setAttribute("transform",jr[n+2]||""),jr[n+3].uncache=1)},xb=function(e,n){var r;for(pr=0;pr<nt.length;pr++)r=nt[pr],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));Zp=!0,n&&mx(n),n||ul("revert")},gx=function(e,n){it.cache++,(n||!mr)&&it.forEach(function(r){return br(r)&&r.cacheID++&&(r.rec=0)}),Hr(e)&&(ct.history.scrollRestoration=Pb=e)},mr,Ya=0,aI,iae=function(){if(aI!==Ya){var e=aI=Ya;requestAnimationFrame(function(){return e===Ya&&Sa(!0)})}},_x=function(){Ut.appendChild(lu),Rb=!dr&&lu.offsetHeight||ct.innerHeight,Ut.removeChild(lu)},lI=function(e){return Jh(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Sa=function(e,n){if(_s&&!e&&!Zp){kn(ut,"scrollEnd",px);return}_x(),mr=ut.isRefreshing=!0,it.forEach(function(s){return br(s)&&++s.cacheID&&(s.rec=s())});var r=ul("refreshInit");rx&&ut.sort(),n||xb(),it.forEach(function(s){br(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),nt.slice(0).forEach(function(s){return s.refresh()}),Zp=!1,nt.forEach(function(s){if(s._subPinOffset&&s.pin){var i=s.vars.horizontal?"offsetWidth":"offsetHeight",o=s.pin[i];s.revert(!0,1),s.adjustPinSpacing(s.pin[i]-o),s.refresh()}}),Wv=1,lI(!0),nt.forEach(function(s){var i=Qs(s.scroller,s._dir),o=s.vars.end==="max"||s._endClamp&&s.end>i,a=s._startClamp&&s.start>=i;(o||a)&&s.setPositions(a?i-1:s.start,o?Math.max(a?i:s.start+1,i):s.end,!0)}),lI(!1),Wv=0,r.forEach(function(s){return s&&s.render&&s.render(-1)}),it.forEach(function(s){br(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),gx(Pb,1),Jp.pause(),Ya++,mr=2,Li(2),nt.forEach(function(s){return br(s.vars.onRefresh)&&s.vars.onRefresh(s)}),mr=ut.isRefreshing=!1,ul("refresh")},Kv=0,Gd=1,_h,Li=function(e){if(e===2||!mr&&!Zp){ut.isUpdating=!0,_h&&_h.update(0);var n=nt.length,r=er(),s=r-h_>=50,i=n&&nt[0].scroll();if(Gd=Kv>i?-1:1,mr||(Kv=i),s&&(_s&&!tg&&r-_s>200&&(_s=0,ul("scrollEnd")),xc=h_,h_=r),Gd<0){for(pr=n;pr-- >0;)nt[pr]&&nt[pr].update(0,s);Gd=1}else for(pr=0;pr<n;pr++)nt[pr]&&nt[pr].update(0,s);ut.isUpdating=!1}Zh=0},Xv=[hx,fx,Db,Cb,is+gh,is+dh,is+mh,is+ph,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Kd=Xv.concat([Ha,za,"boxSizing","max"+ku,"max"+kb,"position",is,gn,gn+mh,gn+dh,gn+gh,gn+ph]),oae=function(e,n,r){uu(r);var s=e._gsap;if(s.spacerIsNative)uu(s.spacerState);else if(e._gsap.swappedIn){var i=n.parentNode;i&&(i.insertBefore(e,n),i.removeChild(n))}e._gsap.swappedIn=!1},p_=function(e,n,r,s){if(!e._gsap.swappedIn){for(var i=Xv.length,o=n.style,a=e.style,l;i--;)l=Xv[i],o[l]=r[l];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),a[Db]=a[Cb]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Ha]=em(e,yr)+Tn,o[za]=em(e,En)+Tn,o[gn]=a[is]=a[fx]=a[hx]="0",uu(s),a[Ha]=a["max"+ku]=r[Ha],a[za]=a["max"+kb]=r[za],a[gn]=r[gn],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},aae=/([A-Z])/g,uu=function(e){if(e){var n=e.t.style,r=e.length,s=0,i,o;for((e.t._gsap||Oe.core.getCache(e.t)).uncache=1;s<r;s+=2)o=e[s+1],i=e[s],o?n[i]=o:n[i]&&n.removeProperty(i.replace(aae,"-$1").toLowerCase())}},vd=function(e){for(var n=Kd.length,r=e.style,s=[],i=0;i<n;i++)s.push(Kd[i],r[Kd[i]]);return s.t=e,s},lae=function(e,n,r){for(var s=[],i=e.length,o=r?8:0,a;o<i;o+=2)a=e[o],s.push(a,a in n?n[a]:e[o+1]);return s.t=e.t,s},Xd={left:0,top:0},uI=function(e,n,r,s,i,o,a,l,u,c,f,d,p,g){br(e)&&(e=e(l)),Hr(e)&&e.substr(0,3)==="max"&&(e=d+(e.charAt(4)==="="?qd("0"+e.substr(3),r):0));var _=p?p.time():0,A,S,M;if(p&&p.seek(0),isNaN(e)||(e=+e),Lc(e))p&&(e=Oe.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,d,e)),a&&Wd(a,r,s,!0);else{br(n)&&(n=n(l));var k=(e||"0").split(" "),O,x,N,T;M=Ar(n,l)||Ut,O=Ai(M)||{},(!O||!O.left&&!O.top)&&os(M).display==="none"&&(T=M.style.display,M.style.display="block",O=Ai(M),T?M.style.display=T:M.style.removeProperty("display")),x=qd(k[0],O[s.d]),N=qd(k[1]||"0",r),e=O[s.p]-u[s.p]-c+x+i-N,a&&Wd(a,N,s,r-N<20||a._isStart&&N>20),r-=r-N}if(g&&(l[g]=e||-.001,e<0&&(e=0)),o){var w=e+r,b=o._isStart;A="scroll"+s.d2,Wd(o,w,s,b&&w>20||!b&&(f?Math.max(Ut[A],As[A]):o.parentNode[A])<=w+1),f&&(u=Ai(a),f&&(o.style[s.op.p]=u[s.op.p]-s.op.m-o._offset+Tn))}return p&&M&&(A=Ai(M),p.seek(d),S=Ai(M),p._caScrollDist=A[s.p]-S[s.p],e=e/p._caScrollDist*d),p&&p.seek(_),p?e:Math.round(e)},uae=/(webkit|moz|length|cssText|inset)/i,cI=function(e,n,r,s){if(e.parentNode!==n){var i=e.style,o,a;if(n===Ut){e._stOrig=i.cssText,a=os(e);for(o in a)!+o&&!uae.test(o)&&a[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=a[o]);i.top=r,i.left=s}else i.cssText=e._stOrig;Oe.core.getCache(e).uncache=1,n.appendChild(e)}},vx=function(e,n,r){var s=n,i=s;return function(o){var a=Math.round(e());return a!==s&&a!==i&&Math.abs(a-s)>3&&Math.abs(a-i)>3&&(o=a,r&&r()),i=s,s=o,o}},yd=function(e,n,r){var s={};s[n.p]="+="+r,Oe.set(e,s)},hI=function(e,n){var r=Wo(e,n),s="_scroll"+n.p2,i=function o(a,l,u,c,f){var d=o.tween,p=l.onComplete,g={};u=u||r();var _=vx(r,u,function(){d.kill(),o.tween=0});return f=c&&f||0,c=c||a-u,d&&d.kill(),l[s]=a,l.inherit=!1,l.modifiers=g,g[s]=function(){return _(u+c*d.ratio+f*d.ratio*d.ratio)},l.onUpdate=function(){it.cache++,o.tween&&Li()},l.onComplete=function(){o.tween=0,p&&p.call(d)},d=o.tween=Oe.to(e,l),d};return e[s]=r,r.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},kn(e,"wheel",r.wheelHandler),ut.isTouch&&kn(e,"touchmove",r.wheelHandler),i},ut=function(){function t(n,r){Ul||t.register(Oe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),qv(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Mc){this.update=this.refresh=this.kill=js;return}r=sI(Hr(r)||Lc(r)||r.nodeType?{trigger:r}:r,gd);var i=r,o=i.onUpdate,a=i.toggleClass,l=i.id,u=i.onToggle,c=i.onRefresh,f=i.scrub,d=i.trigger,p=i.pin,g=i.pinSpacing,_=i.invalidateOnRefresh,A=i.anticipatePin,S=i.onScrubComplete,M=i.onSnapComplete,k=i.once,O=i.snap,x=i.pinReparent,N=i.pinSpacer,T=i.containerAnimation,w=i.fastScrollEnd,b=i.preventOverlaps,I=r.horizontal||r.containerAnimation&&r.horizontal!==!1?yr:En,P=!f&&f!==0,y=Ar(r.scroller||ct),E=Oe.core.getCache(y),B=al(y),U=("pinType"in r?r.pinType:No(y,"pinType")||B&&"fixed")==="fixed",F=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],j=P&&r.toggleActions.split(" "),H="markers"in r?r.markers:gd.markers,ee=B?0:parseFloat(os(y)["border"+I.p2+ku])||0,R=this,ue=r.onRefreshInit&&function(){return r.onRefreshInit(R)},te=Zoe(y,B,I),ve=eae(y,B),ge=0,Ce=0,De=0,z=Wo(y,I),ae,W,ne,me,Re,D,L,Y,Q,$,he,de,le,oe,se,_e,Pe,be,Ie,Te,Ye,ze,st,qt,tt,lr,on,Rn,Ct,re,V,G,we,Le,et,bt,Et,Yn,an;if(R._startClamp=R._endClamp=!1,R._dir=I,A*=45,R.scroller=y,R.scroll=T?T.time.bind(T):z,me=z(),R.vars=r,s=s||r.animation,"refreshPriority"in r&&(rx=1,r.refreshPriority===-9999&&(_h=R)),E.tweenScroll=E.tweenScroll||{top:hI(y,En),left:hI(y,yr)},R.tweenTo=ae=E.tweenScroll[I.p],R.scrubDuration=function(Ee){we=Lc(Ee)&&Ee,we?G?G.duration(Ee):G=Oe.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:we,paused:!0,onComplete:function(){return S&&S(R)}}):(G&&G.progress(1).kill(),G=0)},s&&(s.vars.lazy=!1,s._initted&&!R.isReverted||s.vars.immediateRender!==!1&&r.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),R.animation=s.pause(),s.scrollTrigger=R,R.scrubDuration(f),re=0,l||(l=s.vars.id)),O&&((!va(O)||O.push)&&(O={snapTo:O}),"scrollBehavior"in Ut.style&&Oe.set(B?[Ut,As]:y,{scrollBehavior:"auto"}),it.forEach(function(Ee){return br(Ee)&&Ee.target===(B?Gt.scrollingElement||As:y)&&(Ee.smooth=!1)}),ne=br(O.snapTo)?O.snapTo:O.snapTo==="labels"?nae(s):O.snapTo==="labelsDirectional"?rae(s):O.directional!==!1?function(Ee,Be){return Ob(O.snapTo)(Ee,er()-Ce<500?0:Be.direction)}:Oe.utils.snap(O.snapTo),Le=O.duration||{min:.1,max:2},Le=va(Le)?fh(Le.min,Le.max):fh(Le,Le),et=Oe.delayedCall(O.delay||we/2||.1,function(){var Ee=z(),Be=er()-Ce<500,$e=ae.tween;if((Be||Math.abs(R.getVelocity())<10)&&!$e&&!tg&&ge!==Ee){var Ge=(Ee-D)/oe,pn=s&&!P?s.totalProgress():Ge,Je=Be?0:(pn-V)/(er()-xc)*1e3||0,Wt=Oe.utils.clamp(-Ge,1-Ge,Ol(Je/2)*Je/.185),Cn=Ge+(O.inertia===!1?0:Wt),Dt,kt,wt=O,qn=wt.onStart,vt=wt.onInterrupt,Wn=wt.onComplete;if(Dt=ne(Cn,R),Lc(Dt)||(Dt=Cn),kt=Math.round(D+Dt*oe),Ee<=L&&Ee>=D&&kt!==Ee){if($e&&!$e._initted&&$e.data<=Ol(kt-Ee))return;O.inertia===!1&&(Wt=Dt-Ge),ae(kt,{duration:Le(Ol(Math.max(Ol(Cn-pn),Ol(Dt-pn))*.185/Je/.05||0)),ease:O.ease||"power3",data:Ol(kt-Ee),onInterrupt:function(){return et.restart(!0)&&vt&&vt(R)},onComplete:function(){R.update(),ge=z(),s&&(G?G.resetTo("totalProgress",Dt,s._tTime/s._tDur):s.progress(Dt)),re=V=s&&!P?s.totalProgress():R.progress,M&&M(R),Wn&&Wn(R)}},Ee,Wt*oe,kt-Ee-Wt*oe),qn&&qn(R,ae.tween)}}else R.isActive&&ge!==Ee&&et.restart(!0)}).pause()),l&&(Gv[l]=R),d=R.trigger=Ar(d||p!==!0&&p),an=d&&d._gsap&&d._gsap.stRevert,an&&(an=an(R)),p=p===!0?d:Ar(p),Hr(a)&&(a={targets:d,className:a}),p&&(g===!1||g===is||(g=!g&&p.parentNode&&p.parentNode.style&&os(p.parentNode).display==="flex"?!1:gn),R.pin=p,W=Oe.core.getCache(p),W.spacer?se=W.pinState:(N&&(N=Ar(N),N&&!N.nodeType&&(N=N.current||N.nativeElement),W.spacerIsNative=!!N,N&&(W.spacerState=vd(N))),W.spacer=be=N||Gt.createElement("div"),be.classList.add("pin-spacer"),l&&be.classList.add("pin-spacer-"+l),W.pinState=se=vd(p)),r.force3D!==!1&&Oe.set(p,{force3D:!0}),R.spacer=be=W.spacer,Ct=os(p),qt=Ct[g+I.os2],Te=Oe.getProperty(p),Ye=Oe.quickSetter(p,I.a,Tn),p_(p,be,Ct),Pe=vd(p)),H){de=va(H)?sI(H,iI):iI,$=_d("scroller-start",l,y,I,de,0),he=_d("scroller-end",l,y,I,de,0,$),Ie=$["offset"+I.op.d2];var es=Ar(No(y,"content")||y);Y=this.markerStart=_d("start",l,es,I,de,Ie,0,T),Q=this.markerEnd=_d("end",l,es,I,de,Ie,0,T),T&&(Yn=Oe.quickSetter([Y,Q],I.a,Tn)),!U&&!(oi.length&&No(y,"fixedMarkers")===!0)&&(tae(B?Ut:y),Oe.set([$,he],{force3D:!0}),lr=Oe.quickSetter($,I.a,Tn),Rn=Oe.quickSetter(he,I.a,Tn))}if(T){var Me=T.vars.onUpdate,Fe=T.vars.onUpdateParams;T.eventCallback("onUpdate",function(){R.update(0,0,1),Me&&Me.apply(T,Fe||[])})}if(R.previous=function(){return nt[nt.indexOf(R)-1]},R.next=function(){return nt[nt.indexOf(R)+1]},R.revert=function(Ee,Be){if(!Be)return R.kill(!0);var $e=Ee!==!1||!R.enabled,Ge=Qn;$e!==R.isReverted&&($e&&(bt=Math.max(z(),R.scroll.rec||0),De=R.progress,Et=s&&s.progress()),Y&&[Y,Q,$,he].forEach(function(pn){return pn.style.display=$e?"none":"block"}),$e&&(Qn=R,R.update($e)),p&&(!x||!R.isActive)&&($e?oae(p,be,se):p_(p,be,os(p),tt)),$e||R.update($e),Qn=Ge,R.isReverted=$e)},R.refresh=function(Ee,Be,$e,Ge){if(!((Qn||!R.enabled)&&!Be)){if(p&&Ee&&_s){kn(t,"scrollEnd",px);return}!mr&&ue&&ue(R),Qn=R,ae.tween&&!$e&&(ae.tween.kill(),ae.tween=0),G&&G.pause(),_&&s&&s.revert({kill:!1}).invalidate(),R.isReverted||R.revert(!0,!0),R._subPinOffset=!1;var pn=te(),Je=ve(),Wt=T?T.duration():Qs(y,I),Cn=oe<=.01,Dt=0,kt=Ge||0,wt=va($e)?$e.end:r.end,qn=r.endTrigger||d,vt=va($e)?$e.start:r.start||(r.start===0||!d?0:p?"0 0":"0 100%"),Wn=R.pinnedContainer=r.pinnedContainer&&Ar(r.pinnedContainer,R),Vr=d&&Math.max(0,nt.indexOf(R))||0,ln=Vr,un,wn,Vs,El,cn,en,Tr,mi,Fs,gi,ts,Ki,ra;for(H&&va($e)&&(Ki=Oe.getProperty($,I.p),ra=Oe.getProperty(he,I.p));ln--;)en=nt[ln],en.end||en.refresh(0,1)||(Qn=R),Tr=en.pin,Tr&&(Tr===d||Tr===p||Tr===Wn)&&!en.isReverted&&(gi||(gi=[]),gi.unshift(en),en.revert(!0,!0)),en!==nt[ln]&&(Vr--,ln--);for(br(vt)&&(vt=vt(R)),vt=eI(vt,"start",R),D=uI(vt,d,pn,I,z(),Y,$,R,Je,ee,U,Wt,T,R._startClamp&&"_startClamp")||(p?-.001:0),br(wt)&&(wt=wt(R)),Hr(wt)&&!wt.indexOf("+=")&&(~wt.indexOf(" ")?wt=(Hr(vt)?vt.split(" ")[0]:"")+wt:(Dt=qd(wt.substr(2),pn),wt=Hr(vt)?vt:(T?Oe.utils.mapRange(0,T.duration(),T.scrollTrigger.start,T.scrollTrigger.end,D):D)+Dt,qn=d)),wt=eI(wt,"end",R),L=Math.max(D,uI(wt||(qn?"100% 0":Wt),qn,pn,I,z()+Dt,Q,he,R,Je,ee,U,Wt,T,R._endClamp&&"_endClamp"))||-.001,Dt=0,ln=Vr;ln--;)en=nt[ln],Tr=en.pin,Tr&&en.start-en._pinPush<=D&&!T&&en.end>0&&(un=en.end-(R._startClamp?Math.max(0,en.start):en.start),(Tr===d&&en.start-en._pinPush<D||Tr===Wn)&&isNaN(vt)&&(Dt+=un*(1-en.progress)),Tr===p&&(kt+=un));if(D+=Dt,L+=Dt,R._startClamp&&(R._startClamp+=Dt),R._endClamp&&!mr&&(R._endClamp=L||-.001,L=Math.min(L,Qs(y,I))),oe=L-D||(D-=.01)&&.001,Cn&&(De=Oe.utils.clamp(0,1,Oe.utils.normalize(D,L,bt))),R._pinPush=kt,Y&&Dt&&(un={},un[I.a]="+="+Dt,Wn&&(un[I.p]="-="+z()),Oe.set([Y,Q],un)),p&&!(Wv&&R.end>=Qs(y,I)))un=os(p),El=I===En,Vs=z(),ze=parseFloat(Te(I.a))+kt,!Wt&&L>1&&(ts=(B?Gt.scrollingElement||As:y).style,ts={style:ts,value:ts["overflow"+I.a.toUpperCase()]},B&&os(Ut)["overflow"+I.a.toUpperCase()]!=="scroll"&&(ts.style["overflow"+I.a.toUpperCase()]="scroll")),p_(p,be,un),Pe=vd(p),wn=Ai(p,!0),mi=U&&Wo(y,El?yr:En)(),g?(tt=[g+I.os2,oe+kt+Tn],tt.t=be,ln=g===gn?em(p,I)+oe+kt:0,ln&&(tt.push(I.d,ln+Tn),be.style.flexBasis!=="auto"&&(be.style.flexBasis=ln+Tn)),uu(tt),Wn&&nt.forEach(function(Xi){Xi.pin===Wn&&Xi.vars.pinSpacing!==!1&&(Xi._subPinOffset=!0)}),U&&z(bt)):(ln=em(p,I),ln&&be.style.flexBasis!=="auto"&&(be.style.flexBasis=ln+Tn)),U&&(cn={top:wn.top+(El?Vs-D:mi)+Tn,left:wn.left+(El?mi:Vs-D)+Tn,boxSizing:"border-box",position:"fixed"},cn[Ha]=cn["max"+ku]=Math.ceil(wn.width)+Tn,cn[za]=cn["max"+kb]=Math.ceil(wn.height)+Tn,cn[is]=cn[is+mh]=cn[is+dh]=cn[is+gh]=cn[is+ph]="0",cn[gn]=un[gn],cn[gn+mh]=un[gn+mh],cn[gn+dh]=un[gn+dh],cn[gn+gh]=un[gn+gh],cn[gn+ph]=un[gn+ph],_e=lae(se,cn,x),mr&&z(0)),s?(Fs=s._initted,u_(1),s.render(s.duration(),!0,!0),st=Te(I.a)-ze+oe+kt,on=Math.abs(oe-st)>1,U&&on&&_e.splice(_e.length-2,2),s.render(0,!0,!0),Fs||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),u_(0)):st=oe,ts&&(ts.value?ts.style["overflow"+I.a.toUpperCase()]=ts.value:ts.style.removeProperty("overflow-"+I.a));else if(d&&z()&&!T)for(wn=d.parentNode;wn&&wn!==Ut;)wn._pinOffset&&(D-=wn._pinOffset,L-=wn._pinOffset),wn=wn.parentNode;gi&&gi.forEach(function(Xi){return Xi.revert(!1,!0)}),R.start=D,R.end=L,me=Re=mr?bt:z(),!T&&!mr&&(me<bt&&z(bt),R.scroll.rec=0),R.revert(!1,!0),Ce=er(),et&&(ge=-1,et.restart(!0)),Qn=0,s&&P&&(s._initted||Et)&&s.progress()!==Et&&s.progress(Et||0,!0).render(s.time(),!0,!0),(Cn||De!==R.progress||T||_)&&(s&&!P&&s.totalProgress(T&&D<-.001&&!De?Oe.utils.normalize(D,L,0):De,!0),R.progress=Cn||(me-D)/oe===De?0:De),p&&g&&(be._pinOffset=Math.round(R.progress*st)),G&&G.invalidate(),isNaN(Ki)||(Ki-=Oe.getProperty($,I.p),ra-=Oe.getProperty(he,I.p),yd($,I,Ki),yd(Y,I,Ki-(Ge||0)),yd(he,I,ra),yd(Q,I,ra-(Ge||0))),Cn&&!mr&&R.update(),c&&!mr&&!le&&(le=!0,c(R),le=!1)}},R.getVelocity=function(){return(z()-Re)/(er()-xc)*1e3||0},R.endAnimation=function(){yc(R.callbackAnimation),s&&(G?G.progress(1):s.paused()?P||yc(s,R.direction<0,1):yc(s,s.reversed()))},R.labelToScroll=function(Ee){return s&&s.labels&&(D||R.refresh()||D)+s.labels[Ee]/s.duration()*oe||0},R.getTrailing=function(Ee){var Be=nt.indexOf(R),$e=R.direction>0?nt.slice(0,Be).reverse():nt.slice(Be+1);return(Hr(Ee)?$e.filter(function(Ge){return Ge.vars.preventOverlaps===Ee}):$e).filter(function(Ge){return R.direction>0?Ge.end<=D:Ge.start>=L})},R.update=function(Ee,Be,$e){if(!(T&&!$e&&!Ee)){var Ge=mr===!0?bt:R.scroll(),pn=Ee?0:(Ge-D)/oe,Je=pn<0?0:pn>1?1:pn||0,Wt=R.progress,Cn,Dt,kt,wt,qn,vt,Wn,Vr;if(Be&&(Re=me,me=T?z():Ge,O&&(V=re,re=s&&!P?s.totalProgress():Je)),A&&p&&!Qn&&!fd&&_s&&(!Je&&D<Ge+(Ge-Re)/(er()-xc)*A?Je=1e-4:Je===1&&L>Ge+(Ge-Re)/(er()-xc)*A&&(Je=.9999)),Je!==Wt&&R.enabled){if(Cn=R.isActive=!!Je&&Je<1,Dt=!!Wt&&Wt<1,vt=Cn!==Dt,qn=vt||!!Je!=!!Wt,R.direction=Je>Wt?1:-1,R.progress=Je,qn&&!Qn&&(kt=Je&&!Wt?0:Je===1?1:Wt===1?2:3,P&&(wt=!vt&&j[kt+1]!=="none"&&j[kt+1]||j[kt],Vr=s&&(wt==="complete"||wt==="reset"||wt in s))),b&&(vt||Vr)&&(Vr||f||!s)&&(br(b)?b(R):R.getTrailing(b).forEach(function(Vs){return Vs.endAnimation()})),P||(G&&!Qn&&!fd?(G._dp._time-G._start!==G._time&&G.render(G._dp._time-G._start),G.resetTo?G.resetTo("totalProgress",Je,s._tTime/s._tDur):(G.vars.totalProgress=Je,G.invalidate().restart())):s&&s.totalProgress(Je,!!(Qn&&(Ce||Ee)))),p){if(Ee&&g&&(be.style[g+I.os2]=qt),!U)Ye(Nc(ze+st*Je));else if(qn){if(Wn=!Ee&&Je>Wt&&L+1>Ge&&Ge+1>=Qs(y,I),x)if(!Ee&&(Cn||Wn)){var ln=Ai(p,!0),un=Ge-D;cI(p,Ut,ln.top+(I===En?un:0)+Tn,ln.left+(I===En?0:un)+Tn)}else cI(p,be);uu(Cn||Wn?_e:Pe),on&&Je<1&&Cn||Ye(ze+(Je===1&&!Wn?st:0))}}O&&!ae.tween&&!Qn&&!fd&&et.restart(!0),a&&(vt||k&&Je&&(Je<1||!c_))&&Jh(a.targets).forEach(function(Vs){return Vs.classList[Cn||k?"add":"remove"](a.className)}),o&&!P&&!Ee&&o(R),qn&&!Qn?(P&&(Vr&&(wt==="complete"?s.pause().totalProgress(1):wt==="reset"?s.restart(!0).pause():wt==="restart"?s.restart(!0):s[wt]()),o&&o(R)),(vt||!c_)&&(u&&vt&&f_(R,u),F[kt]&&f_(R,F[kt]),k&&(Je===1?R.kill(!1,1):F[kt]=0),vt||(kt=Je===1?1:3,F[kt]&&f_(R,F[kt]))),w&&!Cn&&Math.abs(R.getVelocity())>(Lc(w)?w:2500)&&(yc(R.callbackAnimation),G?G.progress(1):yc(s,wt==="reverse"?1:!Je,1))):P&&o&&!Qn&&o(R)}if(Rn){var wn=T?Ge/T.duration()*(T._caScrollDist||0):Ge;lr(wn+($._isFlipped?1:0)),Rn(wn)}Yn&&Yn(-Ge/T.duration()*(T._caScrollDist||0))}},R.enable=function(Ee,Be){R.enabled||(R.enabled=!0,kn(y,"resize",$c),B||kn(y,"scroll",xl),ue&&kn(t,"refreshInit",ue),Ee!==!1&&(R.progress=De=0,me=Re=ge=z()),Be!==!1&&R.refresh())},R.getTween=function(Ee){return Ee&&ae?ae.tween:G},R.setPositions=function(Ee,Be,$e,Ge){if(T){var pn=T.scrollTrigger,Je=T.duration(),Wt=pn.end-pn.start;Ee=pn.start+Wt*Ee/Je,Be=pn.start+Wt*Be/Je}R.refresh(!1,!1,{start:tI(Ee,$e&&!!R._startClamp),end:tI(Be,$e&&!!R._endClamp)},Ge),R.update()},R.adjustPinSpacing=function(Ee){if(tt&&Ee){var Be=tt.indexOf(I.d)+1;tt[Be]=parseFloat(tt[Be])+Ee+Tn,tt[1]=parseFloat(tt[1])+Ee+Tn,uu(tt)}},R.disable=function(Ee,Be){if(R.enabled&&(Ee!==!1&&R.revert(!0,!0),R.enabled=R.isActive=!1,Be||G&&G.pause(),bt=0,W&&(W.uncache=1),ue&&Dn(t,"refreshInit",ue),et&&(et.pause(),ae.tween&&ae.tween.kill()&&(ae.tween=0)),!B)){for(var $e=nt.length;$e--;)if(nt[$e].scroller===y&&nt[$e]!==R)return;Dn(y,"resize",$c),B||Dn(y,"scroll",xl)}},R.kill=function(Ee,Be){R.disable(Ee,Be),G&&!Be&&G.kill(),l&&delete Gv[l];var $e=nt.indexOf(R);$e>=0&&nt.splice($e,1),$e===pr&&Gd>0&&pr--,$e=0,nt.forEach(function(Ge){return Ge.scroller===R.scroller&&($e=1)}),$e||mr||(R.scroll.rec=0),s&&(s.scrollTrigger=null,Ee&&s.revert({kill:!1}),Be||s.kill()),Y&&[Y,Q,$,he].forEach(function(Ge){return Ge.parentNode&&Ge.parentNode.removeChild(Ge)}),_h===R&&(_h=0),p&&(W&&(W.uncache=1),$e=0,nt.forEach(function(Ge){return Ge.pin===p&&$e++}),$e||(W.spacer=0)),r.onKill&&r.onKill(R)},nt.push(R),R.enable(!1,!1),an&&an(R),s&&s.add&&!oe){var He=R.update;R.update=function(){R.update=He,D||L||R.refresh()},Oe.delayedCall(.01,R.update),oe=.01,D=L=0}else R.refresh();p&&iae()},t.register=function(r){return Ul||(Oe=r||lx(),ax()&&window.document&&t.enable(),Ul=Mc),Ul},t.defaults=function(r){if(r)for(var s in r)gd[s]=r[s];return gd},t.disable=function(r,s){Mc=0,nt.forEach(function(o){return o[s?"kill":"disable"](r)}),Dn(ct,"wheel",xl),Dn(Gt,"scroll",xl),clearInterval(hd),Dn(Gt,"touchcancel",js),Dn(Ut,"touchstart",js),pd(Dn,Gt,"pointerdown,touchstart,mousedown",nI),pd(Dn,Gt,"pointerup,touchend,mouseup",rI),Jp.kill(),dd(Dn);for(var i=0;i<it.length;i+=3)md(Dn,it[i],it[i+1]),md(Dn,it[i],it[i+2])},t.enable=function(){if(ct=window,Gt=document,As=Gt.documentElement,Ut=Gt.body,Oe&&(Jh=Oe.utils.toArray,fh=Oe.utils.clamp,qv=Oe.core.context||js,u_=Oe.core.suppressOverwrites||js,Pb=ct.history.scrollRestoration||"auto",Kv=ct.pageYOffset,Oe.core.globals("ScrollTrigger",t),Ut)){Mc=1,lu=document.createElement("div"),lu.style.height="100vh",lu.style.position="absolute",_x(),Joe(),fn.register(Oe),t.isTouch=fn.isTouch,ao=fn.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Yv=fn.isTouch===1,kn(ct,"wheel",xl),nx=[ct,Gt,As,Ut],Oe.matchMedia?(t.matchMedia=function(l){var u=Oe.matchMedia(),c;for(c in l)u.add(c,l[c]);return u},Oe.addEventListener("matchMediaInit",function(){return xb()}),Oe.addEventListener("matchMediaRevert",function(){return mx()}),Oe.addEventListener("matchMedia",function(){Sa(0,1),ul("matchMedia")}),Oe.matchMedia("(orientation: portrait)",function(){return d_(),d_})):console.warn("Requires GSAP 3.11.0 or later"),d_(),kn(Gt,"scroll",xl);var r=Ut.style,s=r.borderTopStyle,i=Oe.core.Animation.prototype,o,a;for(i.revert||Object.defineProperty(i,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",o=Ai(Ut),En.m=Math.round(o.top+En.sc())||0,yr.m=Math.round(o.left+yr.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),hd=setInterval(oI,250),Oe.delayedCall(.5,function(){return fd=0}),kn(Gt,"touchcancel",js),kn(Ut,"touchstart",js),pd(kn,Gt,"pointerdown,touchstart,mousedown",nI),pd(kn,Gt,"pointerup,touchend,mouseup",rI),zv=Oe.utils.checkPrefix("transform"),Kd.push(zv),Ul=er(),Jp=Oe.delayedCall(.2,Sa).pause(),Bl=[Gt,"visibilitychange",function(){var l=ct.innerWidth,u=ct.innerHeight;Gt.hidden?(JA=l,ZA=u):(JA!==l||ZA!==u)&&$c()},Gt,"DOMContentLoaded",Sa,ct,"load",Sa,ct,"resize",$c],dd(kn),nt.forEach(function(l){return l.enable(0,1)}),a=0;a<it.length;a+=3)md(Dn,it[a],it[a+1]),md(Dn,it[a],it[a+2])}},t.config=function(r){"limitCallbacks"in r&&(c_=!!r.limitCallbacks);var s=r.syncInterval;s&&clearInterval(hd)||(hd=s)&&setInterval(oI,s),"ignoreMobileResize"in r&&(Yv=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(dd(Dn)||dd(kn,r.autoRefreshEvents||"none"),sx=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,s){var i=Ar(r),o=it.indexOf(i),a=al(i);~o&&it.splice(o,a?6:2),s&&(a?oi.unshift(ct,s,Ut,s,As,s):oi.unshift(i,s))},t.clearMatchMedia=function(r){nt.forEach(function(s){return s._ctx&&s._ctx.query===r&&s._ctx.kill(!0,!0)})},t.isInViewport=function(r,s,i){var o=(Hr(r)?Ar(r):r).getBoundingClientRect(),a=o[i?Ha:za]*s||0;return i?o.right-a>0&&o.left+a<ct.innerWidth:o.bottom-a>0&&o.top+a<ct.innerHeight},t.positionInViewport=function(r,s,i){Hr(r)&&(r=Ar(r));var o=r.getBoundingClientRect(),a=o[i?Ha:za],l=s==null?a/2:s in tm?tm[s]*a:~s.indexOf("%")?parseFloat(s)*a/100:parseFloat(s)||0;return i?(o.left+l)/ct.innerWidth:(o.top+l)/ct.innerHeight},t.killAll=function(r){if(nt.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),r!==!0){var s=ll.killAll||[];ll={},s.forEach(function(i){return i()})}},t}();ut.version="3.12.5";ut.saveStyles=function(t){return t?Jh(t).forEach(function(e){if(e&&e.style){var n=jr.indexOf(e);n>=0&&jr.splice(n,5),jr.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Oe.core.getCache(e),qv())}}):jr};ut.revert=function(t,e){return xb(!t,e)};ut.create=function(t,e){return new ut(t,e)};ut.refresh=function(t){return t?$c():(Ul||ut.register())&&Sa(!0)};ut.update=function(t){return++it.cache&&Li(t===!0?2:0)};ut.clearScrollMemory=gx;ut.maxScroll=function(t,e){return Qs(t,e?yr:En)};ut.getScrollFunc=function(t,e){return Wo(Ar(t),e?yr:En)};ut.getById=function(t){return Gv[t]};ut.getAll=function(){return nt.filter(function(t){return t.vars.id!=="ScrollSmoother"})};ut.isScrolling=function(){return!!_s};ut.snapDirectional=Ob;ut.addEventListener=function(t,e){var n=ll[t]||(ll[t]=[]);~n.indexOf(e)||n.push(e)};ut.removeEventListener=function(t,e){var n=ll[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};ut.batch=function(t,e){var n=[],r={},s=e.interval||.016,i=e.batchMax||1e9,o=function(u,c){var f=[],d=[],p=Oe.delayedCall(s,function(){c(f,d),f=[],d=[]}).pause();return function(g){f.length||p.restart(!0),f.push(g.trigger),d.push(g),i<=f.length&&p.progress(1)}},a;for(a in e)r[a]=a.substr(0,2)==="on"&&br(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return br(i)&&(i=i(),kn(ut,"refresh",function(){return i=e.batchMax()})),Jh(t).forEach(function(l){var u={};for(a in r)u[a]=r[a];u.trigger=l,n.push(ut.create(u))}),n};var fI=function(e,n,r,s){return n>s?e(s):n<0&&e(0),r>s?(s-n)/(r-n):r<0?n/(n-r):1},m_=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(fn.isTouch?" pinch-zoom":""):"none",e===As&&t(Ut,n)},bd={auto:1,scroll:1},cae=function(e){var n=e.event,r=e.target,s=e.axis,i=(n.changedTouches?n.changedTouches[0]:n).target,o=i._gsap||Oe.core.getCache(i),a=er(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;i&&i!==Ut&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(bd[(l=os(i)).overflowY]||bd[l.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==r&&!al(i)&&(bd[(l=os(i)).overflowY]||bd[l.overflowX]),o._isScrollT=a}(o._isScroll||s==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},yx=function(e,n,r,s){return fn.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:s=s&&cae,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return r&&kn(Gt,fn.eventTypes[0],pI,!1,!0)},onDisable:function(){return Dn(Gt,fn.eventTypes[0],pI,!0)}})},hae=/(input|label|select|textarea)/i,dI,pI=function(e){var n=hae.test(e.target.tagName);(n||dI)&&(e._gsapAllow=!0,dI=n)},fae=function(e){va(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,s=n.momentum,i=n.allowNestedScroll,o=n.onRelease,a,l,u=Ar(e.target)||As,c=Oe.core.globals().ScrollSmoother,f=c&&c.get(),d=ao&&(e.content&&Ar(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),p=Wo(u,En),g=Wo(u,yr),_=1,A=(fn.isTouch&&ct.visualViewport?ct.visualViewport.scale*ct.visualViewport.width:ct.outerWidth)/ct.innerWidth,S=0,M=br(s)?function(){return s(a)}:function(){return s||2.8},k,O,x=yx(u,e.type,!0,i),N=function(){return O=!1},T=js,w=js,b=function(){l=Qs(u,En),w=fh(ao?1:0,l),r&&(T=fh(0,Qs(u,yr))),k=Ya},I=function(){d._gsap.y=Nc(parseFloat(d._gsap.y)+p.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},P=function(){if(O){requestAnimationFrame(N);var H=Nc(a.deltaY/2),ee=w(p.v-H);if(d&&ee!==p.v+p.offset){p.offset=ee-p.v;var R=Nc((parseFloat(d&&d._gsap.y)||0)-p.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+R+", 0, 1)",d._gsap.y=R+"px",p.cacheID=it.cache,Li()}return!0}p.offset&&I(),O=!0},y,E,B,U,F=function(){b(),y.isActive()&&y.vars.scrollY>l&&(p()>l?y.progress(1)&&p(l):y.resetTo("scrollY",l))};return d&&Oe.set(d,{y:"+=0"}),e.ignoreCheck=function(j){return ao&&j.type==="touchmove"&&P()||_>1.05&&j.type!=="touchstart"||a.isGesturing||j.touches&&j.touches.length>1},e.onPress=function(){O=!1;var j=_;_=Nc((ct.visualViewport&&ct.visualViewport.scale||1)/A),y.pause(),j!==_&&m_(u,_>1.01?!0:r?!1:"x"),E=g(),B=p(),b(),k=Ya},e.onRelease=e.onGestureStart=function(j,H){if(p.offset&&I(),!H)U.restart(!0);else{it.cache++;var ee=M(),R,ue;r&&(R=g(),ue=R+ee*.05*-j.velocityX/.227,ee*=fI(g,R,ue,Qs(u,yr)),y.vars.scrollX=T(ue)),R=p(),ue=R+ee*.05*-j.velocityY/.227,ee*=fI(p,R,ue,Qs(u,En)),y.vars.scrollY=w(ue),y.invalidate().duration(ee).play(.01),(ao&&y.vars.scrollY>=l||R>=l-1)&&Oe.to({},{onUpdate:F,duration:ee})}o&&o(j)},e.onWheel=function(){y._ts&&y.pause(),er()-S>1e3&&(k=0,S=er())},e.onChange=function(j,H,ee,R,ue){if(Ya!==k&&b(),H&&r&&g(T(R[2]===H?E+(j.startX-j.x):g()+H-R[1])),ee){p.offset&&I();var te=ue[2]===ee,ve=te?B+j.startY-j.y:p()+ee-ue[1],ge=w(ve);te&&ve!==ge&&(B+=ge-ve),p(ge)}(ee||H)&&Li()},e.onEnable=function(){m_(u,r?!1:"x"),ut.addEventListener("refresh",F),kn(ct,"resize",F),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=g.smooth=!1),x.enable()},e.onDisable=function(){m_(u,!0),Dn(ct,"resize",F),ut.removeEventListener("refresh",F),x.kill()},e.lockAxis=e.lockAxis!==!1,a=new fn(e),a.iOS=ao,ao&&!p()&&p(1),ao&&Oe.ticker.add(js),U=a._dc,y=Oe.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:vx(p,p(),function(){return y.pause()})},onUpdate:Li,onComplete:U.vars.onComplete}),a};ut.sort=function(t){return nt.sort(t||function(e,n){return(e.vars.refreshPriority||0)*-1e6+e.start-(n.start+(n.vars.refreshPriority||0)*-1e6)})};ut.observe=function(t){return new fn(t)};ut.normalizeScroll=function(t){if(typeof t>"u")return dr;if(t===!0&&dr)return dr.enable();if(t===!1){dr&&dr.kill(),dr=t;return}var e=t instanceof fn?t:fae(t);return dr&&dr.target===e.target&&dr.kill(),al(e.target)&&(dr=e),e};ut.core={_getVelocityProp:Hv,_inputObserver:yx,_scrollers:it,_proxies:oi,bridge:{ss:function(){_s||ul("scrollStart"),_s=er()},ref:function(){return Qn}}};lx()&&Oe.registerPlugin(ut);const dae={class:"text-body-s flex-center container min-h-[80px]",id:"footer-text"},pae={__name:"footer",setup(t){Xp.registerPlugin(ut);const e=()=>{Xp.fromTo("#footer-text",{opacity:0,y:100},{duration:.5,opacity:1,delay:.2,y:0,scrollTrigger:"#footer-text"})};return Zr(async()=>{e()}),(n,r)=>(ie(),Se("div",dae," Copyright © 2024 Ning. All rights reserved. "))}},mae={class:"flex h-dvh flex-col"},gae={class:"grow"},_ae={__name:"App",setup(t){const e=sY();J9();const n=Z9(),r=Hm(),s=xe(null),i=X(async()=>{if(r.user)return s.value=r.user.email,e.setFilterLists(),n.path;try{s.value=await _D(),e.setFilterLists()}catch(o){s.value=o}return n.path});return(o,a)=>(ie(),Se("div",mae,[i.value!=="/login"&&i.value!=="/register"&&s.value?(ie(),ot(Goe,{key:0})):rt("",!0),pe("div",gae,[ye(K(gD))]),Sr(ye(pae,null,null,512),[[Is,i.value!=="/login"&&i.value!=="/register"&&s.value]]),ye(K(N4))]))}},Cf=mB(_ae),vae=yB(),yae=O4();Cf.use(vae);Cf.use(gl);Cf.use(yae);Cf.use(rj);Cf.mount("#app");export{La as $,$n as A,J9 as B,ss as C,xF as D,Sr as E,ft as F,fE as G,Is as H,Cae as I,An as J,Hg as K,lY as L,Pae as M,df as N,pf as O,iY as P,Rae as Q,p0 as R,ut as S,lR as T,xR as U,QT as V,Ur as W,Z9 as X,Aae as Y,Iae as Z,Ef as _,ie as a,jp as a0,Zse as a1,e6 as a2,oie as a3,vY as a4,p1 as a5,xY as a6,rY as a7,nY as a8,O0 as a9,Sae as aa,kae as ab,Dae as ac,XY as ad,Oae as ae,pe as b,Se as c,Nn as d,ti as e,zt as f,Xp as g,Ma as h,X as i,ot as j,gt as k,rn as l,Ca as m,Pt as n,Zr as o,kh as p,Yc as q,xe as r,mF as s,It as t,sY as u,ye as v,lt as w,K as x,rt as y,wr as z};
