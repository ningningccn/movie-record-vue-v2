import{r as y,g as B,o as N,a,c as d,b as e,F as C,d as w,n as L,t as $,e as ee,f as P,h as W,i as O,s as ne,w as D,j as I,k as E,l as oe,m as re,p as ie,q as ae,u as j,v as k,x as S,y as R,z as F,A as V,B as ce,C as ue,D as de,E as te,R as se,G as K,S as Q,H as pe,I as fe}from"./index-dJyrsClJ.js";import{L as _e}from"./loading-CANOGuYm.js";const xe={class:"sticky top-0 z-10 bg-second",id:"category-section"},ve={class:"container relative"},he={class:"z-10 flex items-center justify-center pt-6"},ge={class:"relative"},ye=["onClick"],be=e("div",{class:"border-b border-enable",id:"category-bar"},null,-1),me={__name:"type-tab",emits:["selected"],setup(p,{emit:c}){const o=c,u=y(0),r=y(0),s=y(""),t=(l,i)=>{s.value=l;const n=document.querySelector(`.btn-${i}`);u.value=n.clientWidth,r.value=n.offsetLeft,o("selected",l)},x=y([{title:"全部",slug:""},{title:"電影",slug:"movie"},{title:"電視劇",slug:"tv"},{title:"動漫",slug:"cartoon"}]);let f=B.timeline();const h=()=>{f.fromTo("#category-bar",{width:0,opacity:0},{duration:.5,opacity:1,width:"100%",onComplete:()=>{const l=document.querySelector(".btn-0");u.value=l.clientWidth}}),f.fromTo(".category-text",{opacity:0,y:10},{duration:.5,opacity:1,stagger:.1,y:0})};return N(()=>{h()}),(l,i)=>(a(),d("div",xe,[e("div",ve,[e("div",he,[e("div",ge,[(a(!0),d(C,null,w(x.value,(n,g)=>(a(),d("button",{key:n.slug,class:L(["text-body-xl-medium category-text relative px-6 py-4 text-enable hover:text-white md:px-[60px]",[{"text-white":s.value==n.slug},`btn-${g}`]]),onClick:_=>t(n.slug,g)},$(n.title),11,ye))),128)),e("div",{class:"absolute bottom-0 h-[3px] bg-primary transition-all duration-300",style:ee({width:`${u.value}px`,left:`${r.value}px`})},null,4)])])]),be]))}},le="--vc-auto-duration",ke=`height var(${le}) cubic-bezier(0.33, 1, 0.68, 1)`,H={padding:0},Ce=300,$e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"},we=()=>typeof navigator<"u"&&navigator.userAgent.includes("Firefox");function U(p){return p.value?parseFloat(getComputedStyle(p.value).height):0}function J(p){var c;return{height:`${((c=p.value)==null?void 0:c.scrollHeight)||0}px`}}function X(p){if(!p.value)return{};const{transition:c}=getComputedStyle(p.value);return c==="all 0s ease 0s"||we()&&c==="all"?{transition:ke}:{transition:c}}function Z(p){if(!p.value)return!0;const{transition:c}=getComputedStyle(p.value);return typeof window.requestAnimationFrame>"u"||window.matchMedia("(prefers-reduced-motion: reduce)").matches||c.includes("none")||c.includes("height 0s")}function Le(p=0){if(p===0)return 0;const c=p/36,o=Math.round((4+15*c**.25+c/5)*10);return Number.isFinite(o)?o:0}const M=P({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(p,{emit:c}){const o=p,u=c,r=W(o,"when"),s=W(o,"baseHeight"),t=O(()=>({overflow:"hidden",height:`${s.value}px`})),x=O(()=>({...H,...s.value===0?{display:"none"}:t.value})),f=y(null),h=y(r.value?"expanded":"collapsed"),l=b=>h.value=b;function i(){return r.value?H:s.value===0?$e:x.value}const n=ne(i()),g=b=>n.value=b,_=b=>g({...n.value,...b}),m=y(Ce),v=b=>m.value=b,A=O(()=>({[le]:`${m.value}ms`}));function z(){g(H),l("expanded"),u("expanded")}function Y(){g(x.value),l("collapsed"),u("collapsed")}N(()=>{if(!f.value)return;const b=Le(f.value.scrollHeight-s.value);b>0&&v(b),!r.value&&s.value===0&&g(x.value)}),D(r,b=>{if(f.value)if(b){if(Z(f))return z();l("expanding"),u("expand"),g({...H,...t.value,...A.value}),requestAnimationFrame(()=>{if(f.value.scrollHeight===0)return z();_({...J(f),...X(f),willChange:"height"})})}else{if(Z(f)||(l("collapsing"),u("collapse"),_({...A.value,...J(f)}),f.value.scrollHeight===0))return Y();requestAnimationFrame(()=>{_({...t.value,...X(f),willChange:"height"})})}}),D(s,b=>{r.value||(b>0?_({display:void 0,height:`${b}px`}):_({display:"none"}))});function T(b){b.target&&b.target===f.value&&b.propertyName==="height"&&(r.value?Math.abs(f.value.scrollHeight-U(f))<1&&z():Math.abs(s.value-U(f))<1&&Y())}return(b,G)=>(a(),I(ae(o.as),{ref_key:"collapseRef",ref:f,style:ee(n.value),onTransitionend:T,"data-collapse":h.value},{default:E(()=>[oe(b.$slots,"default",re(ie({state:h.value})))]),_:3},40,["style","data-collapse"]))}}),Se={class:"cursor-pointer rounded-[8px] bg-card"},Re=e("div",{class:"flex space-x-2"},[e("i",{class:"icon-sort text-[22px]"}),e("p",null,"排序")],-1),Ae={class:"flex flex-col space-y-6 p-6 pb-4"},Ee=["onClick"],je={key:0,class:"icon-check text-[20px]"},Fe={__name:"sort",setup(p){const c=j(),o=y(!1),u=[{title:"最新加入",slug:"desc"},{title:"最舊加入",slug:"asc"}],r=s=>{c.setOrder(s)};return(s,t)=>(a(),d("div",Se,[e("div",{class:"flex items-center justify-between px-6 py-2",onClick:t[0]||(t[0]=x=>o.value=!o.value)},[Re,e("i",{class:L(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":o.value}])},null,2)]),k(S(M),{when:o.value},{default:E(()=>[e("div",Ae,[(a(),d(C,null,w(u,x=>e("button",{type:"button",class:"text-body-m-medium flex items-center justify-between text-left",key:x.slug,onClick:f=>r(x.slug)},[e("p",null,$(x.title),1),x.slug==S(c).currOrder?(a(),d("i",je)):R("",!0)],8,Ee)),64))])]),_:1},8,["when"])]))}},Oe={key:0,class:"absolute size-full rounded-[4px] bg-primary"},ze=e("i",{class:"icon-check text-[20px] text-second"},null,-1),Ye=[ze],q={__name:"checkbox",props:{title:String,slug:String|Number,disabled:{type:Boolean,default:!1},isChecked:Boolean},emits:["selected"],setup(p,{expose:c,emit:o}){const u=p,r=o,s=y(!1),t=()=>{u.disabled||(s.value=!s.value,r("selected",{label:u.title,id:u.slug}))},x=()=>{s.value=!1,r("selected","clear")};return D(()=>u.isChecked,f=>{s.value=f}),c({clearCheckbox:x}),(f,h)=>(a(),d("div",{onClick:h[0]||(h[0]=l=>t()),class:L(["flex items-center space-x-2",[{"text-disable":p.disabled},{"cursor-pointer":!p.disabled}]])},[e("div",{class:L(["relative size-[20px] rounded-[4px]",[{border:!s.value},{"border-disable":p.disabled}]])},[s.value?(a(),d("div",Oe,Ye)):R("",!0)],2),e("p",null,$(p.title),1)],2))}},Be=e("p",null,"狀態",-1),Ie={class:"flex flex-col space-y-3 pt-3"},Me={__name:"status",props:{isAllExpanded:{type:Boolean}},setup(p,{expose:c}){const o=j(),u=[{title:"最愛",slug:"favorite"},{title:"已觀看",slug:"watched"},{title:"待觀看",slug:"to_be_watching"}],r=y(!0),s=F(o.currStatusLists),t=y(),x=i=>!!(s.includes("watched")&&i=="to_be_watching"||s.includes("to_be_watching")&&i=="watched"),f=i=>{const n=s.findIndex(g=>g===i);return console.log(n>-1),n>-1},h=i=>{if(i=="clear")s.length=0;else{const n=s.indexOf(i.id);n!==-1?s.splice(n,1):s.push(i.id),o.setCurrStatusList(s)}};return c({clearAllCheckbox:()=>{t.value.forEach(i=>{i.clearCheckbox()})}}),(i,n)=>(a(),d("div",null,[e("div",{class:"flex cursor-pointer items-center justify-between",onClick:n[0]||(n[0]=g=>r.value=!r.value)},[Be,e("i",{class:L(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":r.value}])},null,2)]),k(S(M),{when:r.value},{default:E(()=>[e("div",Ie,[(a(),d(C,null,w(u,(g,_)=>e("div",{key:_,class:""},[k(q,{title:g.title,slug:g.slug,disabled:x(g.slug),isChecked:f(g.slug),onSelected:h,ref_for:!0,ref_key:"statusRef",ref:t},null,8,["title","slug","disabled","isChecked"])])),64))])]),_:1},8,["when"])]))}},Te={key:0},He={class:"flex flex-col space-y-3 pt-3"},De={__name:"year",setup(p,{expose:c}){const o=j(),u=O(()=>o.yearLists.map(l=>({title:l,slug:l}))),r=y(),s=y(!0),t=F(o.currYearLists),x=l=>{if(l=="clear")t.length=0;else{const i=t.findIndex(n=>n==l.id);i!==-1?t.splice(i,1):t.push(l.id),o.setCurrYearLists(t)}},f=l=>t.findIndex(n=>n===l)>-1;return c({clearAllCheckbox:()=>{r.value.forEach(l=>{l.clearCheckbox()})}}),(l,i)=>(a(),d("div",null,[e("div",{class:"flex cursor-pointer items-center justify-between",onClick:i[0]||(i[0]=n=>s.value=!s.value)},[e("p",null,[V(" 年份 "),t.length>0?(a(),d("span",Te,"("+$(t.length)+")",1)):R("",!0)]),e("i",{class:L(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),k(S(M),{when:s.value},{default:E(()=>[e("div",He,[(a(!0),d(C,null,w(u.value,(n,g)=>(a(),d("div",{key:g,class:""},[k(q,{title:n.title,slug:n.slug,isChecked:f(n.slug),onSelected:x,ref_for:!0,ref_key:"yearRef",ref:r},null,8,["title","slug","isChecked"])]))),128))])]),_:1},8,["when"])]))}},Ne={key:0},Ve={class:"flex flex-col space-y-3 pt-3"},qe={__name:"category",emits:["emitCurrCategory"],setup(p,{expose:c,emit:o}){const u=j(),r=y(),s=y(!0),t=F(u.currCategoryLists),x=l=>t.findIndex(n=>n.id===l)>-1,f=l=>{if(l=="clear")t.length=0;else{const i=t.findIndex(n=>n.id==l.id);i!==-1?t.splice(i,1):t.push(l),u.setCurrCategoryLists(t)}};return c({clearAllCheckbox:()=>{r.value.forEach(l=>{l.clearCheckbox()})}}),(l,i)=>(a(),d("div",null,[e("div",{class:"flex cursor-pointer items-center justify-between",onClick:i[0]||(i[0]=n=>s.value=!s.value)},[e("p",null,[V(" 類別 "),t.length>0?(a(),d("span",Ne,"("+$(t.length)+")",1)):R("",!0)]),e("i",{class:L(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),k(S(M),{when:s.value},{default:E(()=>[e("div",Ve,[(a(!0),d(C,null,w(S(u).categoryLists,(n,g)=>(a(),d("div",{key:g,class:""},[k(q,{title:n.label,slug:n.id,isChecked:x(n.id),onSelected:f,ref_for:!0,ref_key:"categoryRef",ref:r},null,8,["title","slug","isChecked"])]))),128))])]),_:1},8,["when"])]))}},Ge={key:0},Pe={class:"flex flex-col space-y-3 pt-3"},We={__name:"country",setup(p,{expose:c}){const o=j(),u=O(()=>o.countryLists.map(l=>({title:l,slug:l}))),r=y(),s=y(!0),t=F(o.currCountyLists),x=l=>t.some(i=>i===l),f=l=>{if(l=="clear")t.length=0;else{const i=t.findIndex(n=>n==l.id);i!==-1?t.splice(i,1):t.push(l.id),o.setCurrCountryLists(t)}};return c({clearAllCheckbox:()=>{r.value.forEach(l=>{l.clearCheckbox()})}}),(l,i)=>(a(),d("div",null,[e("div",{class:"flex cursor-pointer items-center justify-between",onClick:i[0]||(i[0]=n=>s.value=!s.value)},[e("p",null,[V(" 產地 "),t.length>0?(a(),d("span",Ge,"("+$(t.length)+")",1)):R("",!0)]),e("i",{class:L(["icon-caret-down text-[20px] transition-transform duration-500",{"rotate-180":s.value}])},null,2)]),k(S(M),{when:s.value},{default:E(()=>[e("div",Pe,[(a(!0),d(C,null,w(u.value,(n,g)=>(a(),d("div",{key:g,class:""},[k(q,{title:n.title,slug:n.slug,isChecked:x(n.slug),onSelected:f,ref_for:!0,ref_key:"countryRef",ref:r},null,8,["title","slug","isChecked"])]))),128))])]),_:1},8,["when"])]))}},Ke={class:"rounded-[8px] bg-card"},Qe={class:"flex items-center justify-between px-6 py-2"},Ue={class:"flex space-x-2"},Je=e("i",{class:"icon-filter text-[22px]"},null,-1),Xe={class:"flex flex-col space-y-6 px-6 pb-4 pt-6"},Ze={__name:"index",setup(p){const c=j(),o=y(!0),u=y(),r=y(),s=y(),t=y(),x=()=>{u.value.clearAllCheckbox(),r.value.clearAllCheckbox(),s.value.clearAllCheckbox(),t.value.clearAllCheckbox()},f=O(()=>{const{selectedStatusLists:h,selectedYearLists:l,selectedCategoryLists:i,selectedCountryLists:n}=c.getFilterList;return h.length>0||l.length>0||i.length>0||n.length>0});return(h,l)=>(a(),d("div",Ke,[e("div",Qe,[e("div",Ue,[Je,e("p",{class:"cursor-pointer",onClick:l[0]||(l[0]=i=>o.value=!o.value)},"篩選")]),e("p",{class:L(["text-body-s",[f.value?"cursor-pointer text-primary hover:text-white":"text-disable"]]),onClick:l[1]||(l[1]=i=>x())}," 清除 ",2)]),e("div",Xe,[k(Me,{isAllExpanded:o.value,ref_key:"statusRef",ref:u},null,8,["isAllExpanded"]),k(De,{ref_key:"yearRef",ref:r},null,512),k(qe,{ref_key:"categoryRef",ref:s},null,512),k(We,{ref_key:"countryRef",ref:t},null,512)])]))}},et={class:"skeleton-card relative aspect-[3/4.3] overflow-hidden rounded-[8px]"},tt={alt:"",class:"absolute aspect-[3/4.3] size-full cursor-pointer object-cover"},st={class:"absolute left-0 top-0",id:"card-watched-wrap"},lt={key:0,class:"text-body-s-medium rounded-[4px] bg-primary px-1 py-[2px] text-second"},nt={class:"mt-2 flex justify-between"},ot={class:"text-body-m-medium"},rt={key:0,class:"icon-heart-fill pt-1"},it={key:1,class:"icon-heart pt-1"},at={class:"text-body-s-medium mt-1 flex justify-between text-enable"},ct={class:"flex flex-wrap gap-x-2"},ut={key:0,class:"flex items-center"},dt={key:0},pt={__name:"card",props:{data:{type:Object}},setup(p){const c=p;ce(),y(!1);const o=B.timeline(),u=()=>{o.fromTo("#card-watched-wrap",{x:-200},{x:0,delay:.5})},r=O(()=>{var s,t;return(t=(s=c==null?void 0:c.data)==null?void 0:s.movie)==null?void 0:t.year.slice(0,4)});return N(async()=>{await u()}),(s,t)=>{const x=ue("RouterLink"),f=de("lazy");return a(),I(x,{to:`/list/${c.data.id}`,class:"relative cursor-pointer overflow-hidden"},{default:E(()=>{var h,l,i,n,g,_,m,v,A,z;return[e("div",et,[te(e("img",tt,null,512),[[f,(l=(h=p.data)==null?void 0:h.movie)==null?void 0:l.postImageUrl]])]),e("div",st,[(n=(i=p.data)==null?void 0:i.movie)!=null&&n.watched?(a(),d("div",lt," 已觀看 ")):R("",!0)]),e("div",null,[e("div",nt,[e("div",ot,$((_=(g=p.data)==null?void 0:g.movie)==null?void 0:_.name),1),(v=(m=p.data)==null?void 0:m.movie)!=null&&v.favorite?(a(),d("i",rt)):(a(),d("i",it))]),e("div",at,[e("div",ct,[(a(!0),d(C,null,w((z=(A=p.data)==null?void 0:A.movie)==null?void 0:z.categoryList,(Y,T)=>{var b,G;return a(),d("div",{key:Y.slug},[T<3?(a(),d("div",ut,[V($(Y.label)+" ",1),((G=(b=p.data)==null?void 0:b.movie)==null?void 0:G.categoryList.length)>3&&T==2?(a(),d("span",dt,"...")):R("",!0)])):R("",!0)])}),128))]),e("div",null,$(r.value),1)])])]}),_:1},8,["to"])}}},ft={class:"container"},_t=e("div",{class:"text-heading-m flex items-center justify-center gap-x-2"},[e("i",{class:"icon-sort"}),e("p",{class:"text-heading-s"},"排序")],-1),xt=["onClick"],vt={key:0,class:"icon-check"},ht=P({__name:"sort-modal",props:{title:{}},setup(p){const c=j(),o=[{title:"最新加入",slug:"desc"},{title:"最舊加入",slug:"asc"}],u=r=>c.setOrder(r);return(r,s)=>(a(),I(S(se),{"content-class":"absolute bottom-0 w-full p-4 bg-card container rounded-t-[20px] pb-10","swipe-to-close":"down","content-transition":"vfm-slide-down","overlay-transition":"vfm-fade"},{default:E(()=>[e("div",ft,[_t,e("div",null,[(a(),d(C,null,w(o,t=>e("button",{type:"button",class:"text-body-xl-medium flex items-center justify-between py-2 w-full",key:t.slug,onClick:x=>u(t.slug)},[e("p",null,$(t.title),1),t.slug==S(c).currOrder?(a(),d("i",vt)):R("",!0)],8,xt)),64))])])]),_:1}))}}),gt={class:"container"},yt=e("div",{class:"text-heading-m flex items-center justify-center gap-x-2"},[e("i",{class:"icon-filter"}),e("p",{class:"text-heading-s"},"篩選")],-1),bt=e("div",{class:"text-body-xl-medium"},"狀態",-1),mt={class:"mt-2 flex gap-3"},kt=["onClick"],Ct={class:"mt-6"},$t=e("div",{class:"text-body-xl-medium"},"年份",-1),wt={class:"mt-2 flex flex-wrap gap-3"},Lt=["onClick"],St={class:"mt-6"},Rt=e("div",{class:"text-body-xl-medium"},"類別",-1),At={class:"mt-2 flex flex-wrap gap-3"},Et=["onClick"],jt={class:"mt-6"},Ft=e("div",{class:"text-body-xl-medium"},"產地",-1),Ot={class:"mt-2 flex flex-wrap gap-3"},zt=["onClick"],Yt=P({__name:"filter-modal",setup(p){const c=[{title:"最愛",slug:"favorite"},{title:"已觀看",slug:"watched"},{title:"待觀看",slug:"to_be_watching"}],o=j(),u=F(o.currStatusLists),r=F(o.currYearLists),s=F(o.currCategoryLists),t=F(o.currCountyLists),x=O(()=>o.countryLists.map(_=>({title:_,slug:_}))),f=_=>s.findIndex(v=>v.id===_)>-1,h=_=>!!(u.includes("watched")&&_=="to_be_watching"||u.includes("to_be_watching")&&_=="watched"),l=_=>{if(console.log(_),_=="clear")u.length=0;else{const m=u.indexOf(_.slug);m!==-1?u.splice(m,1):u.push(_.slug),o.setCurrStatusList(u)}},i=_=>{if(_=="clear")r.length=0;else{const m=r.indexOf(_);m!==-1?r.splice(m,1):r.push(_),o.setCurrYearLists(r)}},n=_=>{if(_=="clear")s.length=0;else{const m=s.findIndex(v=>v.id===_.id);m!==-1?s.splice(m,1):s.push(_)}},g=_=>{if(_=="clear")t.length=0;else{const m=t.indexOf(_.slug);m!==-1?t.splice(m,1):t.push(_.slug),o.setCurrCountryLists(t)}};return(_,m)=>(a(),I(S(se),{"content-class":"absolute bottom-0 w-full p-4 bg-card container rounded-t-[20px] pb-10","swipe-to-close":"down","content-transition":"vfm-slide-down","overlay-transition":"vfm-fade"},{default:E(()=>[e("div",gt,[yt,e("div",null,[bt,e("div",mt,[(a(),d(C,null,w(c,v=>e("button",{type:"button",class:L(["rounded-[8px] border border-enable px-2 py-1",{"border-primary bg-primary":u.indexOf(v.slug)>=0,"cursor-default border-disable text-disable":h(v.slug)}]),key:v.slug,onClick:A=>l(v)},[e("p",null,$(v.title),1)],10,kt)),64))])]),e("div",Ct,[$t,e("div",wt,[(a(!0),d(C,null,w(S(o).yearLists,v=>(a(),d("button",{type:"button",class:L(["rounded-[8px] border border-enable px-2 py-1",{"border-primary bg-primary":r.indexOf(v)>=0}]),key:v,onClick:A=>i(v)},[e("p",null,$(v),1)],10,Lt))),128))])]),e("div",St,[Rt,e("div",At,[(a(!0),d(C,null,w(S(o).categoryLists,v=>(a(),d("button",{type:"button",class:L(["rounded-[8px] border border-enable px-2 py-1",{"border-primary bg-primary":f(v.id)}]),key:v.id,onClick:A=>n(v)},[e("p",null,$(v.label),1)],10,Et))),128))])]),e("div",jt,[Ft,e("div",Ot,[(a(!0),d(C,null,w(x.value,v=>(a(),d("button",{type:"button",class:L(["rounded-[8px] border border-enable px-2 py-1",{"border-primary bg-primary":t.indexOf(v.slug)>=0}]),key:v.slug,onClick:A=>g(v)},[e("p",null,$(v.title),1)],10,zt))),128))])])])]),_:1}))}}),Bt={class:"mt-6 flex items-center gap-x-2"},It=e("i",{class:"icon-sort text-[24px]"},null,-1),Mt=e("p",{class:"text-body-xl-medium"},"排序",-1),Tt=[It,Mt],Ht=e("i",{class:"icon-filter text-[24px]"},null,-1),Dt=e("p",{class:"text-body-xl-medium"},"篩選",-1),Nt=[Ht,Dt],Vt={__name:"filter-m",setup(p){const c=K({component:ht,attrs:{}}),o=K({component:Yt,attrs:{}}),u=()=>{c.open()},r=()=>{o.open()};return(s,t)=>(a(),d("section",Bt,[e("button",{type:"button",class:"flex flex-1 items-center justify-center gap-x-2 rounded-[8px] bg-card py-3",onClick:t[0]||(t[0]=x=>u())},Tt),e("button",{type:"button",class:"flex flex-1 items-center justify-center gap-x-2 rounded-[8px] bg-card py-3",onClick:t[1]||(t[1]=x=>r())},Nt)]))}},qt={class:"container mb-20"},Gt={class:"mt-6 flex md:mt-14 md:space-x-5"},Pt={class:"hidden min-w-[197px] max-w-[197px] md:block"},Wt={class:"space-y-4"},Kt={class:"w-full"},Qt={class:"card-wrap grid grid-cols-4 gap-5 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-10",id:"card-wrap"},Ut={key:0,class:"text-heading-s flex size-full items-center justify-center"},Jt={key:0},es={__name:"index",setup(p){const c=j(),o=y(!1),u=y(""),r=y([]),s=async(h,l)=>{o.value=!0,(await fe(h,l)).forEach(n=>{r.value.push({id:n.id,movie:n.data()})}),o.value=!1};B.registerPlugin(Q),s(u.value,c.getFilterList);const t=h=>{r.value=[],u.value=h,s(u.value,c.getFilterList)};D(()=>c.getFilterList,(h,l)=>{r.value=[],s(u.value,c.getFilterList)},{deep:!0});const x=B.timeline(),f=()=>{x.fromTo(".an-sidebar",{display:"hidden",x:-100,opacity:0},{duration:.5,opacity:1,stagger:.2,delay:.5,x:0,display:"block"})};return B.registerPlugin(Q),N(async()=>{await f()}),(h,l)=>(a(),d(C,null,[k(me,{onSelected:t}),e("div",qt,[k(Vt,{class:"block md:hidden"}),e("main",Gt,[e("div",Pt,[e("div",Wt,[k(Fe,{class:"an-sidebar"}),k(Ze,{class:"an-sidebar"})])]),e("div",Kt,[e("div",Qt,[(a(!0),d(C,null,w(r.value,(i,n)=>(a(),I(pt,{data:i,class:"card col-span-2",key:n},null,8,["data"]))),128))]),r.value.length==0||o.value?(a(),d("div",Ut,[te(k(_e,null,null,512),[[pe,o.value]]),r.value.length==0&&!o.value?(a(),d("div",Jt,"尚無資料")):R("",!0)])):R("",!0)])])])],64))}};export{es as default};
